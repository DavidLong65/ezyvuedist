/*! For license information please see main.57cf23ff.js.LICENSE.txt */
!function(){var e={3272:function(e,t,n){"use strict";n.d(t,{$V:function(){return wh},$YQ:function(){return Ts},A5E:function(){return kh},BVQ:function(){return fu},BtG:function(){return Vi},CP7:function(){return Ls},D1R:function(){return _e},DvJ:function(){return Qi},EB7:function(){return Ol},EJi:function(){return ac},F5T:function(){return ii},FIo:function(){return rc},FM8:function(){return An},H$k:function(){return $u},Hw6:function(){return Ln},Hyl:function(){return Gl},IEO:function(){return dl},ILR:function(){return et},Ilk:function(){return Dn},JOQ:function(){return Ji},JUT:function(){return Zn},KI_:function(){return zt},Kgo:function(){return gu},Kj0:function(){return Pi},LsT:function(){return Re},Ltg:function(){return Fn},M8C:function(){return pn},Mig:function(){return $c},N$j:function(){return hl},NMF:function(){return kt},OdW:function(){return Al},OoA:function(){return we},Ox3:function(){return Kc},PMe:function(){return Hc},Pa4:function(){return Gn},QRU:function(){return ih},QmN:function(){return x},ROQ:function(){return zl},RsA:function(){return y},SPe:function(){return wl},SUY:function(){return ah},Syv:function(){return _t},TUj:function(){return Eh},TUv:function(){return cl},T_1:function(){return Ih},T_f:function(){return eh},TlE:function(){return li},Tme:function(){return Hr},Tn7:function(){return nc},TyD:function(){return Ce},USm:function(){return Br},UY4:function(){return Pl},UlW:function(){return Qt},V1s:function(){return Zi},VLJ:function(){return Sh},Vkp:function(){return mn},VzW:function(){return Le},WMw:function(){return R},WXh:function(){return tc},Wid:function(){return ic},Wl3:function(){return M},WwZ:function(){return Lt},Xcj:function(){return gh},XvJ:function(){return ec},YBo:function(){return sc},YKA:function(){return Mt},YLQ:function(){return Ee},ZAu:function(){return _s},Z_g:function(){return Zl},Zp0:function(){return th},ZzF:function(){return Wn},_12:function(){return ra},_AM:function(){return tt},_C8:function(){return pc},_Li:function(){return _},_fP:function(){return zn},a$l:function(){return di},aH4:function(){return Se},aLr:function(){return hr},aNw:function(){return Tc},av9:function(){return qe},b_z:function(){return mu},blk:function(){return Dl},bnF:function(){return yu},bsb:function(){return wt},cJO:function(){return qu},cLu:function(){return Qe},cPb:function(){return zi},cek:function(){return Xc},dSO:function(){return ve},dUE:function(){return bc},dd2:function(){return Un},dpR:function(){return jc},eaV:function(){return rt},ehD:function(){return k},ejS:function(){return Rl},ekQ:function(){return st},fHI:function(){return Au},fY$:function(){return Ae},fto:function(){return at},hEm:function(){return Ve},hH6:function(){return Pc},iDF:function(){return Hu},iKG:function(){return pa},iLg:function(){return Cc},iMs:function(){return yh},iUV:function(){return Ah},j87:function(){return ci},jFi:function(){return B},jyi:function(){return rl},jyz:function(){return Oi},kB5:function(){return zs},knz:function(){return Ft},l0P:function(){return ot},lLk:function(){return kc},lRF:function(){return ys},m7l:function(){return Ic},mSO:function(){return Ut},nls:function(){return Cl},ntZ:function(){return S},o8S:function(){return Xu},oa8:function(){return Ju},p7y:function(){return du},pBf:function(){return $t},pQR:function(){return Yu},ptH:function(){return lt},qlB:function(){return ui},qyh:function(){return Me},rBU:function(){return aa},rDY:function(){return Ui},rnI:function(){return Nt},rpg:function(){return xe},s4_:function(){return rh},tEQ:function(){return Bc},u9r:function(){return xi},uL9:function(){return ue},uWy:function(){return be},vBJ:function(){return ai},vmT:function(){return Fc},vpT:function(){return Os},w$m:function(){return ie},wem:function(){return Ie},wk1:function(){return Oe},woe:function(){return Fl},wuA:function(){return Je},x12:function(){return kl},xEZ:function(){return Nn},xeV:function(){return Gs},xo$:function(){return Ku},xoR:function(){return oc},xsS:function(){return Us},y$t:function(){return hu},yC1:function(){return Sc},yGw:function(){return xr},ybr:function(){return Fs},yo9:function(){return Ns},ywz:function(){return ke},yxD:function(){return Qc},z$h:function(){return jt},zHn:function(){return yr},zf8:function(){return pu}});var r,i=n(8737),a=n(3433),o=n(5861),s=n(7762),l=n(9439),u=n(1752),c=n(1120),h=n(7326),d=n(136),f=n(9388),p=n(4942),A=n(4165),m=n(5671),v=n(3144),g="149",y={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},x={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},b=0,w=1,C=2,E=1,S=2,I=3,M=0,_=1,k=2,B=0,T=1,R=2,D=3,P=4,L=5,Q=100,j=101,N=102,F=103,U=104,O=200,Z=201,z=202,G=203,H=204,V=205,W=206,q=207,Y=208,X=209,J=210,K=0,$=1,ee=2,te=3,ne=4,re=5,ie=6,ae=7,oe=0,se=1,le=2,ue=0,ce=1,he=2,de=3,fe=4,pe=5,Ae=301,me=302,ve=303,ge=304,ye=306,xe=1e3,be=1001,we=1002,Ce=1003,Ee=1004,Se=1005,Ie=1006,Me=1007,_e=1008,ke=1009,Be=1010,Te=1011,Re=1012,De=1013,Pe=1014,Le=1015,Qe=1016,je=1017,Ne=1018,Fe=1020,Ue=1021,Oe=1023,Ze=1024,ze=1025,Ge=1026,He=1027,Ve=1028,We=1029,qe=1030,Ye=1031,Xe=1033,Je=33776,Ke=33777,$e=33778,et=33779,tt=35840,nt=35841,rt=35842,it=35843,at=36196,ot=37492,st=37496,lt=37808,ut=37809,ct=37810,ht=37811,dt=37812,ft=37813,pt=37814,At=37815,mt=37816,vt=37817,gt=37818,yt=37819,xt=37820,bt=37821,wt=36492,Ct=36283,Et=36284,St=36285,It=36286,Mt=2201,_t=2300,kt=2301,Bt=2302,Tt=2400,Rt=2401,Dt=2402,Pt=2500,Lt=0,Qt=1,jt=2,Nt=3e3,Ft=3001,Ut=3201,Ot=0,Zt=1,zt="srgb",Gt="srgb-linear",Ht=7680,Vt=35044,Wt="300 es",qt=1035,Yt=window,Xt=Yt.XRWebGLLayer,Jt=Yt.XRWebGLBinding,Kt=Yt.__THREE_DEVTOOLS__,$t=function(){function e(){(0,m.Z)(this,e)}return(0,v.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),en=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],tn=1234567,nn=Math.PI/180,rn=180/Math.PI;function an(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(en[255&e]+en[e>>8&255]+en[e>>16&255]+en[e>>24&255]+"-"+en[255&t]+en[t>>8&255]+"-"+en[t>>16&15|64]+en[t>>24&255]+"-"+en[63&n|128]+en[n>>8&255]+"-"+en[n>>16&255]+en[n>>24&255]+en[255&r]+en[r>>8&255]+en[r>>16&255]+en[r>>24&255]).toLowerCase()}function on(e,t,n){return Math.max(t,Math.min(n,e))}function sn(e,t){return(e%t+t)%t}function ln(e,t,n){return(1-n)*e+n*t}function un(e){return 0===(e&e-1)&&0!==e}function cn(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function hn(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function dn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function fn(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var pn=Object.freeze({__proto__:null,DEG2RAD:nn,RAD2DEG:rn,ceilPowerOfTwo:cn,clamp:on,damp:function(e,t,n,r){return ln(e,t,1-Math.exp(-n*r))},degToRad:function(e){return e*nn},denormalize:dn,euclideanModulo:sn,floorPowerOfTwo:hn,generateUUID:an,inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},isPowerOfTwo:un,lerp:ln,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},normalize:fn,pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(sn(e,2*t)-t)},radToDeg:function(e){return e*rn},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},seededRandom:function(e){void 0!==e&&(tn=e);var t=tn+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),h=a((t-r)/2),d=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*h,l*d,s*u);break;case"YZY":e.set(l*d,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*d,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}}),An=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,m.Z)(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return(0,v.Z)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:(0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),mn=function(){function e(){(0,m.Z)(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return(0,v.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],f=n[8],p=r[0],A=r[3],m=r[6],v=r[1],g=r[4],y=r[7],x=r[2],b=r[5],w=r[8];return i[0]=a*p+o*v+s*x,i[3]=a*A+o*g+s*b,i[6]=a*m+o*y+s*w,i[1]=l*p+u*v+c*x,i[4]=l*A+u*g+c*b,i[7]=l*m+u*y+c*w,i[2]=h*p+d*v+f*x,i[5]=h*A+d*g+f*b,i[8]=h*m+d*y+f*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*i,d=l*i-a*s,f=t*c+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(vn.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(vn.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(vn.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),vn=new mn;function gn(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var yn={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function xn(e,t){return new yn[e](t)}function bn(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function wn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Cn(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var En=(r={},(0,p.Z)(r,zt,(0,p.Z)({},Gt,wn)),(0,p.Z)(r,Gt,(0,p.Z)({},zt,Cn)),r),Sn={legacyMode:!0,get workingColorSpace(){return Gt},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(En[t]&&void 0!==En[t][n]){var r=En[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},In={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Mn={r:0,g:0,b:0},_n={h:0,s:0,l:0},kn={h:0,s:0,l:0};function Bn(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Tn(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var Rn,Dn=function(e){function t(e,n,r){return(0,m.Z)(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(e):this.setRGB(e,n,r)}return(0,v.Z)(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Sn.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sn.workingColorSpace;return this.r=e,this.g=t,this.b=n,Sn.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sn.workingColorSpace;if(e=sn(e,1),t=on(t,0,1),n=on(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Bn(a,i,e+1/3),this.g=Bn(a,i,e),this.b=Bn(a,i,e-1/3)}return Sn.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,Sn.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,Sn.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(i[1])/360,l=parseFloat(i[2])/100,u=parseFloat(i[3])/100;return r(i[4]),this.setHSL(s,l,u,n)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,Sn.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,Sn.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zt,n=In[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=wn(e.r),this.g=wn(e.g),this.b=wn(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Cn(e.r),this.g=Cn(e.g),this.b=Cn(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return Sn.fromWorkingColorSpace(Tn(this,Mn),e),on(255*Mn.r,0,255)<<16^on(255*Mn.g,0,255)<<8^on(255*Mn.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn.workingColorSpace;Sn.fromWorkingColorSpace(Tn(this,Mn),t);var n,r,i=Mn.r,a=Mn.g,o=Mn.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn.workingColorSpace;return Sn.fromWorkingColorSpace(Tn(this,Mn),t),e.r=Mn.r,e.g=Mn.g,e.b=Mn.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt;return Sn.fromWorkingColorSpace(Tn(this,Mn),e),e!==zt?"color(".concat(e," ").concat(Mn.r," ").concat(Mn.g," ").concat(Mn.b,")"):"rgb(".concat(255*Mn.r|0,",").concat(255*Mn.g|0,",").concat(255*Mn.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(_n),_n.h+=e,_n.s+=t,_n.l+=n,this.setHSL(_n.h,_n.s,_n.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(_n),e.getHSL(kn);var n=ln(_n.h,kn.h,t),r=ln(_n.s,kn.s,t),i=ln(_n.l,kn.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:e,value:(0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);Dn.NAMES=In;var Pn=function(){function e(){(0,m.Z)(this,e)}return(0,v.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Rn&&(Rn=bn("canvas")),Rn.width=e.width,Rn.height=e.height;var n=Rn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Rn}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=bn("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*wn(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*wn(o[s]/255)):o[s]=wn(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Ln=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,m.Z)(this,e),this.isSource=!0,this.uuid=an(),this.data=t,this.version=0}return(0,v.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(Qn(r[a].image)):i.push(Qn(r[a]))}else i=Qn(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function Qn(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Pn.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var jn=0,Nn=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:be,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:be,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ie,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_e,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Oe,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:ke,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Nt;return(0,m.Z)(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty((0,h.Z)(e),"id",{value:jn++}),e.uuid=an(),e.name="",e.source=new Ln(r),e.mipmaps=[],e.mapping=i,e.wrapS=a,e.wrapT=o,e.magFilter=s,e.minFilter=l,e.anisotropy=d,e.format=u,e.internalFormat=null,e.type=c,e.offset=new An(0,0),e.repeat=new An(1,1),e.center=new An(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new mn,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return(0,v.Z)(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xe:e.x=e.x-Math.floor(e.x);break;case be:e.x=e.x<0?0:1;break;case we:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case xe:e.y=e.y-Math.floor(e.y);break;case be:e.y=e.y<0?0:1;break;case we:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}($t);Nn.DEFAULT_IMAGE=null,Nn.DEFAULT_MAPPING=300,Nn.DEFAULT_ANISOTROPY=1;var Fn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,m.Z)(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}return(0,v.Z)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],d=s[5],f=s[9],p=s[2],A=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(f-A)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(f+A)<o&&Math.abs(l+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var v=(l+1)/2,g=(d+1)/2,y=(m+1)/2,x=(u+h)/4,b=(c+p)/4,w=(f+A)/4;return v>g&&v>y?v<a?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(v)),i=b/n):g>y?g<a?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(g)),i=w/r):y<a?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(y)),r=w/i),this.set(n,r,i,t),this}var C=Math.sqrt((A-f)*(A-f)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(C)<.001&&(C=1),this.x=(A-f)/C,this.y=(c-p)/C,this.z=(h-u)/C,this.w=Math.acos((l+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:(0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Un=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,m.Z)(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=r,e.height=i,e.depth=1,e.scissor=new Fn(0,0,r,i),e.scissorTest=!1,e.viewport=new Fn(0,0,r,i);var o={width:r,height:i,depth:1};return e.texture=new Nn(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:Ie,e.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,e.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,e.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,e.samples=void 0!==a.samples?a.samples:0,e}return(0,v.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Ln(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}($t),On=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,m.Z)(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Ce,e.minFilter=Ce,e.wrapR=be,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,v.Z)(n)}(Nn),Zn=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,m.Z)(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:r,width:i,height:a,depth:o},e.magFilter=Ce,e.minFilter=Ce,e.wrapR=be,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,v.Z)(n)}(Nn),zn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,m.Z)(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}return(0,v.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),h=s(n/2),d=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"YXZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"ZXY":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"ZYX":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"YZX":this._x=h*u*c+l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c-h*d*f;break;case"XZY":this._x=h*u*c-l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-s)*d,this._y=(i-l)*d,this._z=(a-r)*d}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(i+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var A=2*Math.sqrt(1+c-n-o);this._w=(a-r)/A,this._x=(i+l)/A,this._y=(s+u)/A,this._z=.25*A}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(on(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(c!==p||s!==h||l!==d||u!==f){var A=1-o,m=s*h+l*d+u*f+c*p,v=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){var y=Math.sqrt(g),x=Math.atan2(y,m*v);A=Math.sin(A*x)/y,o=Math.sin(o*x)/y}var b=o*v;if(s=s*A+h*b,l=l*A+d*b,u=u*A+f*b,c=c*A+p*b,A===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],h=i[a+1],d=i[a+2],f=i[a+3];return e[t]=o*f+u*c+s*d-l*h,e[t+1]=s*f+u*h+l*c-o*d,e[t+2]=l*f+u*d+o*h-s*c,e[t+3]=u*f-o*c-s*h-l*d,e}}]),t}(Symbol.iterator),Gn=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,m.Z)(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}return(0,v.Z)(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(Vn.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Vn.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=l*s+h*-i+u*-o-c*-a,this.y=u*s+h*-a+c*-i-l*-o,this.z=c*s+h*-o+l*-a-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Hn.copy(this).projectOnVector(e),this.sub(Hn)}},{key:"reflect",value:function(e){return this.sub(Hn.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(on(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:e,value:(0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Hn=new Gn,Vn=new zn,Wn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gn(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn(-1/0,-1/0,-1/0);(0,m.Z)(this,e),this.isBox3=!0,this.min=t,this.max=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Yn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Yn.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Yn);else null===n.boundingBox&&n.computeBoundingBox(),Xn.copy(n.boundingBox),Xn.applyMatrix4(e.matrixWorld),this.union(Xn);for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Yn),Yn.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(rr),ir.subVectors(this.max,rr),Jn.subVectors(e.a,rr),Kn.subVectors(e.b,rr),$n.subVectors(e.c,rr),er.subVectors(Kn,Jn),tr.subVectors($n,Kn),nr.subVectors(Jn,$n);var t=[0,-er.z,er.y,0,-tr.z,tr.y,0,-nr.z,nr.y,er.z,0,-er.x,tr.z,0,-tr.x,nr.z,0,-nr.x,-er.y,er.x,0,-tr.y,tr.x,0,-nr.y,nr.x,0];return!!sr(t,Jn,Kn,$n,ir)&&(!!sr(t=[1,0,0,0,1,0,0,0,1],Jn,Kn,$n,ir)&&(ar.crossVectors(er,tr),sr(t=[ar.x,ar.y,ar.z],Jn,Kn,$n,ir)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Yn.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Yn).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(qn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),qn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),qn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),qn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),qn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),qn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),qn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),qn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(qn)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),qn=[new Gn,new Gn,new Gn,new Gn,new Gn,new Gn,new Gn,new Gn],Yn=new Gn,Xn=new Wn,Jn=new Gn,Kn=new Gn,$n=new Gn,er=new Gn,tr=new Gn,nr=new Gn,rr=new Gn,ir=new Gn,ar=new Gn,or=new Gn;function sr(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){or.fromArray(e,a);var s=i.x*Math.abs(or.x)+i.y*Math.abs(or.y)+i.z*Math.abs(or.z),l=t.dot(or),u=n.dot(or),c=r.dot(or);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var lr=new Wn,ur=new Gn,cr=new Gn,hr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,m.Z)(this,e),this.center=t,this.radius=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):lr.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ur.subVectors(e,this.center);var t=ur.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(ur,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(cr.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ur.copy(e.center).add(cr)),this.expandByPoint(ur.copy(e.center).sub(cr))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),dr=new Gn,fr=new Gn,pr=new Gn,Ar=new Gn,mr=new Gn,vr=new Gn,gr=new Gn,yr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn(0,0,-1);(0,m.Z)(this,e),this.origin=t,this.direction=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,dr)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=dr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(dr.copy(this.direction).multiplyScalar(t).add(this.origin),dr.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){fr.copy(e).add(t).multiplyScalar(.5),pr.copy(t).sub(e).normalize(),Ar.copy(this.origin).sub(fr);var i,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(pr),c=Ar.dot(this.direction),h=-Ar.dot(pr),d=Ar.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*c-h,s=l*f,(i=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(i*=p)*(i+u*(a*=p)+2*c)+a*(u*i+a+2*h)+d}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+d;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+d;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+d):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(pr).multiplyScalar(a).add(fr),o}},{key:"intersectSphere",value:function(e,t){dr.subVectors(e.center,this.origin);var n=dr.dot(this.direction),r=dr.dot(dr)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(i=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(i=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,dr)}},{key:"intersectTriangle",value:function(e,t,n,r,i){mr.subVectors(t,e),vr.subVectors(n,e),gr.crossVectors(mr,vr);var a,o=this.direction.dot(gr);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Ar.subVectors(this.origin,e);var s=a*this.direction.dot(vr.crossVectors(Ar,vr));if(s<0)return null;var l=a*this.direction.dot(mr.cross(Ar));if(l<0)return null;if(s+l>o)return null;var u=-a*Ar.dot(gr);return u<0?null:this.at(u/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),xr=function(){function e(){(0,m.Z)(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return(0,v.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,h,d,f,p,A){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=d,m[7]=f,m[11]=p,m[15]=A,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/br.setFromMatrixColumn(e,0).length(),i=1/br.setFromMatrixColumn(e,1).length(),a=1/br.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*u,d=a*c,f=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=d+f*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=f+d*l,t[10]=a*s}else if("YXZ"===e.order){var A=s*u,m=s*c,v=l*u,g=l*c;t[0]=A+g*o,t[4]=v*o-m,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=m*o-v,t[6]=g+A*o,t[10]=a*s}else if("ZXY"===e.order){var y=s*u,x=s*c,b=l*u,w=l*c;t[0]=y-w*o,t[4]=-a*c,t[8]=b+x*o,t[1]=x+b*o,t[5]=a*u,t[9]=w-y*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var C=a*u,E=a*c,S=o*u,I=o*c;t[0]=s*u,t[4]=S*l-E,t[8]=C*l+I,t[1]=s*c,t[5]=I*l+C,t[9]=E*l-S,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var M=a*s,_=a*l,k=o*s,B=o*l;t[0]=s*u,t[4]=B-M*c,t[8]=k*c+_,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=_*c+k,t[10]=M-B*c}else if("XZY"===e.order){var T=a*s,R=a*l,D=o*s,P=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=T*c+P,t[5]=a*u,t[9]=R*c-D,t[2]=D*c-R,t[6]=o*u,t[10]=P*c+T}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Cr,e,Er)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Mr.subVectors(e,t),0===Mr.lengthSq()&&(Mr.z=1),Mr.normalize(),Sr.crossVectors(n,Mr),0===Sr.lengthSq()&&(1===Math.abs(n.z)?Mr.x+=1e-4:Mr.z+=1e-4,Mr.normalize(),Sr.crossVectors(n,Mr)),Sr.normalize(),Ir.crossVectors(Mr,Sr),r[0]=Sr.x,r[4]=Ir.x,r[8]=Mr.x,r[1]=Sr.y,r[5]=Ir.y,r[9]=Mr.y,r[2]=Sr.z,r[6]=Ir.z,r[10]=Mr.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],A=n[10],m=n[14],v=n[3],g=n[7],y=n[11],x=n[15],b=r[0],w=r[4],C=r[8],E=r[12],S=r[1],I=r[5],M=r[9],_=r[13],k=r[2],B=r[6],T=r[10],R=r[14],D=r[3],P=r[7],L=r[11],Q=r[15];return i[0]=a*b+o*S+s*k+l*D,i[4]=a*w+o*I+s*B+l*P,i[8]=a*C+o*M+s*T+l*L,i[12]=a*E+o*_+s*R+l*Q,i[1]=u*b+c*S+h*k+d*D,i[5]=u*w+c*I+h*B+d*P,i[9]=u*C+c*M+h*T+d*L,i[13]=u*E+c*_+h*R+d*Q,i[2]=f*b+p*S+A*k+m*D,i[6]=f*w+p*I+A*B+m*P,i[10]=f*C+p*M+A*T+m*L,i[14]=f*E+p*_+A*R+m*Q,i[3]=v*b+g*S+y*k+x*D,i[7]=v*w+g*I+y*B+x*P,i[11]=v*C+g*M+y*T+x*L,i[15]=v*E+g*_+y*R+x*Q,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*a*h-r*a*d+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*d-i*a*c+n*a*d+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*h+r*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],A=e[14],m=e[15],v=c*A*l-p*h*l+p*s*d-o*A*d-c*s*m+o*h*m,g=f*h*l-u*A*l-f*s*d+a*A*d+u*s*m-a*h*m,y=u*p*l-f*c*l+f*o*d-a*p*d-u*o*m+a*c*m,x=f*c*s-u*p*s-f*o*h+a*p*h+u*o*A-a*c*A,b=t*v+n*g+r*y+i*x;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/b;return e[0]=v*w,e[1]=(p*h*i-c*A*i-p*r*d+n*A*d+c*r*m-n*h*m)*w,e[2]=(o*A*i-p*s*i+p*r*l-n*A*l-o*r*m+n*s*m)*w,e[3]=(c*s*i-o*h*i-c*r*l+n*h*l+o*r*d-n*s*d)*w,e[4]=g*w,e[5]=(u*A*i-f*h*i+f*r*d-t*A*d-u*r*m+t*h*m)*w,e[6]=(f*s*i-a*A*i-f*r*l+t*A*l+a*r*m-t*s*m)*w,e[7]=(a*h*i-u*s*i+u*r*l-t*h*l-a*r*d+t*s*d)*w,e[8]=y*w,e[9]=(f*c*i-u*p*i-f*n*d+t*p*d+u*n*m-t*c*m)*w,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*m+t*o*m)*w,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*d-t*o*d)*w,e[12]=x*w,e[13]=(u*p*r-f*c*r+f*n*h-t*p*h-u*n*A+t*c*A)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*A-t*o*A)*w,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,h=i*l,d=i*u,f=i*c,p=a*u,A=a*c,m=o*c,v=s*l,g=s*u,y=s*c,x=n.x,b=n.y,w=n.z;return r[0]=(1-(p+m))*x,r[1]=(d+y)*x,r[2]=(f-g)*x,r[3]=0,r[4]=(d-y)*b,r[5]=(1-(h+m))*b,r[6]=(A+v)*b,r[7]=0,r[8]=(f+g)*w,r[9]=(A-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=br.set(r[0],r[1],r[2]).length(),a=br.set(r[4],r[5],r[6]).length(),o=br.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],wr.copy(this);var s=1/i,l=1/a,u=1/o;return wr.elements[0]*=s,wr.elements[1]*=s,wr.elements[2]*=s,wr.elements[4]*=l,wr.elements[5]*=l,wr.elements[6]*=l,wr.elements[8]*=u,wr.elements[9]*=u,wr.elements[10]*=u,t.setFromRotationMatrix(wr),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),h=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(a-i),c=(t+e)*s,h=(n+r)*l,d=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),br=new Gn,wr=new xr,Cr=new Gn(0,0,0),Er=new Gn(1,1,1),Sr=new Gn,Ir=new Gn,Mr=new Gn,_r=new xr,kr=new zn,Br=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;(0,m.Z)(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}return(0,v.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(on(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-on(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(on(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-on(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(on(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-on(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return _r.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_r,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return kr.setFromEuler(this),this.setFromQuaternion(kr,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,A.Z)().mark((function e(){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);Br.DEFAULT_ORDER="XYZ";var Tr=function(){function e(){(0,m.Z)(this,e),this.mask=1}return(0,v.Z)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Rr=0,Dr=new Gn,Pr=new zn,Lr=new xr,Qr=new Gn,jr=new Gn,Nr=new Gn,Fr=new zn,Ur=new Gn(1,0,0),Or=new Gn(0,1,0),Zr=new Gn(0,0,1),zr={type:"added"},Gr={type:"removed"},Hr=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;(0,m.Z)(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty((0,h.Z)(e),"id",{value:Rr++}),e.uuid=an(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var r=new Gn,i=new Br,a=new zn,o=new Gn(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties((0,h.Z)(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new xr},normalMatrix:{value:new mn}}),e.matrix=new xr,e.matrixWorld=new xr,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new Tr,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,v.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Pr.setFromAxisAngle(e,t),this.quaternion.multiply(Pr),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Pr.setFromAxisAngle(e,t),this.quaternion.premultiply(Pr),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Ur,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Or,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Zr,e)}},{key:"translateOnAxis",value:function(e,t){return Dr.copy(e).applyQuaternion(this.quaternion),this.position.add(Dr.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Ur,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Or,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Zr,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Lr.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Qr.copy(e):Qr.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),jr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Lr.lookAt(jr,Qr,this.up):Lr.lookAt(Qr,jr,this.up),this.quaternion.setFromRotationMatrix(Lr),r&&(Lr.extractRotation(r.matrixWorld),Pr.setFromRotationMatrix(Lr),this.quaternion.premultiply(Pr.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(zr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Gr)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Gr)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Lr.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Lr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Lr),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jr,e,Nr),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jr,Fr,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,d=this.material.length;h<d;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var A=this.animations[p];r.animations.push(i(e.animations,A))}}if(t){var m=E(e.geometries),v=E(e.materials),g=E(e.textures),y=E(e.images),x=E(e.shapes),b=E(e.skeletons),w=E(e.animations),C=E(e.nodes);m.length>0&&(n.geometries=m),v.length>0&&(n.materials=v),g.length>0&&(n.textures=g),y.length>0&&(n.images=y),x.length>0&&(n.shapes=x),b.length>0&&(n.skeletons=b),w.length>0&&(n.animations=w),C.length>0&&(n.nodes=C)}return n.object=r,n;function E(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}($t);Hr.DEFAULT_UP=new Gn(0,1,0),Hr.DEFAULT_MATRIX_AUTO_UPDATE=!0,Hr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var Vr=new Gn,Wr=new Gn,qr=new Gn,Yr=new Gn,Xr=new Gn,Jr=new Gn,Kr=new Gn,$r=new Gn,ei=new Gn,ti=new Gn,ni=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gn,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Gn;(0,m.Z)(this,e),this.a=t,this.b=n,this.c=r}return(0,v.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Vr.subVectors(this.c,this.b),Wr.subVectors(this.a,this.b),.5*Vr.cross(Wr).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Xr.subVectors(a,i),Jr.subVectors(o,i),$r.subVectors(e,i);var s=Xr.dot($r),l=Jr.dot($r);if(s<=0&&l<=0)return t.copy(i);ei.subVectors(e,a);var u=Xr.dot(ei),c=Jr.dot(ei);if(u>=0&&c<=u)return t.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(Xr,n);ti.subVectors(e,o);var d=Xr.dot(ti),f=Jr.dot(ti);if(f>=0&&d<=f)return t.copy(o);var p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(i).addScaledVector(Jr,r);var A=u*f-d*c;if(A<=0&&c-u>=0&&d-f>=0)return Kr.subVectors(o,a),r=(c-u)/(c-u+(d-f)),t.copy(a).addScaledVector(Kr,r);var m=1/(A+p+h);return n=p*m,r=h*m,t.copy(i).addScaledVector(Xr,n).addScaledVector(Jr,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Vr.subVectors(e,t),r.cross(Vr);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Vr.subVectors(r,t),Wr.subVectors(n,t),qr.subVectors(e,t);var a=Vr.dot(Vr),o=Vr.dot(Wr),s=Vr.dot(qr),l=Wr.dot(Wr),u=Wr.dot(qr),c=a*l-o*o;if(0===c)return i.set(-2,-1,-1);var h=1/c,d=(l*s-o*u)*h,f=(a*u-o*s)*h;return i.set(1-d-f,f,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,Yr),Yr.x>=0&&Yr.y>=0&&Yr.x+Yr.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,Yr),s.set(0,0),s.addScaledVector(i,Yr.x),s.addScaledVector(a,Yr.y),s.addScaledVector(o,Yr.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return Vr.subVectors(n,t),Wr.subVectors(e,t),Vr.cross(Wr).dot(r)<0}}]),e}(),ri=0,ii=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty((0,h.Z)(e),"id",{value:ri++}),e.uuid=an(),e.name="",e.type="Material",e.blending=T,e.side=M,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=H,e.blendDst=V,e.blendEquation=Q,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=te,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=Ht,e.stencilZFail=Ht,e.stencilZPass=Ht,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,v.Z)(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==T&&(n.blending=this.blending),this.side!==M&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}($t),ai=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isMeshBasicMaterial=!0,r.type="MeshBasicMaterial",r.color=new Dn(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=oe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.fog=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(ii),oi=new Gn,si=new An,li=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,m.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=Vt,this.updateRange={offset:0,count:-1},this.version=0}return(0,v.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)si.fromBufferAttribute(this,t),si.applyMatrix3(e),this.setXY(t,si.x,si.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)oi.fromBufferAttribute(this,r),oi.applyMatrix3(e),this.setXYZ(r,oi.x,oi.y,oi.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)oi.fromBufferAttribute(this,t),oi.applyMatrix4(e),this.setXYZ(t,oi.x,oi.y,oi.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)oi.fromBufferAttribute(this,t),oi.applyNormalMatrix(e),this.setXYZ(t,oi.x,oi.y,oi.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)oi.fromBufferAttribute(this,t),oi.transformDirection(e),this.setXYZ(t,oi.x,oi.y,oi.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=dn(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=fn(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=dn(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=fn(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=dn(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=fn(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=dn(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=fn(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=fn(t,this.array),n=fn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=fn(t,this.array),n=fn(n,this.array),r=fn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=fn(t,this.array),n=fn(n,this.array),r=fn(r,this.array),i=fn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Vt&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),ui=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i){return(0,m.Z)(this,n),t.call(this,new Uint16Array(e),r,i)}return(0,v.Z)(n)}(li),ci=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i){return(0,m.Z)(this,n),t.call(this,new Int32Array(e),r,i)}return(0,v.Z)(n)}(li),hi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i){return(0,m.Z)(this,n),t.call(this,new Uint32Array(e),r,i)}return(0,v.Z)(n)}(li),di=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i){return(0,m.Z)(this,n),t.call(this,new Float32Array(e),r,i)}return(0,v.Z)(n)}(li),fi=0,pi=new xr,Ai=new Hr,mi=new Gn,vi=new Wn,gi=new Wn,yi=new Gn,xi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty((0,h.Z)(e),"id",{value:fi++}),e.uuid=an(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,v.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(gn(e)?hi:ui)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new mn).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return pi.makeRotationFromQuaternion(e),this.applyMatrix4(pi),this}},{key:"rotateX",value:function(e){return pi.makeRotationX(e),this.applyMatrix4(pi),this}},{key:"rotateY",value:function(e){return pi.makeRotationY(e),this.applyMatrix4(pi),this}},{key:"rotateZ",value:function(e){return pi.makeRotationZ(e),this.applyMatrix4(pi),this}},{key:"translate",value:function(e,t,n){return pi.makeTranslation(e,t,n),this.applyMatrix4(pi),this}},{key:"scale",value:function(e,t,n){return pi.makeScale(e,t,n),this.applyMatrix4(pi),this}},{key:"lookAt",value:function(e){return Ai.lookAt(e),Ai.updateMatrix(),this.applyMatrix4(Ai.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(mi).negate(),this.translate(mi.x,mi.y,mi.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new di(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Wn);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Gn(-1/0,-1/0,-1/0),new Gn(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];vi.setFromBufferAttribute(i),this.morphTargetsRelative?(yi.addVectors(this.boundingBox.min,vi.min),this.boundingBox.expandByPoint(yi),yi.addVectors(this.boundingBox.max,vi.max),this.boundingBox.expandByPoint(yi)):(this.boundingBox.expandByPoint(vi.min),this.boundingBox.expandByPoint(vi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new hr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Gn,1/0);if(e){var n=this.boundingSphere.center;if(vi.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];gi.setFromBufferAttribute(a),this.morphTargetsRelative?(yi.addVectors(vi.min,gi.min),vi.expandByPoint(yi),yi.addVectors(vi.max,gi.max),vi.expandByPoint(yi)):(vi.expandByPoint(gi.min),vi.expandByPoint(gi.max))}vi.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)yi.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(yi));if(t)for(var u=0,c=t.length;u<c;u++)for(var h=t[u],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)yi.fromBufferAttribute(h,f),d&&(mi.fromBufferAttribute(e,f),yi.add(mi)),o=Math.max(o,n.distanceToSquared(yi));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new li(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new Gn,u[c]=new Gn;var h=new Gn,d=new Gn,f=new Gn,p=new An,A=new An,m=new An,v=new Gn,g=new Gn,y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(var x=0,b=y.length;x<b;++x)for(var w=y[x],C=w.start,E=C,S=C+w.count;E<S;E+=3)Q(n[E+0],n[E+1],n[E+2]);for(var I=new Gn,M=new Gn,_=new Gn,k=new Gn,B=0,T=y.length;B<T;++B)for(var R=y[B],D=R.start,P=D,L=D+R.count;P<L;P+=3)j(n[P+0]),j(n[P+1]),j(n[P+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function Q(e,t,n){h.fromArray(r,3*e),d.fromArray(r,3*t),f.fromArray(r,3*n),p.fromArray(a,2*e),A.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(h),f.sub(h),A.sub(p),m.sub(p);var i=1/(A.x*m.y-m.x*A.y);isFinite(i)&&(v.copy(d).multiplyScalar(m.y).addScaledVector(f,-A.y).multiplyScalar(i),g.copy(f).multiplyScalar(A.x).addScaledVector(d,-m.x).multiplyScalar(i),l[e].add(v),l[t].add(v),l[n].add(v),u[e].add(g),u[t].add(g),u[n].add(g))}function j(e){_.fromArray(i,3*e),k.copy(_);var t=l[e];I.copy(t),I.sub(_.multiplyScalar(_.dot(t))).normalize(),M.crossVectors(k,t);var n=M.dot(u[e])<0?-1:1;s[4*e]=I.x,s[4*e+1]=I.y,s[4*e+2]=I.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new li(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new Gn,o=new Gn,s=new Gn,l=new Gn,u=new Gn,c=new Gn,h=new Gn,d=new Gn;if(e)for(var f=0,p=e.count;f<p;f+=3){var A=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);a.fromBufferAttribute(t,A),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),l.fromBufferAttribute(n,A),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,v),l.add(h),u.add(h),c.add(h),n.setXYZ(A,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(v,c.x,c.y,c.z)}else for(var g=0,y=t.count;g<y;g+=3)a.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(g+0,h.x,h.y,h.z),n.setXYZ(g+1,h.x,h.y,h.z),n.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)yi.fromBufferAttribute(e,t),yi.normalize(),e.setXYZ(t,yi.x,yi.y,yi.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new li(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,d=c.length;h<d;h++){var f=e(c[h],r);u.push(f)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,A=0,m=p.length;A<m;A++){var v=p[A];t.addGroup(v.start,v.count,v.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],d=0,f=c.length;d<f;d++){var p=c[d];h.push(p.toJSON(e.data))}h.length>0&&(s[u]=h,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var A=this.groups;A.length>0&&(e.data.groups=JSON.parse(JSON.stringify(A)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,f=0,p=d.length;f<p;f++){var A=d[f];this.addGroup(A.start,A.count,A.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var v=e.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}($t),bi=new xr,wi=new yr,Ci=new hr,Ei=new Gn,Si=new Gn,Ii=new Gn,Mi=new Gn,_i=new Gn,ki=new An,Bi=new An,Ti=new An,Ri=new Gn,Di=new Gn,Pi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xi,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ai;return(0,m.Z)(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){_i.set(0,0,0);for(var s=0,l=i.length;s<l;s++){var u=o[s],c=i[s];0!==u&&(Mi.fromBufferAttribute(c,e),a?_i.addScaledVector(Mi,u):_i.addScaledVector(Mi.sub(t),u))}t.add(_i)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),Ci.copy(n.boundingSphere),Ci.applyMatrix4(i),!1!==e.ray.intersectsSphere(Ci)&&(bi.copy(i).invert(),wi.copy(e.ray).applyMatrix4(bi),null===n.boundingBox||!1!==wi.intersectsBox(n.boundingBox)))){var a,o=n.index,s=n.attributes.position,l=n.attributes.uv,u=n.attributes.uv2,c=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(r))for(var d=0,f=c.length;d<f;d++)for(var p=c[d],A=r[p.materialIndex],m=Math.max(p.start,h.start),v=Math.min(o.count,Math.min(p.start+p.count,h.start+h.count));m<v;m+=3){var g=o.getX(m),y=o.getX(m+1),x=o.getX(m+2);(a=Li(this,A,e,wi,l,u,g,y,x))&&(a.faceIndex=Math.floor(m/3),a.face.materialIndex=p.materialIndex,t.push(a))}else for(var b=Math.max(0,h.start),w=Math.min(o.count,h.start+h.count);b<w;b+=3){var C=o.getX(b),E=o.getX(b+1),S=o.getX(b+2);(a=Li(this,r,e,wi,l,u,C,E,S))&&(a.faceIndex=Math.floor(b/3),t.push(a))}else if(void 0!==s)if(Array.isArray(r))for(var I=0,M=c.length;I<M;I++)for(var _=c[I],k=r[_.materialIndex],B=Math.max(_.start,h.start),T=Math.min(s.count,Math.min(_.start+_.count,h.start+h.count));B<T;B+=3){(a=Li(this,k,e,wi,l,u,B,B+1,B+2))&&(a.faceIndex=Math.floor(B/3),a.face.materialIndex=_.materialIndex,t.push(a))}else for(var R=Math.max(0,h.start),D=Math.min(s.count,h.start+h.count);R<D;R+=3){(a=Li(this,r,e,wi,l,u,R,R+1,R+2))&&(a.faceIndex=Math.floor(R/3),t.push(a))}}}}]),n}(Hr);function Li(e,t,n,r,i,a,o,s,l){e.getVertexPosition(o,Ei),e.getVertexPosition(s,Si),e.getVertexPosition(l,Ii);var u=function(e,t,n,r,i,a,o,s){if(null===(t.side===_?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===M,s)))return null;Di.copy(s),Di.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Di);return l<n.near||l>n.far?null:{distance:l,point:Di.clone(),object:e}}(e,t,n,r,Ei,Si,Ii,Ri);if(u){i&&(ki.fromBufferAttribute(i,o),Bi.fromBufferAttribute(i,s),Ti.fromBufferAttribute(i,l),u.uv=ni.getUV(Ri,Ei,Si,Ii,ki,Bi,Ti,new An)),a&&(ki.fromBufferAttribute(a,o),Bi.fromBufferAttribute(a,s),Ti.fromBufferAttribute(a,l),u.uv2=ni.getUV(Ri,Ei,Si,Ii,ki,Bi,Ti,new An));var c={a:o,b:s,c:l,normal:new Gn,materialIndex:0};ni.getNormal(Ei,Si,Ii,c.normal),u.face=c}return u}var Qi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,m.Z)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=(0,h.Z)(e);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],d=[],f=[],p=[],A=0,v=0;function g(e,t,n,r,i,a,o,s,l,h,m){for(var g=a/l,y=o/h,x=a/2,b=o/2,w=s/2,C=l+1,E=h+1,S=0,I=0,M=new Gn,_=0;_<E;_++)for(var k=_*y-b,B=0;B<C;B++){var T=B*g-x;M[e]=T*r,M[t]=k*i,M[n]=w,d.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=s>0?1:-1,f.push(M.x,M.y,M.z),p.push(B/l),p.push(1-_/h),S+=1}for(var R=0;R<h;R++)for(var D=0;D<l;D++){var P=A+D+C*R,L=A+D+C*(R+1),Q=A+(D+1)+C*(R+1),j=A+(D+1)+C*R;c.push(P,L,j),c.push(L,Q,j),I+=6}u.addGroup(v,I,m),v+=I,A+=S}return g("z","y","x",-1,-1,a,i,r,l,s,0),g("z","y","x",1,-1,a,i,-r,l,s,1),g("x","z","y",1,1,r,a,i,o,l,2),g("x","z","y",1,-1,r,a,-i,o,l,3),g("x","y","z",1,-1,r,i,a,o,s,4),g("x","y","z",-1,-1,r,i,-a,o,s,5),e.setIndex(c),e.setAttribute("position",new di(d,3)),e.setAttribute("normal",new di(f,3)),e.setAttribute("uv",new di(p,2)),e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(xi);function ji(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Ni(e){for(var t={},n=0;n<e.length;n++){var r=ji(e[n]);for(var i in r)t[i]=r[i]}return t}function Fi(e){return null===e.getRenderTarget()&&e.outputEncoding===Ft?zt:Gt}var Ui={clone:ji,merge:Ni},Oi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isShaderMaterial=!0,r.type="ShaderMaterial",r.defines={},r.uniforms={},r.uniformsGroups=[],r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ji(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(ii),Zi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new xr,e.projectionMatrix=new xr,e.projectionMatrixInverse=new xr,e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){(0,u.Z)((0,c.Z)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Hr),zi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,m.Z)(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*rn*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*nn*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*rn*Math.atan(Math.tan(.5*nn*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*nn*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Zi),Gi=-90,Hi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i){var a;(0,m.Z)(this,n),(a=t.call(this)).type="CubeCamera",a.renderTarget=i;var o=new zi(Gi,1,e,r);o.layers=a.layers,o.up.set(0,1,0),o.lookAt(1,0,0),a.add(o);var s=new zi(Gi,1,e,r);s.layers=a.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),a.add(s);var l=new zi(Gi,1,e,r);l.layers=a.layers,l.up.set(0,0,-1),l.lookAt(0,1,0),a.add(l);var u=new zi(Gi,1,e,r);u.layers=a.layers,u.up.set(0,0,1),u.lookAt(0,-1,0),a.add(u);var c=new zi(Gi,1,e,r);c.layers=a.layers,c.up.set(0,1,0),c.lookAt(0,0,1),a.add(c);var h=new zi(Gi,1,e,r);return h.layers=a.layers,h.up.set(0,1,0),h.lookAt(0,0,-1),a.add(h),a}return(0,v.Z)(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=(0,l.Z)(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],c=r[5],h=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=ue,e.xr.enabled=!1;var p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,u),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(t,c),e.setRenderTarget(h),e.toneMapping=d,e.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}]),n}(Hr),Vi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a,o,s,l,u,c,h){var d;return(0,m.Z)(this,n),e=void 0!==e?e:[],r=void 0!==r?r:Ae,(d=t.call(this,e,r,i,a,o,s,l,u,c,h)).isCubeTexture=!0,d.flipY=!1,d}return(0,v.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Nn),Wi=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,m.Z)(this,n),(e=t.call(this,r,r,i)).isWebGLCubeRenderTarget=!0;var a={width:r,height:r,depth:1},o=[a,a,a,a,a,a];return e.texture=new Vi(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,e.texture.minFilter=void 0!==i.minFilter?i.minFilter:Ie,e}return(0,v.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Qi(5,5,5),o=new Oi({name:"CubemapFromEquirect",uniforms:ji(n),vertexShader:r,fragmentShader:i,side:_,blending:B});o.uniforms.tEquirect.value=t;var s=new Pi(a,o),l=t.minFilter;return t.minFilter===_e&&(t.minFilter=Ie),new Hi(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Un),qi=new Gn,Yi=new Gn,Xi=new mn,Ji=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gn(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,m.Z)(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=qi.subVectors(n,t).cross(Yi.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(qi),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Xi.getNormalMatrix(e),r=this.coplanarPoint(qi).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ki=new hr,$i=new Gn,ea=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ji,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ji,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Ji,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Ji,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Ji,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Ji;(0,m.Z)(this,e),this.planes=[t,n,r,i,a,o]}return(0,v.Z)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],d=n[9],f=n[10],p=n[11],A=n[12],m=n[13],v=n[14],g=n[15];return t[0].setComponents(o-r,c-s,p-h,g-A).normalize(),t[1].setComponents(o+r,c+s,p+h,g+A).normalize(),t[2].setComponents(o+i,c+l,p+d,g+m).normalize(),t[3].setComponents(o-i,c-l,p-d,g-m).normalize(),t[4].setComponents(o-a,c-u,p-f,g-v).normalize(),t[5].setComponents(o+a,c+u,p+f,g+v).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Ki.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ki)}},{key:"intersectsSprite",value:function(e){return Ki.center.set(0,0,0),Ki.radius=.7071067811865476,Ki.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ki)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if($i.x=r.normal.x>0?e.max.x:e.min.x,$i.y=r.normal.y>0?e.max.y:e.min.y,$i.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint($i)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function ta(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function na(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var ra=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,m.Z)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var s=r/2,l=i/2,u=Math.floor(a),c=Math.floor(o),h=u+1,d=c+1,f=r/u,p=i/c,A=[],v=[],g=[],y=[],x=0;x<d;x++)for(var b=x*p-l,w=0;w<h;w++){var C=w*f-s;v.push(C,-b,0),g.push(0,0,1),y.push(w/u),y.push(1-x/c)}for(var E=0;E<c;E++)for(var S=0;S<u;S++){var I=S+h*E,M=S+h*(E+1),_=S+1+h*(E+1),k=S+1+h*E;A.push(I,M,k),A.push(M,_,k)}return e.setIndex(A),e.setAttribute("position",new di(v,3)),e.setAttribute("normal",new di(g,3)),e.setAttribute("uv",new di(y,2)),e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(xi),ia={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},aa={common:{diffuse:{value:new Dn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new mn},uv2Transform:{value:new mn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new An(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Dn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Dn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mn}},sprite:{diffuse:{value:new Dn(16777215)},opacity:{value:1},center:{value:new An(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new mn}}},oa={basic:{uniforms:Ni([aa.common,aa.specularmap,aa.envmap,aa.aomap,aa.lightmap,aa.fog]),vertexShader:ia.meshbasic_vert,fragmentShader:ia.meshbasic_frag},lambert:{uniforms:Ni([aa.common,aa.specularmap,aa.envmap,aa.aomap,aa.lightmap,aa.emissivemap,aa.bumpmap,aa.normalmap,aa.displacementmap,aa.fog,aa.lights,{emissive:{value:new Dn(0)}}]),vertexShader:ia.meshlambert_vert,fragmentShader:ia.meshlambert_frag},phong:{uniforms:Ni([aa.common,aa.specularmap,aa.envmap,aa.aomap,aa.lightmap,aa.emissivemap,aa.bumpmap,aa.normalmap,aa.displacementmap,aa.fog,aa.lights,{emissive:{value:new Dn(0)},specular:{value:new Dn(1118481)},shininess:{value:30}}]),vertexShader:ia.meshphong_vert,fragmentShader:ia.meshphong_frag},standard:{uniforms:Ni([aa.common,aa.envmap,aa.aomap,aa.lightmap,aa.emissivemap,aa.bumpmap,aa.normalmap,aa.displacementmap,aa.roughnessmap,aa.metalnessmap,aa.fog,aa.lights,{emissive:{value:new Dn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ia.meshphysical_vert,fragmentShader:ia.meshphysical_frag},toon:{uniforms:Ni([aa.common,aa.aomap,aa.lightmap,aa.emissivemap,aa.bumpmap,aa.normalmap,aa.displacementmap,aa.gradientmap,aa.fog,aa.lights,{emissive:{value:new Dn(0)}}]),vertexShader:ia.meshtoon_vert,fragmentShader:ia.meshtoon_frag},matcap:{uniforms:Ni([aa.common,aa.bumpmap,aa.normalmap,aa.displacementmap,aa.fog,{matcap:{value:null}}]),vertexShader:ia.meshmatcap_vert,fragmentShader:ia.meshmatcap_frag},points:{uniforms:Ni([aa.points,aa.fog]),vertexShader:ia.points_vert,fragmentShader:ia.points_frag},dashed:{uniforms:Ni([aa.common,aa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ia.linedashed_vert,fragmentShader:ia.linedashed_frag},depth:{uniforms:Ni([aa.common,aa.displacementmap]),vertexShader:ia.depth_vert,fragmentShader:ia.depth_frag},normal:{uniforms:Ni([aa.common,aa.bumpmap,aa.normalmap,aa.displacementmap,{opacity:{value:1}}]),vertexShader:ia.meshnormal_vert,fragmentShader:ia.meshnormal_frag},sprite:{uniforms:Ni([aa.sprite,aa.fog]),vertexShader:ia.sprite_vert,fragmentShader:ia.sprite_frag},background:{uniforms:{uvTransform:{value:new mn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ia.background_vert,fragmentShader:ia.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ia.backgroundCube_vert,fragmentShader:ia.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ia.cube_vert,fragmentShader:ia.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ia.equirect_vert,fragmentShader:ia.equirect_frag},distanceRGBA:{uniforms:Ni([aa.common,aa.displacementmap,{referencePosition:{value:new Gn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ia.distanceRGBA_vert,fragmentShader:ia.distanceRGBA_frag},shadow:{uniforms:Ni([aa.lights,aa.fog,{color:{value:new Dn(0)},opacity:{value:1}}]),vertexShader:ia.shadow_vert,fragmentShader:ia.shadow_frag}};oa.physical={uniforms:Ni([oa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new An(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Dn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new An},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Dn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Dn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ia.meshphysical_vert,fragmentShader:ia.meshphysical_frag};var sa={r:0,b:0,g:0};function la(e,t,n,r,i,a,o){var s,l,u=new Dn(0),c=!0===a?0:1,h=null,d=0,f=null;function p(t,n){t.getRGB(sa,Fi(e)),r.buffers.color.setClear(sa.r,sa.g,sa.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),p(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(u,c=e)},render:function(r,a){var o=!1,A=!0===a.isScene?a.background:null;A&&A.isTexture&&(A=(a.backgroundBlurriness>0?n:t).get(A));var m=e.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(A=null),null===A?p(u,c):A&&A.isColor&&(p(A,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),A&&(A.isCubeTexture||A.mapping===ye)?(void 0===l&&((l=new Pi(new Qi(1,1,1),new Oi({name:"BackgroundCubeMaterial",uniforms:ji(oa.backgroundCube.uniforms),vertexShader:oa.backgroundCube.vertexShader,fragmentShader:oa.backgroundCube.fragmentShader,side:_,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=A,l.material.uniforms.flipEnvMap.value=A.isCubeTexture&&!1===A.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,l.material.toneMapped=A.encoding!==Ft,h===A&&d===A.version&&f===e.toneMapping||(l.material.needsUpdate=!0,h=A,d=A.version,f=e.toneMapping),l.layers.enableAll(),r.unshift(l,l.geometry,l.material,0,0,null)):A&&A.isTexture&&(void 0===s&&((s=new Pi(new ra(2,2),new Oi({name:"BackgroundMaterial",uniforms:ji(oa.background.uniforms),vertexShader:oa.background.vertexShader,fragmentShader:oa.background.fragmentShader,side:M,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=A,s.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,s.material.toneMapped=A.encoding!==Ft,!0===A.matrixAutoUpdate&&A.updateMatrix(),s.material.uniforms.uvTransform.value.copy(A.matrix),h===A&&d===A.version&&f===e.toneMapping||(s.material.needsUpdate=!0,h=A,d=A.version,f=e.toneMapping),s.layers.enableAll(),r.unshift(s,s.geometry,s.material,0,0,null))}}}function ua(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=f(null),u=l,c=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function f(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function A(e){m(e,0)}function m(n,i){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function y(){x(),c=!0,u!==l&&h((u=l).object)}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,y,x){var b=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c);return c}(y,d,l);u!==w&&h((u=w).object),b=function(e,t,n,r){var i=u.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=i[l],h=a[l];if(void 0===h&&("instanceMatrix"===l&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(h=e.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}}return u.attributesNum!==o||u.index!==r}(i,y,d,x),b&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=a[l];void 0===c&&("instanceMatrix"===l&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(c=e.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),i[l]=h,o++}}u.attributes=i,u.attributesNum=o,u.index=r}(i,y,d,x)}else{var C=!0===l.wireframe;u.geometry===y.id&&u.program===d.id&&u.wireframe===C||(u.geometry=y.id,u.program=d.id,u.wireframe=C,b=!0)}null!==x&&n.update(x,34963),(b||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var d=u[h];if(d.location>=0){var f=l[h];if(void 0===f&&("instanceMatrix"===h&&i.instanceMatrix&&(f=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(f=i.instanceColor)),void 0!==f){var y=f.normalized,x=f.itemSize,b=n.get(f);if(void 0===b)continue;var w=b.buffer,C=b.type,E=b.bytesPerElement;if(f.isInterleavedBufferAttribute){var S=f.data,I=S.stride,M=f.offset;if(S.isInstancedInterleavedBuffer){for(var _=0;_<d.locationSize;_++)m(d.location+_,S.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)}else for(var k=0;k<d.locationSize;k++)A(d.location+k);e.bindBuffer(34962,w);for(var B=0;B<d.locationSize;B++)g(d.location+B,x/d.locationSize,C,y,I*E,(M+x/d.locationSize*B)*E)}else{if(f.isInstancedBufferAttribute){for(var T=0;T<d.locationSize;T++)m(d.location+T,f.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=f.meshPerAttribute*f.count)}else for(var R=0;R<d.locationSize;R++)A(d.location+R);e.bindBuffer(34962,w);for(var D=0;D<d.locationSize;D++)g(d.location+D,x/d.locationSize,C,y,x*E,x/d.locationSize*D*E)}}else if(void 0!==c){var P=c[h];if(void 0!==P)switch(P.length){case 2:e.vertexAttrib2fv(d.location,P);break;case 3:e.vertexAttrib3fv(d.location,P);break;case 4:e.vertexAttrib4fv(d.location,P);break;default:e.vertexAttrib1fv(d.location,P)}}}}v()}(i,l,d,y),null!==x&&e.bindBuffer(34963,n.get(x).buffer))},reset:y,resetDefaultState:x,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:A,disableUnusedAttributes:v}}function ca(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(a)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,o,s),n.update(o,i,s)}}}function ha(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),d=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),A=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=h>0,y=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:A,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function da(e){var t=this,n=null,r=0,i=!1,a=!1,o=new Ji,s=new mn,l={value:null,needsUpdate:!1};function u(e,n,r,i){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){var c=r+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,f=r;d!==a;++d,f+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){var h=o.clippingPlanes,d=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(!i||null===h||0===h.length||a&&!f)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var A=a?0:r,m=4*A,v=p.clippingState||null;l.value=v,v=u(h,s,m,c);for(var g=0;g!==m;++g)v[g]=n[g];p.clippingState=v,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=A}}}function fa(e){var t=new WeakMap;function n(e,t){return t===ve?e.mapping=Ae:t===ge&&(e.mapping=me),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===ve||a===ge){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Wi(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var pa=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,m.Z)(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=s,e.far=l,e.updateProjectionMatrix(),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Zi),Aa=[.125,.215,.35,.446,.526,.582],ma=20,va=new pa,ga=new Dn,ya=null,xa=(1+Math.sqrt(5))/2,ba=1/xa,wa=[new Gn(1,1,1),new Gn(-1,1,1),new Gn(1,1,-1),new Gn(-1,1,-1),new Gn(0,xa,ba),new Gn(0,xa,-ba),new Gn(ba,0,xa),new Gn(-ba,0,xa),new Gn(xa,ba,0),new Gn(-xa,ba,0)],Ca=function(){function e(t){(0,m.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,v.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;ya=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ma(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Ia(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(ya),e.scissorTest=!1,Sa(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Ae||e.mapping===me?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ya=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Ie,minFilter:Ie,generateMipmaps:!1,type:Qe,format:Oe,encoding:Nt,depthBuffer:!1},r=Ea(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Ea(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+Aa.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var l=1/s;o>e-4?l=Aa[o-e+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-2),c=-u,h=1+u,d=[c,c,h,c,h,h,c,c,h,h,c,h],f=6,p=6,A=3,m=2,v=1,g=new Float32Array(A*p*f),y=new Float32Array(m*p*f),x=new Float32Array(v*p*f),b=0;b<f;b++){var w=b%3*2/3-1,C=b>2?0:-1,E=[w,C,0,w+2/3,C,0,w+2/3,C+1,0,w,C,0,w+2/3,C+1,0,w,C+1,0];g.set(E,A*p*b),y.set(d,m*p*b);var S=[b,b,b,b,b,b];x.set(S,v*p*b)}var I=new xi;I.setAttribute("position",new li(g,A)),I.setAttribute("uv",new li(y,m)),I.setAttribute("faceIndex",new li(x,v)),t.push(I),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(ma),i=new Gn(0,1,0),a=new Oi({name:"SphericalGaussianBlur",defines:{n:ma,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:B,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new Pi(this._lodPlanes[0],e);this._renderer.compile(t,va)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new zi(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(ga),s.toneMapping=ue,s.autoClear=!1;var c=new ai({name:"PMREM.Background",side:_,depthWrite:!1,depthTest:!1}),h=new Pi(new Qi,c),d=!1,f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,d=!0):(c.color.copy(ga),d=!0);for(var p=0;p<6;p++){var A=p%3;0===A?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===A?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;Sa(r,A*m,p>2?m:0,m,m),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=f}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Ae||e.mapping===me;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ma()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Ia());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new Pi(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;Sa(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,va)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=wa[(r-1)%wa.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new Pi(this._lodPlanes[r],l),c=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):ma;p>ma&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(ma));for(var A=[],m=0,v=0;v<ma;++v){var g=v/f,y=Math.exp(-g*g/2);A.push(y),0===v?m+=y:v<p&&(m+=2*y)}for(var x=0;x<A.length;x++)A[x]=A[x]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=A,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var b=this._lodMax;c.dTheta.value=d,c.mipInt.value=b-n;var w=this._sizeLods[r];Sa(t,3*w*(r>b-4?r-b+4:0),4*(this._cubeSize-w),3*w,2*w),s.setRenderTarget(t),s.render(u,va)}}]),e}();function Ea(e,t,n){var r=new Un(e,t,n);return r.texture.mapping=ye,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Sa(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Ia(){return new Oi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:B,depthTest:!1,depthWrite:!1})}function Ma(){return new Oi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:B,depthTest:!1,depthWrite:!1})}function _a(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===ve||a===ge,s=a===Ae||a===me;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=t.get(i);return null===n&&(n=new Ca(e)),l=o?n.fromEquirectangular(i,l):n.fromCubemap(i,l),t.set(i,l),l.texture}if(t.has(i))return t.get(i).texture;var u=i.image;if(o&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(u)){null===n&&(n=new Ca(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function ka(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Ba(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete i[s.id];var u=a.get(s);u&&(t.remove(u),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],d=s[l+2];n.push(c,h,h,d,d,c)}}else{var f=i.array;o=i.version;for(var p=0,A=f.length/3-1;p<A;p+=3){var m=p+0,v=p+1,g=p+2;n.push(m,v,v,g,g,m)}}var y=new(gn(n)?hi:ui)(n,1);y.version=o;var x=a.get(e);x&&t.remove(x),a.set(e,y)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Ta(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,l,a,r*o,u),n.update(l,i,u)}}}function Ra(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Da(e,t){return e[0]-t[0]}function Pa(e,t){return Math.abs(t[1])-Math.abs(e[1])}function La(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new Fn,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c,h){var d=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==f?f.length:0,A=a.get(u);if(void 0===A||A.count!==p){void 0!==A&&A.texture.dispose();var m=void 0!==u.morphAttributes.position,v=void 0!==u.morphAttributes.normal,g=void 0!==u.morphAttributes.color,y=u.morphAttributes.position||[],x=u.morphAttributes.normal||[],b=u.morphAttributes.color||[],w=0;!0===m&&(w=1),!0===v&&(w=2),!0===g&&(w=3);var C=u.attributes.position.count*w,E=1;C>t.maxTextureSize&&(E=Math.ceil(C/t.maxTextureSize),C=t.maxTextureSize);var S=new Float32Array(C*E*4*p),I=new On(S,C,E,p);I.type=Le,I.needsUpdate=!0;for(var M=4*w,_=0;_<p;_++)for(var k=y[_],B=x[_],T=b[_],R=C*E*4*_,D=0;D<k.count;D++){var P=D*M;!0===m&&(o.fromBufferAttribute(k,D),S[R+P+0]=o.x,S[R+P+1]=o.y,S[R+P+2]=o.z,S[R+P+3]=0),!0===v&&(o.fromBufferAttribute(B,D),S[R+P+4]=o.x,S[R+P+5]=o.y,S[R+P+6]=o.z,S[R+P+7]=0),!0===g&&(o.fromBufferAttribute(T,D),S[R+P+8]=o.x,S[R+P+9]=o.y,S[R+P+10]=o.z,S[R+P+11]=4===T.itemSize?o.w:1)}A={count:p,texture:I,size:new An(C,E)},a.set(u,A);u.addEventListener("dispose",(function e(){I.dispose(),a.delete(u),u.removeEventListener("dispose",e)}))}for(var L=0,Q=0;Q<d.length;Q++)L+=d[Q];var j=u.morphTargetsRelative?1:1-L;h.getUniforms().setValue(e,"morphTargetBaseInfluence",j),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",A.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",A.size)}else{var N=void 0===d?0:d.length,F=r[u.id];if(void 0===F||F.length!==N){F=[];for(var U=0;U<N;U++)F[U]=[U,0];r[u.id]=F}for(var O=0;O<N;O++){var Z=F[O];Z[0]=O,Z[1]=d[O]}F.sort(Pa);for(var z=0;z<8;z++)z<N&&F[z][1]?(s[z][0]=F[z][0],s[z][1]=F[z][1]):(s[z][0]=Number.MAX_SAFE_INTEGER,s[z][1]=0);s.sort(Da);for(var G=u.morphAttributes.position,H=u.morphAttributes.normal,V=0,W=0;W<8;W++){var q=s[W],Y=q[0],X=q[1];Y!==Number.MAX_SAFE_INTEGER&&X?(G&&u.getAttribute("morphTarget"+W)!==G[Y]&&u.setAttribute("morphTarget"+W,G[Y]),H&&u.getAttribute("morphNormal"+W)!==H[Y]&&u.setAttribute("morphNormal"+W,H[Y]),i[W]=X,V+=X):(G&&!0===u.hasAttribute("morphTarget"+W)&&u.deleteAttribute("morphTarget"+W),H&&!0===u.hasAttribute("morphNormal"+W)&&u.deleteAttribute("morphNormal"+W),i[W]=0)}var J=u.morphTargetsRelative?1:1-V;h.getUniforms().setValue(e,"morphTargetBaseInfluence",J),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Qa(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==o&&(t.update(l),i.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}var ja=new Nn,Na=new On,Fa=new Zn,Ua=new Vi,Oa=[],Za=[],za=new Float32Array(16),Ga=new Float32Array(9),Ha=new Float32Array(4);function Va(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Oa[i];if(void 0===a&&(a=new Float32Array(i),Oa[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Wa(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function qa(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Ya(e,t){var n=Za[t];void 0===n&&(n=new Int32Array(t),Za[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Xa(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Ja(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Wa(n,t))return;e.uniform2fv(this.addr,t),qa(n,t)}}function Ka(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Wa(n,t))return;e.uniform3fv(this.addr,t),qa(n,t)}}function $a(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Wa(n,t))return;e.uniform4fv(this.addr,t),qa(n,t)}}function eo(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Wa(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),qa(n,t)}else{if(Wa(n,r))return;Ha.set(r),e.uniformMatrix2fv(this.addr,!1,Ha),qa(n,r)}}function to(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Wa(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),qa(n,t)}else{if(Wa(n,r))return;Ga.set(r),e.uniformMatrix3fv(this.addr,!1,Ga),qa(n,r)}}function no(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Wa(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),qa(n,t)}else{if(Wa(n,r))return;za.set(r),e.uniformMatrix4fv(this.addr,!1,za),qa(n,r)}}function ro(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function io(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Wa(n,t))return;e.uniform2iv(this.addr,t),qa(n,t)}}function ao(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Wa(n,t))return;e.uniform3iv(this.addr,t),qa(n,t)}}function oo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Wa(n,t))return;e.uniform4iv(this.addr,t),qa(n,t)}}function so(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function lo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Wa(n,t))return;e.uniform2uiv(this.addr,t),qa(n,t)}}function uo(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Wa(n,t))return;e.uniform3uiv(this.addr,t),qa(n,t)}}function co(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Wa(n,t))return;e.uniform4uiv(this.addr,t),qa(n,t)}}function ho(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||ja,i)}function fo(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Fa,i)}function po(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Ua,i)}function Ao(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Na,i)}function mo(e,t){e.uniform1fv(this.addr,t)}function vo(e,t){var n=Va(t,this.size,2);e.uniform2fv(this.addr,n)}function go(e,t){var n=Va(t,this.size,3);e.uniform3fv(this.addr,n)}function yo(e,t){var n=Va(t,this.size,4);e.uniform4fv(this.addr,n)}function xo(e,t){var n=Va(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function bo(e,t){var n=Va(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function wo(e,t){var n=Va(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Co(e,t){e.uniform1iv(this.addr,t)}function Eo(e,t){e.uniform2iv(this.addr,t)}function So(e,t){e.uniform3iv(this.addr,t)}function Io(e,t){e.uniform4iv(this.addr,t)}function Mo(e,t){e.uniform1uiv(this.addr,t)}function _o(e,t){e.uniform2uiv(this.addr,t)}function ko(e,t){e.uniform3uiv(this.addr,t)}function Bo(e,t){e.uniform4uiv(this.addr,t)}function To(e,t,n){var r=this.cache,i=t.length,a=Ya(n,i);Wa(r,a)||(e.uniform1iv(this.addr,a),qa(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||ja,a[o])}function Ro(e,t,n){var r=this.cache,i=t.length,a=Ya(n,i);Wa(r,a)||(e.uniform1iv(this.addr,a),qa(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||Fa,a[o])}function Do(e,t,n){var r=this.cache,i=t.length,a=Ya(n,i);Wa(r,a)||(e.uniform1iv(this.addr,a),qa(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||Ua,a[o])}function Po(e,t,n){var r=this.cache,i=t.length,a=Ya(n,i);Wa(r,a)||(e.uniform1iv(this.addr,a),qa(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||Na,a[o])}var Lo=(0,v.Z)((function e(t,n,r){(0,m.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Xa;case 35664:return Ja;case 35665:return Ka;case 35666:return $a;case 35674:return eo;case 35675:return to;case 35676:return no;case 5124:case 35670:return ro;case 35667:case 35671:return io;case 35668:case 35672:return ao;case 35669:case 35673:return oo;case 5125:return so;case 36294:return lo;case 36295:return uo;case 36296:return co;case 35678:case 36198:case 36298:case 36306:case 35682:return ho;case 35679:case 36299:case 36307:return fo;case 35680:case 36300:case 36308:case 36293:return po;case 36289:case 36303:case 36311:case 36292:return Ao}}(n.type)})),Qo=(0,v.Z)((function e(t,n,r){(0,m.Z)(this,e),this.id=t,this.addr=r,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return mo;case 35664:return vo;case 35665:return go;case 35666:return yo;case 35674:return xo;case 35675:return bo;case 35676:return wo;case 5124:case 35670:return Co;case 35667:case 35671:return Eo;case 35668:case 35672:return So;case 35669:case 35673:return Io;case 5125:return Mo;case 36294:return _o;case 36295:return ko;case 36296:return Bo;case 35678:case 36198:case 36298:case 36306:case 35682:return To;case 35679:case 36299:case 36307:return Ro;case 35680:case 36300:case 36308:case 36293:return Do;case 36289:case 36303:case 36311:case 36292:return Po}}(n.type)})),jo=function(){function e(t){(0,m.Z)(this,e),this.id=t,this.seq=[],this.map={}}return(0,v.Z)(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),No=/(\w+)(\])?(\[|\.)?/g;function Fo(e,t){e.seq.push(t),e.map[t.id]=t}function Uo(e,t,n){var r=e.name,i=r.length;for(No.lastIndex=0;;){var a=No.exec(r),o=No.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){Fo(n,void 0===u?new Lo(s,e,t):new Qo(s,e,t));break}var c=n.map[s];void 0===c&&Fo(n,c=new jo(s)),n=c}}var Oo=function(){function e(t,n){(0,m.Z)(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,35718),i=0;i<r;++i){var a=t.getActiveUniform(n,i);Uo(a,t.getUniformLocation(n,a.name),this)}}return(0,v.Z)(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function Zo(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var zo=0;function Go(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function Ho(e,t){var n=function(e){switch(e){case Nt:return["Linear","( value )"];case Ft:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Vo(e,t){var n;switch(t){case ce:n="Linear";break;case he:n="Reinhard";break;case de:n="OptimizedCineon";break;case fe:n="ACESFilmic";break;case pe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Wo(e){return""!==e}function qo(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Yo(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Xo=/^[ \t]*#include +<([\w\d./]+)>/gm;function Jo(e){return e.replace(Xo,Ko)}function Ko(e,t){var n=ia[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return Jo(n)}var $o=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function es(e){return e.replace($o,ts)}function ts(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function ns(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function rs(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===E?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===S?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===I&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Ae:case me:t="ENVMAP_TYPE_CUBE";break;case ye:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===me&&(t="ENVMAP_MODE_REFRACTION");return t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case oe:t="ENVMAP_BLENDING_MULTIPLY";break;case se:t="ENVMAP_BLENDING_MIX";break;case le:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),A=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Wo).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),v=o.createProgram(),g=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[m].filter(Wo).join("\n")).length>0&&(i+="\n"),(a=[A,m].filter(Wo).join("\n")).length>0&&(a+="\n")):(i=[ns(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Wo).join("\n"),a=[A,ns(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ue?"#define TONE_MAPPING":"",n.toneMapping!==ue?ia.tonemapping_pars_fragment:"",n.toneMapping!==ue?Vo("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ia.encodings_pars_fragment,Ho("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Wo).join("\n")),l=Yo(l=qo(l=Jo(l),n),n),u=Yo(u=qo(u=Jo(u),n),n),l=es(l),u=es(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(g="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Wt?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Wt?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var y,x,b=g+a+u,w=Zo(o,35633,g+i+l),C=Zo(o,35632,b);if(o.attachShader(v,w),o.attachShader(v,C),void 0!==n.index0AttributeName?o.bindAttribLocation(v,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(v,0,"position"),o.linkProgram(v),e.debug.checkShaderErrors){var M=o.getProgramInfoLog(v).trim(),_=o.getShaderInfoLog(w).trim(),k=o.getShaderInfoLog(C).trim(),B=!0,T=!0;if(!1===o.getProgramParameter(v,35714)){B=!1;var R=Go(o,w,"vertex"),D=Go(o,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(v,35715)+"\n\nProgram Info Log: "+M+"\n"+R+"\n"+D)}else""!==M?console.warn("THREE.WebGLProgram: Program Info Log:",M):""!==_&&""!==k||(T=!1);T&&(this.diagnostics={runnable:B,programLog:M,vertexShader:{log:_,prefix:i},fragmentShader:{log:k,prefix:a}})}return o.deleteShader(w),o.deleteShader(C),this.getUniforms=function(){return void 0===y&&(y=new Oo(o,v)),y},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,v)),x},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=zo++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=w,this.fragmentShader=C,this}var is=0,as=function(){function e(){(0,m.Z)(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,v.Z)(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=this.materialCache.get(e),r=(0,s.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(a){r.e(a)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new os(e),t.set(e,n)),n}}]),e}(),os=(0,v.Z)((function e(t){(0,m.Z)(this,e),this.id=is++,this.code=t,this.usedTimes=0}));function ss(e,t,n,r,i,a,o){var s=new Tr,l=new as,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures,f=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,u,A,m){var v=A.fog,g=m.geometry,y=a.isMeshStandardMaterial?A.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||y),b=x&&x.mapping===ye?x.image.height:null,w=p[a.type];null!==a.precision&&(f=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead.");var C,E,S,I,M=g.morphAttributes.position||g.morphAttributes.normal||g.morphAttributes.color,B=void 0!==M?M.length:0,R=0;if(void 0!==g.morphAttributes.position&&(R=1),void 0!==g.morphAttributes.normal&&(R=2),void 0!==g.morphAttributes.color&&(R=3),w){var D=oa[w];C=D.vertexShader,E=D.fragmentShader}else C=a.vertexShader,E=a.fragmentShader,l.update(a),S=l.getVertexShaderID(a),I=l.getFragmentShaderID(a);var P=e.getRenderTarget(),L=a.alphaTest>0,Q=a.clearcoat>0,j=a.iridescence>0;return{isWebGL2:c,shaderID:w,shaderName:a.type,vertexShader:C,fragmentShader:E,defines:a.defines,customVertexShaderID:S,customFragmentShaderID:I,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,instancing:!0===m.isInstancedMesh,instancingColor:!0===m.isInstancedMesh&&null!==m.instanceColor,supportsVertexTextures:d,outputEncoding:null===P?e.outputEncoding:!0===P.isXRRenderTarget?P.texture.encoding:Nt,map:!!a.map,matcap:!!a.matcap,envMap:!!x,envMapMode:x&&x.mapping,envMapCubeUVHeight:b,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===Zt,tangentSpaceNormalMap:a.normalMapType===Ot,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===Ft,clearcoat:Q,clearcoatMap:Q&&!!a.clearcoatMap,clearcoatRoughnessMap:Q&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:Q&&!!a.clearcoatNormalMap,iridescence:j,iridescenceMap:j&&!!a.iridescenceMap,iridescenceThicknessMap:j&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===T,alphaMap:!!a.alphaMap,alphaTest:L,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!g.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!g.attributes.color&&4===g.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.iridescenceMap||!!a.iridescenceThicknessMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!v,useFog:!0===a.fog,fogExp2:v&&v.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==g.morphAttributes.position,morphNormals:void 0!==g.morphAttributes.normal,morphColors:void 0!==g.morphAttributes.color,morphTargetsCount:B,morphTextureStride:R,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:ue,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===k,flipSided:a.side===_,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.map&&s.enable(4);t.matcap&&s.enable(5);t.envMap&&s.enable(6);t.lightMap&&s.enable(7);t.aoMap&&s.enable(8);t.emissiveMap&&s.enable(9);t.bumpMap&&s.enable(10);t.normalMap&&s.enable(11);t.objectSpaceNormalMap&&s.enable(12);t.tangentSpaceNormalMap&&s.enable(13);t.clearcoat&&s.enable(14);t.clearcoatMap&&s.enable(15);t.clearcoatRoughnessMap&&s.enable(16);t.clearcoatNormalMap&&s.enable(17);t.iridescence&&s.enable(18);t.iridescenceMap&&s.enable(19);t.iridescenceThicknessMap&&s.enable(20);t.displacementMap&&s.enable(21);t.specularMap&&s.enable(22);t.roughnessMap&&s.enable(23);t.metalnessMap&&s.enable(24);t.gradientMap&&s.enable(25);t.alphaMap&&s.enable(26);t.alphaTest&&s.enable(27);t.vertexColors&&s.enable(28);t.vertexAlphas&&s.enable(29);t.vertexUvs&&s.enable(30);t.vertexTangents&&s.enable(31);t.uvsVertexOnly&&s.enable(32);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.physicallyCorrectLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.specularIntensityMap&&s.enable(15);t.specularColorMap&&s.enable(16);t.transmission&&s.enable(17);t.transmissionMap&&s.enable(18);t.thicknessMap&&s.enable(19);t.sheen&&s.enable(20);t.sheenColorMap&&s.enable(21);t.sheenRoughnessMap&&s.enable(22);t.decodeVideoTexture&&s.enable(23);t.opaque&&s.enable(24);e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=oa[n];t=Ui.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=u.length;i<o;i++){var s=u[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new rs(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function ls(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function us(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function cs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function hs(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||us),r.length>1&&r.sort(t||cs),i.length>1&&i.sort(t||cs)}}}function ds(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new hs,e.set(t,[r])):n>=i.length?(r=new hs,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function fs(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Gn,color:new Dn};break;case"SpotLight":n={position:new Gn,direction:new Gn,color:new Dn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Gn,color:new Dn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Gn,skyColor:new Dn,groundColor:new Dn};break;case"RectAreaLight":n={color:new Dn,position:new Gn,halfWidth:new Gn,halfHeight:new Gn}}return e[t.id]=n,n}}}var ps=0;function As(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function ms(e,t){for(var n=new fs,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new An};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new An,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new Gn);var o=new Gn,s=new xr,l=new xr;return{setup:function(a,o){for(var s=0,l=0,u=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,d=0,f=0,p=0,A=0,m=0,v=0,g=0,y=0,x=0;a.sort(As);for(var b=!0!==o?Math.PI:1,w=0,C=a.length;w<C;w++){var E=a[w],S=E.color,I=E.intensity,M=E.distance,_=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)s+=S.r*I*b,l+=S.g*I*b,u+=S.b*I*b;else if(E.isLightProbe)for(var k=0;k<9;k++)i.probe[k].addScaledVector(E.sh.coefficients[k],I);else if(E.isDirectionalLight){var B=n.get(E);if(B.color.copy(E.color).multiplyScalar(E.intensity*b),E.castShadow){var T=E.shadow,R=r.get(E);R.shadowBias=T.bias,R.shadowNormalBias=T.normalBias,R.shadowRadius=T.radius,R.shadowMapSize=T.mapSize,i.directionalShadow[h]=R,i.directionalShadowMap[h]=_,i.directionalShadowMatrix[h]=E.shadow.matrix,m++}i.directional[h]=B,h++}else if(E.isSpotLight){var D=n.get(E);D.position.setFromMatrixPosition(E.matrixWorld),D.color.copy(S).multiplyScalar(I*b),D.distance=M,D.coneCos=Math.cos(E.angle),D.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),D.decay=E.decay,i.spot[f]=D;var P=E.shadow;if(E.map&&(i.spotLightMap[y]=E.map,y++,P.updateMatrices(E),E.castShadow&&x++),i.spotLightMatrix[f]=P.matrix,E.castShadow){var L=r.get(E);L.shadowBias=P.bias,L.shadowNormalBias=P.normalBias,L.shadowRadius=P.radius,L.shadowMapSize=P.mapSize,i.spotShadow[f]=L,i.spotShadowMap[f]=_,g++}f++}else if(E.isRectAreaLight){var Q=n.get(E);Q.color.copy(S).multiplyScalar(I),Q.halfWidth.set(.5*E.width,0,0),Q.halfHeight.set(0,.5*E.height,0),i.rectArea[p]=Q,p++}else if(E.isPointLight){var j=n.get(E);if(j.color.copy(E.color).multiplyScalar(E.intensity*b),j.distance=E.distance,j.decay=E.decay,E.castShadow){var N=E.shadow,F=r.get(E);F.shadowBias=N.bias,F.shadowNormalBias=N.normalBias,F.shadowRadius=N.radius,F.shadowMapSize=N.mapSize,F.shadowCameraNear=N.camera.near,F.shadowCameraFar=N.camera.far,i.pointShadow[d]=F,i.pointShadowMap[d]=_,i.pointShadowMatrix[d]=E.shadow.matrix,v++}i.point[d]=j,d++}else if(E.isHemisphereLight){var U=n.get(E);U.skyColor.copy(E.color).multiplyScalar(I*b),U.groundColor.copy(E.groundColor).multiplyScalar(I*b),i.hemi[A]=U,A++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=aa.LTC_FLOAT_1,i.rectAreaLTC2=aa.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=aa.LTC_HALF_1,i.rectAreaLTC2=aa.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;var O=i.hash;O.directionalLength===h&&O.pointLength===d&&O.spotLength===f&&O.rectAreaLength===p&&O.hemiLength===A&&O.numDirectionalShadows===m&&O.numPointShadows===v&&O.numSpotShadows===g&&O.numSpotMaps===y||(i.directional.length=h,i.spot.length=f,i.rectArea.length=p,i.point.length=d,i.hemi.length=A,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotLightMatrix.length=g+y-x,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=x,O.directionalLength=h,O.pointLength=d,O.spotLength=f,O.rectAreaLength=p,O.hemiLength=A,O.numDirectionalShadows=m,O.numPointShadows=v,O.numSpotShadows=g,O.numSpotMaps=y,i.version=ps++)},setupView:function(e,t){for(var n=0,r=0,a=0,u=0,c=0,h=t.matrixWorldInverse,d=0,f=e.length;d<f;d++){var p=e[d];if(p.isDirectionalLight){var A=i.directional[n];A.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),A.direction.sub(o),A.direction.transformDirection(h),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var v=i.rectArea[u];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(h),l.identity(),s.copy(p.matrixWorld),s.premultiply(h),l.extractRotation(s),v.halfWidth.set(.5*p.width,0,0),v.halfHeight.set(0,.5*p.height,0),v.halfWidth.applyMatrix4(l),v.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var g=i.point[r];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),r++}else if(p.isHemisphereLight){var y=i.hemi[c];y.direction.setFromMatrixPosition(p.matrixWorld),y.direction.transformDirection(h),c++}}},state:i}}function vs(e,t){var n=new ms(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function gs(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new vs(e,t),n.set(r,[i])):a>=o.length?(i=new vs(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var ys=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isMeshDepthMaterial=!0,r.type="MeshDepthMaterial",r.depthPacking=3200,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(ii),xs=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isMeshDistanceMaterial=!0,r.type="MeshDistanceMaterial",r.referencePosition=new Gn,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(ii),bs="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",ws="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function Cs(e,t,n){var r,i=new ea,a=new An,o=new An,s=new Fn,l=new ys({depthPacking:Ut}),u=new xs,c={},h=n.maxTextureSize,d=(r={},(0,p.Z)(r,M,_),(0,p.Z)(r,_,M),(0,p.Z)(r,k,k),r),f=new Oi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new An},radius:{value:4}},vertexShader:bs,fragmentShader:ws}),A=f.clone();A.defines.HORIZONTAL_PASS=1;var m=new xi;m.setAttribute("position",new li(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new Pi(m,f),g=this;function y(n,r){var i=t.update(v);f.defines.VSM_SAMPLES!==n.blurSamples&&(f.defines.VSM_SAMPLES=n.blurSamples,A.defines.VSM_SAMPLES=n.blurSamples,f.needsUpdate=!0,A.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Un(a.x,a.y)),f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,f,v,null),A.uniforms.shadow_pass.value=n.mapPass.texture,A.uniforms.resolution.value=n.mapSize,A.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,A,v,null)}function x(t,n,r,i,a,o){var s=null,h=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==h)s=h;else if(s=!0===r.isPointLight?u:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var f=s.uuid,p=n.uuid,A=c[f];void 0===A&&(A={},c[f]=A);var m=A[p];void 0===m&&(m=s.clone(),A[p]=m),s=m}return s.visible=n.visible,s.wireframe=n.wireframe,s.side=o===I?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],s.alphaMap=n.alphaMap,s.alphaTest=n.alphaTest,s.map=n.map,s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.displacementMap=n.displacementMap,s.displacementScale=n.displacementScale,s.displacementBias=n.displacementBias,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===r.isPointLight&&!0===s.isMeshDistanceMaterial&&(s.referencePosition.setFromMatrixPosition(r.matrixWorld),s.nearDistance=i,s.farDistance=a),s}function b(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===I)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,d=c.length;h<d;h++){var f=c[h],p=u[f.materialIndex];if(p&&p.visible){var A=x(n,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,A,n,f)}}else if(u.visible){var m=x(n,u,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,m,n,null)}}for(var v=n.children,g=0,y=v.length;g<y;g++)b(v[g],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E,this.render=function(t,n,r){if(!1!==g.enabled&&(!1!==g.autoUpdate||!1!==g.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),d=e.state;d.setBlending(B),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var A=t[f],m=A.shadow;if(void 0!==m){if(!1!==m.autoUpdate||!1!==m.needsUpdate){a.copy(m.mapSize);var v=m.getFrameExtents();if(a.multiply(v),o.copy(m.mapSize),(a.x>h||a.y>h)&&(a.x>h&&(o.x=Math.floor(h/v.x),a.x=o.x*v.x,m.mapSize.x=o.x),a.y>h&&(o.y=Math.floor(h/v.y),a.y=o.y*v.y,m.mapSize.y=o.y)),null===m.map){var x=this.type!==I?{minFilter:Ce,magFilter:Ce}:{};m.map=new Un(a.x,a.y,x),m.map.texture.name=A.name+".shadowMap",m.camera.updateProjectionMatrix()}e.setRenderTarget(m.map),e.clear();for(var w=m.getViewportCount(),C=0;C<w;C++){var E=m.getViewport(C);s.set(o.x*E.x,o.y*E.y,o.x*E.z,o.y*E.w),d.viewport(s),m.updateMatrices(A,C),i=m.getFrustum(),b(n,r,m.camera,A,this.type)}!0!==m.isPointLightShadow&&this.type===I&&y(m,r),m.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",A,"has no shadow.")}g.needsUpdate=!1,e.setRenderTarget(l,u,c)}}}function Es(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new Fn,r=null,i=new Fn(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?Ee(2929):Se(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case K:e.depthFunc(512);break;case $:e.depthFunc(519);break;case ee:e.depthFunc(513);break;case te:e.depthFunc(515);break;case ne:e.depthFunc(514);break;case re:e.depthFunc(518);break;case ie:e.depthFunc(516);break;case ae:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?Ee(2960):Se(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},u=new WeakMap,c=new WeakMap,h={},d={},f=new WeakMap,A=[],m=null,v=!1,g=null,y=null,x=null,E=null,S=null,I=null,M=null,oe=!1,se=null,le=null,ue=null,ce=null,he=null,de=e.getParameter(35661),fe=!1,pe=0,Ae=e.getParameter(7938);-1!==Ae.indexOf("WebGL")?(pe=parseFloat(/^WebGL (\d)/.exec(Ae)[1]),fe=pe>=1):-1!==Ae.indexOf("OpenGL ES")&&(pe=parseFloat(/^OpenGL ES (\d)/.exec(Ae)[1]),fe=pe>=2);var me=null,ve={},ge=e.getParameter(3088),ye=e.getParameter(2978),xe=(new Fn).fromArray(ge),be=(new Fn).fromArray(ye);function we(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var Ce={};function Ee(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function Se(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}Ce[3553]=we(3553,3553,1),Ce[34067]=we(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),Ee(2929),s.setFunc(te),Be(!1),Te(w),Ee(2884),ke(B);var Ie=(r={},(0,p.Z)(r,Q,32774),(0,p.Z)(r,j,32778),(0,p.Z)(r,N,32779),r);if(a)Ie[F]=32775,Ie[U]=32776;else{var Me=t.get("EXT_blend_minmax");null!==Me&&(Ie[F]=Me.MIN_EXT,Ie[U]=Me.MAX_EXT)}var _e=(i={},(0,p.Z)(i,O,0),(0,p.Z)(i,Z,1),(0,p.Z)(i,z,768),(0,p.Z)(i,H,770),(0,p.Z)(i,J,776),(0,p.Z)(i,Y,774),(0,p.Z)(i,W,772),(0,p.Z)(i,G,769),(0,p.Z)(i,V,771),(0,p.Z)(i,X,775),(0,p.Z)(i,q,773),i);function ke(t,n,r,i,a,o,s,l){if(t!==B){if(!1===v&&(Ee(3042),v=!0),t===L)a=a||n,o=o||r,s=s||i,n===y&&a===S||(e.blendEquationSeparate(Ie[n],Ie[a]),y=n,S=a),r===x&&i===E&&o===I&&s===M||(e.blendFuncSeparate(_e[r],_e[i],_e[o],_e[s]),x=r,E=i,I=o,M=s),g=t,oe=!1;else if(t!==g||l!==oe){if(y===Q&&S===Q||(e.blendEquation(32774),y=Q,S=Q),l)switch(t){case T:e.blendFuncSeparate(1,771,1,771);break;case R:e.blendFunc(1,1);break;case D:e.blendFuncSeparate(0,769,0,1);break;case P:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case T:e.blendFuncSeparate(770,771,1,771);break;case R:e.blendFunc(770,1);break;case D:e.blendFuncSeparate(0,769,0,1);break;case P:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}x=null,E=null,I=null,M=null,g=t,oe=l}}else!0===v&&(Se(3042),v=!1)}function Be(t){se!==t&&(t?e.frontFace(2304):e.frontFace(2305),se=t)}function Te(t){t!==b?(Ee(2884),t!==le&&(t===w?e.cullFace(1029):t===C?e.cullFace(1028):e.cullFace(1032))):Se(2884),le=t}function Re(t,n,r){t?(Ee(32823),ce===n&&he===r||(e.polygonOffset(n,r),ce=n,he=r)):Se(32823)}return{buffers:{color:o,depth:s,stencil:l},enable:Ee,disable:Se,bindFramebuffer:function(t,n){return d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,a&&(36009===t&&(d[36160]=n),36160===t&&(d[36009]=n)),!0)},drawBuffers:function(r,i){var a=A,o=!1;if(r)if(void 0===(a=f.get(i))&&(a=[],f.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||36064!==a[0]){for(var l=0,u=s.length;l<u;l++)a[l]=36064+l;a.length=s.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return m!==t&&(e.useProgram(t),m=t,!0)},setBlending:ke,setMaterial:function(e,t){e.side===k?Se(2884):Ee(2884);var n=e.side===_;t&&(n=!n),Be(n),e.blending===T&&!1===e.transparent?ke(B):ke(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Re(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?Ee(32926):Se(32926)},setFlipSided:Be,setCullFace:Te,setLineWidth:function(t){t!==ue&&(fe&&e.lineWidth(t),ue=t)},setPolygonOffset:Re,setScissorTest:function(e){e?Ee(3089):Se(3089)},activeTexture:function(t){void 0===t&&(t=33984+de-1),me!==t&&(e.activeTexture(t),me=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===me?33984+de-1:me);var i=ve[r];void 0===i&&(i={type:void 0,texture:void 0},ve[r]=i),i.type===t&&i.texture===n||(me!==r&&(e.activeTexture(r),me=r),e.bindTexture(t,n||Ce[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=ve[me];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);u.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),u.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===xe.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),xe.copy(t))},viewport:function(t){!1===be.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),be.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},me=null,ve={},d={},f=new WeakMap,A=[],m=null,v=!1,g=null,y=null,x=null,E=null,S=null,I=null,M=null,oe=!1,se=null,le=null,ue=null,ce=null,he=null,xe.set(0,0,e.canvas.width,e.canvas.height),be.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),l.reset()}}}function Ss(e,t,n,r,i,a,o){var s,l,u,c=i.isWebGL2,h=i.maxTextures,d=i.maxCubemapSize,f=i.maxTextureSize,A=i.maxSamples,m=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,v="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap,y=new WeakMap,x=!1;try{x="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(H){}function b(e,t){return x?new OffscreenCanvas(e,t):bn("canvas")}function w(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?hn:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===u&&(u=b(o,s));var l=n?b(o,s):u;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function C(e){return un(e.width)&&un(e.height)}function E(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ce&&e.minFilter!==Ie}function S(t){e.generateMipmap(t)}function I(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return 6403===r&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===r&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===r&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=a===Ft&&!1===o?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function M(e,t,n){return!0===E(e,n)||e.isFramebufferTexture&&e.minFilter!==Ce&&e.minFilter!==Ie?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function _(e){return e===Ce||e===Ee||e===Se?9728:9729}function k(e){var t=e.target;t.removeEventListener("dispose",k),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=y.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&T(e),0===Object.keys(i).length&&y.delete(n)}r.remove(e)}(t),t.isVideoTexture&&g.delete(t)}function B(t){var n=t.target;n.removeEventListener("dispose",B),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var l=0;l<i.__webglColorRenderbuffer.length;l++)i.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[l]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var h=r.get(n[u]);h.__webglTexture&&(e.deleteTexture(h.__webglTexture),o.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(t)}(n)}function T(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete y.get(i)[n.__cacheKey],o.memory.textures--}var R=0;function D(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;g.get(e)!==t&&(g.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void N(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}var P=(s={},(0,p.Z)(s,xe,10497),(0,p.Z)(s,be,33071),(0,p.Z)(s,we,33648),s),L=(l={},(0,p.Z)(l,Ce,9728),(0,p.Z)(l,Ee,9984),(0,p.Z)(l,Se,9986),(0,p.Z)(l,Ie,9729),(0,p.Z)(l,Me,9985),(0,p.Z)(l,_e,9987),l);function Q(n,a,o){if(o?(e.texParameteri(n,10242,P[a.wrapS]),e.texParameteri(n,10243,P[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,P[a.wrapR]),e.texParameteri(n,10240,L[a.magFilter]),e.texParameteri(n,10241,L[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===be&&a.wrapT===be||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,_(a.magFilter)),e.texParameteri(n,10241,_(a.minFilter)),a.minFilter!==Ce&&a.minFilter!==Ie&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===Ce)return;if(a.minFilter!==Se&&a.minFilter!==_e)return;if(a.type===Le&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&a.type===Qe&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function j(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",k));var i=n.source,a=y.get(i);void 0===a&&(a={},y.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var l=a[t.__cacheKey];void 0!==l&&(a[t.__cacheKey].usedTimes--,0===l.usedTimes&&T(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function N(t,i,o){var s=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=35866),i.isData3DTexture&&(s=32879);var l=j(t,i),u=i.source;n.bindTexture(s,t.__webglTexture,33984+o);var h=r.get(u);if(u.version!==h.__version||!0===l){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);var d,p=function(e){return!c&&(e.wrapS!==be||e.wrapT!==be||e.minFilter!==Ce&&e.minFilter!==Ie)}(i)&&!1===C(i.image),A=w(i.image,p,!1,f),m=C(A=G(i,A))||c,v=a.convert(i.format,i.encoding),g=a.convert(i.type),y=I(i.internalFormat,v,g,i.encoding,i.isVideoTexture);Q(s,i,m);var x=i.mipmaps,b=c&&!0!==i.isVideoTexture,_=void 0===h.__version||!0===l,k=M(i,A,m);if(i.isDepthTexture)y=6402,c?y=i.type===Le?36012:i.type===Pe?33190:i.type===Fe?35056:33189:i.type===Le&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Ge&&6402===y&&i.type!==Re&&i.type!==Pe&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Pe,g=a.convert(i.type)),i.format===He&&6402===y&&(y=34041,i.type!==Fe&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Fe,g=a.convert(i.type))),_&&(b?n.texStorage2D(3553,1,y,A.width,A.height):n.texImage2D(3553,0,y,A.width,A.height,0,v,g,null));else if(i.isDataTexture)if(x.length>0&&m){b&&_&&n.texStorage2D(3553,k,y,x[0].width,x[0].height);for(var B=0,T=x.length;B<T;B++)d=x[B],b?n.texSubImage2D(3553,B,0,0,d.width,d.height,v,g,d.data):n.texImage2D(3553,B,y,d.width,d.height,0,v,g,d.data);i.generateMipmaps=!1}else b?(_&&n.texStorage2D(3553,k,y,A.width,A.height),n.texSubImage2D(3553,0,0,0,A.width,A.height,v,g,A.data)):n.texImage2D(3553,0,y,A.width,A.height,0,v,g,A.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){b&&_&&n.texStorage3D(35866,k,y,x[0].width,x[0].height,A.depth);for(var R=0,D=x.length;R<D;R++)d=x[R],i.format!==Oe?null!==v?b?n.compressedTexSubImage3D(35866,R,0,0,0,d.width,d.height,A.depth,v,d.data,0,0):n.compressedTexImage3D(35866,R,y,d.width,d.height,A.depth,0,d.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):b?n.texSubImage3D(35866,R,0,0,0,d.width,d.height,A.depth,v,g,d.data):n.texImage3D(35866,R,y,d.width,d.height,A.depth,0,v,g,d.data)}else{b&&_&&n.texStorage2D(3553,k,y,x[0].width,x[0].height);for(var P=0,L=x.length;P<L;P++)d=x[P],i.format!==Oe?null!==v?b?n.compressedTexSubImage2D(3553,P,0,0,d.width,d.height,v,d.data):n.compressedTexImage2D(3553,P,y,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):b?n.texSubImage2D(3553,P,0,0,d.width,d.height,v,g,d.data):n.texImage2D(3553,P,y,d.width,d.height,0,v,g,d.data)}else if(i.isDataArrayTexture)b?(_&&n.texStorage3D(35866,k,y,A.width,A.height,A.depth),n.texSubImage3D(35866,0,0,0,0,A.width,A.height,A.depth,v,g,A.data)):n.texImage3D(35866,0,y,A.width,A.height,A.depth,0,v,g,A.data);else if(i.isData3DTexture)b?(_&&n.texStorage3D(32879,k,y,A.width,A.height,A.depth),n.texSubImage3D(32879,0,0,0,0,A.width,A.height,A.depth,v,g,A.data)):n.texImage3D(32879,0,y,A.width,A.height,A.depth,0,v,g,A.data);else if(i.isFramebufferTexture){if(_)if(b)n.texStorage2D(3553,k,y,A.width,A.height);else for(var N=A.width,F=A.height,U=0;U<k;U++)n.texImage2D(3553,U,y,N,F,0,v,g,null),N>>=1,F>>=1}else if(x.length>0&&m){b&&_&&n.texStorage2D(3553,k,y,x[0].width,x[0].height);for(var O=0,Z=x.length;O<Z;O++)d=x[O],b?n.texSubImage2D(3553,O,0,0,v,g,d):n.texImage2D(3553,O,y,v,g,d);i.generateMipmaps=!1}else b?(_&&n.texStorage2D(3553,k,y,A.width,A.height),n.texSubImage2D(3553,0,0,0,v,g,A)):n.texImage2D(3553,0,y,v,g,A);E(i,m)&&S(s),h.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function F(t,i,o,s,l){var u=a.convert(o.format,o.encoding),c=a.convert(o.type),h=I(o.internalFormat,u,c,o.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,h,i.width,i.height,0,u,c,null)),n.bindFramebuffer(36160,t),z(i)?m.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(o).__webglTexture,0,Z(i)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function U(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||z(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Le?i=36012:o.type===Pe&&(i=33190));var s=Z(n);z(n)?m.renderbufferStorageMultisampleEXT(36161,s,i,n.width,n.height):e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=Z(n);r&&!1===z(n)?e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height):z(n)?m.renderbufferStorageMultisampleEXT(36161,l,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var u=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<u.length;c++){var h=u[c],d=a.convert(h.format,h.encoding),f=a.convert(h.type),p=I(h.internalFormat,d,f,h.encoding),A=Z(n);r&&!1===z(n)?e.renderbufferStorageMultisample(36161,A,p,n.width,n.height):z(n)?m.renderbufferStorageMultisampleEXT(36161,A,p,n.width,n.height):e.renderbufferStorage(36161,p,n.width,n.height)}e.bindRenderbuffer(36161,null)}function O(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),D(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=Z(i);if(i.depthTexture.format===Ge)z(i)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==He)throw new Error("Unknown depthTexture format");z(i)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),U(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),U(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function Z(e){return Math.min(A,e.samples)}function z(e){var n=r.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function G(e,n){var r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===qt||r!==Nt&&(r===Ft?!1===c?!0===t.has("EXT_sRGB")&&i===Oe?(e.format=qt,e.minFilter=Ie,e.generateMipmaps=!1):n=Pn.sRGBToLinear(n):i===Oe&&a===ke||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=R;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),R+=1,e},this.resetTextureUnits=function(){R=0},this.setTexture2D=D,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6!==i.image.length)return;var s=j(t,i),l=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);var u=r.get(l);if(l.version!==u.__version||!0===s){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);for(var h=i.isCompressedTexture||i.image[0].isCompressedTexture,f=i.image[0]&&i.image[0].isDataTexture,p=[],A=0;A<6;A++)p[A]=h||f?f?i.image[A].image:i.image[A]:w(i.image[A],!1,!0,d),p[A]=G(i,p[A]);var m,v=p[0],g=C(v)||c,y=a.convert(i.format,i.encoding),x=a.convert(i.type),b=I(i.internalFormat,y,x,i.encoding),_=c&&!0!==i.isVideoTexture,k=void 0===u.__version||!0===s,B=M(i,v,g);if(Q(34067,i,g),h){_&&k&&n.texStorage2D(34067,B,b,v.width,v.height);for(var T=0;T<6;T++){m=p[T].mipmaps;for(var R=0;R<m.length;R++){var D=m[R];i.format!==Oe?null!==y?_?n.compressedTexSubImage2D(34069+T,R,0,0,D.width,D.height,y,D.data):n.compressedTexImage2D(34069+T,R,b,D.width,D.height,0,D.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_?n.texSubImage2D(34069+T,R,0,0,D.width,D.height,y,x,D.data):n.texImage2D(34069+T,R,b,D.width,D.height,0,y,x,D.data)}}}else{m=i.mipmaps,_&&k&&(m.length>0&&B++,n.texStorage2D(34067,B,b,p[0].width,p[0].height));for(var P=0;P<6;P++)if(f){_?n.texSubImage2D(34069+P,0,0,0,p[P].width,p[P].height,y,x,p[P].data):n.texImage2D(34069+P,0,b,p[P].width,p[P].height,0,y,x,p[P].data);for(var L=0;L<m.length;L++){var N=m[L].image[P].image;_?n.texSubImage2D(34069+P,L+1,0,0,N.width,N.height,y,x,N.data):n.texImage2D(34069+P,L+1,b,N.width,N.height,0,y,x,N.data)}}else{_?n.texSubImage2D(34069+P,0,0,0,y,x,p[P]):n.texImage2D(34069+P,0,b,y,x,p[P]);for(var F=0;F<m.length;F++){var U=m[F];_?n.texSubImage2D(34069+P,F+1,0,0,y,x,U.image[P]):n.texImage2D(34069+P,F+1,b,y,x,U.image[P])}}}E(i,g)&&S(34067),u.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&F(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&O(e)},this.setupRenderTarget=function(t){var s=t.texture,l=r.get(t),u=r.get(s);t.addEventListener("dispose",B),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,o.memory.textures++);var h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,f=C(t)||c;if(h){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=e.createFramebuffer()}else{if(l.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers)for(var A=t.texture,m=0,v=A.length;m<v;m++){var g=r.get(A[m]);void 0===g.__webglTexture&&(g.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&t.samples>0&&!1===z(t)){var y=d?s:[s];l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer);for(var x=0;x<y.length;x++){var b=y[x];l.__webglColorRenderbuffer[x]=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer[x]);var w=a.convert(b.format,b.encoding),M=a.convert(b.type),_=I(b.internalFormat,w,M,b.encoding,!0===t.isXRRenderTarget),k=Z(t);e.renderbufferStorageMultisample(36161,k,_,t.width,t.height),e.framebufferRenderbuffer(36160,36064+x,36161,l.__webglColorRenderbuffer[x])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),U(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,u.__webglTexture),Q(34067,s,f);for(var T=0;T<6;T++)F(l.__webglFramebuffer[T],t,s,36064,34069+T);E(s,f)&&S(34067),n.unbindTexture()}else if(d){for(var R=t.texture,D=0,P=R.length;D<P;D++){var L=R[D],j=r.get(L);n.bindTexture(3553,j.__webglTexture),Q(3553,L,f),F(l.__webglFramebuffer,t,L,36064+D,3553),E(L,f)&&S(3553)}n.unbindTexture()}else{var N=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?N=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(N,u.__webglTexture),Q(N,s,f),F(l.__webglFramebuffer,t,s,36064,N),E(s,f)&&S(N),n.unbindTexture()}t.depthBuffer&&O(t)},this.updateRenderTargetMipmap=function(e){for(var t=C(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var s=i[a];if(E(s,t)){var l=e.isWebGLCubeRenderTarget?34067:3553,u=r.get(s).__webglTexture;n.bindTexture(l,u),S(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===z(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=16384,l=[],u=t.stencilBuffer?33306:36096,h=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var f=0;f<i.length;f++)n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+f,36161,null),n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+f,3553,null,0);n.bindFramebuffer(36008,h.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,h.__webglFramebuffer);for(var p=0;p<i.length;p++){l.push(36064+p),t.depthBuffer&&l.push(u);var A=void 0!==h.__ignoreDepthValues&&h.__ignoreDepthValues;if(!1===A&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),d&&e.framebufferRenderbuffer(36008,36064,36161,h.__webglColorRenderbuffer[p]),!0===A&&(e.invalidateFramebuffer(36008,[u]),e.invalidateFramebuffer(36009,[u])),d){var m=r.get(i[p]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,m,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),v&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(var g=0;g<i.length;g++){n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+g,36161,h.__webglColorRenderbuffer[g]);var y=r.get(i[g]).__webglTexture;n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+g,3553,y,0)}n.bindFramebuffer(36009,h.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=O,this.setupFrameBufferTexture=F,this.useMultisampledRTT=z}function Is(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===ke)return 5121;if(n===je)return 32819;if(n===Ne)return 32820;if(n===Be)return 5120;if(n===Te)return 5122;if(n===Re)return 5123;if(n===De)return 5124;if(n===Pe)return 5125;if(n===Le)return 5126;if(n===Qe)return r?5131:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===Ue)return 6406;if(n===Oe)return 6408;if(n===Ze)return 6409;if(n===ze)return 6410;if(n===Ge)return 6402;if(n===He)return 34041;if(n===qt)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===Ve)return 6403;if(n===We)return 36244;if(n===qe)return 33319;if(n===Ye)return 33320;if(n===Xe)return 36249;if(n===Je||n===Ke||n===$e||n===et)if(a===Ft){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===Je)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Ke)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===$e)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===et)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===Je)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Ke)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===$e)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===et)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===tt||n===nt||n===rt||n===it){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===tt)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===nt)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===rt)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===it)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===at)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===ot||n===st){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===ot)return a===Ft?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===st)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===lt||n===ut||n===ct||n===ht||n===dt||n===ft||n===pt||n===At||n===mt||n===vt||n===gt||n===yt||n===xt||n===bt){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===lt)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===ut)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===ct)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===ht)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===dt)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===ft)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===pt)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===At)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===mt)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===vt)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===gt)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===yt)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===xt)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===bt)return a===Ft?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===wt){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===wt)return a===Ft?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===Ct||n===Et||n===St||n===It){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===wt)return i.COMPRESSED_RED_RGTC1_EXT;if(n===Et)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===St)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===It)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Fe?r?34042:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var Ms=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,m.Z)(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=r,e}return(0,v.Z)(n)}(zi),_s=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return(0,v.Z)(n)}(Hr),ks={type:"move"},Bs=function(){function e(){(0,m.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,v.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new _s,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new _s,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Gn,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Gn),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new _s,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Gn,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Gn),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=(0,s.Z)(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,l=this._grip,u=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(u&&e.hand){a=!0;var c,h=(0,s.Z)(e.hand.values());try{for(h.s();!(c=h.n()).done;){var d=c.value,f=t.getJointPose(d,n),p=this._getHandJoint(u,d);null!==f&&(p.matrix.fromArray(f.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=f.radius),p.visible=null!==f}}catch(g){h.e(g)}finally{h.f()}var A=u.joints["index-finger-tip"],m=u.joints["thumb-tip"],v=A.position.distanceTo(m.position);u.inputState.pinching&&v>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&v<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(ks)))}return null!==o&&(o.visible=null!==r),null!==l&&(l.visible=null!==i),null!==u&&(u.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new _s;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),Ts=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a,o,s,l,u,c,h){var d;if((0,m.Z)(this,n),(h=void 0!==h?h:Ge)!==Ge&&h!==He)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&h===Ge&&(i=Pe),void 0===i&&h===He&&(i=Fe),(d=t.call(this,null,a,o,s,l,u,h,i,c)).isDepthTexture=!0,d.image={width:e,height:r},d.magFilter=void 0!==l?l:Ce,d.minFilter=void 0!==u?u:Ce,d.flipY=!1,d.generateMipmaps=!1,d}return(0,v.Z)(n)}(Nn),Rs=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i;(0,m.Z)(this,n),i=t.call(this);var a=(0,h.Z)(i),l=null,u=1,c=null,d="local-floor",f=1,p=null,v=null,g=null,y=null,x=null,b=null,w=r.getContextAttributes(),C=null,E=null,S=[],I=[],M=new Set,_=new Map,k=new zi;k.layers.enable(1),k.viewport=new Fn;var B=new zi;B.layers.enable(2),B.viewport=new Fn;var T=[k,B],R=new Ms;R.layers.enable(1),R.layers.enable(2);var D=null,P=null;function L(e){var t=I.indexOf(e.inputSource);if(-1!==t){var n=S[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}}function Q(){l.removeEventListener("select",L),l.removeEventListener("selectstart",L),l.removeEventListener("selectend",L),l.removeEventListener("squeeze",L),l.removeEventListener("squeezestart",L),l.removeEventListener("squeezeend",L),l.removeEventListener("end",Q),l.removeEventListener("inputsourceschange",j);for(var t=0;t<S.length;t++){var n=I[t];null!==n&&(I[t]=null,S[t].disconnect(n))}D=null,P=null,e.setRenderTarget(C),x=null,y=null,g=null,l=null,E=null,Z.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function j(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=I.indexOf(n);r>=0&&(I[r]=null,S[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=I.indexOf(a);if(-1===o){for(var s=0;s<S.length;s++){if(s>=I.length){I.push(a),o=s;break}if(null===I[s]){I[s]=a,o=s;break}}if(-1===o)break}var l=S[o];l&&l.connect(a)}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=S[e];return void 0===t&&(t=new Bs,S[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=S[e];return void 0===t&&(t=new Bs,S[e]=t),t.getGripSpace()},i.getHand=function(e){var t=S[e];return void 0===t&&(t=new Bs,S[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){u=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){d=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return p||c},i.setReferenceSpace=function(e){p=e},i.getBaseLayer=function(){return null!==y?y:x},i.getBinding=function(){return g},i.getFrame=function(){return b},i.getSession=function(){return l},i.setSession=function(){var t=(0,o.Z)((0,A.Z)().mark((function t(n){var i,o,s,h,m;return(0,A.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(l=n)){t.next=25;break}if(C=e.getRenderTarget(),l.addEventListener("select",L),l.addEventListener("selectstart",L),l.addEventListener("selectend",L),l.addEventListener("squeeze",L),l.addEventListener("squeezestart",L),l.addEventListener("squeezeend",L),l.addEventListener("end",Q),l.addEventListener("inputsourceschange",j),!0===w.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===l.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==l.renderState.layers||w.antialias,alpha:w.alpha,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:u},x=new Xt(l,r,i),l.updateRenderState({baseLayer:x}),E=new Un(x.framebufferWidth,x.framebufferHeight,{format:Oe,type:ke,encoding:e.outputEncoding,stencilBuffer:w.stencil})):(o=null,s=null,h=null,w.depth&&(h=w.stencil?35056:33190,o=w.stencil?He:Ge,s=w.stencil?Fe:Pe),m={colorFormat:32856,depthFormat:h,scaleFactor:u},g=new Jt(l,r),y=g.createProjectionLayer(m),l.updateRenderState({layers:[y]}),E=new Un(y.textureWidth,y.textureHeight,{format:Oe,type:ke,depthTexture:new Ts(y.textureWidth,y.textureHeight,s,void 0,void 0,void 0,void 0,void 0,void 0,o),stencilBuffer:w.stencil,encoding:e.outputEncoding,samples:w.antialias?4:0}),e.properties.get(E).__ignoreDepthValues=y.ignoreDepthValues),E.isXRRenderTarget=!0,this.setFoveation(f),p=null,t.next=20,l.requestReferenceSpace(d);case 20:c=t.sent,Z.setContext(l),Z.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 25:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var N=new Gn,F=new Gn;function U(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==l){R.near=B.near=k.near=e.near,R.far=B.far=k.far=e.far,D===R.near&&P===R.far||(l.updateRenderState({depthNear:R.near,depthFar:R.far}),D=R.near,P=R.far);var t=e.parent,n=R.cameras;U(R,t);for(var r=0;r<n.length;r++)U(n[r],t);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),e.matrix.copy(R.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var i=e.children,a=0,o=i.length;a<o;a++)i[a].updateMatrixWorld(!0);2===n.length?function(e,t,n){N.setFromMatrixPosition(t.matrixWorld),F.setFromMatrixPosition(n.matrixWorld);var r=N.distanceTo(F),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,f=o*h,p=r/(-c+h),A=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(A),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,v=s+p,g=d-A,y=f+(r-A),x=l*s/v*m,b=u*s/v*m;e.projectionMatrix.makePerspective(g,y,x,b,m,v)}(R,k,B):R.projectionMatrix.copy(k.projectionMatrix)}},i.getCamera=function(){return R},i.getFoveation=function(){if(null!==y||null!==x)return f},i.setFoveation=function(e){f=e,null!==y&&(y.fixedFoveation=e),null!==x&&void 0!==x.fixedFoveation&&(x.fixedFoveation=e)},i.getPlanes=function(){return M};var O=null;var Z=new ta;return Z.setAnimationLoop((function(t,n){if(v=n.getViewerPose(p||c),b=n,null!==v){var r=v.views;null!==x&&(e.setRenderTargetFramebuffer(E,x.framebuffer),e.setRenderTarget(E));var i=!1;r.length!==R.cameras.length&&(R.cameras.length=0,i=!0);for(var o=0;o<r.length;o++){var l=r[o],u=null;if(null!==x)u=x.getViewport(l);else{var h=g.getViewSubImage(y,l);u=h.viewport,0===o&&(e.setRenderTargetTextures(E,h.colorTexture,y.ignoreDepthValues?void 0:h.depthStencilTexture),e.setRenderTarget(E))}var d=T[o];void 0===d&&((d=new zi).layers.enable(o),d.viewport=new Fn,T[o]=d),d.matrix.fromArray(l.transform.matrix),d.projectionMatrix.fromArray(l.projectionMatrix),d.viewport.set(u.x,u.y,u.width,u.height),0===o&&R.matrix.copy(d.matrix),!0===i&&R.cameras.push(d)}}for(var f=0;f<S.length;f++){var A=I[f],m=S[f];null!==A&&void 0!==m&&m.update(A,n,p||c)}if(O&&O(t,n),n.detectedPlanes){a.dispatchEvent({type:"planesdetected",data:n.detectedPlanes});var w,C=null,k=(0,s.Z)(M);try{for(k.s();!(w=k.n()).done;){var B=w.value;n.detectedPlanes.has(B)||(null===C&&(C=[]),C.push(B))}}catch(U){k.e(U)}finally{k.f()}if(null!==C){var D,P=(0,s.Z)(C);try{for(P.s();!(D=P.n()).done;){var L=D.value;M.delete(L),_.delete(L),a.dispatchEvent({type:"planeremoved",data:L})}}catch(U){P.e(U)}finally{P.f()}}var Q,j=(0,s.Z)(n.detectedPlanes);try{for(j.s();!(Q=j.n()).done;){var N=Q.value;if(M.has(N)){var F=_.get(N);N.lastChangedTime>F&&(_.set(N,N.lastChangedTime),a.dispatchEvent({type:"planechanged",data:N}))}else M.add(N),_.set(N,n.lastChangedTime),a.dispatchEvent({type:"planeadded",data:N})}}catch(U){j.e(U)}finally{j.f()}}b=null})),i.setAnimationLoop=function(e){O=e},i.dispose=function(){},i}return(0,v.Z)(n)}($t);function Ds(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===_&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===_&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);var i,a,o=t.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;var s=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*s}r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap?i=r.clearcoatRoughnessMap:r.iridescenceMap?i=r.iridescenceMap:r.iridescenceThicknessMap?i=r.iridescenceThicknessMap:r.specularIntensityMap?i=r.specularIntensityMap:r.specularColorMap?i=r.specularColorMap:r.transmissionMap?i=r.transmissionMap:r.thicknessMap?i=r.thicknessMap:r.sheenColorMap?i=r.sheenColorMap:r.sheenRoughnessMap&&(i=r.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),n.uvTransform.value.copy(i.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Fi(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);var r=t.get(n).envMap;r&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===_&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Ps(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){var r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],l=Array.isArray(r)?r:[r],u=0;u<s.length;u++){var c=s[u];if(!1===c.equals(l[u]))return c.copy(l[u]),!0}return!1}function u(e){var t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){var d=i[n.id];void 0===d&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=0,o=t.length;a<o;a++){for(var s=t[a],l={boundary:0,storage:0},c=Array.isArray(s.value)?s.value:[s.value],h=0,d=c.length;h<d;h++){var f=u(c[h]);l.boundary+=f.boundary,l.storage+=f.storage}if(s.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),s.__offset=n,a>0)0!==(i=n%r)&&r-i-l.boundary<0&&(n+=r-i,s.__offset=n);n+=l.storage}(i=n%r)>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c));var f=h.program;r.updateUBOMapping(n,f);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===l(c,o,a)){for(var h=c.__offset,d=Array.isArray(c.value)?c.value:[c.value],f=0,p=0;p<d.length;p++){var A=d[p],m=u(A);"number"===typeof A?(c.__data[0]=A,e.bufferSubData(35345,h+f,c.__data)):A.isMatrix3?(c.__data[0]=A.elements[0],c.__data[1]=A.elements[1],c.__data[2]=A.elements[2],c.__data[3]=A.elements[0],c.__data[4]=A.elements[3],c.__data[5]=A.elements[4],c.__data[6]=A.elements[5],c.__data[7]=A.elements[0],c.__data[8]=A.elements[6],c.__data[9]=A.elements[7],c.__data[10]=A.elements[8],c.__data[11]=A.elements[0]):(A.toArray(c.__data,f),f+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,h,c.__data)}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function Ls(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isWebGLRenderer=!0;var t,n=void 0!==e.canvas?e.canvas:function(){var e=bn("canvas");return e.style.display="block",e}(),r=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;t=null!==r?r.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;var h=null,d=null,f=[],p=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Nt,this.physicallyCorrectLights=!1,this.toneMapping=ue,this.toneMappingExposure=1;var A=this,m=!1,v=0,y=0,x=null,b=-1,w=null,C=new Fn,E=new Fn,S=null,I=n.width,B=n.height,T=1,R=null,D=null,P=new Fn(0,0,I,B),L=new Fn(0,0,I,B),Q=!1,j=new ea,N=!1,F=!1,U=null,O=new xr,Z=new An,z=new Gn,G={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===x?T:1}var V,W,q,Y,X,J,K,$,ee,te,ne,re,ie,ae,oe,se,le,ce,he,de,fe,pe,Ae,me,ve=r;function ge(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=n.getContext(i,t);if(null!==a)return a}return null}try{var ye={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(g)),n.addEventListener("webglcontextlost",Ce,!1),n.addEventListener("webglcontextrestored",Ee,!1),n.addEventListener("webglcontextcreationerror",Se,!1),null===ve){var xe=["webgl2","webgl","experimental-webgl"];if(!0===A.isWebGL1Renderer&&xe.shift(),null===(ve=ge(xe,ye)))throw ge(xe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ve.getShaderPrecisionFormat&&(ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ze){throw console.error("THREE.WebGLRenderer: "+Ze.message),Ze}function be(){V=new ka(ve),W=new ha(ve,V,e),V.init(W),pe=new Is(ve,V,W),q=new Es(ve,V,W),Y=new Ra,X=new ls,J=new Ss(ve,V,q,X,W,pe,Y),K=new fa(A),$=new _a(A),ee=new na(ve,W),Ae=new ua(ve,V,ee,W),te=new Ba(ve,ee,Y,Ae),ne=new Qa(ve,te,ee,Y),he=new La(ve,W,J),se=new da(X),re=new ss(A,K,$,V,W,Ae,se),ie=new Ds(A,X),ae=new ds,oe=new gs(V,W),ce=new la(A,K,$,q,ne,t,s),le=new Cs(A,ne,W),me=new Ps(ve,Y,W,q),de=new ca(ve,V,Y,W),fe=new Ta(ve,V,Y,W),Y.programs=re.programs,A.capabilities=W,A.extensions=V,A.properties=X,A.renderLists=ae,A.shadowMap=le,A.state=q,A.info=Y}be();var we=new Rs(A,ve);function Ce(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function Ee(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=Y.autoReset,t=le.enabled,n=le.autoUpdate,r=le.needsUpdate,i=le.type;be(),Y.autoReset=e,le.enabled=t,le.autoUpdate=n,le.needsUpdate=r,le.type=i}function Se(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ie(e){var t=e.target;t.removeEventListener("dispose",Ie),function(e){(function(e){var t=X.get(e).programs;void 0!==t&&(t.forEach((function(e){re.releaseProgram(e)})),e.isShaderMaterial&&re.releaseShaderCache(e))})(e),X.remove(e)}(t)}this.xr=we,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){var e=V.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=V.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(e){void 0!==e&&(T=e,this.setSize(I,B,!1))},this.getSize=function(e){return e.set(I,B)},this.setSize=function(e,t,r){we.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(I=e,B=t,n.width=Math.floor(e*T),n.height=Math.floor(t*T),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(I*T,B*T).floor()},this.setDrawingBufferSize=function(e,t,r){I=e,B=t,T=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(C)},this.getViewport=function(e){return e.copy(P)},this.setViewport=function(e,t,n,r){e.isVector4?P.set(e.x,e.y,e.z,e.w):P.set(e,t,n,r),q.viewport(C.copy(P).multiplyScalar(T).floor())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,r){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,r),q.scissor(E.copy(L).multiplyScalar(T).floor())},this.getScissorTest=function(){return Q},this.setScissorTest=function(e){q.setScissorTest(Q=e)},this.setOpaqueSort=function(e){R=e},this.setTransparentSort=function(e){D=e},this.getClearColor=function(e){return e.copy(ce.getClearColor())},this.setClearColor=function(){ce.setClearColor.apply(ce,arguments)},this.getClearAlpha=function(){return ce.getClearAlpha()},this.setClearAlpha=function(){ce.setClearAlpha.apply(ce,arguments)},this.clear=function(){var e=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e|=16384),(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e|=256),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(e|=1024),ve.clear(e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ce,!1),n.removeEventListener("webglcontextrestored",Ee,!1),n.removeEventListener("webglcontextcreationerror",Se,!1),ae.dispose(),oe.dispose(),X.dispose(),K.dispose(),$.dispose(),ne.dispose(),Ae.dispose(),me.dispose(),re.dispose(),we.dispose(),we.removeEventListener("sessionstart",Be),we.removeEventListener("sessionend",Te),U&&(U.dispose(),U=null),Re.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=G);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=G);J.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===x?A.outputEncoding:!0===x.isXRRenderTarget?x.texture.encoding:Nt,l=(r.isMeshStandardMaterial?$:K).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=r.toneMapped?A.toneMapping:ue,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==v?v.length:0,y=X.get(r),C=d.state.lights;if(!0===N&&(!0===F||e!==w)){var E=e===w&&r.id===b;se.setState(r,e,E)}var S=!1;r.version===y.__version?y.needsLights&&y.lightsStateVersion!==C.state.version||y.outputEncoding!==s||i.isInstancedMesh&&!1===y.instancing?S=!0:i.isInstancedMesh||!0!==y.instancing?i.isSkinnedMesh&&!1===y.skinning?S=!0:i.isSkinnedMesh||!0!==y.skinning?y.envMap!==l||!0===r.fog&&y.fog!==a?S=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===se.numPlanes&&y.numIntersection===se.numIntersection?(y.vertexAlphas!==u||y.vertexTangents!==c||y.morphTargets!==h||y.morphNormals!==f||y.morphColors!==p||y.toneMapping!==m||!0===W.isWebGL2&&y.morphTargetsCount!==g)&&(S=!0):S=!0:S=!0:S=!0:(S=!0,y.__version=r.version);var I=y.currentProgram;!0===S&&(I=Fe(r,t,i));var M=!1,_=!1,k=!1,R=I.getUniforms(),D=y.uniforms;q.useProgram(I.program)&&(M=!0,_=!0,k=!0);r.id!==b&&(b=r.id,_=!0);if(M||w!==e){if(R.setValue(ve,"projectionMatrix",e.projectionMatrix),W.logarithmicDepthBuffer&&R.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,_=!0,k=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var P=R.map.cameraPosition;void 0!==P&&P.setValue(ve,z.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&R.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&R.setValue(ve,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){R.setOptional(ve,i,"bindMatrix"),R.setOptional(ve,i,"bindMatrixInverse");var L=i.skeleton;L&&(W.floatVertexTextures?(null===L.boneTexture&&L.computeBoneTexture(),R.setValue(ve,"boneTexture",L.boneTexture,J),R.setValue(ve,"boneTextureSize",L.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var Q=n.morphAttributes;(void 0!==Q.position||void 0!==Q.normal||void 0!==Q.color&&!0===W.isWebGL2)&&he.update(i,n,r,I);(_||y.receiveShadow!==i.receiveShadow)&&(y.receiveShadow=i.receiveShadow,R.setValue(ve,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(D.envMap.value=l,D.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);_&&(R.setValue(ve,"toneMappingExposure",A.toneMappingExposure),y.needsLights&&(O=k,(j=D).ambientLightColor.needsUpdate=O,j.lightProbe.needsUpdate=O,j.directionalLights.needsUpdate=O,j.directionalLightShadows.needsUpdate=O,j.pointLights.needsUpdate=O,j.pointLightShadows.needsUpdate=O,j.spotLights.needsUpdate=O,j.spotLightShadows.needsUpdate=O,j.rectAreaLights.needsUpdate=O,j.hemisphereLights.needsUpdate=O),a&&!0===r.fog&&ie.refreshFogUniforms(D,a),ie.refreshMaterialUniforms(D,r,T,B,U),Oo.upload(ve,y.uniformsList,D,J));var j,O;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Oo.upload(ve,y.uniformsList,D,J),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&R.setValue(ve,"center",i.center);if(R.setValue(ve,"modelViewMatrix",i.modelViewMatrix),R.setValue(ve,"normalMatrix",i.normalMatrix),R.setValue(ve,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var Z=r.uniformsGroups,H=0,V=Z.length;H<V;H++)if(W.isWebGL2){var Y=Z[H];me.update(Y,I),me.bind(Y,I)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return I}(e,t,n,r,i);q.setMaterial(r,o);var l=n.index,u=1;!0===r.wireframe&&(l=te.getWireframeAttribute(n),u=2);var c=n.drawRange,h=n.attributes.position,f=c.start*u,p=(c.start+c.count)*u;null!==a&&(f=Math.max(f,a.start*u),p=Math.min(p,(a.start+a.count)*u)),null!==l?(f=Math.max(f,0),p=Math.min(p,l.count)):void 0!==h&&null!==h&&(f=Math.max(f,0),p=Math.min(p,h.count));var m=p-f;if(!(m<0||m===1/0)){var v;Ae.setup(i,r,s,n,l);var g=de;if(null!==l&&(v=ee.get(l),(g=fe).setIndex(v)),i.isMesh)!0===r.wireframe?(q.setLineWidth(r.wireframeLinewidth*H()),g.setMode(1)):g.setMode(4);else if(i.isLine){var y=r.linewidth;void 0===y&&(y=1),q.setLineWidth(y*H()),i.isLineSegments?g.setMode(1):i.isLineLoop?g.setMode(2):g.setMode(3)}else i.isPoints?g.setMode(0):i.isSprite&&g.setMode(4);if(i.isInstancedMesh)g.renderInstances(f,m,i.count);else if(n.isInstancedBufferGeometry){var C=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,E=Math.min(n.instanceCount,C);g.renderInstances(f,m,E)}else g.render(f,m)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===k&&!1===e.forceSinglePass?(e.side=_,e.needsUpdate=!0,Fe(e,t,n),e.side=M,e.needsUpdate=!0,Fe(e,t,n),e.side=k):Fe(e,t,n)}(d=oe.get(e)).init(),p.push(d),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(A.physicallyCorrectLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){n(r[i],e,t)}else n(r,e,t)})),p.pop(),d=null};var Me=null;function Be(){Re.stop()}function Te(){Re.start()}var Re=new ta;function De(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||j.intersectsSprite(e)){r&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(O);var i=ne.update(e),a=e.material;a.visible&&h.push(e,i,a,n,z.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==Y.render.frame&&(e.skeleton.update(),e.skeleton.frame=Y.render.frame),!e.frustumCulled||j.intersectsObject(e))){r&&z.setFromMatrixPosition(e.matrixWorld).applyMatrix4(O);var o=ne.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var f=l[u],p=s[f.materialIndex];p&&p.visible&&h.push(e,o,p,n,z.z,f)}else s.visible&&h.push(e,o,s,n,z.z,null)}for(var A=e.children,m=0,v=A.length;m<v;m++)De(A[m],t,n,r)}}function Pe(e,t,n,r){var i=e.opaque,a=e.transmissive,s=e.transparent;d.setupLightsView(n),!0===N&&se.setGlobalState(A.clippingPlanes,n),a.length>0&&function(e,t,n){var r=W.isWebGL2;null===U&&(U=new Un(1,1,{generateMipmaps:!0,type:V.has("EXT_color_buffer_half_float")?Qe:ke,minFilter:_e,samples:r&&!0===o?4:0}));A.getDrawingBufferSize(Z),r?U.setSize(Z.x,Z.y):U.setSize(hn(Z.x),hn(Z.y));var i=A.getRenderTarget();A.setRenderTarget(U),A.clear();var a=A.toneMapping;A.toneMapping=ue,je(e,t,n),A.toneMapping=a,J.updateMultisampleRenderTarget(U),J.updateRenderTargetMipmap(U),A.setRenderTarget(i)}(i,t,n),r&&q.viewport(C.copy(r)),i.length>0&&je(i,t,n),a.length>0&&je(a,t,n),s.length>0&&je(s,t,n),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1)}function je(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&Ne(s,t,n,l,u,c)}}function Ne(e,t,n,r,i,a){e.onBeforeRender(A,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(A,t,n,r,e,a),!0===i.transparent&&i.side===k&&!1===i.forceSinglePass?(i.side=_,i.needsUpdate=!0,A.renderBufferDirect(n,t,r,i,e,a),i.side=M,i.needsUpdate=!0,A.renderBufferDirect(n,t,r,i,e,a),i.side=k):A.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(A,t,n,r,i,a)}function Fe(e,t,n){!0!==t.isScene&&(t=G);var r=X.get(e),i=d.state.lights,a=d.state.shadowsArray,o=i.state.version,s=re.getParameters(e,i.state,a,t,n),l=re.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?$:K).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",Ie),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Ue(e,s),c}else s.uniforms=re.getUniforms(e),e.onBuild(n,s,A),e.onBeforeCompile(s,A),c=re.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=se.uniform),Ue(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=c.getUniforms(),p=Oo.seqWithValue(f.seq,h);return r.currentProgram=c,r.uniformsList=p,c}function Ue(e,t){var n=X.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Re.setAnimationLoop((function(e){Me&&Me(e)})),"undefined"!==typeof self&&Re.setContext(self),this.setAnimationLoop=function(e){Me=e,we.setAnimationLoop(e),null===e?Re.stop():Re.start()},we.addEventListener("sessionstart",Be),we.addEventListener("sessionend",Te),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==m){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===we.enabled&&!0===we.isPresenting&&(!0===we.cameraAutoUpdate&&we.updateCamera(t),t=we.getCamera()),!0===e.isScene&&e.onBeforeRender(A,e,t,x),(d=oe.get(e,p.length)).init(),p.push(d),O.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),j.setFromProjectionMatrix(O),F=this.localClippingEnabled,N=se.init(this.clippingPlanes,F),(h=ae.get(e,f.length)).init(),f.push(h),De(e,t,0,A.sortObjects),h.finish(),!0===A.sortObjects&&h.sort(R,D),!0===N&&se.beginShadows();var n=d.state.shadowsArray;if(le.render(n,e,t),!0===N&&se.endShadows(),!0===this.info.autoReset&&this.info.reset(),ce.render(h,e),d.setupLights(A.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Pe(h,e,o,o.viewport)}else Pe(h,e,t);null!==x&&(J.updateMultisampleRenderTarget(x),J.updateRenderTargetMipmap(x)),!0===e.isScene&&e.onAfterRender(A,e,t),Ae.resetDefaultState(),b=-1,w=null,p.pop(),d=p.length>0?p[p.length-1]:null,f.pop(),h=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return x},this.setRenderTargetTextures=function(e,t,n){X.get(e.texture).__webglTexture=t,X.get(e.depthTexture).__webglTexture=n;var r=X.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===V.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=X.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;x=e,v=t,y=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=X.get(e);void 0!==s.__useDefaultFramebuffer?(q.bindFramebuffer(36160,null),r=!1):void 0===s.__webglFramebuffer?J.setupRenderTarget(e):s.__hasExternalTextures&&J.rebindTextures(e,X.get(e.texture).__webglTexture,X.get(e.depthTexture).__webglTexture);var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var u=X.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=u[t],a=!0):i=W.isWebGL2&&e.samples>0&&!1===J.useMultisampledRTT(e)?X.get(e).__webglMultisampledFramebuffer:u,C.copy(e.viewport),E.copy(e.scissor),S=e.scissorTest}else C.copy(P).multiplyScalar(T).floor(),E.copy(L).multiplyScalar(T).floor(),S=Q;if(q.bindFramebuffer(36160,i)&&W.drawBuffers&&r&&q.drawBuffers(e,i),q.viewport(C),q.scissor(E),q.setScissorTest(S),a){var c=X.get(e.texture);ve.framebufferTexture2D(36160,36064,34069+t,c.__webglTexture,n)}else if(o){var h=X.get(e.texture),d=t||0;ve.framebufferTextureLayer(36160,36064,h.__webglTexture,n||0,d)}b=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=X.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){q.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==Oe&&pe.convert(u)!==ve.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===Qe&&(V.has("EXT_color_buffer_half_float")||W.isWebGL2&&V.has("EXT_color_buffer_float"));if(c!==ke&&pe.convert(c)!==ve.getParameter(35738)&&(c!==Le||!(W.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ve.readPixels(t,n,r,i,pe.convert(u),pe.convert(c),a)}finally{var d=null!==x?X.get(x).__webglFramebuffer:null;q.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);J.setTexture2D(t,0),ve.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),q.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=pe.convert(n.format),s=pe.convert(n.type);J.setTexture2D(n,0),ve.pixelStorei(37440,n.flipY),ve.pixelStorei(37441,n.premultiplyAlpha),ve.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ve.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?ve.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ve.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&ve.generateMipmap(3553),q.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(A.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=pe.convert(r.format),c=pe.convert(r.type);if(r.isData3DTexture)J.setTexture3D(r,0),a=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");J.setTexture2DArray(r,0),a=35866}ve.pixelStorei(37440,r.flipY),ve.pixelStorei(37441,r.premultiplyAlpha),ve.pixelStorei(3317,r.unpackAlignment);var h=ve.getParameter(3314),d=ve.getParameter(32878),f=ve.getParameter(3316),p=ve.getParameter(3315),m=ve.getParameter(32877),v=n.isCompressedTexture?n.mipmaps[0]:n.image;ve.pixelStorei(3314,v.width),ve.pixelStorei(32878,v.height),ve.pixelStorei(3316,e.min.x),ve.pixelStorei(3315,e.min.y),ve.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?ve.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,v.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ve.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,v.data)):ve.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,v),ve.pixelStorei(3314,h),ve.pixelStorei(32878,d),ve.pixelStorei(3316,f),ve.pixelStorei(3315,p),ve.pixelStorei(32877,m),0===i&&r.generateMipmaps&&ve.generateMipmap(a),q.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?J.setTextureCube(e,0):e.isData3DTexture?J.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?J.setTexture2DArray(e,0):J.setTexture2D(e,0),q.unbindTexture()},this.resetState=function(){v=0,y=0,x=null,q.reset(),Ae.reset()},"undefined"!==typeof Kt&&Kt.dispatchEvent(new CustomEvent("observe",{detail:this}))}var Qs=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(Ls);Qs.prototype.isWebGL1Renderer=!0;var js,Ns=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;(0,m.Z)(this,e),this.isFogExp2=!0,this.name="",this.color=new Dn(t),this.density=n}return(0,v.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),Fs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,m.Z)(this,e),this.isFog=!0,this.name="",this.color=new Dn(t),this.near=n,this.far=r}return(0,v.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),Us=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof Kt&&Kt.dispatchEvent(new CustomEvent("observe",{detail:(0,h.Z)(e)})),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(Hr),Os=function(){function e(t,n){(0,m.Z)(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Vt,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=an()}return(0,v.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=an()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=an()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),Zs=new Gn,zs=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,m.Z)(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return(0,v.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Zs.fromBufferAttribute(this,t),Zs.applyMatrix4(e),this.setXYZ(t,Zs.x,Zs.y,Zs.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Zs.fromBufferAttribute(this,t),Zs.applyNormalMatrix(e),this.setXYZ(t,Zs.x,Zs.y,Zs.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Zs.fromBufferAttribute(this,t),Zs.transformDirection(e),this.setXYZ(t,Zs.x,Zs.y,Zs.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=fn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=fn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=fn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=fn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=dn(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=dn(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=dn(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=dn(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=fn(t,this.array),n=fn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=fn(t,this.array),n=fn(n,this.array),r=fn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=fn(t,this.array),n=fn(n,this.array),r=fn(r,this.array),i=fn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new li(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),Gs=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isSpriteMaterial=!0,r.type="SpriteMaterial",r.color=new Dn(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.fog=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(ii),Hs=new Gn,Vs=new Gn,Ws=new Gn,qs=new An,Ys=new An,Xs=new xr,Js=new Gn,Ks=new Gn,$s=new Gn,el=new An,tl=new An,nl=new An,rl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;if((0,m.Z)(this,n),(r=t.call(this)).isSprite=!0,r.type="Sprite",void 0===js){js=new xi;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new Os(i,5);js.setIndex([0,1,2,0,2,3]),js.setAttribute("position",new zs(a,3,0,!1)),js.setAttribute("uv",new zs(a,2,3,!1))}return r.geometry=js,r.material=void 0!==e?e:new Gs,r.center=new An(.5,.5),r}return(0,v.Z)(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Vs.setFromMatrixScale(this.matrixWorld),Xs.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ws.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Vs.multiplyScalar(-Ws.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;il(Js.set(-.5,-.5,0),Ws,a,Vs,n,r),il(Ks.set(.5,-.5,0),Ws,a,Vs,n,r),il($s.set(.5,.5,0),Ws,a,Vs,n,r),el.set(0,0),tl.set(1,0),nl.set(1,1);var o=e.ray.intersectTriangle(Js,Ks,$s,!1,Hs);if(null!==o||(il(Ks.set(-.5,.5,0),Ws,a,Vs,n,r),tl.set(0,1),null!==(o=e.ray.intersectTriangle(Js,$s,Ks,!1,Hs)))){var s=e.ray.origin.distanceTo(Hs);s<e.near||s>e.far||t.push({distance:s,point:Hs.clone(),uv:ni.getUV(Hs,Js,Ks,$s,el,tl,nl,new An),face:null,object:this})}}},{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Hr);function il(e,t,n,r,i,a){qs.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Ys.x=a*qs.x-i*qs.y,Ys.y=i*qs.x+a*qs.y):Ys.copy(qs),e.copy(t),e.x+=Ys.x,e.y+=Ys.y,e.applyMatrix4(Xs)}var al=new Gn,ol=new Fn,sl=new Fn,ll=new Gn,ul=new xr,cl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i;return(0,m.Z)(this,n),(i=t.call(this,e,r)).isSkinnedMesh=!0,i.type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new xr,i.bindMatrixInverse=new xr,i}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Fn,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;ol.fromBufferAttribute(r.attributes.skinIndex,e),sl.fromBufferAttribute(r.attributes.skinWeight,e),al.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=sl.getComponent(i);if(0!==a){var o=ol.getComponent(i);ul.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(ll.copy(al).applyMatrix4(ul),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(Pi),hl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return(0,v.Z)(n)}(Hr),dl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ce,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Ce,f=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return(0,m.Z)(this,n),(e=t.call(this,null,l,u,c,h,d,o,s,f,p)).isDataTexture=!0,e.image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,v.Z)(n)}(Nn),fl=new xr,pl=new xr,Al=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,m.Z)(this,e),this.uuid=an(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return(0,v.Z)(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new xr)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new xr;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:pl;fl.multiplyMatrices(o,t[i]),fl.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=cn(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new dl(t,e,e,Oe,Le);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new hl),this.bones.push(a),this.boneInverses.push((new xr).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),ml=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,m.Z)(this,n),(a=t.call(this,e,r,i)).isInstancedBufferAttribute=!0,a.meshPerAttribute=o,a}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(li),vl=new xr,gl=new xr,yl=[],xl=new xr,bl=new Pi,wl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i){var a;(0,m.Z)(this,n),(a=t.call(this,e,r)).isInstancedMesh=!0,a.instanceMatrix=new ml(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.frustumCulled=!1;for(var o=0;o<i;o++)a.setMatrixAt(o,xl);return a}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(bl.geometry=this.geometry,bl.material=this.material,void 0!==bl.material)for(var i=0;i<r;i++){this.getMatrixAt(i,vl),gl.multiplyMatrices(n,vl),bl.matrixWorld=gl,bl.raycast(e,yl);for(var a=0,o=yl.length;a<o;a++){var s=yl[a];s.instanceId=i,s.object=this,t.push(s)}yl.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new ml(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Pi),Cl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isLineBasicMaterial=!0,r.type="LineBasicMaterial",r.color=new Dn(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.fog=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(ii),El=new Gn,Sl=new Gn,Il=new xr,Ml=new yr,_l=new hr,kl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xi,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Cl;return(0,m.Z)(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)El.fromBufferAttribute(t,r-1),Sl.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=El.distanceTo(Sl);e.setAttribute("lineDistance",new di(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),_l.copy(n.boundingSphere),_l.applyMatrix4(r),_l.radius+=i,!1!==e.ray.intersectsSphere(_l)){Il.copy(r).invert(),Ml.copy(e.ray).applyMatrix4(Il);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new Gn,u=new Gn,c=new Gn,h=new Gn,d=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f)for(var A=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count)-1;A<m;A+=d){var v=f.getX(A),g=f.getX(A+1);if(l.fromBufferAttribute(p,v),u.fromBufferAttribute(p,g),!(Ml.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var y=e.ray.origin.distanceTo(h);y<e.near||y>e.far||t.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else for(var x=Math.max(0,a.start),b=Math.min(p.count,a.start+a.count)-1;x<b;x+=d){if(l.fromBufferAttribute(p,x),u.fromBufferAttribute(p,x+1),!(Ml.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Hr),Bl=new Gn,Tl=new Gn,Rl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i;return(0,m.Z)(this,n),(i=t.call(this,e,r)).isLineSegments=!0,i.type="LineSegments",i}return(0,v.Z)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Bl.fromBufferAttribute(t,r),Tl.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Bl.distanceTo(Tl);e.setAttribute("lineDistance",new di(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(kl),Dl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i;return(0,m.Z)(this,n),(i=t.call(this,e,r)).isLineLoop=!0,i.type="LineLoop",i}return(0,v.Z)(n)}(kl),Pl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isPointsMaterial=!0,r.type="PointsMaterial",r.color=new Dn(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.fog=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(ii),Ll=new xr,Ql=new yr,jl=new hr,Nl=new Gn,Fl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new xi,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Pl;return(0,m.Z)(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),jl.copy(n.boundingSphere),jl.applyMatrix4(r),jl.radius+=i,!1!==e.ray.intersectsSphere(jl)){Ll.copy(r).invert(),Ql.copy(e.ray).applyMatrix4(Ll);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);c<h;c++){var d=l.getX(c);Nl.fromBufferAttribute(u,d),Ul(Nl,d,s,r,e,t,this)}else for(var f=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);f<p;f++)Nl.fromBufferAttribute(u,f),Ul(Nl,f,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(Hr);function Ul(e,t,n,r,i,a,o){var s=Ql.distanceSqToPoint(e);if(s<n){var l=new Gn;Ql.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}var Ol=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a,o,s,l,u,c,h,d,f){var p;return(0,m.Z)(this,n),(p=t.call(this,null,s,l,u,c,h,a,o,d,f)).isCompressedTexture=!0,p.image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return(0,v.Z)(n)}(Nn),Zl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a,o,s){var l;return(0,m.Z)(this,n),(l=t.call(this,e,r,i,o,s)).isCompressedArrayTexture=!0,l.image.depth=a,l.wrapR=be,l}return(0,v.Z)(n)}(Ol),zl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a,o,s,l,u,c){var h;return(0,m.Z)(this,n),(h=t.call(this,e,r,i,a,o,s,l,u,c)).isCanvasTexture=!0,h.needsUpdate=!0,h}return(0,v.Z)(n)}(Nn),Gl=function(){function e(){(0,m.Z)(this,e),this.type="Curve",this.arcLengthDivisions=200}return(0,v.Z)(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new An:new Gn);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Gn,r=[],i=[],a=[],o=new Gn,s=new xr,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new Gn)}i[0]=new Gn,a[0]=new Gn;var c=Number.MAX_VALUE,h=Math.abs(r[0].x),d=Math.abs(r[0].y),f=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),d<=c&&(c=d,n.set(0,1,0)),f<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var A=Math.acos(on(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,A))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(on(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var v=1;v<=e;v++)i[v].applyMatrix4(s.makeRotationAxis(r[v],m*v)),a[v].crossVectors(r[v],i[v])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),Hl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return(0,m.Z)(this,n),(e=t.call(this)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=s,e.aEndAngle=l,e.aClockwise=u,e.aRotation=c,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e,t){for(var n=t||new An,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=l-this.aY;s=h*u-d*c+this.aX,l=h*c+d*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(Gl),Vl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a,o,s){var l;return(0,m.Z)(this,n),(l=t.call(this,e,r,i,i,a,o,s)).isArcCurve=!0,l.type="ArcCurve",l}return(0,v.Z)(n)}(Hl);function Wl(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,u*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var ql=new Gn,Yl=new Wl,Xl=new Wl,Jl=new Wl,Kl=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return(0,m.Z)(this,n),(e=t.call(this)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===l&&s===a-1&&(s=a-2,l=1),this.closed||s>0?t=i[(s-1)%a]:(ql.subVectors(i[0],i[1]).add(i[0]),t=ql);var u=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(ql.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=ql),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(t.distanceToSquared(u),h),f=Math.pow(u.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(n),h);f<1e-4&&(f=1),d<1e-4&&(d=f),p<1e-4&&(p=f),Yl.initNonuniformCatmullRom(t.x,u.x,c.x,n.x,d,f,p),Xl.initNonuniformCatmullRom(t.y,u.y,c.y,n.y,d,f,p),Jl.initNonuniformCatmullRom(t.z,u.z,c.z,n.z,d,f,p)}else"catmullrom"===this.curveType&&(Yl.initCatmullRom(t.x,u.x,c.x,n.x,this.tension),Xl.initCatmullRom(t.y,u.y,c.y,n.y,this.tension),Jl.initCatmullRom(t.z,u.z,c.z,n.z,this.tension));return r.set(Yl.calc(l),Xl.calc(l),Jl.calc(l)),r}},{key:"copy",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Gn).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(Gl);function $l(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function eu(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function tu(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var nu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new An,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new An,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new An,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new An;return(0,m.Z)(this,n),(e=t.call(this)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new An,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(tu(e,n.x,r.x,i.x,a.x),tu(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Gl),ru=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Gn,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Gn;return(0,m.Z)(this,n),(e=t.call(this)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(tu(e,n.x,r.x,i.x,a.x),tu(e,n.y,r.y,i.y,a.y),tu(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(Gl),iu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new An,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new An;return(0,m.Z)(this,n),(e=t.call(this)).isLineCurve=!0,e.type="LineCurve",e.v1=r,e.v2=i,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new An;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new An;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Gl),au=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn;return(0,m.Z)(this,n),(e=t.call(this)).isLineCurve3=!0,e.type="LineCurve3",e.v1=r,e.v2=i,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Gl),ou=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new An,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new An,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new An;return(0,m.Z)(this,n),(e=t.call(this)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new An,n=this.v0,r=this.v1,i=this.v2;return t.set(eu(e,n.x,r.x,i.x),eu(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Gl),su=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Gn,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Gn;return(0,m.Z)(this,n),(e=t.call(this)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Gn,n=this.v0,r=this.v1,i=this.v2;return t.set(eu(e,n.x,r.x,i.x),eu(e,n.y,r.y,i.y),eu(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(Gl),lu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,m.Z)(this,n),(e=t.call(this)).isSplineCurve=!0,e.type="SplineCurve",e.points=r,e}return(0,v.Z)(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new An,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],u=n[i>n.length-3?n.length-1:i+2];return t.set($l(a,o.x,s.x,l.x,u.x),$l(a,o.y,s.y,l.y,u.y)),t}},{key:"copy",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new An).fromArray(i))}return this}}]),n}(Gl),uu=Object.freeze({__proto__:null,ArcCurve:Vl,CatmullRomCurve3:Kl,CubicBezierCurve:nu,CubicBezierCurve3:ru,EllipseCurve:Hl,LineCurve:iu,LineCurve3:au,QuadraticBezierCurve:ou,QuadraticBezierCurve3:su,SplineCurve:lu}),cu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return(0,v.Z)(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new iu(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),l=0===s?0:1-a/s;return o.getPointAt(l,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new uu[i.type]).fromJSON(i))}return this}}]),n}(Gl),hu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).type="Path",r.currentPoint=new An,e&&r.setFromPoints(e),r}return(0,v.Z)(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new iu(this.currentPoint.clone(),new An(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new ou(this.currentPoint.clone(),new An(e,t),new An(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new nu(this.currentPoint.clone(),new An(e,t),new An(n,r),new An(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new lu(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var l=new Hl(e,t,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(cu),du=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new An(0,-.5),new An(.5,0),new An(0,.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,m.Z)(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=on(o,0,2*Math.PI);for(var s=[],l=[],u=[],c=[],h=[],d=1/i,f=new Gn,p=new An,A=new Gn,v=new Gn,g=new Gn,y=0,x=0,b=0;b<=r.length-1;b++)switch(b){case 0:y=r[b+1].x-r[b].x,x=r[b+1].y-r[b].y,A.x=1*x,A.y=-y,A.z=0*x,g.copy(A),A.normalize(),c.push(A.x,A.y,A.z);break;case r.length-1:c.push(g.x,g.y,g.z);break;default:y=r[b+1].x-r[b].x,x=r[b+1].y-r[b].y,A.x=1*x,A.y=-y,A.z=0*x,v.copy(A),A.x+=g.x,A.y+=g.y,A.z+=g.z,A.normalize(),c.push(A.x,A.y,A.z),g.copy(v)}for(var w=0;w<=i;w++)for(var C=a+w*d*o,E=Math.sin(C),S=Math.cos(C),I=0;I<=r.length-1;I++){f.x=r[I].x*E,f.y=r[I].y,f.z=r[I].x*S,l.push(f.x,f.y,f.z),p.x=w/i,p.y=I/(r.length-1),u.push(p.x,p.y);var M=c[3*I+0]*E,_=c[3*I+1],k=c[3*I+0]*S;h.push(M,_,k)}for(var B=0;B<i;B++)for(var T=0;T<r.length-1;T++){var R=T+B*r.length,D=R,P=R+r.length,L=R+r.length+1,Q=R+1;s.push(D,P,Q),s.push(L,Q,P)}return e.setIndex(s),e.setAttribute("position",new di(l,3)),e.setAttribute("uv",new di(u,2)),e.setAttribute("normal",new di(h,3)),e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(xi),fu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;(0,m.Z)(this,n);var s=new hu;return s.absarc(0,-i/2,r,1.5*Math.PI,0),s.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,s.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,height:i,capSegments:a,radialSegments:o},e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(du),pu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,m.Z)(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var s=[],l=[],u=[],c=[],h=new Gn,d=new An;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var f=0,p=3;f<=i;f++,p+=3){var A=a+f/i*o;h.x=r*Math.cos(A),h.y=r*Math.sin(A),l.push(h.x,h.y,h.z),u.push(0,0,1),d.x=(l[p]/r+1)/2,d.y=(l[p+1]/r+1)/2,c.push(d.x,d.y)}for(var v=1;v<=i;v++)s.push(v,v+1,0);return e.setIndex(s),e.setAttribute("position",new di(l,3)),e.setAttribute("normal",new di(u,3)),e.setAttribute("uv",new di(c,2)),e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(xi),Au=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;(0,m.Z)(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var d=(0,h.Z)(e);o=Math.floor(o),s=Math.floor(s);var f=[],p=[],A=[],v=[],g=0,y=[],x=a/2,b=0;function w(e){for(var t=g,n=new An,a=new Gn,s=0,l=!0===e?r:i,h=!0===e?1:-1,m=1;m<=o;m++)p.push(0,x*h,0),A.push(0,h,0),v.push(.5,.5),g++;for(var y=g,w=0;w<=o;w++){var C=w/o*c+u,E=Math.cos(C),S=Math.sin(C);a.x=l*S,a.y=x*h,a.z=l*E,p.push(a.x,a.y,a.z),A.push(0,h,0),n.x=.5*E+.5,n.y=.5*S*h+.5,v.push(n.x,n.y),g++}for(var I=0;I<o;I++){var M=t+I,_=y+I;!0===e?f.push(_,_+1,M):f.push(_+1,_,M),s+=3}d.addGroup(b,s,!0===e?1:2),b+=s}return function(){for(var e=new Gn,t=new Gn,n=0,l=(i-r)/a,h=0;h<=s;h++){for(var m=[],w=h/s,C=w*(i-r)+r,E=0;E<=o;E++){var S=E/o,I=S*c+u,M=Math.sin(I),_=Math.cos(I);t.x=C*M,t.y=-w*a+x,t.z=C*_,p.push(t.x,t.y,t.z),e.set(M,l,_).normalize(),A.push(e.x,e.y,e.z),v.push(S,1-w),m.push(g++)}y.push(m)}for(var k=0;k<o;k++)for(var B=0;B<s;B++){var T=y[B][k],R=y[B+1][k],D=y[B+1][k+1],P=y[B][k+1];f.push(T,R,P),f.push(R,D,P),n+=6}d.addGroup(b,n,0),b+=n}(),!1===l&&(r>0&&w(!0),i>0&&w(!1)),e.setIndex(f),e.setAttribute("position",new di(p,3)),e.setAttribute("normal",new di(A,3)),e.setAttribute("uv",new di(v,2)),e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(xi),mu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return(0,m.Z)(this,n),(e=t.call(this,0,r,i,a,o,s,l,u)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Au),vu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,m.Z)(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var s=[],l=[];function u(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var s=e.clone().lerp(n,o/i),l=t.clone().lerp(n,o/i),u=i-o,h=0;h<=u;h++)a[o][h]=0===h&&o===i?s:s.clone().lerp(l,h/u)}for(var d=0;d<i;d++)for(var f=0;f<2*(i-d)-1;f++){var p=Math.floor(f/2);f%2===0?(c(a[d][p+1]),c(a[d+1][p]),c(a[d][p])):(c(a[d][p+1]),c(a[d+1][p+1]),c(a[d+1][p]))}}function c(e){s.push(e.x,e.y,e.z)}function h(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function d(e,t,n,r){r<0&&1===e.x&&(l[t]=e.x-1),0===n.x&&0===n.z&&(l[t]=r/2/Math.PI+.5)}function f(e){return Math.atan2(e.z,-e.x)}return function(e){for(var t=new Gn,n=new Gn,r=new Gn,a=0;a<i.length;a+=3)h(i[a+0],t),h(i[a+1],n),h(i[a+2],r),u(t,n,r,e)}(o),function(e){for(var t=new Gn,n=0;n<s.length;n+=3)t.x=s[n+0],t.y=s[n+1],t.z=s[n+2],t.normalize().multiplyScalar(e),s[n+0]=t.x,s[n+1]=t.y,s[n+2]=t.z}(a),function(){for(var e=new Gn,t=0;t<s.length;t+=3){e.x=s[t+0],e.y=s[t+1],e.z=s[t+2];var n=f(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);l.push(n,1-r)}var i;(function(){for(var e=new Gn,t=new Gn,n=new Gn,r=new Gn,i=new An,a=new An,o=new An,u=0,c=0;u<s.length;u+=9,c+=6){e.set(s[u+0],s[u+1],s[u+2]),t.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),i.set(l[c+0],l[c+1]),a.set(l[c+2],l[c+3]),o.set(l[c+4],l[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var h=f(r);d(i,c+0,e,h),d(a,c+2,t,h),d(o,c+4,n,h)}})(),function(){for(var e=0;e<l.length;e+=6){var t=l[e+0],n=l[e+2],r=l[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(l[e+0]+=1),n<.2&&(l[e+2]+=1),r<.2&&(l[e+4]+=1))}}()}(),e.setAttribute("position",new di(s,3)),e.setAttribute("normal",new di(s.slice(),3)),e.setAttribute("uv",new di(l,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(xi),gu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,m.Z)(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o];return(e=t.call(this,s,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(vu),yu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this,e)).uuid=an(),r.type="Shape",r.holes=[],r}return(0,v.Z)(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){(0,u.Z)((0,c.Z)(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new hu).fromJSON(i))}return this}}]),n}(hu),xu=function(e,t){var n,r,i,a,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*u:e.length,d=bu(e,0,h,u,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=bu(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Ru(o));for(s.sort(_u),i=0;i<s.length;i++)n=ku(s[i],n);return n}(e,t,d,u)),e.length>80*u){n=i=e[0],r=a=e[1];for(var p=u;p<h;p+=u)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);l=0!==(l=Math.max(i-n,a-r))?32767/l:0}return Cu(d,f,u,n,r,l,0),f};function bu(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=Zu(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=Zu(a,e[a],e[a+1],o);return o&&Qu(o,o.next)&&(zu(o),o=o.next),o}function wu(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Qu(r,r.next)&&0!==Lu(r.prev,r,r.next))r=r.next;else{if(zu(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Cu(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=Tu(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Su(e,r,i,a):Eu(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),zu(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Cu(e=Iu(wu(e),t,n),t,n,r,i,a,2):2===o&&Mu(e,t,n,r,i,a):Cu(wu(e),t,n,r,i,a,1);break}}}function Eu(e){var t=e.prev,n=e,r=e.next;if(Lu(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,d=i>a?i>o?i:o:a>o?a:o,f=s>l?s>u?s:u:l>u?l:u,p=r.next;p!==t;){if(p.x>=c&&p.x<=d&&p.y>=h&&p.y<=f&&Du(i,s,a,l,o,u,p.x,p.y)&&Lu(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Su(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Lu(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,h=a.y,d=o.y,f=s<l?s<u?s:u:l<u?l:u,p=c<h?c<d?c:d:h<d?h:d,A=s>l?s>u?s:u:l>u?l:u,m=c>h?c>d?c:d:h>d?h:d,v=Tu(f,p,t,n,r),g=Tu(A,m,t,n,r),y=e.prevZ,x=e.nextZ;y&&y.z>=v&&x&&x.z<=g;){if(y.x>=f&&y.x<=A&&y.y>=p&&y.y<=m&&y!==i&&y!==o&&Du(s,c,l,h,u,d,y.x,y.y)&&Lu(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,x.x>=f&&x.x<=A&&x.y>=p&&x.y<=m&&x!==i&&x!==o&&Du(s,c,l,h,u,d,x.x,x.y)&&Lu(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;y&&y.z>=v;){if(y.x>=f&&y.x<=A&&y.y>=p&&y.y<=m&&y!==i&&y!==o&&Du(s,c,l,h,u,d,y.x,y.y)&&Lu(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;x&&x.z<=g;){if(x.x>=f&&x.x<=A&&x.y>=p&&x.y<=m&&x!==i&&x!==o&&Du(s,c,l,h,u,d,x.x,x.y)&&Lu(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Iu(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Qu(i,a)&&ju(i,r,r.next,a)&&Uu(i,a)&&Uu(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),zu(r),zu(r.next),r=e=a),r=r.next}while(r!==e);return wu(r)}function Mu(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Pu(o,s)){var l=Ou(o,s);return o=wu(o,o.next),l=wu(l,l.next),Cu(o,t,n,r,i,a,0),void Cu(l,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function _u(e,t){return e.x-t.x}function ku(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,h=n.y,d=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&Du(o<h?a:i,o,c,h,o<h?i:a,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(a-r.x),Uu(r,e)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&Bu(n,r)))&&(n=r,d=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var r=Ou(n,e);return wu(r,r.next),wu(n,n.next)}function Bu(e,t){return Lu(e.prev,e,t.prev)<0&&Lu(t.next,e,e.next)<0}function Tu(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ru(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Du(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Pu(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&ju(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Uu(e,t)&&Uu(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Lu(e.prev,e,t.prev)||Lu(e,t.prev,t))||Qu(e,t)&&Lu(e.prev,e,e.next)>0&&Lu(t.prev,t,t.next)>0)}function Lu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Qu(e,t){return e.x===t.x&&e.y===t.y}function ju(e,t,n,r){var i=Fu(Lu(e,t,n)),a=Fu(Lu(e,t,r)),o=Fu(Lu(n,r,e)),s=Fu(Lu(n,r,t));return i!==a&&o!==s||(!(0!==i||!Nu(e,n,t))||(!(0!==a||!Nu(e,r,t))||(!(0!==o||!Nu(n,e,r))||!(0!==s||!Nu(n,t,r)))))}function Nu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Fu(e){return e>0?1:e<0?-1:0}function Uu(e,t){return Lu(e.prev,e,e.next)<0?Lu(e,t,e.next)>=0&&Lu(e,e.prev,t)>=0:Lu(e,t,e.prev)<0||Lu(e,e.next,t)<0}function Ou(e,t){var n=new Gu(e.i,e.x,e.y),r=new Gu(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Zu(e,t,n,r){var i=new Gu(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zu(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Gu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Hu=function(){function e(){(0,m.Z)(this,e)}return(0,v.Z)(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];Vu(e),Wu(n,e);var a=e.length;t.forEach(Vu);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,Wu(n,t[o]);for(var s=xu(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}]),e}();function Vu(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Wu(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var qu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,m.Z)(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];return(e=t.call(this,o,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(vu),Yu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,m.Z)(this,n);return(e=t.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(vu),Xu=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;(0,m.Z)(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a);for(var u=[],c=[],h=[],d=[],f=r,p=(i-r)/(o=Math.max(1,o)),A=new Gn,v=new An,g=0;g<=o;g++){for(var y=0;y<=a;y++){var x=s+y/a*l;A.x=f*Math.cos(x),A.y=f*Math.sin(x),c.push(A.x,A.y,A.z),h.push(0,0,1),v.x=(A.x/i+1)/2,v.y=(A.y/i+1)/2,d.push(v.x,v.y)}f+=p}for(var b=0;b<o;b++)for(var w=b*(a+1),C=0;C<a;C++){var E=C+w,S=E,I=E+a+1,M=E+a+2,_=E+1;u.push(S,I,_),u.push(I,M,_)}return e.setIndex(u),e.setAttribute("position",new di(c,3)),e.setAttribute("normal",new di(h,3)),e.setAttribute("uv",new di(d,2)),e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(xi),Ju=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new yu([new An(0,.5),new An(-.5,-.5),new An(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;(0,m.Z)(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(r))d(r);else for(var h=0;h<r.length;h++)d(r[h]),e.addGroup(u,c,h),u+=c,c=0;function d(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,u=n.holes;!1===Hu.isClockWise(r)&&(r=r.reverse());for(var h=0,d=u.length;h<d;h++){var f=u[h];!0===Hu.isClockWise(f)&&(u[h]=f.reverse())}for(var p=Hu.triangulateShape(r,u),A=0,m=u.length;A<m;A++){var v=u[A];r=r.concat(v)}for(var g=0,y=r.length;g<y;g++){var x=r[g];o.push(x.x,x.y,0),s.push(0,0,1),l.push(x.x,x.y)}for(var b=0,w=p.length;b<w;b++){var C=p[b],E=C[0]+t,S=C[1]+t,I=C[2]+t;a.push(E,S,I),c+=3}}return e.setIndex(a),e.setAttribute("position",new di(o,3)),e.setAttribute("normal",new di(s,3)),e.setAttribute("uv",new di(l,2)),e}return(0,v.Z)(n,[{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(xi);var Ku=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;(0,m.Z)(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),h=0,d=[],f=new Gn,p=new Gn,A=[],v=[],g=[],y=[],x=0;x<=a;x++){var b=[],w=x/a,C=0;0==x&&0==l?C=.5/i:x==a&&c==Math.PI&&(C=-.5/i);for(var E=0;E<=i;E++){var S=E/i;f.x=-r*Math.cos(o+S*s)*Math.sin(l+w*u),f.y=r*Math.cos(l+w*u),f.z=r*Math.sin(o+S*s)*Math.sin(l+w*u),v.push(f.x,f.y,f.z),p.copy(f).normalize(),g.push(p.x,p.y,p.z),y.push(S+C,1-w),b.push(h++)}d.push(b)}for(var I=0;I<a;I++)for(var M=0;M<i;M++){var _=d[I][M+1],k=d[I][M],B=d[I+1][M],T=d[I+1][M+1];(0!==I||l>0)&&A.push(_,k,T),(I!==a-1||c<Math.PI)&&A.push(k,B,T)}return e.setIndex(A),e.setAttribute("position",new di(v,3)),e.setAttribute("normal",new di(g,3)),e.setAttribute("uv",new di(y,2)),e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(xi),$u=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,m.Z)(this,n);return(e=t.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(vu),ec=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:48,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;(0,m.Z)(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],u=[],c=[],h=[],d=new Gn,f=new Gn,p=new Gn,A=0;A<=a;A++)for(var v=0;v<=o;v++){var g=v/o*s,y=A/a*Math.PI*2;f.x=(r+i*Math.cos(y))*Math.cos(g),f.y=(r+i*Math.cos(y))*Math.sin(g),f.z=i*Math.sin(y),u.push(f.x,f.y,f.z),d.x=r*Math.cos(g),d.y=r*Math.sin(g),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),h.push(v/o),h.push(A/a)}for(var x=1;x<=a;x++)for(var b=1;b<=o;b++){var w=(o+1)*x+b-1,C=(o+1)*(x-1)+b-1,E=(o+1)*(x-1)+b,S=(o+1)*x+b;l.push(w,C,S),l.push(C,E,S)}return e.setIndex(l),e.setAttribute("position",new di(u,3)),e.setAttribute("normal",new di(c,3)),e.setAttribute("uv",new di(h,2)),e}return(0,v.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(xi),tc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new su(new Gn(-1,-1,0),new Gn(-1,1,0),new Gn(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,m.Z)(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:s};var l=r.computeFrenetFrames(i,s);e.tangents=l.tangents,e.normals=l.normals,e.binormals=l.binormals;var u=new Gn,c=new Gn,h=new An,d=new Gn,f=[],p=[],A=[],v=[];function g(e){d=r.getPointAt(e/i,d);for(var t=l.normals[e],n=l.binormals[e],s=0;s<=o;s++){var h=s/o*Math.PI*2,A=Math.sin(h),m=-Math.cos(h);c.x=m*t.x+A*n.x,c.y=m*t.y+A*n.y,c.z=m*t.z+A*n.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=d.x+a*c.x,u.y=d.y+a*c.y,u.z=d.z+a*c.z,f.push(u.x,u.y,u.z)}}return function(){for(var e=0;e<i;e++)g(e);g(!1===s?i:0),function(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)h.x=e/i,h.y=t/o,A.push(h.x,h.y)}(),function(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,s=(o+1)*(e-1)+t;v.push(n,r,s),v.push(r,a,s)}}()}(),e.setIndex(v),e.setAttribute("position",new di(f,3)),e.setAttribute("normal",new di(p,3)),e.setAttribute("uv",new di(A,2)),e}return(0,v.Z)(n,[{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new uu[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(xi);var nc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isShadowMaterial=!0,r.type="ShadowMaterial",r.color=new Dn(0),r.transparent=!0,r.fog=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(ii),rc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this,e)).isRawShaderMaterial=!0,r.type="RawShaderMaterial",r}return(0,v.Z)(n)}(Oi),ic=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isMeshStandardMaterial=!0,r.defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new Dn(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Dn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Ot,r.normalScale=new An(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(ii),ac=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isMeshPhysicalMaterial=!0,r.defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new An(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty((0,h.Z)(r),"reflectivity",{get:function(){return on(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.iridescenceMap=null,r.iridescenceIOR=1.3,r.iridescenceThicknessRange=[100,400],r.iridescenceThicknessMap=null,r.sheenColor=new Dn(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=1/0,r.attenuationColor=new Dn(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new Dn(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._iridescence=0,r._transmission=0,r.setValues(e),r}return(0,v.Z)(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!==e>0&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=(0,a.Z)(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(ic),oc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isMeshPhongMaterial=!0,r.type="MeshPhongMaterial",r.color=new Dn(16777215),r.specular=new Dn(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Dn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Ot,r.normalScale=new An(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=oe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(ii),sc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this)).isMeshLambertMaterial=!0,r.type="MeshLambertMaterial",r.color=new Dn(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Dn(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=Ot,r.normalScale=new An(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=oe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.fog=!0,r.setValues(e),r}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(ii);function lc(e,t,n){return cc(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function uc(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function cc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hc(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function dc(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i}function fc(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var pc=function(){function e(t,n,r,i){(0,m.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return(0,v.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),Ac=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a){var o;return(0,m.Z)(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:Tt,endingEnd:Tt},o}return(0,v.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Rt:i=e,o=2*t-n;break;case Dt:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Rt:a=e,s=2*n-t;break;case Dt:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,A=p*f,m=-h*A+2*h*p-h*f,v=(1+h)*A+(-1.5-2*h)*p+(-.5+h)*f+1,g=(-1-d)*A+(1.5+d)*p+.5*f,y=d*A-d*p,x=0;x!==o;++x)i[x]=m*a[u+x]+v*a[l+x]+g*a[s+x]+y*a[c+x];return i}}]),n}(pc),mc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a){return(0,m.Z)(this,n),t.call(this,e,r,i,a)}return(0,v.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,h=0;h!==o;++h)i[h]=a[l+h]*c+a[s+h]*u;return i}}]),n}(pc),vc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a){return(0,m.Z)(this,n),t.call(this,e,r,i,a)}return(0,v.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(pc),gc=function(){function e(t,n,r,i){if((0,m.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=uc(n,this.TimeBufferType),this.values=uc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return(0,v.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new vc(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new mc(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Ac(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case _t:t=this.InterpolantFactoryMethodDiscrete;break;case kt:t=this.InterpolantFactoryMethodLinear;break;case Bt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _t;case this.InterpolantFactoryMethodLinear:return kt;case this.InterpolantFactoryMethodSmooth:return Bt}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=lc(n,i,a),this.values=lc(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&cc(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=lc(this.times),t=lc(this.values),n=this.getValueSize(),r=this.getInterpolation()===Bt,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=t[u+d];if(f!==t[c+d]||f!==t[h+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,A=a*n,m=0;m!==n;++m)t[A+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var v=i*n,g=a*n,y=0;y!==n;++y)t[g+y]=t[v+y];++a}return a!==e.length?(this.times=lc(e,0,a),this.values=lc(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=lc(this.times,0),t=lc(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:uc(e.times,Array),values:uc(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();gc.prototype.TimeBufferType=Float32Array,gc.prototype.ValueBufferType=Float32Array,gc.prototype.DefaultInterpolation=kt;var yc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(gc);yc.prototype.ValueTypeName="bool",yc.prototype.ValueBufferType=Array,yc.prototype.DefaultInterpolation=_t,yc.prototype.InterpolantFactoryMethodLinear=void 0,yc.prototype.InterpolantFactoryMethodSmooth=void 0;var xc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(gc);xc.prototype.ValueTypeName="color";var bc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(gc);bc.prototype.ValueTypeName="number";var wc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i,a){return(0,m.Z)(this,n),t.call(this,e,r,i,a)}return(0,v.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)zn.slerpFlat(i,0,a,l-o,a,l,s);return i}}]),n}(pc),Cc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new wc(this.times,this.values,this.getValueSize(),e)}}]),n}(gc);Cc.prototype.ValueTypeName="quaternion",Cc.prototype.DefaultInterpolation=kt,Cc.prototype.InterpolantFactoryMethodSmooth=void 0;var Ec=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(gc);Ec.prototype.ValueTypeName="string",Ec.prototype.ValueBufferType=Array,Ec.prototype.DefaultInterpolation=_t,Ec.prototype.InterpolantFactoryMethodLinear=void 0,Ec.prototype.InterpolantFactoryMethodSmooth=void 0;var Sc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,m.Z)(this,n),t.apply(this,arguments)}return(0,v.Z)(n)}(gc);Sc.prototype.ValueTypeName="vector";var Ic=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pt;(0,m.Z)(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=an(),this.duration<0&&this.resetDuration()}return(0,v.Z)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Mc(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(gc.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=hc(s);s=dc(s,1,u),l=dc(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new bc(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var h=[];for(var d in r)h.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];fc(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)h[c[d].morphTargets[f]]=-1;for(var p in h){for(var A=[],m=[],v=0;v!==c[d].morphTargets.length;++v){var g=c[d];A.push(g.time),m.push(g.morphTarget===p?1:0)}r.push(new bc(".morphTargetInfluence["+p+"]",A,m))}s=h.length*a}else{var y=".bones["+t[u].name+"]";n(Sc,y+".position",c,"pos",r),n(Cc,y+".quaternion",c,"rot",r),n(Sc,y+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function Mc(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return bc;case"vector":case"vector2":case"vector3":case"vector4":return Sc;case"color":return xc;case"quaternion":return Cc;case"bool":case"boolean":return yc;case"string":return Ec}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];fc(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var _c={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},kc=(0,v.Z)((function e(t,n,r){(0,m.Z)(this,e);var i=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),Bc=new kc,Tc=function(){function e(t){(0,m.Z)(this,e),this.manager=void 0!==t?t:Bc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,v.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),Rc={},Dc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i;return(0,m.Z)(this,n),(i=t.call(this,e)).response=r,i}return(0,v.Z)(n)}((0,i.Z)(Error)),Pc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){return(0,m.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=_c.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===Rc[e]){Rc[e]=[],Rc[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=Rc[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,l=r.value;if(i)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,h=n.length;c<h;c++){var d=n[c];d.onProgress&&d.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new Dc('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){_c.add(e,t);var n=Rc[e];delete Rc[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=Rc[e];if(void 0===n)throw i.manager.itemError(e),t;delete Rc[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else Rc[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(Tc),Lc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){return(0,m.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=_c.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=bn("img");function s(){u(),_c.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(Tc),Qc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){return(0,m.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new dl,o=new Pc(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:be,a.wrapT=void 0!==n.wrapT?n.wrapT:be,a.magFilter=void 0!==n.magFilter?n.magFilter:Ie,a.minFilter=void 0!==n.minFilter?n.minFilter:Ie,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=_e),1===n.mipmapCount&&(a.minFilter=Ie),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(Tc),jc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){return(0,m.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new Nn,a=new Lc(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(Tc),Nc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,m.Z)(this,n),(r=t.call(this)).isLight=!0,r.type="Light",r.color=new Dn(e),r.intensity=i,r}return(0,v.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Hr),Fc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r,i){var a;return(0,m.Z)(this,n),(a=t.call(this,e,i)).isHemisphereLight=!0,a.type="HemisphereLight",a.position.copy(Hr.DEFAULT_UP),a.updateMatrix(),a.groundColor=new Dn(r),a}return(0,v.Z)(n,[{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.groundColor.copy(e.groundColor),this}}]),n}(Nc),Uc=new xr,Oc=new Gn,Zc=new Gn,zc=function(){function e(t){(0,m.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new An(512,512),this.map=null,this.mapPass=null,this.matrix=new xr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ea,this._frameExtents=new An(1,1),this._viewportCount=1,this._viewports=[new Fn(0,0,1,1)]}return(0,v.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;Oc.setFromMatrixPosition(e.matrixWorld),t.position.copy(Oc),Zc.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Zc),t.updateMatrixWorld(),Uc.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Uc),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Uc)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),Gc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this,new zi(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return(0,v.Z)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*rn*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),(0,u.Z)((0,c.Z)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(zc),Hc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return(0,m.Z)(this,n),(i=t.call(this,e,r)).isSpotLight=!0,i.type="SpotLight",i.position.copy(Hr.DEFAULT_UP),i.updateMatrix(),i.target=new Hr,i.distance=a,i.angle=o,i.penumbra=s,i.decay=l,i.map=null,i.shadow=new Gc,i}return(0,v.Z)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Nc),Vc=new xr,Wc=new Gn,qc=new Gn,Yc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this,new zi(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new An(4,2),e._viewportCount=6,e._viewports=[new Fn(2,1,1,1),new Fn(0,1,1,1),new Fn(3,1,1,1),new Fn(1,1,1,1),new Fn(3,0,1,1),new Fn(1,0,1,1)],e._cubeDirections=[new Gn(1,0,0),new Gn(-1,0,0),new Gn(0,0,1),new Gn(0,0,-1),new Gn(0,1,0),new Gn(0,-1,0)],e._cubeUps=[new Gn(0,1,0),new Gn(0,1,0),new Gn(0,1,0),new Gn(0,1,0),new Gn(0,0,1),new Gn(0,0,-1)],e}return(0,v.Z)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Wc.setFromMatrixPosition(e.matrixWorld),n.position.copy(Wc),qc.copy(n.position),qc.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(qc),n.updateMatrixWorld(),r.makeTranslation(-Wc.x,-Wc.y,-Wc.z),Vc.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Vc)}}]),n}(zc),Xc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return(0,m.Z)(this,n),(i=t.call(this,e,r)).isPointLight=!0,i.type="PointLight",i.distance=a,i.decay=o,i.shadow=new Yc,i}return(0,v.Z)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(Nc),Jc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this,new pa(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return(0,v.Z)(n)}(zc),Kc=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i;return(0,m.Z)(this,n),(i=t.call(this,e,r)).isDirectionalLight=!0,i.type="DirectionalLight",i.position.copy(Hr.DEFAULT_UP),i.updateMatrix(),i.target=new Hr,i.shadow=new Jc,i}return(0,v.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(Nc),$c=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i;return(0,m.Z)(this,n),(i=t.call(this,e,r)).isAmbientLight=!0,i.type="AmbientLight",i}return(0,v.Z)(n)}(Nc),eh=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,m.Z)(this,n),(i=t.call(this,e,r)).isRectAreaLight=!0,i.type="RectAreaLight",i.width=a,i.height=o,i}return(0,v.Z)(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(Nc),th=function(){function e(){(0,m.Z)(this,e)}return(0,v.Z)(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),nh=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,m.Z)(this,n),(e=t.call(this)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return(0,v.Z)(n,[{key:"copy",value:function(e){return(0,u.Z)((0,c.Z)(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=(0,u.Z)((0,c.Z)(n.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(xi),rh=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){return(0,m.Z)(this,n),t.call(this,e)}return(0,v.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new Pc(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers,i=r[t],a=new Uint32Array(i).buffer;return n[t]=a,a}(e,i.buffer),o=xn(i.type,a),s=new Os(o,i.stride);return s.uuid=i.uuid,t[r]=s,s}var i=e.isInstancedBufferGeometry?new nh:new xi,a=e.data.index;if(void 0!==a){var o=xn(a.type,a.array);i.setIndex(new li(o,1))}var s=e.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute){var h=r(e.data,u.data);c=new zs(h,u.itemSize,u.offset,u.normalized)}else{var d=xn(u.type,u.array);c=new(u.isInstancedBufferAttribute?ml:li)(d,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),void 0!==u.usage&&c.setUsage(u.usage),void 0!==u.updateRange&&(c.updateRange.offset=u.updateRange.offset,c.updateRange.count=u.updateRange.count),i.setAttribute(l,c)}var f=e.data.morphAttributes;if(f)for(var p in f){for(var A=f[p],m=[],v=0,g=A.length;v<g;v++){var y=A[v],x=void 0;if(y.isInterleavedBufferAttribute){var b=r(e.data,y.data);x=new zs(b,y.itemSize,y.offset,y.normalized)}else{var w=xn(y.type,y.array);x=new li(w,y.itemSize,y.normalized)}void 0!==y.name&&(x.name=y.name),m.push(x)}i.morphAttributes[p]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var C=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==C)for(var E=0,S=C.length;E!==S;++E){var I=C[E];i.addGroup(I.start,I.count,I.materialIndex)}var M=e.data.boundingSphere;if(void 0!==M){var _=new Gn;void 0!==M.center&&_.fromArray(M.center),i.boundingSphere=new hr(_,M.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(Tc),ih=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this,e)).isImageBitmapLoader=!0,"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return(0,v.Z)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=_c.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){_c.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(Tc),ah=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,m.Z)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,v.Z)(e,[{key:"start",value:function(){this.startTime=oh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=oh();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function oh(){return("undefined"===typeof performance?Date:performance).now()}var sh=function(){function e(t,n,r){var i,a,o;switch((0,m.Z)(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,v.Z)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){zn.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;zn.multiplyQuaternionsFlat(e,a,e,t,e,n),zn.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),lh="\\[\\]\\.:\\/",uh=new RegExp("["+lh+"]","g"),ch="[^"+lh+"]",hh="[^"+lh.replace("\\.","")+"]",dh=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ch)+/(WCOD+)?/.source.replace("WCOD",hh)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ch)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ch)+"$"),fh=["material","materials","bones","map"],ph=function(){function e(t,n,r){(0,m.Z)(this,e);var i=r||Ah.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return(0,v.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),Ah=function(){function e(t,n,r){(0,m.Z)(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,v.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(uh,"")}},{key:"parseTrackName",value:function(e){var t=dh.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==fh.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();Ah.Composite=ph,Ah.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ah.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ah.prototype.GetterByBindingType=[Ah.prototype._getValue_direct,Ah.prototype._getValue_array,Ah.prototype._getValue_arrayElement,Ah.prototype._getValue_toArray],Ah.prototype.SetterByBindingTypeAndVersioning=[[Ah.prototype._setValue_direct,Ah.prototype._setValue_direct_setNeedsUpdate,Ah.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ah.prototype._setValue_array,Ah.prototype._setValue_array_setNeedsUpdate,Ah.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ah.prototype._setValue_arrayElement,Ah.prototype._setValue_arrayElement_setNeedsUpdate,Ah.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ah.prototype._setValue_fromArray,Ah.prototype._setValue_fromArray_setNeedsUpdate,Ah.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var mh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;(0,m.Z)(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:Tt,endingEnd:Tt},u=0;u!==o;++u){var c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Mt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,v.Z)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(2501===this.blendMode)for(var c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);else for(var d=0,f=l.length;d!==f;++d)l[d].evaluate(o),u[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=2202===n;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Rt,r.endingEnd=Rt):(r.endingStart=e?this.zeroSlopeAtStart?Rt:Tt:Dt,r.endingEnd=t?this.zeroSlopeAtEnd?Rt:Tt:Dt)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),vh=new Float32Array(1),gh=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,m.Z)(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return(0,v.Z)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var h=r[c],d=h.name,f=u[d];if(void 0!==f)++f.referenceCount,a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(f=new sh(Ah.create(n,d,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),a[c]=f}o[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new mc(new Float32Array(2),new Float32Array(2),1,vh)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?Ic.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:Pt),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var c=new mh(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Ic.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}($t),yh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,m.Z)(this,e),this.ray=new yr(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Tr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,v.Z)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return bh(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(xh),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)bh(e[r],this,n,t);return n.sort(xh),n}}]),e}();function xh(e,t){return e.distance-t.distance}function bh(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)bh(i[a],t,n,!0)}var wh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,m.Z)(this,e),this.radius=t,this.phi=n,this.theta=r,this}return(0,v.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(on(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ch=new An,Eh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new An(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new An(-1/0,-1/0);(0,m.Z)(this,e),this.isBox2=!0,this.min=t,this.max=n}return(0,v.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Ch.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Ch.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();var Sh=function(e){(0,d.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;(0,m.Z)(this,n),a=new Dn(a),o=new Dn(o);for(var s=i/2,l=r/i,u=r/2,c=[],h=[],d=0,f=0,p=-u;d<=i;d++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var A=d===s?a:o;A.toArray(h,f),f+=3,A.toArray(h,f),f+=3,A.toArray(h,f),f+=3,A.toArray(h,f),f+=3}var v=new xi;v.setAttribute("position",new di(c,3)),v.setAttribute("color",new di(h,3));var g=new Cl({vertexColors:!0,toneMapped:!1});return(e=t.call(this,v,g)).type="GridHelper",e}return(0,v.Z)(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Rl);var Ih=function(){function e(){(0,m.Z)(this,e),this.type="ShapePath",this.color=new Dn,this.subPaths=[],this.currentPath=null}return(0,v.Z)(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new hu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[i],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=Hu.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new yu).curves=r.curves,s.push(i),s;var l=!a(o[0].getPoints());l=e?!l:l;var u,c,h=[],d=[],f=[],p=0;d[p]=void 0,f[p]=[];for(var A=0,m=o.length;A<m;A++)n=a(u=(r=o[A]).getPoints()),(n=e?!n:n)?(!l&&d[p]&&p++,d[p]={s:new yu,p:u},d[p].s.curves=r.curves,l&&p++,f[p]=[]):f[p].push({h:r,p:u[0]});if(!d[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new yu;a.curves=i.curves,t.push(a)}return t}(o);if(d.length>1){for(var v=!1,g=0,y=0,x=d.length;y<x;y++)h[y]=[];for(var b=0,w=d.length;b<w;b++)for(var C=f[b],E=0;E<C.length;E++){for(var S=C[E],I=!0,M=0;M<d.length;M++)t(S.p,d[M].p)&&(b!==M&&g++,I?(I=!1,h[M].push(S)):v=!0);I&&h[b].push(S)}g>0&&!1===v&&(f=h)}for(var _=0,k=d.length;_<k;_++){i=d[_].s,s.push(i);for(var B=0,T=(c=f[_]).length;B<T;B++)i.holes.push(c[B].h)}return s}}]),e}(),Mh=_h();function _h(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64),c=1;c<1024;++c){for(var h=c<<13,d=0;0===(8388608&h);)h<<=1,d-=8388608;h&=-8388609,d+=947912704,s[c]=h|d}for(var f=1024;f<2048;++f)s[f]=939524096+(f-1024<<13);for(var p=1;p<31;++p)l[p]=p<<23;l[31]=1199570944,l[32]=2147483648;for(var A=33;A<63;++A)l[A]=2147483648+(A-32<<23);l[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(u[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:l,offsetTable:u}}var kh=Object.freeze({__proto__:null,fromHalfFloat:function(e){var t=e>>10;return Mh.uint32View[0]=Mh.mantissaTable[Mh.offsetTable[t]+(1023&e)]+Mh.exponentTable[t],Mh.floatView[0]},toHalfFloat:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=on(e,-65504,65504),Mh.floatView[0]=e;var t=Mh.uint32View[0],n=t>>23&511;return Mh.baseTable[n]+((8388607&t)>>Mh.shiftTable[n])}});"undefined"!==typeof Kt&&Kt.dispatchEvent(new CustomEvent("register",{detail:{revision:g}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=g)},2038:function(e,t,n){"use strict";n.d(t,{GZ:function(){return Ae},HT:function(){return te},T8:function(){return se},TD:function(){return oe},Xo:function(){return pe}});var r=function(e){return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};try{URL.revokeObjectURL(r(""))}catch(me){r=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},function(e){return new Worker(e,{type:"module"})}}var i=Uint8Array,a=Uint16Array,o=Uint32Array,s=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=function(e,t){for(var n=new a(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new o(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},h=c(s,2),d=h[0],f=h[1];d[28]=258,f[258]=28;for(var p=c(l,0),A=p[0],m=p[1],v=new a(32768),g=0;g<32768;++g){var y=(43690&g)>>>1|(21845&g)<<1;y=(61680&(y=(52428&y)>>>2|(13107&y)<<2))>>>4|(3855&y)<<4,v[g]=((65280&y)>>>8|(255&y)<<8)>>>1}var x=function(e,t,n){for(var r=e.length,i=0,o=new a(t);i<r;++i)++o[e[i]-1];var s,l=new a(t);for(i=0;i<t;++i)l[i]=l[i-1]+o[i-1]<<1;if(n){s=new a(1<<t);var u=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],h=t-e[i],d=l[e[i]-1]++<<h,f=d|(1<<h)-1;d<=f;++d)s[v[d]>>>u]=c}else for(s=new a(r),i=0;i<r;++i)e[i]&&(s[i]=v[l[e[i]-1]++]>>>15-e[i]);return s},b=new i(288);for(g=0;g<144;++g)b[g]=8;for(g=144;g<256;++g)b[g]=9;for(g=256;g<280;++g)b[g]=7;for(g=280;g<288;++g)b[g]=8;var w=new i(32);for(g=0;g<32;++g)w[g]=5;var C=x(b,9,0),E=x(b,9,1),S=x(w,5,0),I=x(w,5,1),M=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},_=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},k=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},B=function(e){return(e/8|0)+(7&e&&1)},T=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof a?a:e instanceof o?o:i)(n-t);return r.set(e.subarray(t,n)),r},R=function(e,t,n){var r=e.length;if(!r||n&&!n.l&&r<5)return t||new i(0);var a=!t||n,o=!n||n.i;n||(n={}),t||(t=new i(3*r));var c=function(e){var n=t.length;if(e>n){var r=new i(Math.max(2*n,e));r.set(t),t=r}},h=n.f||0,f=n.p||0,p=n.b||0,m=n.l,v=n.d,g=n.m,y=n.n,b=8*r;do{if(!m){n.f=h=_(e,f,1);var w=_(e,f+1,3);if(f+=3,!w){var C=e[(O=B(f)+4)-4]|e[O-3]<<8,S=O+C;if(S>r){if(o)throw"unexpected EOF";break}a&&c(p+C),t.set(e.subarray(O,S),p),n.b=p+=C,n.p=f=8*S;continue}if(1==w)m=E,v=I,g=9,y=5;else{if(2!=w)throw"invalid block type";var R=_(e,f,31)+257,D=_(e,f+10,15)+4,P=R+_(e,f+5,31)+1;f+=14;for(var L=new i(P),Q=new i(19),j=0;j<D;++j)Q[u[j]]=_(e,f+3*j,7);f+=3*D;var N=M(Q),F=(1<<N)-1,U=x(Q,N,1);for(j=0;j<P;){var O,Z=U[_(e,f,F)];if(f+=15&Z,(O=Z>>>4)<16)L[j++]=O;else{var z=0,G=0;for(16==O?(G=3+_(e,f,3),f+=2,z=L[j-1]):17==O?(G=3+_(e,f,7),f+=3):18==O&&(G=11+_(e,f,127),f+=7);G--;)L[j++]=z}}var H=L.subarray(0,R),V=L.subarray(R);g=M(H),y=M(V),m=x(H,g,1),v=x(V,y,1)}if(f>b){if(o)throw"unexpected EOF";break}}a&&c(p+131072);for(var W=(1<<g)-1,q=(1<<y)-1,Y=f;;Y=f){var X=(z=m[k(e,f)&W])>>>4;if((f+=15&z)>b){if(o)throw"unexpected EOF";break}if(!z)throw"invalid length/literal";if(X<256)t[p++]=X;else{if(256==X){Y=f,m=null;break}var J=X-254;if(X>264){var K=s[j=X-257];J=_(e,f,(1<<K)-1)+d[j],f+=K}var $=v[k(e,f)&q],ee=$>>>4;if(!$)throw"invalid distance";f+=15&$;V=A[ee];if(ee>3){K=l[ee];V+=k(e,f)&(1<<K)-1,f+=K}if(f>b){if(o)throw"unexpected EOF";break}a&&c(p+131072);for(var te=p+J;p<te;p+=4)t[p]=t[p-V],t[p+1]=t[p+1-V],t[p+2]=t[p+2-V],t[p+3]=t[p+3-V];p=te}}n.l=m,n.p=Y,n.b=p,m&&(h=1,n.m=g,n.d=v,n.n=y)}while(!h);return p==t.length?t:T(t,0,p)},D=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},P=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},L=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,s=n.slice();if(!o)return[Z,0];if(1==o){var l=new i(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var u=n[0],c=n[1],h=0,d=1,f=2;for(n[0]={s:-1,f:u.f+c.f,l:u,r:c};d!=o-1;)u=n[n[h].f<n[f].f?h++:f++],c=n[h!=d&&n[h].f<n[f].f?h++:f++],n[d++]={s:-1,f:u.f+c.f,l:u,r:c};var p=s[0].s;for(r=1;r<o;++r)s[r].s>p&&(p=s[r].s);var A=new a(p+1),m=Q(n[d-1],A,0);if(m>t){r=0;var v=0,g=m-t,y=1<<g;for(s.sort((function(e,t){return A[t.s]-A[e.s]||e.f-t.f}));r<o;++r){var x=s[r].s;if(!(A[x]>t))break;v+=y-(1<<m-A[x]),A[x]=t}for(v>>>=g;v>0;){var b=s[r].s;A[b]<t?v-=1<<t-A[b]++-1:++r}for(;r>=0&&v;--r){var w=s[r].s;A[w]==t&&(--A[w],++v)}m=t}return[new i(A),m]},Q=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},j=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new a(++t),r=0,i=e[0],o=1,s=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==i&&l!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[l]}return[n.subarray(0,r),t]},N=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},F=function(e,t,n){var r=n.length,i=B(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var a=0;a<r;++a)e[i+a+4]=n[a];return 8*(i+4+r)},U=function(e,t,n,r,i,o,c,h,d,f,p){D(t,p++,n),++i[256];for(var A=L(i,15),m=A[0],v=A[1],g=L(o,15),y=g[0],E=g[1],I=j(m),M=I[0],_=I[1],k=j(y),B=k[0],T=k[1],R=new a(19),Q=0;Q<M.length;++Q)R[31&M[Q]]++;for(Q=0;Q<B.length;++Q)R[31&B[Q]]++;for(var U=L(R,7),O=U[0],Z=U[1],z=19;z>4&&!O[u[z-1]];--z);var G,H,V,W,q=f+5<<3,Y=N(i,b)+N(o,w)+c,X=N(i,m)+N(o,y)+c+14+3*z+N(R,O)+(2*R[16]+3*R[17]+7*R[18]);if(q<=Y&&q<=X)return F(t,p,e.subarray(d,d+f));if(D(t,p,1+(X<Y)),p+=2,X<Y){G=x(m,v,0),H=m,V=x(y,E,0),W=y;var J=x(O,Z,0);D(t,p,_-257),D(t,p+5,T-1),D(t,p+10,z-4),p+=14;for(Q=0;Q<z;++Q)D(t,p+3*Q,O[u[Q]]);p+=3*z;for(var K=[M,B],$=0;$<2;++$){var ee=K[$];for(Q=0;Q<ee.length;++Q){var te=31&ee[Q];D(t,p,J[te]),p+=O[te],te>15&&(D(t,p,ee[Q]>>>5&127),p+=ee[Q]>>>12)}}}else G=C,H=b,V=S,W=w;for(Q=0;Q<h;++Q)if(r[Q]>255){te=r[Q]>>>18&31;P(t,p,G[te+257]),p+=H[te+257],te>7&&(D(t,p,r[Q]>>>23&31),p+=s[te]);var ne=31&r[Q];P(t,p,V[ne]),p+=W[ne],ne>3&&(P(t,p,r[Q]>>>5&8191),p+=l[ne])}else P(t,p,G[r[Q]]),p+=H[r[Q]];return P(t,p,G[256]),p+H[256]},O=new o([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z=new i(0),z=function(e,t,n,r,u,c){var h=e.length,d=new i(r+h+5*(1+Math.ceil(h/7e3))+u),p=d.subarray(r,d.length-u),A=0;if(!t||h<8)for(var v=0;v<=h;v+=65535){var g=v+65535;g<h?A=F(p,A,e.subarray(v,g)):(p[v]=c,A=F(p,A,e.subarray(v,h)))}else{for(var y=O[t-1],x=y>>>13,b=8191&y,w=(1<<n)-1,C=new a(32768),E=new a(w+1),S=Math.ceil(n/3),I=2*S,M=function(t){return(e[t]^e[t+1]<<S^e[t+2]<<I)&w},_=new o(25e3),k=new a(288),R=new a(32),D=0,P=0,L=(v=0,0),Q=0,j=0;v<h;++v){var N=M(v),z=32767&v,G=E[N];if(C[z]=G,E[N]=z,Q<=v){var H=h-v;if((D>7e3||L>24576)&&H>423){A=U(e,p,0,_,k,R,P,L,j,v-j,A),L=D=P=0,j=v;for(var V=0;V<286;++V)k[V]=0;for(V=0;V<30;++V)R[V]=0}var W=2,q=0,Y=b,X=z-G&32767;if(H>2&&N==M(v-X))for(var J=Math.min(x,H)-1,K=Math.min(32767,v),$=Math.min(258,H);X<=K&&--Y&&z!=G;){if(e[v+W]==e[v+W-X]){for(var ee=0;ee<$&&e[v+ee]==e[v+ee-X];++ee);if(ee>W){if(W=ee,q=X,ee>J)break;var te=Math.min(X,ee-2),ne=0;for(V=0;V<te;++V){var re=v-X+V+32768&32767,ie=re-C[re]+32768&32767;ie>ne&&(ne=ie,G=re)}}}X+=(z=G)-(G=C[z])+32768&32767}if(q){_[L++]=268435456|f[W]<<18|m[q];var ae=31&f[W],oe=31&m[q];P+=s[ae]+l[oe],++k[257+ae],++R[oe],Q=v+W,++D}else _[L++]=e[v],++k[e[v]]}}A=U(e,p,c,_,k,R,P,L,j,v-j,A),!c&&7&A&&(A=F(p,A+1,Z))}return T(d,0,r+B(A)+u)},G=function(){for(var e=new o(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),H=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=G[255&n^t[r]]^n>>>8;e=n},d:function(){return~e}}},V=function(e,t,n,r,i){return z(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!i)},W=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},q=function(e,t){return e[t]|e[t+1]<<8},Y=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},X=function(e,t){return Y(e,t)+4294967296*Y(e,t+4)},J=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},K=function(e){if(8!=(15&e[0])||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function $(e,t){return V(e,t||{},0,0)}function ee(e,t){return R(e,t)}function te(e,t){return R((K(e),e.subarray(2,-4)),t)}var ne=function e(t,n,r,a){for(var o in t){var s=t[o],l=n+o;s instanceof i?r[l]=[s,a]:Array.isArray(s)?r[l]=[s[0],W(a,s[1])]:e(s,l+"/",r,a)}},re="undefined"!=typeof TextEncoder&&new TextEncoder,ie="undefined"!=typeof TextDecoder&&new TextDecoder;try{ie.decode(Z,{stream:!0}),1}catch(me){}var ae=function(e){for(var t="",n=0;;){var r=e[n++],i=(r>127)+(r>223)+(r>239);if(n+i>e.length)return[t,T(e,n-1)];i?3==i?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=1&i?String.fromCharCode((31&r)<<6|63&e[n++]):String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}};function oe(e,t){if(t){for(var n=new i(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}if(re)return re.encode(e);var a=e.length,o=new i(e.length+(e.length>>1)),s=0,l=function(e){o[s++]=e};for(r=0;r<a;++r){if(s+5>o.length){var u=new i(s+8+(a-r<<1));u.set(o),o=u}var c=e.charCodeAt(r);c<128||t?l(c):c<2048?(l(192|c>>6),l(128|63&c)):c>55295&&c<57344?(l(240|(c=65536+(1047552&c)|1023&e.charCodeAt(++r))>>18),l(128|c>>12&63),l(128|c>>6&63),l(128|63&c)):(l(224|c>>12),l(128|c>>6&63),l(128|63&c))}return T(o,0,s)}function se(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if(ie)return ie.decode(e);var i=ae(e),a=i[0];if(i[1].length)throw"invalid utf-8 data";return a}var le=function(e,t){return t+30+q(e,t+26)+q(e,t+28)},ue=function(e,t,n){var r=q(e,t+28),i=se(e.subarray(t+46,t+46+r),!(2048&q(e,t+8))),a=t+46+r,o=Y(e,t+20),s=n&&4294967295==o?ce(e,a):[o,Y(e,t+24),Y(e,t+42)],l=s[0],u=s[1],c=s[2];return[q(e,t+10),l,u,i,a+q(e,t+30)+q(e,t+32),c]},ce=function(e,t){for(;1!=q(e,t);t+=4+q(e,t+2));return[X(e,t+12),X(e,t+4),X(e,t+20)]},he=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;if(r>65535)throw"extra field too long";t+=r+4}return t},de=function(e,t,n,r,i,a,o,s){var l=r.length,u=n.extra,c=s&&s.length,h=he(u);J(e,t,null!=o?33639248:67324752),t+=4,null!=o&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(null==a&&8),e[t++]=i&&8,e[t++]=255&n.compression,e[t++]=n.compression>>8;var d=new Date(null==n.mtime?Date.now():n.mtime),f=d.getFullYear()-1980;if(f<0||f>119)throw"date not in range 1980-2099";if(J(e,t,f<<25|d.getMonth()+1<<21|d.getDate()<<16|d.getHours()<<11|d.getMinutes()<<5|d.getSeconds()>>>1),t+=4,null!=a&&(J(e,t,n.crc),J(e,t+4,a),J(e,t+8,n.size)),J(e,t+12,l),J(e,t+14,h),t+=16,null!=o&&(J(e,t,c),J(e,t+6,n.attrs),J(e,t+10,o),t+=14),e.set(r,t),t+=l,h)for(var p in u){var A=u[p],m=A.length;J(e,t,+p),J(e,t+2,m),e.set(A,t+4),t+=4+m}return c&&(e.set(s,t),t+=c),t},fe=function(e,t,n,r,i){J(e,t,101010256),J(e,t+8,n),J(e,t+10,n),J(e,t+12,r),J(e,t+16,i)};function pe(e,t){t||(t={});var n={},r=[];ne(e,"",n,t);var a=0,o=0;for(var s in n){var l=n[s],u=l[0],c=l[1],h=0==c.level?0:8,d=(E=oe(s)).length,f=c.comment,p=f&&oe(f),A=p&&p.length,m=he(c.extra);if(d>65535)throw"filename too long";var v=h?$(u,c):u,g=v.length,y=H();y.p(u),r.push(W(c,{size:u.length,crc:y.d(),c:v,f:E,m:p,u:d!=s.length||p&&f.length!=A,o:a,compression:h})),a+=30+d+m+g,o+=76+2*(d+m)+(A||0)+g}for(var x=new i(o+22),b=a,w=o-a,C=0;C<r.length;++C){var E=r[C];de(x,E.o,E,E.f,E.u,E.c.length);var S=30+E.f.length+he(E.extra);x.set(E.c,E.o+S),de(x,a,E,E.f,E.u,E.c.length,E.o,E.m),a+=16+S+(E.m?E.m.length:0)}return fe(x,a,r.length,w,b),x}function Ae(e){for(var t={},n=e.length-22;101010256!=Y(e,n);--n)if(!n||e.length-n>65558)throw"invalid zip file";var r=q(e,n+8);if(!r)return{};var a=Y(e,n+16),o=4294967295==a;if(o){if(n=Y(e,n-12),101075792!=Y(e,n))throw"invalid zip file";r=Y(e,n+32),a=Y(e,n+48)}for(var s=0;s<r;++s){var l=ue(e,a,o),u=l[0],c=l[1],h=l[2],d=l[3],f=l[4],p=l[5],A=le(e,p);if(a=f,u){if(8!=u)throw"unknown compression type "+u;t[d]=ee(e.subarray(A,A+c),new i(h))}else t[d]=T(e,A,A+c)}return t}},7531:function(e,t,n){"use strict";n.r(t),n.d(t,{DRACOLoader:function(){return u}});var r=n(5671),i=n(3144),a=n(136),o=n(9388),s=n(3272),l=new WeakMap,u=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).decoderPath="",i.decoderConfig={},i.decoderBinary=null,i.decoderPending=null,i.workerLimit=4,i.workerPool=[],i.workerNextTaskID=1,i.workerSourceURL="",i.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},i.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},i}return(0,i.Z)(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var i=this,a=new s.hH6(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){i.decodeDracoFile(e,t).catch(r)}),n,r)}},{key:"parse",value:function(e,t,n){this.decodeDracoFile(e,t).catch(n)}},{key:"decodeDracoFile",value:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};return this.decodeGeometry(e,i).then(t)}},{key:"decodeGeometry",value:function(e,t){var n,r=this,i=JSON.stringify(t);if(l.has(e)){var a=l.get(e);if(a.key===i)return a.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var o=this.workerNextTaskID++,s=e.byteLength,u=this._getWorker(o,s).then((function(r){return n=r,new Promise((function(r,i){n._callbacks[o]={resolve:r,reject:i},n.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))})).then((function(e){return r._createGeometry(e.geometry)}));return u.catch((function(){return!0})).then((function(){n&&o&&r._releaseTask(n,o)})),l.set(e,{key:i,promise:u}),u}},{key:"_createGeometry",value:function(e){var t=new s.u9r;e.index&&t.setIndex(new s.TlE(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,a=r.array,o=r.itemSize;t.setAttribute(i,new s.TlE(a,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new s.hH6(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=c.toString(),a=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var i=n.workerPool[n.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}]),n}(s.aNw);function c(){var e,t;function n(e,t,n,r,i,a){var o=a.num_components(),s=n.num_points()*o,l=s*i.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),c=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,a,u,l,c);var h=new i(e.HEAPF32.buffer,c,s).slice();return e._free(c),{name:r,array:h,itemSize:o}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,o=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var l=function(e,t,r,i){var a,o,s=i.attributeIDs,l=i.attributeTypes,u=t.GetEncodedGeometryType(r);if(u===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(r,a);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var c={index:null,attributes:[]};for(var h in s){var d=self[l[h]],f=void 0,p=void 0;if(i.useUniqueIDs)p=s[h],f=t.GetAttributeByUniqueId(a,p);else{if(-1===(p=t.GetAttributeId(a,e[s[h]])))continue;f=t.GetAttribute(a,p)}c.attributes.push(n(e,t,a,h,d,f))}u===e.TRIANGULAR_MESH&&(c.index=function(e,t,n){var r=n.num_faces(),i=3*r,a=4*i,o=e._malloc(a);t.GetTrianglesUInt32Array(n,a,o);var s=new Uint32Array(e.HEAPF32.buffer,o,i).slice();return e._free(o),{array:s,itemSize:1}}(e,t,a));return e.destroy(a),c}(t,r,s,o),u=l.attributes.map((function(e){return e.array.buffer}));l.index&&u.push(l.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:l},u)}catch(c){console.error(c),self.postMessage({type:"error",id:i.id,error:c.message})}finally{t.destroy(s),t.destroy(r)}}))}}}},2605:function(e,t,n){"use strict";n.r(t),n.d(t,{GLTFLoader:function(){return A},revokeTextureUrls:function(){return p}});var r=n(9439),i=n(1752),a=n(1120),o=n(7762),s=n(5671),l=n(3144),u=n(136),c=n(9388),h=n(3272),d=n(3853),f=!0;function p(e){f=e}var A=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,e)).dracoLoader=null,r.ktx2Loader=null,r.meshoptDecoder=null,r.pluginCallbacks=[],r.register((function(e){return new b(e)})),r.register((function(e){return new _(e)})),r.register((function(e){return new k(e)})),r.register((function(e){return new C(e)})),r.register((function(e){return new E(e)})),r.register((function(e){return new S(e)})),r.register((function(e){return new I(e)})),r.register((function(e){return new x(e)})),r.register((function(e){return new M(e)})),r.register((function(e){return new w(e)})),r.register((function(e){return new g(e)})),r.register((function(e){return new B(e)})),r.register((function(e){return new T(e)})),r}return(0,l.Z)(n,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:h.Zp0.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new h.hH6(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(r){o(r)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},o={},s=new TextDecoder;if("string"===typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer){if(s.decode(new Uint8Array(e,0,4))===R){try{a[v.KHR_BINARY_GLTF]=new L(e)}catch(p){return void(r&&r(p))}i=JSON.parse(a[v.KHR_BINARY_GLTF].content)}else i=JSON.parse(s.decode(e))}else i=e;if(void 0===i.asset||i.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new oe(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(var u=0;u<this.pluginCallbacks.length;u++){var c=this.pluginCallbacks[u](l);o[c.name]=c,a[c.name]=!0}if(i.extensionsUsed)for(var h=0;h<i.extensionsUsed.length;++h){var d=i.extensionsUsed[h],f=i.extensionsRequired||[];switch(d){case v.KHR_MATERIALS_UNLIT:a[d]=new y;break;case v.KHR_DRACO_MESH_COMPRESSION:a[d]=new Q(i,this.dracoLoader);break;case v.KHR_TEXTURE_TRANSFORM:a[d]=new j;break;case v.KHR_MESH_QUANTIZATION:a[d]=new N;break;default:f.indexOf(d)>=0&&void 0===o[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(h.aNw);function m(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var v={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},g=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,l.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new h.Ilk(16777215);void 0!==o.color&&s.fromArray(o.color);var l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new h.Ox3(s)).target.position.set(0,0,0),i.add(i.target);break;case"point":(i=new h.cek(s)).distance=l;break;case"spot":(i=new h.PMe(s)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,0),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,ee(i,o),void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),y=function(){function e(){(0,s.Z)(this,e),this.name=v.KHR_MATERIALS_UNLIT}return(0,l.Z)(e,[{key:"getMaterialType",value:function(){return h.vBJ}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new h.Ilk(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,h.knz))}return Promise.all(r)}}]),e}(),x=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_EMISSIVE_STRENGTH}return(0,l.Z)(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),b=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_CLEARCOAT}return(0,l.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?h.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new h.FM8(o,o)}return Promise.all(i)}}]),e}(),w=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_IRIDESCENCE}return(0,l.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?h.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),C=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_SHEEN}return(0,l.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?h.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new h.Ilk(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,h.knz)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),E=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_TRANSMISSION}return(0,l.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?h.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),S=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_VOLUME}return(0,l.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?h.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new h.Ilk(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),I=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_IOR}return(0,l.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?h.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),M=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_MATERIALS_SPECULAR}return(0,l.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?h.EJi:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new h.Ilk(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,h.knz)),Promise.all(i)}}]),e}(),_=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.KHR_TEXTURE_BASISU}return(0,l.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),k=function(){function e(t){(0,s.Z)(this,e),this.parser=t,this.name=v.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,l.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var l=n.options.manager.getHandler(o.uri);null!==l&&(s=l)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),B=function(){function e(t){(0,s.Z)(this,e),this.name=v.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,l.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),T=function(){function e(t){(0,s.Z)(this,e),this.name=v.EXT_MESH_GPU_INSTANCING,this.parser=t}return(0,l.Z)(e,[{key:"createNodeMesh",value:function(e){var t=this,n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;var i,a=n.meshes[r.mesh],s=(0,o.Z)(a.primitives);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(l.mode!==Z.TRIANGLES&&l.mode!==Z.TRIANGLE_STRIP&&l.mode!==Z.TRIANGLE_FAN&&void 0!==l.mode)return null}}catch(A){s.e(A)}finally{s.f()}var u=r.extensions[this.name].attributes,c=[],d={},f=function(e){c.push(t.parser.getDependency("accessor",u[e]).then((function(t){return d[e]=t,d[e]})))};for(var p in u)f(p);return c.length<1?null:(c.push(this.parser.createNodeMesh(e)),Promise.all(c).then((function(e){var n,r=e.pop(),i=r.isGroup?r.children:[r],a=e[0].count,s=[],l=(0,o.Z)(i);try{for(l.s();!(n=l.n()).done;){for(var u=n.value,c=new h.yGw,f=new h.Pa4,p=new h._fP,m=new h.Pa4(1,1,1),v=new h.SPe(u.geometry,u.material,a),g=0;g<a;g++)d.TRANSLATION&&f.fromBufferAttribute(d.TRANSLATION,g),d.ROTATION&&p.fromBufferAttribute(d.ROTATION,g),d.SCALE&&m.fromBufferAttribute(d.SCALE,g),v.setMatrixAt(g,c.compose(f,p,m));for(var y in d)"TRANSLATION"!==y&&"ROTATION"!==y&&"SCALE"!==y&&u.geometry.setAttribute(y,d[y]);h.Tme.prototype.copy.call(v,u),v.frustumCulled=!1,t.parser.assignFinalMaterial(v),s.push(v)}}catch(A){l.e(A)}finally{l.f()}return r.isGroup?(r.clear(),r.add.apply(r,s),r):s[0]})))}}]),e}(),R="glTF",D=1313821514,P=5130562,L=(0,l.Z)((function e(t){(0,s.Z)(this,e),this.name=v.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==R)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var i=this.header.length-12,a=new DataView(t,12),o=0;o<i;){var l=a.getUint32(o,!0);o+=4;var u=a.getUint32(o,!0);if(o+=4,u===D){var c=new Uint8Array(t,12+o,l);this.content=r.decode(c)}else if(u===P){var h=12+o;this.body=t.slice(h,h+l)}o+=l}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),Q=function(){function e(t,n){if((0,s.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=v.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,l.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var u in a){var c=W[u]||u.toLowerCase();o[c]=a[u]}for(var h in e.attributes){var d=W[h]||h.toLowerCase();if(void 0!==a[h]){var f=n.accessors[e.attributes[h]],p=z[f.componentType];l[d]=p.name,s[d]=!0===f.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,l)}))}))}}]),e}(),j=function(){function e(){(0,s.Z)(this,e),this.name=v.KHR_TEXTURE_TRANSFORM}return(0,l.Z)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),N=(0,l.Z)((function e(){(0,s.Z)(this,e),this.name=v.KHR_MESH_QUANTIZATION})),F=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(e,r,i,a){return(0,s.Z)(this,n),t.call(this,e,r,i,a)}return(0,l.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=r-t,c=(n-t)/u,h=c*c,d=h*c,f=e*l,p=f-l,A=-2*d+3*h,m=d-h,v=1-A,g=m-h+c,y=0;y!==o;y++){var x=a[p+y+o],b=a[p+y+s]*u,w=a[f+y+o],C=a[f+y]*u;i[y]=v*x+g*b+A*w+m*C}return i}}]),n}(h._C8),U=new h._fP,O=function(e){(0,u.Z)(n,e);var t=(0,c.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,l.Z)(n,[{key:"interpolate_",value:function(e,t,r,o){var s=(0,i.Z)((0,a.Z)(n.prototype),"interpolate_",this).call(this,e,t,r,o);return U.fromArray(s).normalize().toArray(s),s}}]),n}(F),Z={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},z={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},G={9728:h.TyD,9729:h.wem,9984:h.YLQ,9985:h.qyh,9986:h.aH4,9987:h.D1R},H={33071:h.uWy,33648:h.OoA,10497:h.rpg},V={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},W={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},q={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Y={CUBICSPLINE:void 0,LINEAR:h.NMF,STEP:h.Syv},X="OPAQUE",J="MASK",K="BLEND";function $(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function ee(e,t){void 0!==t.extras&&("object"===typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function te(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function ne(e){var t=e.extensions&&e.extensions[v.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+re(t.attributes):e.indices+":"+re(e.attributes)+":"+e.mode}function re(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function ie(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var ae=new h.yGw,oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new m,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var r=!1,i=!1,a=-1;"undefined"!==typeof navigator&&(r=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=(i=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"===typeof createImageBitmap||r||i&&a<98?this.textureLoader=new h.dpR(this.options.manager):this.textureLoader=new h.QRU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new h.hH6(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,l.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};$(i,a,r),ee(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var i=this;if(e.refs[t]<=1)return n;var a=n.clone();return function e(t,n){var a=i.associations.get(t);null!=a&&i.associations.set(n,a);var s,l=(0,o.Z)(t.children.entries());try{for(l.s();!(s=l.n()).done;){var u=(0,r.Z)(s.value,2),c=u[0];e(u[1],n.children[c])}}catch(h){l.e(h)}finally{l.f()}}(n,a),a.name+="_instance_"+e.uses[t]++,a}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(!(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)}))))throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[v.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(h.Zp0.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){var i=V[r.type],a=z[r.componentType],o=!0===r.normalized,s=new a(r.count*i);return Promise.resolve(new h.TlE(s,i,o))}var l=[];return void 0!==r.bufferView?l.push(this.getDependency("bufferView",r.bufferView)):l.push(null),void 0!==r.sparse&&(l.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(l).then((function(e){var i,a,o=e[0],s=V[r.type],l=z[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,d=r.byteOffset||0,f=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,p=!0===r.normalized;if(f&&f!==c){var A=Math.floor(d/f),m="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+A+":"+r.count,v=t.cache.get(m);v||(i=new l(o,A*f,r.count*f/u),v=new h.vpT(i,f/u),t.cache.add(m,v)),a=new h.kB5(v,s,d%f/u,p)}else i=null===o?new l(r.count*s):new l(o,d,r.count*s),a=new h.TlE(i,s,p);if(void 0!==r.sparse){var g=V.SCALAR,y=z[r.sparse.indices.componentType],x=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,w=new y(e[1],x,r.sparse.count*g),C=new l(e[2],b,r.sparse.count*s);null!==o&&(a=new h.TlE(a.array.slice(),a.itemSize,a.normalized));for(var E=0,S=w.length;E<S;E++){var I=w[E];if(a.setX(I,C[E*s]),s>=2&&a.setY(I,C[E*s+1]),s>=3&&a.setZ(I,C[E*s+2]),s>=4&&a.setW(I,C[E*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||o.name||"";var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=G[n.magFilter]||h.wem,t.minFilter=G[n.minFilter]||h.D1R,t.wrapS=H[n.wrapS]||h.rpg,t.wrapT=H[n.wrapT]||h.rpg,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=l,l}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var l=Promise.resolve(o).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new h.xEZ(e);t.needsUpdate=!0,n(t)}),t.load(h.Zp0.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&(f?a.revokeObjectURL(o):e.image.src=o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=l,l}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[v.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[v.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[v.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new h.UY4,h.F5T.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var l="LineBasicMaterial:"+n.uuid,u=this.cache.get(l);u||(u=new h.nls,h.F5T.prototype.copy.call(u,n),u.color.copy(n.color),this.cache.add(l,u)),n=u}if(r||i||a){var c="ClonedMaterial:"+n.uuid+":";r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),a&&(c+="flat-shading:");var d=this.cache.get(c);d||(d=n.clone(),i&&(d.vertexColors=!0),a&&(d.flatShading=!0),r&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(c,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return h.Wid}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=[];if((a.extensions||{})[v.KHR_MATERIALS_UNLIT]){var l=i[v.KHR_MATERIALS_UNLIT];t=l.getMaterialType(),s.push(l.extendParams(o,a,n))}else{var u=a.pbrMetallicRoughness||{};if(o.color=new h.Ilk(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){var c=u.baseColorFactor;o.color.fromArray(c),o.opacity=c[3]}void 0!==u.baseColorTexture&&s.push(n.assignTexture(o,"map",u.baseColorTexture,h.knz)),o.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,o.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(s.push(n.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),s.push(n.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),s.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=h.ehD);var d=a.alphaMode||X;if(d===K?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,d===J&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==h.vBJ&&(s.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new h.FM8(1,1),void 0!==a.normalTexture.scale)){var f=a.normalTexture.scale;o.normalScale.set(f,f)}return void 0!==a.occlusionTexture&&t!==h.vBJ&&(s.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==h.vBJ&&(o.emissive=(new h.Ilk).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==h.vBJ&&s.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,h.knz)),Promise.all(s).then((function(){var r=new t(o);return a.name&&(r.name=a.name),ee(r,a),n.associations.set(r,{materials:e}),a.extensions&&$(i,r,a),r}))}},{key:"createUniqueName",value:function(e){for(var t=h.iUV.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[v.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return se(n,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var l=e[o],u=ne(l),c=r[u];if(c)a.push(c.promise);else{var d=void 0;d=l.extensions&&l.extensions[v.KHR_DRACO_MESH_COMPRESSION]?i(l):se(new h.u9r,l,t),r[u]={primitive:l,promise:d},a.push(d)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,i=this.extensions,a=r.meshes[e],o=a.primitives,s=[],l=0,u=o.length;l<u;l++){var c=void 0===o[l].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new h.Wid({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:h.Wl3})),t.DefaultMaterial):this.getDependency("material",o[l].material);s.push(c)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],l=[],u=0,c=s.length;u<c;u++){var f=s[u],p=o[u],A=void 0,m=r[u];if(p.mode===Z.TRIANGLES||p.mode===Z.TRIANGLE_STRIP||p.mode===Z.TRIANGLE_FAN||void 0===p.mode)!0!==(A=!0===a.isSkinnedMesh?new h.TUv(f,m):new h.Kj0(f,m)).isSkinnedMesh||A.geometry.attributes.skinWeight.normalized||A.normalizeSkinWeights(),p.mode===Z.TRIANGLE_STRIP?A.geometry=(0,d.Vs)(A.geometry,h.UlW):p.mode===Z.TRIANGLE_FAN&&(A.geometry=(0,d.Vs)(A.geometry,h.z$h));else if(p.mode===Z.LINES)A=new h.ejS(f,m);else if(p.mode===Z.LINE_STRIP)A=new h.x12(f,m);else if(p.mode===Z.LINE_LOOP)A=new h.blk(f,m);else{if(p.mode!==Z.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);A=new h.woe(f,m)}Object.keys(A.geometry.morphAttributes).length>0&&te(A,a),A.name=n.createUniqueName(a.name||"mesh_"+e),ee(A,a),p.extensions&&$(i,A,p),n.assignFinalMaterial(A),l.push(A)}for(var v=0,g=l.length;v<g;v++)n.associations.set(l[v],{meshes:e,primitives:v});if(1===l.length)return l[0];var y=new h.ZAu;n.associations.set(y,{meshes:e});for(var x=0,b=l.length;x<b;x++)y.add(l[x]);return y}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new h.cPb(h.M8C.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new h.iKG(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),ee(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){for(var t=this.json.skins[e],n=[],r=0,i=t.joints.length;r<i;r++)n.push(this.getDependency("node",t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){for(var n=e.pop(),r=e,i=[],a=[],o=0,s=r.length;o<s;o++){var l=r[o];if(l){i.push(l);var u=new h.yGw;null!==n&&u.fromArray(n.array,16*o),a.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}return new h.OdW(i,a)}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[],s=0,l=t.channels.length;s<l;s++){var u=t.channels[s],c=t.samplers[u.sampler],d=u.target,f=d.node,p=void 0!==t.parameters?t.parameters[c.input]:c.input,A=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",f)),r.push(this.getDependency("accessor",p)),i.push(this.getDependency("accessor",A)),a.push(c),o.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=[],u=function(){var e,t=r[c],n=i[c],u=a[c],d=o[c],f=s[c];if(void 0===t)return"continue";switch(t.updateMatrix(),q[f.path]){case q.weights:e=h.dUE;break;case q.rotation:e=h.iLg;break;default:e=h.yC1}var p=t.name?t.name:t.uuid,A=void 0!==d.interpolation?Y[d.interpolation]:h.NMF,m=[];q[f.path]===q.weights?t.traverse((function(e){e.morphTargetInfluences&&m.push(e.name?e.name:e.uuid)})):m.push(p);var v=u.array;if(u.normalized){for(var g=ie(v.constructor),y=new Float32Array(v.length),x=0,b=v.length;x<b;x++)y[x]=v[x]*g;v=y}for(var w=0,C=m.length;w<C;w++){var E=new e(m[w]+"."+q[f.path],n.array,v,A);"CUBICSPLINE"===d.interpolation&&(E.createInterpolant=function(e){return new(this instanceof h.iLg?O:F)(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(E)}},c=0,d=r.length;c<d;c++)u();var f=t.name?t.name:"animation_"+e;return new h.m7l(f,void 0,l)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));n&&t.push(n),void 0!==i.camera&&t.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)}));for(var a=[],o=i.children||[],s=0,l=o.length;s<l;s++)a.push(r.getDependency("node",o[s]));var u=void 0===i.skin?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([Promise.all(t),Promise.all(a),u])}().then((function(t){var o,s=t[0],l=t[1],u=t[2];if((o=!0===i.isBone?new h.N$j:s.length>1?new h.ZAu:1===s.length?s[0]:new h.Tme)!==s[0])for(var c=0,d=s.length;c<d;c++)o.add(s[c]);if(i.name&&(o.userData.name=i.name,o.name=a),ee(o,i),i.extensions&&$(n,o,i),void 0!==i.matrix){var f=new h.yGw;f.fromArray(i.matrix),o.applyMatrix4(f)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,null!==u&&o.traverse((function(e){e.isSkinnedMesh&&e.bind(u,ae)}));for(var p=0,A=l.length;p<A;p++)o.add(l[p]);return o}))}},{key:"loadScene",value:function(e){var t=this.extensions,n=this.json.scenes[e],i=this,a=new h.ZAu;n.name&&(a.name=i.createUniqueName(n.name)),ee(a,n),n.extensions&&$(t,a,n);for(var s=n.nodes||[],l=[],u=0,c=s.length;u<c;u++)l.push(i.getDependency("node",s[u]));return Promise.all(l).then((function(e){for(var t=0,n=e.length;t<n;t++)a.add(e[t]);return i.associations=function(e){var t,n=new Map,a=(0,o.Z)(i.associations);try{for(a.s();!(t=a.n()).done;){var s=(0,r.Z)(t.value,2),l=s[0],u=s[1];(l instanceof h.F5T||l instanceof h.xEZ)&&n.set(l,u)}}catch(c){a.e(c)}finally{a.f()}return e.traverse((function(e){var t=i.associations.get(e);null!=t&&n.set(e,t)})),n}(a),a}))}}]),e}();function se(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=W[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(l)}return ee(e,t),function(e,t,n){var r=t.attributes,i=new h.ZzF;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new h.Pa4(o[0],o[1],o[2]),new h.Pa4(s[0],s[1],s[2])),a.normalized){var l=ie(z[a.componentType]);i.min.multiplyScalar(l),i.max.multiplyScalar(l)}var u=t.targets;if(void 0!==u){for(var c=new h.Pa4,d=new h.Pa4,f=0,p=u.length;f<p;f++){var A=u[f];if(void 0!==A.POSITION){var m=n.json.accessors[A.POSITION],v=m.min,g=m.max;if(void 0!==v&&void 0!==g){if(d.setX(Math.max(Math.abs(v[0]),Math.abs(g[0]))),d.setY(Math.max(Math.abs(v[1]),Math.abs(g[1]))),d.setZ(Math.max(Math.abs(v[2]),Math.abs(g[2]))),m.normalized){var y=ie(z[m.componentType]);d.multiplyScalar(y)}c.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(c)}e.boundingBox=i;var x=new h.aLr;i.getCenter(x.center),x.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=x}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var l=t[o];if(void 0!==l.POSITION&&(r=!0),void 0!==l.NORMAL&&(i=!0),void 0!==l.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var u=[],c=[],h=[],d=0,f=t.length;d<f;d++){var p=t[d];if(r){var A=void 0!==p.POSITION?n.getDependency("accessor",p.POSITION):e.attributes.position;u.push(A)}if(i){var m=void 0!==p.NORMAL?n.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(m)}if(a){var v=void 0!==p.COLOR_0?n.getDependency("accessor",p.COLOR_0):e.attributes.color;h.push(v)}}return Promise.all([Promise.all(u),Promise.all(c),Promise.all(h)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}},4362:function(e,t,n){"use strict";n.r(t),n.d(t,{KTX2Loader:function(){return D}});var r=n(4942),i=n(7762),a=n(4165),o=n(5861),s=n(9439),l=n(5671),u=n(3144),c=n(136),h=n(9388),d=n(3272),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;(0,l.Z)(this,e),this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}return(0,u.Z)(e,[{key:"_initWorker",value:function(e){if(!this.workers[e]){var t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}},{key:"_getIdleWorker",value:function(){for(var e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}},{key:"_onMessage",value:function(e,t){var n=this.workersResolve[e];if(n&&n(t),this.queue.length){var r=this.queue.shift(),i=r.resolve,a=r.msg,o=r.transfer;this.workersResolve[e]=i,this.workers[e].postMessage(a,o)}else this.workerStatus^=1<<e}},{key:"setWorkerCreator",value:function(e){this.workerCreator=e}},{key:"setWorkerLimit",value:function(e){this.pool=e}},{key:"postMessage",value:function(e,t){var n=this;return new Promise((function(r){var i=n._getIdleWorker();-1!==i?(n._initWorker(i),n.workerStatus|=1<<i,n.workersResolve[i]=r,n.workers[i].postMessage(e,t)):n.queue.push({resolve:r,msg:e,transfer:t})}))}},{key:"dispose",value:function(){this.workers.forEach((function(e){return e.terminate()})),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}]),e}(),p=0,A=2,m=(0,u.Z)((function e(){(0,l.Z)(this,e),this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null})),v=function(){function e(t,n,r,i){(0,l.Z)(this,e),this._dataView=new DataView(t.buffer,t.byteOffset+n,r),this._littleEndian=i,this._offset=0}return(0,u.Z)(e,[{key:"_nextUint8",value:function(){var e=this._dataView.getUint8(this._offset);return this._offset+=1,e}},{key:"_nextUint16",value:function(){var e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}},{key:"_nextUint32",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_nextUint64",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian)+Math.pow(2,32)*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}},{key:"_nextInt32",value:function(){var e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_skip",value:function(e){return this._offset+=e,this}},{key:"_scan",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._offset,r=0;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}]),e}(),g=(new Uint8Array([0]),[171,75,84,88,32,50,48,187,13,10,26,10]);function y(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):Buffer.from(e).toString("utf8")}function x(e){var t=new Uint8Array(e.buffer,e.byteOffset,g.length);if(t[0]!==g[0]||t[1]!==g[1]||t[2]!==g[2]||t[3]!==g[3]||t[4]!==g[4]||t[5]!==g[5]||t[6]!==g[6]||t[7]!==g[7]||t[8]!==g[8]||t[9]!==g[9]||t[10]!==g[10]||t[11]!==g[11])throw new Error("Missing KTX 2.0 identifier.");var n=new m,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new v(e,g.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();var a=i._nextUint32();n.supercompressionScheme=i._nextUint32();for(var o=i._nextUint32(),s=i._nextUint32(),l=i._nextUint32(),u=i._nextUint32(),c=i._nextUint64(),h=i._nextUint64(),d=new v(e,g.length+r,3*a*8,!0),f=0;f<a;f++)n.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+d._nextUint64(),d._nextUint64()),uncompressedByteLength:d._nextUint64()});for(var p=new v(e,o,s,!0),A={vendorId:p._skip(4)._nextUint16(),descriptorType:p._nextUint16(),versionNumber:p._nextUint16(),descriptorBlockSize:p._nextUint16(),colorModel:p._nextUint8(),colorPrimaries:p._nextUint8(),transferFunction:p._nextUint8(),flags:p._nextUint8(),texelBlockDimension:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],bytesPlane:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],samples:[]},x=(A.descriptorBlockSize/4-6)/4,b=0;b<x;b++){var w={bitOffset:p._nextUint16(),bitLength:p._nextUint8(),channelType:p._nextUint8(),samplePosition:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&w.channelType?(w.sampleLower=p._nextInt32(),w.sampleUpper=p._nextInt32()):(w.sampleLower=p._nextUint32(),w.sampleUpper=p._nextUint32()),A.samples[b]=w}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(A);for(var C=new v(e,l,u,!0);C._offset<u;){var E=C._nextUint32(),S=C._scan(E),I=y(S),M=C._scan(E-S.byteLength);n.keyValue[I]=I.match(/^ktx/i)?y(M):M,C._offset%4&&C._skip(4-C._offset%4)}if(h<=0)return n;for(var _=new v(e,c,h,!0),k=_._nextUint16(),B=_._nextUint16(),T=_._nextUint32(),R=_._nextUint32(),D=_._nextUint32(),P=_._nextUint32(),L=[],Q=0;Q<a;Q++)L.push({imageFlags:_._nextUint32(),rgbSliceByteOffset:_._nextUint32(),rgbSliceByteLength:_._nextUint32(),alphaSliceByteOffset:_._nextUint32(),alphaSliceByteLength:_._nextUint32()});var j=c+_._offset,N=j+T,F=N+R,U=F+D,O=new Uint8Array(e.buffer,e.byteOffset+j,T),Z=new Uint8Array(e.buffer,e.byteOffset+N,R),z=new Uint8Array(e.buffer,e.byteOffset+F,D),G=new Uint8Array(e.buffer,e.byteOffset+U,P);return n.globalData={endpointCount:k,selectorCount:B,imageDescs:L,endpointsData:O,selectorsData:Z,tablesData:z,extendedData:G},n}var b,w,C;var E,S,I,M,_={env:{emscripten_notify_memory_growth:function(e){C=new Uint8Array(w.exports.memory.buffer)}}},k=function(){function e(){(0,l.Z)(this,e)}return(0,u.Z)(e,[{key:"init",value:function(){return b||(b="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+B).then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,_)})).then(this._init):WebAssembly.instantiate(Buffer.from(B,"base64"),_).then(this._init),b)}},{key:"_init",value:function(e){w=e.instance,_.env.emscripten_notify_memory_growth(0)}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!w)throw new Error("ZSTDDecoder: Await .init() before decoding.");var n=e.byteLength,r=w.exports.malloc(n);C.set(e,r),t=t||Number(w.exports.ZSTD_findDecompressedSize(r,n));var i=w.exports.malloc(t),a=w.exports.ZSTD_decompress(i,t,r,n),o=C.slice(i,i+a);return w.exports.free(r),w.exports.free(i),o}}]),e}(),B="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",T=new WeakMap,R=0,D=function(e){(0,c.Z)(n,e);var t=(0,h.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,e)).transcoderPath="",r.transcoderBinary=null,r.transcoderPending=null,r.workerPool=new f,r.workerSourceURL="",r.workerConfig=null,"undefined"!==typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.'),r}return(0,u.Z)(n,[{key:"setTranscoderPath",value:function(e){return this.transcoderPath=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerPool.setWorkerLimit(e),this}},{key:"detectSupport",value:function(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}},{key:"init",value:function(){var e=this;if(!this.transcoderPending){var t=new d.hH6(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var r=t.loadAsync("basis_transcoder.js"),i=new d.hH6(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var a=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,a]).then((function(t){var r=(0,s.Z)(t,2),i=r[0],a=r[1],o=n.BasisWorker.toString(),l=["/* constants */","let _EngineFormat = "+JSON.stringify(n.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(n.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(n.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([l])),e.transcoderBinary=a,e.workerPool.setWorkerCreator((function(){var t=new Worker(e.workerSourceURL),n=e.transcoderBinary.slice(0);return t.postMessage({type:"init",config:e.workerConfig,transcoderBinary:n},[n]),t}))})),R>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),R++}return this.transcoderPending}},{key:"load",value:function(e,t,n,r){var i=this;if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");var a=new d.hH6(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){if(T.has(e))return T.get(e).promise.then(t).catch(r);i._createTexture(e).then((function(e){return t?t(e):null})).catch(r)}),n,r)}},{key:"_createTextureFrom",value:function(e,t){var n=e.mipmaps,r=e.width,i=e.height,a=e.format,o=e.type,s=e.error,l=e.dfdTransferFn,u=e.dfdFlags;if("error"===o)return Promise.reject(s);var c=t.layerCount>1?new d.Z_g(n,r,i,t.layerCount,a,d.ywz):new d.EB7(n,r,i,a,d.ywz);return c.minFilter=1===n.length?d.wem:d.D1R,c.magFilter=d.wem,c.generateMipmaps=!1,c.needsUpdate=!0,c.encoding=2===l?d.knz:d.rnI,c.premultiplyAlpha=!!(1&u),c}},{key:"_createTexture",value:function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r,i,o,s=this,l=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},0===(r=x(new Uint8Array(t))).vkFormat){e.next=4;break}return e.abrupt("return",j(r));case 4:return i=n,o=this.init().then((function(){return s.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:i},[t])})).then((function(e){return s._createTextureFrom(e.data,r)})),T.set(t,{promise:o}),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),R--,this}}]),n}(d.aNw);D.BasisFormat={ETC1S:0,UASTC_4x4:1},D.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},D.EngineFormat={RGBAFormat:d.wk1,RGBA_ASTC_4x4_Format:d.ptH,RGBA_BPTC_Format:d.bsb,RGBA_ETC2_EAC_Format:d.ekQ,RGBA_PVRTC_4BPPV1_Format:d.eaV,RGBA_S3TC_DXT5_Format:d.ILR,RGB_ETC1_Format:d.fto,RGB_ETC2_Format:d.l0P,RGB_PVRTC_4BPPV1_Format:d._AM,RGB_S3TC_DXT1_Format:d.wuA},D.BasisWorker=function(){var e,t,n,r=_EngineFormat,a=_TranscoderFormat,o=_BasisFormat;self.addEventListener("message",(function(i){var s,d=i.data;switch(d.type){case"init":e=d.config,s=d.transcoderBinary,t=new Promise((function(e){n={wasmBinary:s,onRuntimeInitialized:e},BASIS(n)})).then((function(){n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((function(){try{for(var t=function(t){var i=new n.KTX2File(new Uint8Array(t));function s(){i.close(),i.delete()}if(!i.isValid())throw s(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");var d=i.isUASTC()?o.UASTC_4x4:o.ETC1S,f=i.getWidth(),p=i.getHeight(),A=i.getLayers()||1,m=i.getLevels(),v=i.getHasAlpha(),g=i.getDFDTransferFunc(),y=i.getDFDFlags(),x=function(t,n,i,s){for(var h,d,f=t===o.ETC1S?l:u,p=0;p<f.length;p++){var A=f[p];if(e[A.if]&&(A.basisFormat.includes(t)&&!(s&&A.transcoderFormat.length<2)&&(!A.needsPowerOfTwo||c(n)&&c(i))))return{transcoderFormat:h=A.transcoderFormat[s?1:0],engineFormat:d=A.engineFormat[s?1:0]}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),h=a.RGBA32,d=r.RGBAFormat,{transcoderFormat:h,engineFormat:d}}(d,f,p,v),b=x.transcoderFormat,w=x.engineFormat;if(!f||!p||!m)throw s(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!i.startTranscoding())throw s(),new Error("THREE.KTX2Loader: .startTranscoding failed");for(var C=[],E=0;E<m;E++){for(var S=[],I=void 0,M=void 0,_=0;_<A;_++){var k=i.getImageLevelInfo(E,_,0);I=k.origWidth,M=k.origHeight;var B=new Uint8Array(i.getImageTranscodedSizeInBytes(E,_,0,b));if(!i.transcodeImage(B,E,_,0,b,0,-1,-1))throw s(),new Error("THREE.KTX2Loader: .transcodeImage failed.");S.push(B)}C.push({data:h(S),width:I,height:M})}return s(),{width:f,height:p,hasAlpha:v,mipmaps:C,format:w,dfdTransferFn:g,dfdFlags:y}}(d.buffer),i=t.width,s=t.height,f=t.hasAlpha,p=t.mipmaps,A=t.format,m=t.dfdTransferFn,v=t.dfdFlags,g=[],y=0;y<p.length;++y)g.push(p[y].data.buffer);self.postMessage({type:"transcode",id:d.id,width:i,height:s,hasAlpha:f,mipmaps:p,format:A,dfdTransferFn:m,dfdFlags:v},g)}catch(x){console.error(x),self.postMessage({type:"error",id:d.id,error:x.message})}}))}}));var s=[{if:"astcSupported",basisFormat:[o.UASTC_4x4],transcoderFormat:[a.ASTC_4x4,a.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[a.BC7_M5,a.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[a.BC1,a.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[a.ETC1,a.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[a.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[o.ETC1S,o.UASTC_4x4],transcoderFormat:[a.PVRTC1_4_RGB,a.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],l=s.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),u=s.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function c(e){return e<=2||0===(e&e-1)&&0!==e}function h(e){var t,n=0,r=(0,i.Z)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.byteLength}}catch(c){r.e(c)}finally{r.f()}var a,o=new Uint8Array(n),s=0,l=(0,i.Z)(e);try{for(l.s();!(a=l.n()).done;){var u=a.value;o.set(u,s),s+=u.byteLength}}catch(c){l.e(c)}finally{l.f()}return o}};var P=(E={},(0,r.Z)(E,109,d.wk1),(0,r.Z)(E,97,d.wk1),(0,r.Z)(E,37,d.wk1),(0,r.Z)(E,43,d.wk1),(0,r.Z)(E,103,d.av9),(0,r.Z)(E,83,d.av9),(0,r.Z)(E,16,d.av9),(0,r.Z)(E,22,d.av9),(0,r.Z)(E,100,d.hEm),(0,r.Z)(E,76,d.hEm),(0,r.Z)(E,15,d.hEm),(0,r.Z)(E,9,d.hEm),E),L=(S={},(0,r.Z)(S,109,d.VzW),(0,r.Z)(S,97,d.cLu),(0,r.Z)(S,37,d.ywz),(0,r.Z)(S,43,d.ywz),(0,r.Z)(S,103,d.VzW),(0,r.Z)(S,83,d.cLu),(0,r.Z)(S,16,d.ywz),(0,r.Z)(S,22,d.ywz),(0,r.Z)(S,100,d.VzW),(0,r.Z)(S,76,d.cLu),(0,r.Z)(S,15,d.ywz),(0,r.Z)(S,9,d.ywz),S),Q=(I={},(0,r.Z)(I,43,d.knz),(0,r.Z)(I,22,d.knz),(0,r.Z)(I,15,d.knz),I);function j(e){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)((0,a.Z)().mark((function e(t){var n,r,i,o,s,l,u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.vkFormat,r=t.pixelWidth,i=t.pixelHeight,o=t.pixelDepth,void 0!==P[n]){e.next=3;break}throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");case 3:if(s=t.levels[0],t.supercompressionScheme!==p){e.next=8;break}l=s.levelData,e.next=19;break;case 8:if(t.supercompressionScheme!==A){e.next=18;break}if(M){e.next=13;break}return M=new k,e.next=13,M.init();case 13:return e.next=15,M;case 15:l=e.sent.decode(s.levelData,s.uncompressedByteLength),e.next=19;break;case 18:throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");case 19:return u=L[n]===d.VzW?new Float32Array(l.buffer,l.byteOffset,l.byteLength/Float32Array.BYTES_PER_ELEMENT):L[n]===d.cLu?new Uint16Array(l.buffer,l.byteOffset,l.byteLength/Uint16Array.BYTES_PER_ELEMENT):l,(c=0===o?new d.IEO(u,r,i):new d.JUT(u,r,i,o)).type=L[n],c.format=P[n],c.encoding=Q[n]||d.rnI,c.needsUpdate=!0,e.abrupt("return",Promise.resolve(c));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6975:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var r=n(5671),i=n(3144),a=n(136),o=n(9388),s=n(3272),l=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"parse",value:function(e){var t=0,n=1,r=2,i=3,a=9,o=10,l=11,u=48,c=4,h=0,d=1,f=2,p=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");var A=0,m=new Uint8Array(e),v={id_length:m[A++],colormap_type:m[A++],image_type:m[A++],colormap_index:m[A++]|m[A++]<<8,colormap_length:m[A++]|m[A++]<<8,colormap_size:m[A++],origin:[m[A++]|m[A++]<<8,m[A++]|m[A++]<<8],width:m[A++]|m[A++]<<8,height:m[A++]|m[A++]<<8,pixel_size:m[A++],flags:m[A++]};!function(e){switch(e.image_type){case n:case a:(e.colormap_length>256||24!==e.colormap_size||1!==e.colormap_type)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case r:case i:case o:case l:e.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case t:console.error("THREE.TGALoader: No data.");break;default:console.error('THREE.TGALoader: Invalid type "%s".',e.image_type)}(e.width<=0||e.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),8!==e.pixel_size&&16!==e.pixel_size&&24!==e.pixel_size&&32!==e.pixel_size&&console.error('THREE.TGALoader: Invalid pixel size "%s".',e.pixel_size)}(v),v.id_length+A>e.length&&console.error("THREE.TGALoader: No data."),A+=v.id_length;var g=!1,y=!1,x=!1;switch(v.image_type){case a:g=!0,y=!0;break;case n:y=!0;break;case o:g=!0;break;case r:break;case l:g=!0,x=!0;break;case i:x=!0}var b=new Uint8Array(v.width*v.height*4),w=function(e,t,n,r,i){var a,o,s=n.pixel_size>>3,l=n.width*n.height*s;if(t&&(o=i.subarray(r,r+=n.colormap_length*(n.colormap_size>>3))),e){var u,c,h;a=new Uint8Array(l);for(var d=0,f=new Uint8Array(s);d<l;)if(c=1+(127&(u=i[r++])),128&u){for(h=0;h<s;++h)f[h]=i[r++];for(h=0;h<c;++h)a.set(f,d+h*s);d+=s*c}else{for(c*=s,h=0;h<c;++h)a[d+h]=i[r++];d+=c}}else a=i.subarray(r,r+=t?n.width*n.height:l);return{pixel_data:a,palettes:o}}(g,y,v,A,m);return function(e,t,n,r,i){var a,o,s,l,A,m;switch((v.flags&u)>>c){default:case f:a=0,s=1,A=t,o=0,l=1,m=n;break;case h:a=0,s=1,A=t,o=n-1,l=-1,m=-1;break;case p:a=t-1,s=-1,A=-1,o=0,l=1,m=n;break;case d:a=t-1,s=-1,A=-1,o=n-1,l=-1,m=-1}if(x)switch(v.pixel_size){case 8:!function(e,t,n,r,i,a,o,s){var l,u,c,h=0,d=v.width;for(c=t;c!==r;c+=n)for(u=i;u!==o;u+=a,h++)l=s[h],e[4*(u+d*c)+0]=l,e[4*(u+d*c)+1]=l,e[4*(u+d*c)+2]=l,e[4*(u+d*c)+3]=255}(e,o,l,m,a,s,A,r);break;case 16:!function(e,t,n,r,i,a,o,s){var l,u,c=0,h=v.width;for(u=t;u!==r;u+=n)for(l=i;l!==o;l+=a,c+=2)e[4*(l+h*u)+0]=s[c+0],e[4*(l+h*u)+1]=s[c+0],e[4*(l+h*u)+2]=s[c+0],e[4*(l+h*u)+3]=s[c+1]}(e,o,l,m,a,s,A,r);break;default:console.error("THREE.TGALoader: Format not supported.")}else switch(v.pixel_size){case 8:!function(e,t,n,r,i,a,o,s,l){var u,c,h,d=l,f=0,p=v.width;for(h=t;h!==r;h+=n)for(c=i;c!==o;c+=a,f++)u=s[f],e[4*(c+p*h)+3]=255,e[4*(c+p*h)+2]=d[3*u+0],e[4*(c+p*h)+1]=d[3*u+1],e[4*(c+p*h)+0]=d[3*u+2]}(e,o,l,m,a,s,A,r,i);break;case 16:!function(e,t,n,r,i,a,o,s){var l,u,c,h=0,d=v.width;for(c=t;c!==r;c+=n)for(u=i;u!==o;u+=a,h+=2)l=s[h+0]+(s[h+1]<<8),e[4*(u+d*c)+0]=(31744&l)>>7,e[4*(u+d*c)+1]=(992&l)>>2,e[4*(u+d*c)+2]=(31&l)<<3,e[4*(u+d*c)+3]=32768&l?0:255}(e,o,l,m,a,s,A,r);break;case 24:!function(e,t,n,r,i,a,o,s){var l,u,c=0,h=v.width;for(u=t;u!==r;u+=n)for(l=i;l!==o;l+=a,c+=3)e[4*(l+h*u)+3]=255,e[4*(l+h*u)+2]=s[c+0],e[4*(l+h*u)+1]=s[c+1],e[4*(l+h*u)+0]=s[c+2]}(e,o,l,m,a,s,A,r);break;case 32:!function(e,t,n,r,i,a,o,s){var l,u,c=0,h=v.width;for(u=t;u!==r;u+=n)for(l=i;l!==o;l+=a,c+=4)e[4*(l+h*u)+2]=s[c+0],e[4*(l+h*u)+1]=s[c+1],e[4*(l+h*u)+0]=s[c+2],e[4*(l+h*u)+3]=s[c+3]}(e,o,l,m,a,s,A,r);break;default:console.error("THREE.TGALoader: Format not supported.")}}(b,v.width,v.height,w.pixel_data,w.palettes),{data:b,width:v.width,height:v.height,flipY:!0,generateMipmaps:!0,minFilter:s.D1R}}}]),n}(s.yxD)},3853:function(e,t,n){"use strict";n.d(t,{Vs:function(){return o},qf:function(){return i}});var r=n(3272);function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),o=new Set(Object.keys(e[0].morphAttributes)),s={},l={},u=e[0].morphTargetsRelative,c=new r.u9r,h=0,d=0;d<e.length;++d){var f=e[d],p=0;if(n!==(null!==f.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var A in f.attributes){if(!i.has(A))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+A+'" attribute exists among all geometries, or in none of them.'),null;void 0===s[A]&&(s[A]=[]),s[A].push(f.attributes[A]),p++}if(p!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(u!==f.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var m in f.morphAttributes){if(!o.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===l[m]&&(l[m]=[]),l[m].push(f.morphAttributes[m])}if(t){var v=void 0;if(n)v=f.index.count;else{if(void 0===f.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;v=f.attributes.position.count}c.addGroup(h,v,d),h+=v}}if(n){for(var g=0,y=[],x=0;x<e.length;++x){for(var b=e[x].index,w=0;w<b.count;++w)y.push(b.getX(w)+g);g+=e[x].attributes.position.count}c.setIndex(y)}for(var C in s){var E=a(s[C]);if(!E)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+C+" attribute."),null;c.setAttribute(C,E)}for(var S in l){var I=l[S][0].length;if(0===I)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[S]=[];for(var M=0;M<I;++M){for(var _=[],k=0;k<l[S].length;++k)_.push(l[S][k][M]);var B=a(_);if(!B)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+S+" morphAttribute."),null;c.morphAttributes[S].push(B)}}return c}function a(e){for(var t,n,i,a=0,o=0;o<e.length;++o){var s=e[o];if(s.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=s.normalized),i!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;a+=s.array.length}for(var l=new t(a),u=0,c=0;c<e.length;++c)l.set(e[c].array,u),u+=e[c].array.length;return new r.TlE(l,n,i)}function o(e,t){if(t===r.WwZ)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===r.z$h||t===r.UlW){var n=e.getIndex();if(null===n){var i=[],a=e.getAttribute("position");if(void 0===a)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<a.count;o++)i.push(o);e.setIndex(i),n=e.getIndex()}var s=n.count-2,l=[];if(t===r.z$h)for(var u=1;u<=s;u++)l.push(n.getX(0)),l.push(n.getX(u)),l.push(n.getX(u+1));else for(var c=0;c<s;c++)c%2===0?(l.push(n.getX(c)),l.push(n.getX(c+1)),l.push(n.getX(c+2))):(l.push(n.getX(c+2)),l.push(n.getX(c+1)),l.push(n.getX(c)));l.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var h=e.clone();return h.setIndex(l),h.clearGroups(),h}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}},835:function(e,t,n){"use strict";var r=n(7462),i=n(5987),a=n(7313),o=n(3061),s=n(454),l=n(9685),u=a.forwardRef((function(e,t){var n=e.children,s=e.classes,u=e.className,c=e.color,h=void 0===c?"inherit":c,d=e.component,f=void 0===d?"svg":d,p=e.fontSize,A=void 0===p?"medium":p,m=e.htmlColor,v=e.titleAccess,g=e.viewBox,y=void 0===g?"0 0 24 24":g,x=(0,i.Z)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return a.createElement(f,(0,r.Z)({className:(0,o.Z)(s.root,u,"inherit"!==h&&s["color".concat((0,l.Z)(h))],"default"!==A&&"medium"!==A&&s["fontSize".concat((0,l.Z)(A))]),focusable:"false",viewBox:y,color:m,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},x),n,v?a.createElement("title",null,v):null)}));u.muiName="SvgIcon",t.Z=(0,s.Z)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(u)},3644:function(e,t,n){"use strict";n.d(t,{$n:function(){return h},Fq:function(){return u},_j:function(){return c},mi:function(){return s}});var r=n(803);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function o(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),o({type:u,values:c})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,o(e)}function c(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function h(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return o(e)}},4632:function(e,t,n){"use strict";n.d(t,{Z:function(){return P}});var r=n(5987),i=n(8272),a=n(7462),o=["xs","sm","md","lg","xl"];var s=n(4942);function l(e,t,n){var r;return(0,a.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,a.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,s.Z)({},e.up("sm"),(0,a.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,s.Z)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,s.Z)(r,e.up("sm"),{minHeight:64}),r)},n)}var u=n(803),c={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},d={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},f={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},A={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},g=n(3644),y={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:c.white,default:h[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:c.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:h[800],default:"#303030"},action:{active:c.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function b(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,g.$n)(e.main,i):"dark"===t&&(e.dark=(0,g._j)(e.main,a)))}function w(e){return Math.round(1e5*e)/1e5}function C(e){return w(e)}var E={textTransform:"uppercase"},S='"Roboto", "Helvetica", "Arial", sans-serif';function I(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,s=void 0===o?S:o,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,h=void 0===c?300:c,d=n.fontWeightRegular,f=void 0===d?400:d,p=n.fontWeightMedium,A=void 0===p?500:p,m=n.fontWeightBold,v=void 0===m?700:m,g=n.htmlFontSize,y=void 0===g?16:g,x=n.allVariants,b=n.pxToRem,I=(0,r.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var M=u/14,_=b||function(e){return"".concat(e/y*M,"rem")},k=function(e,t,n,r,i){return(0,a.Z)({fontFamily:s,fontWeight:e,fontSize:_(t),lineHeight:n},s===S?{letterSpacing:"".concat(w(r/t),"em")}:{},i,x)},B={h1:k(h,96,1.167,-1.5),h2:k(h,60,1.2,-.5),h3:k(f,48,1.167,0),h4:k(f,34,1.235,.25),h5:k(f,24,1.334,0),h6:k(A,20,1.6,.15),subtitle1:k(f,16,1.75,.15),subtitle2:k(A,14,1.57,.1),body1:k(f,16,1.5,.15),body2:k(f,14,1.43,.15),button:k(A,14,1.75,.4,E),caption:k(f,12,1.66,.4),overline:k(f,12,2.66,1,E)};return(0,i.Z)((0,a.Z)({htmlFontSize:y,pxToRem:_,round:C,fontFamily:s,fontSize:u,fontWeightLight:h,fontWeightRegular:f,fontWeightMedium:A,fontWeightBold:v},B),I,{clone:!1})}function M(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var _=["none",M(0,2,1,-1,0,1,1,0,0,1,3,0),M(0,3,1,-2,0,2,2,0,0,1,5,0),M(0,3,3,-2,0,3,4,0,0,1,8,0),M(0,2,4,-1,0,4,5,0,0,1,10,0),M(0,3,5,-1,0,5,8,0,0,1,14,0),M(0,3,5,-1,0,6,10,0,0,1,18,0),M(0,4,5,-2,0,7,10,1,0,2,16,1),M(0,5,5,-3,0,8,10,1,0,3,14,2),M(0,5,6,-3,0,9,12,1,0,3,16,2),M(0,6,6,-3,0,10,14,1,0,4,18,3),M(0,6,7,-4,0,11,15,1,0,4,20,3),M(0,7,8,-4,0,12,17,2,0,5,22,4),M(0,7,8,-4,0,13,19,2,0,5,24,4),M(0,7,9,-4,0,14,21,2,0,5,26,4),M(0,8,9,-5,0,15,22,2,0,6,28,5),M(0,8,10,-5,0,16,24,2,0,6,30,5),M(0,8,11,-5,0,17,26,2,0,6,32,5),M(0,9,11,-5,0,18,28,2,0,7,34,6),M(0,9,12,-6,0,19,29,2,0,7,36,6),M(0,10,13,-6,0,20,31,3,0,8,38,7),M(0,10,13,-6,0,21,33,3,0,8,40,7),M(0,10,14,-6,0,22,35,3,0,8,42,7),M(0,11,14,-7,0,23,36,3,0,9,44,8),M(0,11,15,-7,0,24,38,3,0,9,46,8)],k={borderRadius:4},B=n(1349);var T=n(4006),R=n(4398);function D(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,s=e.mixins,w=void 0===s?{}:s,C=e.palette,E=void 0===C?{}:C,S=e.spacing,M=e.typography,D=void 0===M?{}:M,P=(0,r.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),L=function(e){var t=e.primary,n=void 0===t?{light:d[300],main:d[500],dark:d[700]}:t,o=e.secondary,s=void 0===o?{light:f.A200,main:f.A400,dark:f.A700}:o,l=e.error,w=void 0===l?{light:p[300],main:p[500],dark:p[700]}:l,C=e.warning,E=void 0===C?{light:A[300],main:A[500],dark:A[700]}:C,S=e.info,I=void 0===S?{light:m[300],main:m[500],dark:m[700]}:S,M=e.success,_=void 0===M?{light:v[300],main:v[500],dark:v[700]}:M,k=e.type,B=void 0===k?"light":k,T=e.contrastThreshold,R=void 0===T?3:T,D=e.tonalOffset,P=void 0===D?.2:D,L=(0,r.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function Q(e){return(0,g.mi)(e,x.text.primary)>=R?x.text.primary:y.text.primary}var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,a.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,u.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,u.Z)(5,JSON.stringify(e.main)));return b(e,"light",n,P),b(e,"dark",r,P),e.contrastText||(e.contrastText=Q(e.main)),e},N={dark:x,light:y};return(0,i.Z)((0,a.Z)({common:c,type:B,primary:j(n),secondary:j(s,"A400","A200","A700"),error:j(w),warning:j(E),info:j(I),success:j(_),grey:h,contrastThreshold:R,getContrastText:Q,augmentColor:j,tonalOffset:P},N[B]),L)}(E),Q=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,s=void 0===i?"px":i,l=e.step,u=void 0===l?5:l,c=(0,r.Z)(e,["values","unit","step"]);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var r=o.indexOf(t);return r===o.length-1?h(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[o[r+1]]?n[o[r+1]]:t)-u/100).concat(s,")")}return(0,a.Z)({keys:o,values:n,up:h,down:function(e){var t=o.indexOf(e)+1,r=n[o[t]];return t===o.length?h("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},c)}(n),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,B.h)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(S),N=(0,i.Z)({breakpoints:Q,direction:"ltr",mixins:l(Q,j,w),overrides:{},palette:L,props:{},shadows:_,typography:I(L,D),spacing:j,shape:k,transitions:T.ZP,zIndex:R.Z},P),F=arguments.length,U=new Array(F>1?F-1:0),O=1;O<F;O++)U[O-1]=arguments[O];return N=U.reduce((function(e,t){return(0,i.Z)(e,t)}),N)}var P=D},1187:function(e,t,n){"use strict";var r=(0,n(4632).Z)();t.Z=r},4006:function(e,t,n){"use strict";n.d(t,{x9:function(){return a}});var r=n(5987),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function o(e){return"".concat(Math.round(e),"ms")}t.ZP={easing:i,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?a.standard:n,l=t.easing,u=void 0===l?i.easeInOut:l,c=t.delay,h=void 0===c?0:c;(0,r.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:o(s)," ").concat(u," ").concat("string"===typeof h?h:o(h))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},454:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7462),i=n(5987),a=n(7313),o=n(7861),s=n.n(o),l=n(5614),u=n(3621),c=n(7420),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var o=t.defaultTheme,h=t.withTheme,d=void 0!==h&&h,f=t.name,p=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var A=f,m=(0,l.Z)(e,(0,r.Z)({defaultTheme:o,Component:n,name:f||n.displayName,classNamePrefix:A},p)),v=a.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,h=(0,i.Z)(e,["classes","innerRef"]),p=m((0,r.Z)({},n.defaultProps,e)),A=h;return("string"===typeof f||d)&&(s=(0,c.Z)()||o,f&&(A=(0,u.Z)({theme:s,name:f,props:h})),d&&!A.theme&&(A.theme=s)),a.createElement(n,(0,r.Z)({ref:l||t,classes:p},A))}));return s()(v,n),v}},d=n(1187);var f=function(e,t){return h(e,(0,r.Z)({defaultTheme:d.Z},t))}},4398:function(e,t){"use strict";t.Z={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},9685:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(803);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},468:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},4214:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462),i=n(7313),a=n(835);function o(e,t){var n=function(t,n){return i.createElement(a.Z,(0,r.Z)({ref:n},t),e)};return n.muiName=a.Z.muiName,i.memo(i.forwardRef(n))}},670:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout((function(){e.apply(o,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},4063:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return a.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return l.Z},ownerDocument:function(){return u.Z},ownerWindow:function(){return c.Z},requirePropFactory:function(){return h},setRef:function(){return d.Z},unstable_useId:function(){return v.Z},unsupportedProp:function(){return f},useControlled:function(){return p.Z},useEventCallback:function(){return A.Z},useForkRef:function(){return m.Z},useIsFocusVisible:function(){return g.Z}});var r=n(9685),i=n(468),a=n(4214),o=n(670);function s(e,t){return function(){return null}}var l=n(2879),u=n(516),c=n(3958);function h(e){return function(){return null}}var d=n(1225);function f(e,t,n,r,i){return null}var p=n(794),A=n(2705),m=n(8088),v=n(2531),g=n(6790)},2879:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7313);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},516:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},3958:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(516);function i(e){return(0,r.Z)(e).defaultView||window}},1225:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},2531:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7313);function i(e){var t=r.useState(e),n=t[0],i=t[1],a=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),a}},794:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7313);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),o=a[0],s=a[1];return[i?t:o,r.useCallback((function(e){i||s(e)}),[])]}},2705:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7313),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function a(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},8088:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7313),i=n(1225);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},6790:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7313),i=n(1168),a=!0,o=!1,s=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function h(){"hidden"===this.visibilityState&&o&&(a=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function f(){o=!0,window.clearTimeout(s),s=window.setTimeout((function(){o=!1}),100)}function p(){return{isFocusVisible:d,onBlurVisible:f,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",h,!0))}),[])}}},6038:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");t.Z=o},7201:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M9.4 10.5l4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9h9.66zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2zM8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15H2.46zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z"}),"Camera");t.Z=o},9985:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement(a.Fragment,null,a.createElement("circle",{cx:"12",cy:"12",r:"3.2"}),a.createElement("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})),"CameraAlt");t.Z=o},9184:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=o},4058:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},265:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");t.Z=o},5821:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-5.04-6.71l-2.75 3.54-1.96-2.36L6.5 17h11l-3.54-4.71z"}),"CropOriginal");t.Z=o},867:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z"}),"DeleteOutlineOutlined");t.Z=o},1254:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined");t.Z=o},8:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"ErrorOutlined");t.Z=o},6108:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},9504:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M14 6l-3.75 5 2.85 3.8-1.6 1.2C9.81 13.75 7 10 7 10l-6 8h22L14 6z"}),"Landscape");t.Z=o},240:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Loop");t.Z=o},3481:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=o},4664:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8zm-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12zm3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8zm5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8zm3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"Palette");t.Z=o},495:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"}),"PlayCircleFilled");t.Z=o},4197:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.Z=o},522:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");t.Z=o},7341:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=o},4682:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M6 6h12v12H6z"}),"Stop");t.Z=o},9229:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M2.5 4v3h5v12h3V7h5V4h-13zm19 5h-9v3h3v7h3v-7h3V9z"}),"TextFields");t.Z=o},9493:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");t.Z=o},3380:function(e,t,n){"use strict";var r=n(4836),i=n(5263);t.Z=void 0;var a=i(n(7313)),o=(0,r(n(2293)).default)(a.createElement("path",{d:"M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"}),"WbSunny");t.Z=o},2293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4063)},1994:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for;t.Z=n?Symbol.for("mui.nested"):"__THEME_NESTED__"},3621:function(e,t,n){"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}n.d(t,{Z:function(){return r}})},5614:function(e,t,n){"use strict";n.d(t,{Z:function(){return un}});var r=n(5987),i=n(7462),a=n(7313),o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s="object"===("undefined"===typeof window?"undefined":o(window))&&"object"===("undefined"===typeof document?"undefined":o(document))&&9===document.nodeType,l=n(3144),u=n(4578),c=n(7326),h=n(3366),d={}.constructor;function f(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(f);if(e.constructor!==d)return e;var t={};for(var n in e)t[n]=f(e[n]);return t}function p(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=f(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var A=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},m=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=A(e[n]," ");else t=A(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function v(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function g(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function y(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=v(n),l=s.linebreak,u=s.space;if(e&&a++,o)if(Array.isArray(o))for(var c=0;c<o.length;c++){var h=o[c];for(var d in h){var f=h[d];null!=f&&(r&&(r+=l),r+=g(d+":"+u+m(f)+";",a))}}else for(var p in o){var A=o[p];null!=A&&(r&&(r+=l),r+=g(p+":"+u+m(A)+";",a))}for(var y in t){var x=t[y];null!=x&&"fallbacks"!==y&&(r&&(r+=l),r+=g(y+":"+u+m(x)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),g(""+e+u+"{"+r,--a)+g("}",a)):r}var x=/([[\].#*$><+~=|^:(),"'`\s])/g,b="undefined"!==typeof CSS&&CSS.escape,w=function(e){return b?b(e):e.replace(x,"\\$1")},C=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),E=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,l=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=l((0,c.Z)((0,c.Z)(i)),s),i.selectorText="."+w(i.id)),i}(0,u.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=m(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return y(this.selectorText,this.style,n)},(0,l.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(C),S={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new E(e,t,n)}},I={indent:1,children:!0},M=/@([\w-]+)/,_=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(M);for(var a in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new K((0,i.Z)({},n,{parent:this})),t)this.rules.add(a,t[a]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=I);var t=v(e).linebreak;if(null==e.indent&&(e.indent=I.indent),null==e.children&&(e.children=I.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),k=/@container|@media|@supports\s+/,B={onCreateRule:function(e,t,n){return k.test(e)?new _(e,t,n):null}},T={indent:1,children:!0},R=/@keyframes\s+([\w-]+)/,D=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(R);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var a=n.scoped,o=n.sheet,s=n.generateId;for(var l in this.id=!1===a?this.name:w(s(this,o)),this.rules=new K((0,i.Z)({},n,{parent:this})),t)this.rules.add(l,t[l],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=T);var t=v(e).linebreak;if(null==e.indent&&(e.indent=T.indent),null==e.children&&(e.children=T.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),P=/@keyframes\s+/,L=/\$([\w-]+)/g,Q=function(e,t){return"string"===typeof e?e.replace(L,(function(e,n){return n in t?t[n]:e})):e},j=function(e,t,n){var r=e[t],i=Q(r,n);i!==r&&(e[t]=i)},N={onCreateRule:function(e,t,n){return"string"===typeof e&&P.test(e)?new D(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&j(e,"animation-name",n.keyframes),"animation"in e&&j(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Q(e,r.keyframes);default:return e}}},F=function(e){function t(){return e.apply(this,arguments)||this}return(0,u.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return y(this.key,this.style,n)},t}(C),U={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new F(e,t,n):null}},O=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=v(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=y(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return y(this.at,this.style,e)},e}(),Z=/@font-face/,z={onCreateRule:function(e,t,n){return Z.test(e)?new O(e,t,n):null}},G=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return y(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new G(e,t,n):null}},V=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),W={"@charset":!0,"@import":!0,"@namespace":!0},q={onCreateRule:function(e,t,n){return e in W?new V(e,t,n):null}},Y=[S,B,N,U,z,H,q],X={process:!0},J={force:!0,process:!0},K=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,a=r.parent,o=r.sheet,s=r.jss,l=r.Renderer,u=r.generateId,c=r.scoped,h=(0,i.Z)({classes:this.classes,parent:a,sheet:o,jss:s,Renderer:l,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),d=e;e in this.raw&&(d=e+"-d"+this.counter++),this.raw[d]=t,d in this.classes&&(h.selector="."+w(this.classes[d]));var f=p(d,t,h);if(!f)return null;this.register(f);var A=void 0===h.index?this.index.length:h.index;return this.index.splice(A,0,f),f},t.replace=function(e,t,n){var r=this.get(e),a=this.index.indexOf(r);r&&this.remove(r);var o=n;return-1!==a&&(o=(0,i.Z)({},n,{index:a})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof E?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof D&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof E?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof D&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=X);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var l in a.onProcessStyle(t.style,t,o),t.style){var u=t.style[l];u!==s[l]&&t.prop(l,u,J)}for(var c in s){var h=t.style[c],d=s[c];null==h&&h!==d&&t.prop(c,null,J)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=v(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),$=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new K(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,h.Z)(t,["attached"]),i=v(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},(0,l.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ne=new te,re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var ae=re[ie]++,oe=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ae+i+t:a+n.key+"-"+ae+(i?"-"+i:"")+"-"+t}},se=function(e){var t;return function(){return t||(t=e()),t}},le=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ue=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=m(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},ce=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},he=function(e,t){return e.selectorText=t,e.selectorText===t},de=se((function(){return document.querySelector("head")}));function fe(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=de(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var pe=se((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),Ae=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},me=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ve=function(){function e(e){this.getPropertyValue=le,this.setProperty=ue,this.removeProperty=ce,this.setSelector=he,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=pe();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=fe(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else de().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=me(n,t);if(!1===(i=Ae(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=me(n,t),l=Ae(n,o,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof $&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ge=0,ye=function(){function e(e){this.id=ge++,this.version="10.10.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:oe,Renderer:s?ve:null,plugins:[]},this.generateId=oe({minify:!1});for(var t=0;t<Y.length;t++)this.plugins.use(Y[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var r=new $(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var a=p(e,t,r);return a&&this.plugins.onProcessRule(a),a},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),xe=function(e){return new ye(e)},be="object"===typeof CSS&&null!=CSS&&"number"in CSS;function we(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=we(r);a&&(t||(t={}),t[n]=a)}}return t}xe();var Ce=n(8427),Ee={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Se=Ee,Ie=n(7420),Me=n(1994),_e=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var ke=Date.now(),Be="fnValues"+ke,Te="fnStyle"+ ++ke,Re=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=p(e,{},n);return r[Te]=t,r},onProcessStyle:function(e,t){if(Be in t||Te in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Be]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[Te];a&&(i.style=a(e)||{});var o=i[Be];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},De="@global",Pe="@global ",Le=function(){function e(e,t,n){for(var r in this.type="global",this.at=De,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new K((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Qe=function(){function e(e,t,n){this.type="global",this.at=De,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),je=/\s*,\s*/g;function Ne(e,t){for(var n=e.split(je),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Fe=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===De)return new Le(e,t,n);if("@"===e[0]&&e.substr(0,8)===Pe)return new Qe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,a=r?r[De]:null;if(a){for(var o in a)t.addRule(o,a[o],(0,i.Z)({},n,{selector:Ne(o,e.selector)}));delete r[De]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var a in r)if("@"===a[0]&&a.substr(0,De.length)===De){var o=Ne(a.substr(De.length),e.selector);t.addRule(o,r[a],(0,i.Z)({},n,{selector:o})),delete r[a]}}(e,t))}}},Ue=/\s*,\s*/g,Oe=/&/g,Ze=/\$([\w-]+)/g;var ze=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ue),r=e.split(Ue),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Oe,o):o+" "+l}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var a=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete a.name,a}return{onProcessStyle:function(r,a,o){if("style"!==a.type)return r;var s,l,u=a,c=u.options.parent;for(var h in r){var d=-1!==h.indexOf("&"),f="@"===h[0];if(d||f){if(s=n(u,c,s),d){var p=t(h,u.selector);l||(l=e(c,o)),p=p.replace(Ze,l);var A=u.key+"-"+h;"replaceRule"in c?c.replaceRule(A,r[h],(0,i.Z)({},s,{selector:p})):c.addRule(A,r[h],(0,i.Z)({},s,{selector:p}))}else f&&c.addRule(h,{},s).addRule(u.key,r[h],{selector:u.selector});delete r[h]}}return r}}},Ge=/[A-Z]/g,He=/^ms-/,Ve={};function We(e){return"-"+e.toLowerCase()}var qe=function(e){if(Ve.hasOwnProperty(e))return Ve[e];var t=e.replace(Ge,We);return Ve[e]=He.test(t)?"-"+t:t};function Ye(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:qe(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ye):t.fallbacks=Ye(e.fallbacks)),t}var Xe=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ye(e[t]);return e}return Ye(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=qe(t);return t===r?e:(n.prop(r,e),null)}}},Je=be&&CSS?CSS.px:"px",Ke=be&&CSS?CSS.ms:"ms",$e=be&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tt=et({"animation-delay":Ke,"animation-duration":Ke,"background-position":Je,"background-position-x":Je,"background-position-y":Je,"background-size":Je,border:Je,"border-bottom":Je,"border-bottom-left-radius":Je,"border-bottom-right-radius":Je,"border-bottom-width":Je,"border-left":Je,"border-left-width":Je,"border-radius":Je,"border-right":Je,"border-right-width":Je,"border-top":Je,"border-top-left-radius":Je,"border-top-right-radius":Je,"border-top-width":Je,"border-width":Je,"border-block":Je,"border-block-end":Je,"border-block-end-width":Je,"border-block-start":Je,"border-block-start-width":Je,"border-block-width":Je,"border-inline":Je,"border-inline-end":Je,"border-inline-end-width":Je,"border-inline-start":Je,"border-inline-start-width":Je,"border-inline-width":Je,"border-start-start-radius":Je,"border-start-end-radius":Je,"border-end-start-radius":Je,"border-end-end-radius":Je,margin:Je,"margin-bottom":Je,"margin-left":Je,"margin-right":Je,"margin-top":Je,"margin-block":Je,"margin-block-end":Je,"margin-block-start":Je,"margin-inline":Je,"margin-inline-end":Je,"margin-inline-start":Je,padding:Je,"padding-bottom":Je,"padding-left":Je,"padding-right":Je,"padding-top":Je,"padding-block":Je,"padding-block-end":Je,"padding-block-start":Je,"padding-inline":Je,"padding-inline-end":Je,"padding-inline-start":Je,"mask-position-x":Je,"mask-position-y":Je,"mask-size":Je,height:Je,width:Je,"min-height":Je,"max-height":Je,"min-width":Je,"max-width":Je,bottom:Je,left:Je,top:Je,right:Je,inset:Je,"inset-block":Je,"inset-block-end":Je,"inset-block-start":Je,"inset-inline":Je,"inset-inline-end":Je,"inset-inline-start":Je,"box-shadow":Je,"text-shadow":Je,"column-gap":Je,"column-rule":Je,"column-rule-width":Je,"column-width":Je,"font-size":Je,"font-size-delta":Je,"letter-spacing":Je,"text-decoration-thickness":Je,"text-indent":Je,"text-stroke":Je,"text-stroke-width":Je,"word-spacing":Je,motion:Je,"motion-offset":Je,outline:Je,"outline-offset":Je,"outline-width":Je,perspective:Je,"perspective-origin-x":$e,"perspective-origin-y":$e,"transform-origin":$e,"transform-origin-x":$e,"transform-origin-y":$e,"transform-origin-z":$e,"transition-delay":Ke,"transition-duration":Ke,"vertical-align":Je,"flex-basis":Je,"shape-margin":Je,size:Je,gap:Je,grid:Je,"grid-gap":Je,"row-gap":Je,"grid-row-gap":Je,"grid-column-gap":Je,"grid-template-rows":Je,"grid-template-columns":Je,"grid-auto-rows":Je,"grid-auto-columns":Je,"box-shadow-x":Je,"box-shadow-y":Je,"box-shadow-blur":Je,"box-shadow-spread":Je,"font-line-height":Je,"text-shadow-x":Je,"text-shadow-y":Je,"text-shadow-blur":Je});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nt(i,t[i],n);else for(var a in t)t[a]=nt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||tt[e];return!o||0===t&&o===Je?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}},it=n(3433),at="",ot="",st="",lt="",ut=s&&"ontouchstart"in document.documentElement;if(s){var ct={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},ht=document.createElement("p").style;for(var dt in ct)if(dt+"Transform"in ht){at=dt,ot=ct[dt];break}"Webkit"===at&&"msHyphens"in ht&&(at="ms",ot=ct.ms,lt="edge"),"Webkit"===at&&"-apple-trailing-word"in ht&&(st="apple")}var ft={js:at,css:ot,vendor:st,browser:lt,isTouch:ut};var pt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ft.js?"-webkit-"+e:ft.css+e)}},At={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ft.js?ft.css+"print-"+e:e)}},mt=/[-\s]+(.)?/g;function vt(e,t){return t?t.toUpperCase():""}function gt(e){return e.replace(mt,vt)}function yt(e){return gt("-"+e)}var xt,bt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ft.js){var n="mask-image";if(gt(n)in t)return e;if(ft.js+yt(n)in t)return ft.css+e}return e}},wt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ft.vendor||ft.isTouch?e:ft.css+e)}},Ct={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ft.css+e)}},Et={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ft.css+e)}},St={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ft.js||"ms"===ft.js&&"edge"!==ft.browser?ft.css+e:e)}},It={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ft.js||"ms"===ft.js||"apple"===ft.vendor?ft.css+e:e)}},Mt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ft.js?"WebkitColumn"+yt(e)in t&&ft.css+"column-"+e:"Moz"===ft.js&&("page"+yt(e)in t&&"page-"+e))}},_t={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ft.js)return e;var n=e.replace("-inline","");return ft.js+yt(n)in t&&ft.css+n}},kt={supportedProperty:function(e,t){return gt(e)in t&&e}},Bt={supportedProperty:function(e,t){var n=yt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ft.js+n in t?ft.css+e:"Webkit"!==ft.js&&"Webkit"+n in t&&"-webkit-"+e}},Tt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ft.js?""+ft.css+e:e)}},Rt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ft.js?ft.css+"scroll-chaining":e)}},Dt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Pt={supportedProperty:function(e,t){var n=Dt[e];return!!n&&(ft.js+yt(n)in t&&ft.css+n)}},Lt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Qt=Object.keys(Lt),jt=function(e){return ft.css+e},Nt={supportedProperty:function(e,t,n){var r=n.multiple;if(Qt.indexOf(e)>-1){var i=Lt[e];if(!Array.isArray(i))return ft.js+yt(i)in t&&ft.css+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(ft.js+yt(i[0])in t))return!1;return i.map(jt)}return!1}},Ft=[pt,At,bt,wt,Ct,Et,St,It,Mt,_t,kt,Bt,Tt,Rt,Pt,Nt],Ut=Ft.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ot=Ft.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,it.Z)(t.noPrefill)),e}),[]),Zt={};if(s){xt=document.createElement("p");var zt=window.getComputedStyle(document.documentElement,"");for(var Gt in zt)isNaN(Gt)||(Zt[zt[Gt]]=zt[Gt]);Ot.forEach((function(e){return delete Zt[e]}))}function Ht(e,t){if(void 0===t&&(t={}),!xt)return e;if(null!=Zt[e])return Zt[e];"transition"!==e&&"transform"!==e||(t[e]=e in xt.style);for(var n=0;n<Ut.length&&(Zt[e]=Ut[n](e,xt.style,t),!Zt[e]);n++);try{xt.style[e]=""}catch(r){return!1}return Zt[e]}var Vt,Wt={},qt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Yt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Xt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ht(t):", "+Ht(n);return r||(t||n)}function Jt(e,t){var n=t;if(!Vt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Wt[r])return Wt[r];try{Vt.style[e]=n}catch(i){return Wt[r]=!1,!1}if(qt[e])n=n.replace(Yt,Xt);else if(""===Vt.style[e]&&("-ms-flex"===(n=ft.css+n)&&(Vt.style[e]="-ms-flexbox"),Vt.style[e]=n,""===Vt.style[e]))return Wt[r]=!1,!1;return Vt.style[e]="",Wt[r]=n,Wt[r]}s&&(Vt=document.createElement("p"));var Kt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Ht(n);a&&a!==n&&(i=!0);var o=!1,s=Jt(a,m(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ft.js?e:"@"+ft.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Jt(t,m(e))||e}}};var $t=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var en=xe({plugins:[Re(),Fe(),ze(),Xe(),rt(),"undefined"===typeof window?null:Kt(),$t()]}),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),l=0,u=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==_e.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Me.Z]&&""===o?"".concat(a,"-").concat(u()):a}return"".concat(s).concat(i).concat(u())}}(),nn={disableGeneration:!1,generateClassName:tn,jss:en,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=a.createContext(nn);var an=-1e9;var on=n(8272);var sn={};function ln(e,t){var n=e.state,r=e.theme,a=e.stylesOptions,o=e.stylesCreator,s=e.name;if(!a.disableGeneration){var l=Se.get(a.sheetsManager,o,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},Se.set(a.sheetsManager,o,r,l));var u=(0,i.Z)({},o.options,a,{theme:r,flip:"boolean"===typeof a.flip?a.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=a.sheetsRegistry;if(0===l.refs){var h;a.sheetsCache&&(h=Se.get(a.sheetsCache,o,r));var d=o.create(r,s);h||((h=a.jss.createStyleSheet(d,(0,i.Z)({link:!1},u))).attach(),a.sheetsCache&&Se.set(a.sheetsCache,o,r,h)),c&&c.add(h),l.staticSheet=h,l.dynamicStyles=we(d)}if(l.dynamicStyles){var f=a.jss.createStyleSheet(l.dynamicStyles,(0,i.Z)({link:!0},u));f.update(t),f.attach(),n.dynamicSheet=f,n.classes=(0,Ce.Z)({baseClasses:l.staticSheet.classes,newClasses:f.classes}),c&&c.add(f)}else n.classes=l.staticSheet.classes;l.refs+=1}}function un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,o=t.classNamePrefix,s=t.Component,l=t.defaultTheme,u=void 0===l?sn:l,c=(0,r.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),h=function(e){var t="function"===typeof e;return{create:function(n,r){var a;try{a=t?e(n):e}catch(l){throw l}if(!r||!n.overrides||!n.overrides[r])return a;var o=n.overrides[r],s=(0,i.Z)({},a);return Object.keys(o).forEach((function(e){s[e]=(0,on.Z)(s[e],o[e])})),s},options:{}}}(e),d=n||o||"makeStyles";h.options={index:an+=1,name:n,meta:d,classNamePrefix:d};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,Ie.Z)()||u,r=(0,i.Z)({},a.useContext(rn),c),o=a.useRef(),l=a.useRef();!function(e,t){var n,r=a.useRef([]),i=a.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),a.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var i={name:n,state:{},stylesCreator:h,stylesOptions:r,theme:t};return ln(i,e),l.current=!1,o.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Se.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Se.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}(i)}}),[t,h]),a.useEffect((function(){l.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(o.current,e),l.current=!0}));var d=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,Ce.Z)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(o.current,e.classes,s);return d}}},8427:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},3203:function(e,t,n){"use strict";var r=n(7313).createContext(null);t.Z=r},7420:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7313),i=n(3203);function a(){return r.useContext(i.Z)}},2749:function(e,t,n){"use strict";n.d(t,{k:function(){return o}});var r=n(1002),i={xs:0,sm:600,md:960,lg:1280,xl:1920},a={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function o(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||a;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===(0,r.Z)(t)){var o=e.theme.breakpoints||a;return Object.keys(t).reduce((function(e,r){return e[o.up(r)]=n(t[r]),e}),{})}return n(t)}},7166:function(e,t,n){"use strict";var r=n(8272);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},1349:function(e,t,n){"use strict";n.d(t,{h:function(){return h},Z:function(){return p}});var r=n(9439),i=n(2749),a=n(7166);var o={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],u=o[i],c=s[a]||"";return Array.isArray(c)?c.map((function(e){return u+e})):[u+c]})),c=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function h(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function d(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function f(e){var t=h(e.theme);return Object.keys(e).map((function(n){if(-1===c.indexOf(n))return null;var r=d(u(n),t),a=e[n];return(0,i.k)(e,a,r)})).reduce(a.Z,{})}f.propTypes={},f.filterProps=c;var p=f},8272:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7462),i=n(1002);function a(e){return e&&"object"===(0,i.Z)(e)&&e.constructor===Object}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(a(t[r])&&r in e?i[r]=o(e[r],t[r],n):i[r]=t[r])})),i}},803:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},3061:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},7861:function(e,t,n){"use strict";var r=n(9456),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var s=l(t),A=l(n),m=0;m<o.length;++m){var v=o[m];if(!a[v]&&(!r||!r[v])&&(!A||!A[v])&&(!s||!s[v])){var g=d(n,v);try{u(t,v,g)}catch(y){}}}}return t}},229:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,A=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case m:case A:case l:return e;default:return t}}case i:return t}}}function w(e){return b(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=A,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return w(e)||b(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===u},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===d},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===A},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===h||e===s||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===A||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===g||e.$$typeof===y||e.$$typeof===x||e.$$typeof===v)},t.typeOf=b},9456:function(e,t,n){"use strict";e.exports=n(229)},6993:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,o,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},7146:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},6031:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,h=128,d=256,f=1/0,p=9007199254740991,A=NaN,m=4294967295,v=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",d]],g="[object Arguments]",y="[object Array]",x="[object Boolean]",b="[object Date]",w="[object Error]",C="[object Function]",E="[object GeneratorFunction]",S="[object Map]",I="[object Number]",M="[object Object]",_="[object Promise]",k="[object RegExp]",B="[object Set]",T="[object String]",R="[object Symbol]",D="[object WeakMap]",P="[object ArrayBuffer]",L="[object DataView]",Q="[object Float32Array]",j="[object Float64Array]",N="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",O="[object Uint8Array]",Z="[object Uint8ClampedArray]",z="[object Uint16Array]",G="[object Uint32Array]",H=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,X=RegExp(q.source),J=RegExp(Y.source),K=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,he=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Ce=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ie="\\u2700-\\u27bf",Me="a-z\\xdf-\\xf6\\xf8-\\xff",_e="A-Z\\xc0-\\xd6\\xd8-\\xde",ke="\\ufe0e\\ufe0f",Be="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['\u2019]",Re="["+Ee+"]",De="["+Be+"]",Pe="["+Se+"]",Le="\\d+",Qe="["+Ie+"]",je="["+Me+"]",Ne="[^"+Ee+Be+Le+Ie+Me+_e+"]",Fe="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Ee+"]",Oe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ze="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+_e+"]",Ge="\\u200d",He="(?:"+je+"|"+Ne+")",Ve="(?:"+ze+"|"+Ne+")",We="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Pe+"|"+Fe+")"+"?",Xe="["+ke+"]?",Je=Xe+Ye+("(?:"+Ge+"(?:"+[Ue,Oe,Ze].join("|")+")"+Xe+Ye+")*"),Ke="(?:"+[Qe,Oe,Ze].join("|")+")"+Je,$e="(?:"+[Ue+Pe+"?",Pe,Oe,Ze,Re].join("|")+")",et=RegExp(Te,"g"),tt=RegExp(Pe,"g"),nt=RegExp(Fe+"(?="+Fe+")|"+$e+Je,"g"),rt=RegExp([ze+"?"+je+"+"+We+"(?="+[De,ze,"$"].join("|")+")",Ve+"+"+qe+"(?="+[De,ze+He,"$"].join("|")+")",ze+"?"+He+"+"+We,ze+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Le,Ke].join("|"),"g"),it=RegExp("["+Ge+Ee+Se+ke+"]"),at=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[Q]=lt[j]=lt[N]=lt[F]=lt[U]=lt[O]=lt[Z]=lt[z]=lt[G]=!0,lt[g]=lt[y]=lt[P]=lt[x]=lt[L]=lt[b]=lt[w]=lt[C]=lt[S]=lt[I]=lt[M]=lt[k]=lt[B]=lt[T]=lt[D]=!1;var ut={};ut[g]=ut[y]=ut[P]=ut[L]=ut[x]=ut[b]=ut[Q]=ut[j]=ut[N]=ut[F]=ut[U]=ut[S]=ut[I]=ut[M]=ut[k]=ut[B]=ut[T]=ut[R]=ut[O]=ut[Z]=ut[z]=ut[G]=!0,ut[w]=ut[C]=ut[D]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ht=parseFloat,dt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,At=ft||pt||Function("return this")(),mt=t&&!t.nodeType&&t,vt=mt&&e&&!e.nodeType&&e,gt=vt&&vt.exports===mt,yt=gt&&ft.process,xt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),bt=xt&&xt.isArrayBuffer,wt=xt&&xt.isDate,Ct=xt&&xt.isMap,Et=xt&&xt.isRegExp,St=xt&&xt.isSet,It=xt&&xt.isTypedArray;function Mt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _t(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Bt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Dt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Qt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function jt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Nt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Wt("length");function Ot(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Zt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function zt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Zt(e,Ht,n)}function Gt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Ht(e){return e!==e}function Vt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:A}function Wt(e){return function(t){return null==t?i:t[e]}}function qt(e){return function(t){return null==e?i:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Xt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function Jt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,mn(e)+1).replace(oe,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return Lt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}var an=qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function ln(e){return it.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function hn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==s||(e[n]=s,a[i++]=n)}return a}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Ut(e)}function An(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function mn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n=(t=null==t?At:gn.defaults(At.Object(),t,gn.pick(At,ot))).Array,r=t.Date,se=t.Error,Ee=t.Function,Se=t.Math,Ie=t.Object,Me=t.RegExp,_e=t.String,ke=t.TypeError,Be=n.prototype,Te=Ee.prototype,Re=Ie.prototype,De=t["__core-js_shared__"],Pe=Te.toString,Le=Re.hasOwnProperty,Qe=0,je=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ne=Re.toString,Fe=Pe.call(Ie),Ue=At._,Oe=Me("^"+Pe.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ze=gt?t.Buffer:i,ze=t.Symbol,Ge=t.Uint8Array,He=Ze?Ze.allocUnsafe:i,Ve=cn(Ie.getPrototypeOf,Ie),We=Ie.create,qe=Re.propertyIsEnumerable,Ye=Be.splice,Xe=ze?ze.isConcatSpreadable:i,Je=ze?ze.iterator:i,Ke=ze?ze.toStringTag:i,$e=function(){try{var e=ha(Ie,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,it=r&&r.now!==At.Date.now&&r.now,ct=t.setTimeout!==At.setTimeout&&t.setTimeout,ft=Se.ceil,pt=Se.floor,mt=Ie.getOwnPropertySymbols,vt=Ze?Ze.isBuffer:i,yt=t.isFinite,xt=Be.join,Ut=cn(Ie.keys,Ie),qt=Se.max,yn=Se.min,xn=r.now,bn=t.parseInt,wn=Se.random,Cn=Be.reverse,En=ha(t,"DataView"),Sn=ha(t,"Map"),In=ha(t,"Promise"),Mn=ha(t,"Set"),_n=ha(t,"WeakMap"),kn=ha(Ie,"create"),Bn=_n&&new _n,Tn={},Rn=ja(En),Dn=ja(Sn),Pn=ja(In),Ln=ja(Mn),Qn=ja(_n),jn=ze?ze.prototype:i,Nn=jn?jn.valueOf:i,Fn=jn?jn.toString:i;function Un(e){if(ts(e)&&!Go(e)&&!(e instanceof Gn)){if(e instanceof zn)return e;if(Le.call(e,"__wrapped__"))return Na(e)}return new zn(e)}var On=function(){function e(){}return function(t){if(!es(t))return{};if(We)return We(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Zn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Wn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Vn(e);this.size=t.size}function Xn(e,t){var n=Go(e),r=!n&&zo(e),i=!n&&!r&&qo(e),a=!n&&!r&&!i&&us(e),o=n||r||i||a,s=o?Jt(e.length,_e):[],l=s.length;for(var u in e)!t&&!Le.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ga(u,l))||s.push(u);return s}function Jn(e){var t=e.length;return t?e[qr(0,t-1)]:i}function Kn(e,t){return Pa(ki(e),sr(t,0,e.length))}function $n(e){return Pa(ki(e))}function er(e,t,n){(n!==i&&!Uo(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function tr(e,t,n){var r=e[t];Le.call(e,t)&&Uo(r,n)&&(n!==i||t in e)||ar(e,t,n)}function nr(e,t){for(var n=e.length;n--;)if(Uo(e[n][0],t))return n;return-1}function rr(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ir(e,t){return e&&Bi(t,Ts(t),e)}function ar(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var r=-1,a=t.length,o=n(a),s=null==e;++r<a;)o[r]=s?i:Is(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,a,o){var s,l=1&t,u=2&t,c=4&t;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!es(e))return e;var h=Go(e);if(h){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return ki(e,s)}else{var d=pa(e),f=d==C||d==E;if(qo(e))return Ci(e,l);if(d==M||d==g||f&&!a){if(s=u||f?{}:ma(e),!l)return u?function(e,t){return Bi(e,fa(e),t)}(e,function(e,t){return e&&Bi(t,Rs(t),e)}(s,e)):function(e,t){return Bi(e,da(e),t)}(e,ir(s,e))}else{if(!ut[d])return a?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case P:return Ei(e);case x:case b:return new r(+e);case L:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case Q:case j:case N:case F:case U:case O:case Z:case z:case G:return Si(e,n);case S:return new r;case I:case T:return new r(e);case k:return function(e){var t=new e.constructor(e.source,Ae.exec(e));return t.lastIndex=e.lastIndex,t}(e);case B:return new r;case R:return i=e,Nn?Ie(Nn.call(i)):{}}var i}(e,d,l)}}o||(o=new Yn);var p=o.get(e);if(p)return p;o.set(e,s),os(e)?e.forEach((function(r){s.add(lr(r,t,n,r,e,o))})):ns(e)&&e.forEach((function(r,i){s.set(i,lr(r,t,n,i,e,o))}));var A=h?i:(c?u?ia:ra:u?Rs:Ts)(e);return kt(A||e,(function(r,i){A&&(r=e[i=r]),tr(s,i,lr(r,t,n,i,e,o))})),s}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ie(e);r--;){var a=n[r],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new ke(a);return Ba((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,a=Dt,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Lt(t,$t(n))),r?(a=Pt,o=!1):t.length>=200&&(a=tn,o=!1,t=new qn(t));e:for(;++i<s;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h===h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else a(t,h,r)||l.push(c)}return l}Un.templateSettings={escape:K,evaluate:$,interpolate:ee,variable:"",imports:{_:Un}},Un.prototype=Zn.prototype,Un.prototype.constructor=Un,zn.prototype=On(Zn.prototype),zn.prototype.constructor=zn,Gn.prototype=On(Zn.prototype),Gn.prototype.constructor=Gn,Hn.prototype.clear=function(){this.__data__=kn?kn(null):{},this.size=0},Hn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Hn.prototype.get=function(e){var t=this.__data__;if(kn){var n=t[e];return n===o?i:n}return Le.call(t,e)?t[e]:i},Hn.prototype.has=function(e){var t=this.__data__;return kn?t[e]!==i:Le.call(t,e)},Hn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kn&&t===i?o:t,this},Vn.prototype.clear=function(){this.__data__=[],this.size=0},Vn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Vn.prototype.get=function(e){var t=this.__data__,n=nr(t,e);return n<0?i:t[n][1]},Vn.prototype.has=function(e){return nr(this.__data__,e)>-1},Vn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Wn.prototype.clear=function(){this.size=0,this.__data__={hash:new Hn,map:new(Sn||Vn),string:new Hn}},Wn.prototype.delete=function(e){var t=ua(this,e).delete(e);return this.size-=t?1:0,t},Wn.prototype.get=function(e){return ua(this,e).get(e)},Wn.prototype.has=function(e){return ua(this,e).has(e)},Wn.prototype.set=function(e,t){var n=ua(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,o),this},qn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Vn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Vn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Wn(r)}return n.set(e,t),this.size=n.size,this};var dr=Di(xr),fr=Di(br,!0);function pr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Ar(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(l===i?s===s&&!ls(s):n(s,l)))var l=s,u=o}return u}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function vr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=va),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?vr(s,t-1,n,r,i):Qt(i,s):r||(i[i.length]=s)}return i}var gr=Pi(),yr=Pi(!0);function xr(e,t){return e&&gr(e,t,Ts)}function br(e,t){return e&&yr(e,t,Ts)}function wr(e,t){return Rt(t,(function(t){return Jo(e[t])}))}function Cr(e,t){for(var n=0,r=(t=yi(t,e)).length;null!=e&&n<r;)e=e[Qa(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return Go(e)?r:Qt(r,n(e))}function Sr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ke&&Ke in Ie(e)?function(e){var t=Le.call(e,Ke),n=e[Ke];try{e[Ke]=i;var r=!0}catch(o){}var a=Ne.call(e);r&&(t?e[Ke]=n:delete e[Ke]);return a}(e):function(e){return Ne.call(e)}(e)}function Ir(e,t){return e>t}function Mr(e,t){return null!=e&&Le.call(e,t)}function _r(e,t){return null!=e&&t in Ie(e)}function kr(e,t,r){for(var a=r?Pt:Dt,o=e[0].length,s=e.length,l=s,u=n(s),c=1/0,h=[];l--;){var d=e[l];l&&t&&(d=Lt(d,$t(t))),c=yn(d.length,c),u[l]=!r&&(t||o>=120&&d.length>=120)?new qn(l&&d):i}d=e[0];var f=-1,p=u[0];e:for(;++f<o&&h.length<c;){var A=d[f],m=t?t(A):A;if(A=r||0!==A?A:0,!(p?tn(p,m):a(h,m,r))){for(l=s;--l;){var v=u[l];if(!(v?tn(v,m):a(e[l],m,r)))continue e}p&&p.push(m),h.push(A)}}return h}function Br(e,t,n){var r=null==(e=Ma(e,t=yi(t,e)))?e:e[Qa(Ya(t))];return null==r?i:Mt(r,e,n)}function Tr(e){return ts(e)&&Sr(e)==g}function Rr(e,t,n,r,a){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var s=Go(e),l=Go(t),u=s?y:pa(e),c=l?y:pa(t),h=(u=u==g?M:u)==M,d=(c=c==g?M:c)==M,f=u==c;if(f&&qo(e)){if(!qo(t))return!1;s=!0,h=!1}if(f&&!h)return o||(o=new Yn),s||us(e)?ta(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case L:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case P:return!(e.byteLength!=t.byteLength||!a(new Ge(e),new Ge(t)));case x:case b:case I:return Uo(+e,+t);case w:return e.name==t.name&&e.message==t.message;case k:case T:return e==t+"";case S:var s=un;case B:var l=1&r;if(s||(s=dn),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=ta(s(e),s(t),r,i,a,o);return o.delete(e),c;case R:if(Nn)return Nn.call(e)==Nn.call(t)}return!1}(e,t,u,n,r,a,o);if(!(1&n)){var p=h&&Le.call(e,"__wrapped__"),A=d&&Le.call(t,"__wrapped__");if(p||A){var m=p?e.value():e,v=A?t.value():t;return o||(o=new Yn),a(m,v,n,r,o)}}if(!f)return!1;return o||(o=new Yn),function(e,t,n,r,a,o){var s=1&n,l=ra(e),u=l.length,c=ra(t),h=c.length;if(u!=h&&!s)return!1;var d=u;for(;d--;){var f=l[d];if(!(s?f in t:Le.call(t,f)))return!1}var p=o.get(e),A=o.get(t);if(p&&A)return p==t&&A==e;var m=!0;o.set(e,t),o.set(t,e);var v=s;for(;++d<u;){var g=e[f=l[d]],y=t[f];if(r)var x=s?r(y,g,f,t,e,o):r(g,y,f,e,t,o);if(!(x===i?g===y||a(g,y,n,r,o):x)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,a,o)}(e,t,n,r,Rr,a))}function Dr(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=Ie(e);a--;){var l=n[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<o;){var u=(l=n[a])[0],c=e[u],h=l[1];if(s&&l[2]){if(c===i&&!(u in e))return!1}else{var d=new Yn;if(r)var f=r(c,h,u,e,t,d);if(!(f===i?Rr(h,c,3,r,d):f))return!1}}return!0}function Pr(e){return!(!es(e)||(t=e,je&&je in t))&&(Jo(e)?Oe:ge).test(ja(e));var t}function Lr(e){return"function"==typeof e?e:null==e?rl:"object"==typeof e?Go(e)?Or(e[0],e[1]):Ur(e):dl(e)}function Qr(e){if(!Ca(e))return Ut(e);var t=[];for(var n in Ie(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function jr(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in Ie(e))t.push(n);return t}(e);var t=Ca(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Nr(e,t){return e<t}function Fr(e,t){var r=-1,i=Vo(e)?n(e.length):[];return dr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function Ur(e){var t=ca(e);return 1==t.length&&t[0][2]?Sa(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Or(e,t){return xa(e)&&Ea(t)?Sa(Qa(e),t):function(n){var r=Is(n,e);return r===i&&r===t?Ms(n,e):Rr(t,r,3)}}function Zr(e,t,n,r,a){e!==t&&gr(t,(function(o,s){if(a||(a=new Yn),es(o))!function(e,t,n,r,a,o,s){var l=_a(e,n),u=_a(t,n),c=s.get(u);if(c)return void er(e,n,c);var h=o?o(l,u,n+"",e,t,s):i,d=h===i;if(d){var f=Go(u),p=!f&&qo(u),A=!f&&!p&&us(u);h=u,f||p||A?Go(l)?h=l:Wo(l)?h=ki(l):p?(d=!1,h=Ci(u,!0)):A?(d=!1,h=Si(u,!0)):h=[]:is(u)||zo(u)?(h=l,zo(l)?h=vs(l):es(l)&&!Jo(l)||(h=ma(u))):d=!1}d&&(s.set(u,h),a(h,u,r,o,s),s.delete(u));er(e,n,h)}(e,t,s,n,Zr,r,a);else{var l=r?r(_a(e,s),o,s+"",e,t,a):i;l===i&&(l=o),er(e,s,l)}}),Rs)}function zr(e,t){var n=e.length;if(n)return ga(t+=t<0?n:0,n)?e[t]:i}function Gr(e,t,n){t=t.length?Lt(t,(function(e){return Go(e)?function(t){return Cr(t,1===e.length?e[0]:e)}:e})):[rl];var r=-1;t=Lt(t,$t(la()));var i=Fr(e,(function(e,n,i){var a=Lt(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var l=Ii(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Hr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Cr(e,o);n(s,o)&&$r(a,yi(o,e),s)}return a}function Vr(e,t,n,r){var i=r?Gt:zt,a=-1,o=t.length,s=e;for(e===t&&(t=ki(t)),n&&(s=Lt(e,$t(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Ye.call(s,l,1),Ye.call(e,l,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ga(i)?Ye.call(e,i,1):hi(e,i)}}return e}function qr(e,t){return e+pt(wn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Ta(Ia(e,t,rl),e+"")}function Jr(e){return Jn(Us(e))}function Kr(e,t){var n=Us(e);return Pa(n,sr(t,0,n.length))}function $r(e,t,n,r){if(!es(e))return e;for(var a=-1,o=(t=yi(t,e)).length,s=o-1,l=e;null!=l&&++a<o;){var u=Qa(t[a]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(a!=s){var h=l[u];(c=r?r(h,u,l):i)===i&&(c=es(h)?h:ga(t[a+1])?[]:{})}tr(l,u,c),l=l[u]}return e}var ei=Bn?function(e,t){return Bn.set(e,t),e}:rl,ti=$e?function(e,t){return $e(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:rl;function ni(e){return Pa(Us(e))}function ri(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ii(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!ls(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return oi(e,t,rl,n)}function oi(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!==t,l=null===t,u=ls(t),c=t===i;a<o;){var h=pt((a+o)/2),d=n(e[h]),f=d!==i,p=null===d,A=d===d,m=ls(d);if(s)var v=r||A;else v=c?A&&(r||f):l?A&&f&&(r||!p):u?A&&f&&!p&&(r||!m):!p&&!m&&(r?d<=t:d<t);v?a=h+1:o=h}return yn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Uo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function li(e){return"number"==typeof e?e:ls(e)?A:+e}function ui(e){if("string"==typeof e)return e;if(Go(e))return Lt(e,ui)+"";if(ls(e))return Fn?Fn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,n){var r=-1,i=Dt,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=Pt;else if(a>=200){var u=t?null:Yi(e);if(u)return dn(u);o=!1,i=tn,l=new qn}else l=t?[]:s;e:for(;++r<a;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(c)}else i(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}function hi(e,t){return null==(e=Ma(e,t=yi(t,e)))||delete e[Qa(Ya(t))]}function di(e,t,n,r){return $r(e,t,n(Cr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ri(e,r?0:a,r?a+1:i):ri(e,r?a+1:0,r?i:a)}function pi(e,t){var n=e;return n instanceof Gn&&(n=n.value()),jt(t,(function(e,t){return t.func.apply(t.thisArg,Qt([e],t.args))}),n)}function Ai(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var s=e[a],l=-1;++l<i;)l!=a&&(o[a]=hr(o[a]||s,e[l],t,r));return ci(vr(o,1),t,r)}function mi(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;){var l=r<o?t[r]:i;n(s,e[r],l)}return s}function vi(e){return Wo(e)?e:[]}function gi(e){return"function"==typeof e?e:rl}function yi(e,t){return Go(e)?e:xa(e,t)?[e]:La(gs(e))}var xi=Xr;function bi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ri(e,t,n)}var wi=nt||function(e){return At.clearTimeout(e)};function Ci(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function Si(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ii(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=ls(e),s=t!==i,l=null===t,u=t===t,c=ls(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||l&&n&&a||!s&&a||!u)return-1}return 0}function Mi(e,t,r,i){for(var a=-1,o=e.length,s=r.length,l=-1,u=t.length,c=qt(o-s,0),h=n(u+c),d=!i;++l<u;)h[l]=t[l];for(;++a<s;)(d||a<o)&&(h[r[a]]=e[a]);for(;c--;)h[l++]=e[a++];return h}function _i(e,t,r,i){for(var a=-1,o=e.length,s=-1,l=r.length,u=-1,c=t.length,h=qt(o-l,0),d=n(h+c),f=!i;++a<h;)d[a]=e[a];for(var p=a;++u<c;)d[p+u]=t[u];for(;++s<l;)(f||a<o)&&(d[p+r[s]]=e[a++]);return d}function ki(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Bi(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var l=t[o],u=r?r(n[l],e[l],l,n,e):i;u===i&&(u=e[l]),a?ar(n,l,u):tr(n,l,u)}return n}function Ti(e,t){return function(n,r){var i=Go(n)?_t:rr,a=t?t():{};return i(n,e,la(r,2),a)}}function Ri(e){return Xr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&ya(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=Ie(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Vo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ie(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Pi(e){return function(t,n,r){for(var i=-1,a=Ie(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Li(e){return function(t){var n=ln(t=gs(t))?An(t):i,r=n?n[0]:t.charAt(0),a=n?bi(n,1).join(""):t.slice(1);return r[e]()+a}}function Qi(e){return function(t){return jt(Js(zs(t).replace(et,"")),e,"")}}function ji(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=On(e.prototype),r=e.apply(n,t);return es(r)?r:n}}function Ni(e){return function(t,n,r){var a=Ie(t);if(!Vo(t)){var o=la(n,3);t=Ts(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function Fi(e){return na((function(t){var n=t.length,r=n,o=zn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new ke(a);if(o&&!l&&"wrapper"==oa(s))var l=new zn([],!0)}for(r=l?r:n;++r<n;){var u=oa(s=t[r]),c="wrapper"==u?aa(s):i;l=c&&ba(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[oa(c[0])].apply(l,c[3]):1==s.length&&ba(s)?l[u]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Go(r))return l.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function Ui(e,t,r,a,o,s,l,u,c,d){var f=t&h,p=1&t,A=2&t,m=24&t,v=512&t,g=A?i:ji(e);return function h(){for(var y=arguments.length,x=n(y),b=y;b--;)x[b]=arguments[b];if(m)var w=sa(h),C=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(x,w);if(a&&(x=Mi(x,a,o,m)),s&&(x=_i(x,s,l,m)),y-=C,m&&y<d){var E=hn(x,w);return Wi(e,t,Ui,h.placeholder,r,x,E,u,c,d-y)}var S=p?r:this,I=A?S[e]:e;return y=x.length,u?x=function(e,t){var n=e.length,r=yn(t.length,n),a=ki(e);for(;r--;){var o=t[r];e[r]=ga(o,n)?a[o]:i}return e}(x,u):v&&y>1&&x.reverse(),f&&c<y&&(x.length=c),this&&this!==At&&this instanceof h&&(I=g||ji(I)),I.apply(S,x)}}function Oi(e,t){return function(n,r){return function(e,t,n,r){return xr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Zi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ui(n),r=ui(r)):(n=li(n),r=li(r)),a=e(n,r)}return a}}function zi(e){return na((function(t){return t=Lt(t,$t(la())),Xr((function(n){var r=this;return e(t,(function(e){return Mt(e,r,n)}))}))}))}function Gi(e,t){var n=(t=t===i?" ":ui(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,ft(e/pn(t)));return ln(t)?bi(An(r),0,e).join(""):r.slice(0,e)}function Hi(e){return function(t,r,a){return a&&"number"!=typeof a&&ya(t,r,a)&&(r=a=i),t=fs(t),r===i?(r=t,t=0):r=fs(r),function(e,t,r,i){for(var a=-1,o=qt(ft((t-e)/(r||1)),0),s=n(o);o--;)s[i?o:++a]=e,e+=r;return s}(t,r,a=a===i?t<r?1:-1:fs(a),e)}}function Vi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function Wi(e,t,n,r,a,o,s,l,h,d){var f=8&t;t|=f?u:c,4&(t&=~(f?c:u))||(t&=-4);var p=[e,t,a,f?o:i,f?s:i,f?i:o,f?i:s,l,h,d],A=n.apply(i,p);return ba(e)&&ka(A,p),A.placeholder=r,Ra(A,e,t)}function qi(e){var t=Se[e];return function(e,n){if(e=ms(e),(n=null==n?0:yn(ps(n),292))&&yt(e)){var r=(gs(e)+"e").split("e");return+((r=(gs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Mn&&1/dn(new Mn([,-0]))[1]==f?function(e){return new Mn(e)}:ll;function Xi(e){return function(t){var n=pa(t);return n==S?un(t):n==B?fn(t):function(e,t){return Lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,o,f,p,A,m){var v=2&t;if(!v&&"function"!=typeof e)throw new ke(a);var g=o?o.length:0;if(g||(t&=-97,o=f=i),A=A===i?A:qt(ps(A),0),m=m===i?m:ps(m),g-=f?f.length:0,t&c){var y=o,x=f;o=f=i}var b=v?i:aa(e),w=[e,t,r,o,f,y,x,p,A,m];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==h&&8==n||r==h&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Mi(u,l,t[4]):l,e[4]=u?hn(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?_i(u,l,t[6]):l,e[6]=u?hn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);r&h&&(e[8]=null==e[8]?t[8]:yn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,b),e=w[0],t=w[1],r=w[2],o=w[3],f=w[4],!(m=w[9]=w[9]===i?v?0:e.length:qt(w[9]-g,0))&&24&t&&(t&=-25),t&&1!=t)C=8==t||t==l?function(e,t,r){var a=ji(e);return function o(){for(var s=arguments.length,l=n(s),u=s,c=sa(o);u--;)l[u]=arguments[u];var h=s<3&&l[0]!==c&&l[s-1]!==c?[]:hn(l,c);return(s-=h.length)<r?Wi(e,t,Ui,o.placeholder,i,l,h,i,i,r-s):Mt(this&&this!==At&&this instanceof o?a:e,this,l)}}(e,t,m):t!=u&&33!=t||f.length?Ui.apply(i,w):function(e,t,r,i){var a=1&t,o=ji(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=i.length,h=n(c+l),d=this&&this!==At&&this instanceof t?o:e;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++s];return Mt(d,a?r:this,h)}}(e,t,r,o);else var C=function(e,t,n){var r=1&t,i=ji(e);return function t(){return(this&&this!==At&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ra((b?ei:ka)(C,w),e,t)}function Ki(e,t,n,r){return e===i||Uo(e,Re[n])&&!Le.call(r,n)?t:e}function $i(e,t,n,r,a,o){return es(e)&&es(t)&&(o.set(t,e),Zr(e,t,i,$i,o),o.delete(t)),e}function ea(e){return is(e)?i:e}function ta(e,t,n,r,a,o){var s=1&n,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var d=-1,f=!0,p=2&n?new qn:i;for(o.set(e,t),o.set(t,e);++d<l;){var A=e[d],m=t[d];if(r)var v=s?r(m,A,d,t,e,o):r(A,m,d,e,t,o);if(v!==i){if(v)continue;f=!1;break}if(p){if(!Ft(t,(function(e,t){if(!tn(p,t)&&(A===e||a(A,e,n,r,o)))return p.push(t)}))){f=!1;break}}else if(A!==m&&!a(A,m,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function na(e){return Ta(Ia(e,i,Ga),e+"")}function ra(e){return Er(e,Ts,da)}function ia(e){return Er(e,Rs,fa)}var aa=Bn?function(e){return Bn.get(e)}:ll;function oa(e){for(var t=e.name+"",n=Tn[t],r=Le.call(Tn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(Le.call(Un,"placeholder")?Un:e).placeholder}function la(){var e=Un.iteratee||il;return e=e===il?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function ua(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ca(e){for(var t=Ts(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ea(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Pr(n)?n:i}var da=mt?function(e){return null==e?[]:(e=Ie(e),Rt(mt(e),(function(t){return qe.call(e,t)})))}:Al,fa=mt?function(e){for(var t=[];e;)Qt(t,da(e)),e=Ve(e);return t}:Al,pa=Sr;function Aa(e,t,n){for(var r=-1,i=(t=yi(t,e)).length,a=!1;++r<i;){var o=Qa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&$o(i)&&ga(o,i)&&(Go(e)||zo(e))}function ma(e){return"function"!=typeof e.constructor||Ca(e)?{}:On(Ve(e))}function va(e){return Go(e)||zo(e)||!!(Xe&&e&&e[Xe])}function ga(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&xe.test(e))&&e>-1&&e%1==0&&e<t}function ya(e,t,n){if(!es(n))return!1;var r=typeof t;return!!("number"==r?Vo(n)&&ga(t,n.length):"string"==r&&t in n)&&Uo(n[t],e)}function xa(e,t){if(Go(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ie(t))}function ba(e){var t=oa(e),n=Un[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=aa(n);return!!r&&e===r[0]}(En&&pa(new En(new ArrayBuffer(1)))!=L||Sn&&pa(new Sn)!=S||In&&pa(In.resolve())!=_||Mn&&pa(new Mn)!=B||_n&&pa(new _n)!=D)&&(pa=function(e){var t=Sr(e),n=t==M?e.constructor:i,r=n?ja(n):"";if(r)switch(r){case Rn:return L;case Dn:return S;case Pn:return _;case Ln:return B;case Qn:return D}return t});var wa=De?Jo:ml;function Ca(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Ea(e){return e===e&&!es(e)}function Sa(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ie(n)))}}function Ia(e,t,r){return t=qt(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=qt(i.length-t,0),s=n(o);++a<o;)s[a]=i[t+a];a=-1;for(var l=n(t+1);++a<t;)l[a]=i[a];return l[t]=r(s),Mt(e,this,l)}}function Ma(e,t){return t.length<2?e:Cr(e,ri(t,0,-1))}function _a(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ka=Da(ei),Ba=ct||function(e,t){return At.setTimeout(e,t)},Ta=Da(ti);function Ra(e,t,n){var r=t+"";return Ta(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return kt(v,(function(n){var r="_."+n[0];t&n[1]&&!Dt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(r),n)))}function Da(e){var t=0,n=0;return function(){var r=xn(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Pa(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=qr(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var La=function(e){var t=Po(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Qa(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ja(e){if(null!=e){try{return Pe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Na(e){if(e instanceof Gn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=ki(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fa=Xr((function(e,t){return Wo(e)?hr(e,vr(t,1,Wo,!0)):[]})),Ua=Xr((function(e,t){var n=Ya(t);return Wo(n)&&(n=i),Wo(e)?hr(e,vr(t,1,Wo,!0),la(n,2)):[]})),Oa=Xr((function(e,t){var n=Ya(t);return Wo(n)&&(n=i),Wo(e)?hr(e,vr(t,1,Wo,!0),i,n):[]}));function Za(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=qt(r+i,0)),Zt(e,la(t,3),i)}function za(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=ps(n),a=n<0?qt(r+a,0):yn(a,r-1)),Zt(e,la(t,3),a,!0)}function Ga(e){return(null==e?0:e.length)?vr(e,1):[]}function Ha(e){return e&&e.length?e[0]:i}var Va=Xr((function(e){var t=Lt(e,vi);return t.length&&t[0]===e[0]?kr(t):[]})),Wa=Xr((function(e){var t=Ya(e),n=Lt(e,vi);return t===Ya(n)?t=i:n.pop(),n.length&&n[0]===e[0]?kr(n,la(t,2)):[]})),qa=Xr((function(e){var t=Ya(e),n=Lt(e,vi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?kr(n,i,t):[]}));function Ya(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xa=Xr(Ja);function Ja(e,t){return e&&e.length&&t&&t.length?Vr(e,t):e}var Ka=na((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Wr(e,Lt(t,(function(e){return ga(e,n)?+e:e})).sort(Ii)),r}));function $a(e){return null==e?e:Cn.call(e)}var eo=Xr((function(e){return ci(vr(e,1,Wo,!0))})),to=Xr((function(e){var t=Ya(e);return Wo(t)&&(t=i),ci(vr(e,1,Wo,!0),la(t,2))})),no=Xr((function(e){var t=Ya(e);return t="function"==typeof t?t:i,ci(vr(e,1,Wo,!0),i,t)}));function ro(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Wo(e))return t=qt(e.length,t),!0})),Jt(t,(function(t){return Lt(e,Wt(t))}))}function io(e,t){if(!e||!e.length)return[];var n=ro(e);return null==t?n:Lt(n,(function(e){return Mt(t,i,e)}))}var ao=Xr((function(e,t){return Wo(e)?hr(e,t):[]})),oo=Xr((function(e){return Ai(Rt(e,Wo))})),so=Xr((function(e){var t=Ya(e);return Wo(t)&&(t=i),Ai(Rt(e,Wo),la(t,2))})),lo=Xr((function(e){var t=Ya(e);return t="function"==typeof t?t:i,Ai(Rt(e,Wo),i,t)})),uo=Xr(ro);var co=Xr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,io(e,n)}));function ho(e){var t=Un(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var po=na((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Gn&&ga(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:fo,args:[a],thisArg:i}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var Ao=Ti((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var mo=Ni(Za),vo=Ni(za);function go(e,t){return(Go(e)?kt:dr)(e,la(t,3))}function yo(e,t){return(Go(e)?Bt:fr)(e,la(t,3))}var xo=Ti((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var bo=Xr((function(e,t,r){var i=-1,a="function"==typeof t,o=Vo(e)?n(e.length):[];return dr(e,(function(e){o[++i]=a?Mt(t,e,r):Br(e,t,r)})),o})),wo=Ti((function(e,t,n){ar(e,n,t)}));function Co(e,t){return(Go(e)?Lt:Fr)(e,la(t,3))}var Eo=Ti((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var So=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ya(e,t[0],t[1])?t=[]:n>2&&ya(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,vr(t,1),[])})),Io=it||function(){return At.Date.now()};function Mo(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,h,i,i,i,i,t)}function _o(e,t){var n;if("function"!=typeof t)throw new ke(a);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var ko=Xr((function(e,t,n){var r=1;if(n.length){var i=hn(n,sa(ko));r|=u}return Ji(e,r,t,n,i)})),Bo=Xr((function(e,t,n){var r=3;if(n.length){var i=hn(n,sa(Bo));r|=u}return Ji(t,r,e,n,i)}));function To(e,t,n){var r,o,s,l,u,c,h=0,d=!1,f=!1,p=!0;if("function"!=typeof e)throw new ke(a);function A(t){var n=r,a=o;return r=o=i,h=t,l=e.apply(a,n)}function m(e){var n=e-c;return c===i||n>=t||n<0||f&&e-h>=s}function v(){var e=Io();if(m(e))return g(e);u=Ba(v,function(e){var n=t-(e-c);return f?yn(n,s-(e-h)):n}(e))}function g(e){return u=i,p&&r?A(e):(r=o=i,l)}function y(){var e=Io(),n=m(e);if(r=arguments,o=this,c=e,n){if(u===i)return function(e){return h=e,u=Ba(v,t),d?A(e):l}(c);if(f)return wi(u),u=Ba(v,t),A(c)}return u===i&&(u=Ba(v,t)),l}return t=ms(t)||0,es(n)&&(d=!!n.leading,s=(f="maxWait"in n)?qt(ms(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),y.cancel=function(){u!==i&&wi(u),h=0,r=c=o=u=i},y.flush=function(){return u===i?l:g(Io())},y}var Ro=Xr((function(e,t){return cr(e,1,t)})),Do=Xr((function(e,t,n){return cr(e,ms(t)||0,n)}));function Po(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ke(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Po.Cache||Wn),n}function Lo(e){if("function"!=typeof e)throw new ke(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Po.Cache=Wn;var Qo=xi((function(e,t){var n=(t=1==t.length&&Go(t[0])?Lt(t[0],$t(la())):Lt(vr(t,1),$t(la()))).length;return Xr((function(r){for(var i=-1,a=yn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Mt(e,this,r)}))})),jo=Xr((function(e,t){var n=hn(t,sa(jo));return Ji(e,u,i,t,n)})),No=Xr((function(e,t){var n=hn(t,sa(No));return Ji(e,c,i,t,n)})),Fo=na((function(e,t){return Ji(e,d,i,i,i,t)}));function Uo(e,t){return e===t||e!==e&&t!==t}var Oo=Vi(Ir),Zo=Vi((function(e,t){return e>=t})),zo=Tr(function(){return arguments}())?Tr:function(e){return ts(e)&&Le.call(e,"callee")&&!qe.call(e,"callee")},Go=n.isArray,Ho=bt?$t(bt):function(e){return ts(e)&&Sr(e)==P};function Vo(e){return null!=e&&$o(e.length)&&!Jo(e)}function Wo(e){return ts(e)&&Vo(e)}var qo=vt||ml,Yo=wt?$t(wt):function(e){return ts(e)&&Sr(e)==b};function Xo(e){if(!ts(e))return!1;var t=Sr(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Jo(e){if(!es(e))return!1;var t=Sr(e);return t==C||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ko(e){return"number"==typeof e&&e==ps(e)}function $o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=Ct?$t(Ct):function(e){return ts(e)&&pa(e)==S};function rs(e){return"number"==typeof e||ts(e)&&Sr(e)==I}function is(e){if(!ts(e)||Sr(e)!=M)return!1;var t=Ve(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pe.call(n)==Fe}var as=Et?$t(Et):function(e){return ts(e)&&Sr(e)==k};var os=St?$t(St):function(e){return ts(e)&&pa(e)==B};function ss(e){return"string"==typeof e||!Go(e)&&ts(e)&&Sr(e)==T}function ls(e){return"symbol"==typeof e||ts(e)&&Sr(e)==R}var us=It?$t(It):function(e){return ts(e)&&$o(e.length)&&!!lt[Sr(e)]};var cs=Vi(Nr),hs=Vi((function(e,t){return e<=t}));function ds(e){if(!e)return[];if(Vo(e))return ss(e)?An(e):ki(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=pa(e);return(t==S?un:t==B?dn:Us)(e)}function fs(e){return e?(e=ms(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=fs(e),n=t%1;return t===t?n?t-n:t:0}function As(e){return e?sr(ps(e),0,m):0}function ms(e){if("number"==typeof e)return e;if(ls(e))return A;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=ve.test(e);return n||ye.test(e)?dt(e.slice(2),n?2:8):me.test(e)?A:+e}function vs(e){return Bi(e,Rs(e))}function gs(e){return null==e?"":ui(e)}var ys=Ri((function(e,t){if(Ca(t)||Vo(t))Bi(t,Ts(t),e);else for(var n in t)Le.call(t,n)&&tr(e,n,t[n])})),xs=Ri((function(e,t){Bi(t,Rs(t),e)})),bs=Ri((function(e,t,n,r){Bi(t,Rs(t),e,r)})),ws=Ri((function(e,t,n,r){Bi(t,Ts(t),e,r)})),Cs=na(or);var Es=Xr((function(e,t){e=Ie(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&ya(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=Rs(o),l=-1,u=s.length;++l<u;){var c=s[l],h=e[c];(h===i||Uo(h,Re[c])&&!Le.call(e,c))&&(e[c]=o[c])}return e})),Ss=Xr((function(e){return e.push(i,$i),Mt(Ps,i,e)}));function Is(e,t,n){var r=null==e?i:Cr(e,t);return r===i?n:r}function Ms(e,t){return null!=e&&Aa(e,t,_r)}var _s=Oi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),e[t]=n}),el(rl)),ks=Oi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),la),Bs=Xr(Br);function Ts(e){return Vo(e)?Xn(e):Qr(e)}function Rs(e){return Vo(e)?Xn(e,!0):jr(e)}var Ds=Ri((function(e,t,n){Zr(e,t,n)})),Ps=Ri((function(e,t,n,r){Zr(e,t,n,r)})),Ls=na((function(e,t){var n={};if(null==e)return n;var r=!1;t=Lt(t,(function(t){return t=yi(t,e),r||(r=t.length>1),t})),Bi(e,ia(e),n),r&&(n=lr(n,7,ea));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Qs=na((function(e,t){return null==e?{}:function(e,t){return Hr(e,t,(function(t,n){return Ms(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=Lt(ia(e),(function(e){return[e]}));return t=la(t),Hr(e,n,(function(e,n){return t(e,n[0])}))}var Ns=Xi(Ts),Fs=Xi(Rs);function Us(e){return null==e?[]:en(e,Ts(e))}var Os=Qi((function(e,t,n){return t=t.toLowerCase(),e+(n?Zs(t):t)}));function Zs(e){return Xs(gs(e).toLowerCase())}function zs(e){return(e=gs(e))&&e.replace(be,an).replace(tt,"")}var Gs=Qi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=Qi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Vs=Li("toLowerCase");var Ws=Qi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qs=Qi((function(e,t,n){return e+(n?" ":"")+Xs(t)}));var Ys=Qi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=Li("toUpperCase");function Js(e,t,n){return e=gs(e),(t=n?i:t)===i?function(e){return at.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(he)||[]}(e):e.match(t)||[]}var Ks=Xr((function(e,t){try{return Mt(e,i,t)}catch(n){return Xo(n)?n:new se(n)}})),$s=na((function(e,t){return kt(t,(function(t){t=Qa(t),ar(e,t,ko(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Fi(),nl=Fi(!0);function rl(e){return e}function il(e){return Lr("function"==typeof e?e:lr(e,1))}var al=Xr((function(e,t){return function(n){return Br(n,e,t)}})),ol=Xr((function(e,t){return function(n){return Br(e,n,t)}}));function sl(e,t,n){var r=Ts(t),i=wr(t,r);null!=n||es(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=wr(t,Ts(t)));var a=!(es(n)&&"chain"in n)||!!n.chain,o=Jo(e);return kt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=ki(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Qt([this.value()],arguments))})})),e}function ll(){}var ul=zi(Lt),cl=zi(Tt),hl=zi(Ft);function dl(e){return xa(e)?Wt(Qa(e)):function(e){return function(t){return Cr(t,e)}}(e)}var fl=Hi(),pl=Hi(!0);function Al(){return[]}function ml(){return!1}var vl=Zi((function(e,t){return e+t}),0),gl=qi("ceil"),yl=Zi((function(e,t){return e/t}),1),xl=qi("floor");var bl=Zi((function(e,t){return e*t}),1),wl=qi("round"),Cl=Zi((function(e,t){return e-t}),0);return Un.after=function(e,t){if("function"!=typeof t)throw new ke(a);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Un.ary=Mo,Un.assign=ys,Un.assignIn=xs,Un.assignInWith=bs,Un.assignWith=ws,Un.at=Cs,Un.before=_o,Un.bind=ko,Un.bindAll=$s,Un.bindKey=Bo,Un.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Go(e)?e:[e]},Un.chain=ho,Un.chunk=function(e,t,r){t=(r?ya(e,t,r):t===i)?1:qt(ps(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,l=n(ft(a/t));o<a;)l[s++]=ri(e,o,o+=t);return l},Un.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Un.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Qt(Go(r)?ki(r):[r],vr(t,1))},Un.cond=function(e){var t=null==e?0:e.length,n=la();return e=t?Lt(e,(function(e){if("function"!=typeof e[1])throw new ke(a);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Mt(i[0],this,n))return Mt(i[1],this,n)}}))},Un.conforms=function(e){return function(e){var t=Ts(e);return function(n){return ur(n,e,t)}}(lr(e,1))},Un.constant=el,Un.countBy=Ao,Un.create=function(e,t){var n=On(e);return null==t?n:ir(n,t)},Un.curry=function e(t,n,r){var a=Ji(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.curryRight=function e(t,n,r){var a=Ji(t,l,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},Un.debounce=To,Un.defaults=Es,Un.defaultsDeep=Ss,Un.defer=Ro,Un.delay=Do,Un.difference=Fa,Un.differenceBy=Ua,Un.differenceWith=Oa,Un.drop=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=n||t===i?1:ps(t))<0?0:t,r):[]},Un.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,0,(t=r-(t=n||t===i?1:ps(t)))<0?0:t):[]},Un.dropRightWhile=function(e,t){return e&&e.length?fi(e,la(t,3),!0,!0):[]},Un.dropWhile=function(e,t){return e&&e.length?fi(e,la(t,3),!0):[]},Un.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ya(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=ps(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:ps(r))<0&&(r+=a),r=n>r?0:As(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Un.filter=function(e,t){return(Go(e)?Rt:mr)(e,la(t,3))},Un.flatMap=function(e,t){return vr(Co(e,t),1)},Un.flatMapDeep=function(e,t){return vr(Co(e,t),f)},Un.flatMapDepth=function(e,t,n){return n=n===i?1:ps(n),vr(Co(e,t),n)},Un.flatten=Ga,Un.flattenDeep=function(e){return(null==e?0:e.length)?vr(e,f):[]},Un.flattenDepth=function(e,t){return(null==e?0:e.length)?vr(e,t=t===i?1:ps(t)):[]},Un.flip=function(e){return Ji(e,512)},Un.flow=tl,Un.flowRight=nl,Un.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Un.functions=function(e){return null==e?[]:wr(e,Ts(e))},Un.functionsIn=function(e){return null==e?[]:wr(e,Rs(e))},Un.groupBy=xo,Un.initial=function(e){return(null==e?0:e.length)?ri(e,0,-1):[]},Un.intersection=Va,Un.intersectionBy=Wa,Un.intersectionWith=qa,Un.invert=_s,Un.invertBy=ks,Un.invokeMap=bo,Un.iteratee=il,Un.keyBy=wo,Un.keys=Ts,Un.keysIn=Rs,Un.map=Co,Un.mapKeys=function(e,t){var n={};return t=la(t,3),xr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Un.mapValues=function(e,t){var n={};return t=la(t,3),xr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Un.matches=function(e){return Ur(lr(e,1))},Un.matchesProperty=function(e,t){return Or(e,lr(t,1))},Un.memoize=Po,Un.merge=Ds,Un.mergeWith=Ps,Un.method=al,Un.methodOf=ol,Un.mixin=sl,Un.negate=Lo,Un.nthArg=function(e){return e=ps(e),Xr((function(t){return zr(t,e)}))},Un.omit=Ls,Un.omitBy=function(e,t){return js(e,Lo(la(t)))},Un.once=function(e){return _o(2,e)},Un.orderBy=function(e,t,n,r){return null==e?[]:(Go(t)||(t=null==t?[]:[t]),Go(n=r?i:n)||(n=null==n?[]:[n]),Gr(e,t,n))},Un.over=ul,Un.overArgs=Qo,Un.overEvery=cl,Un.overSome=hl,Un.partial=jo,Un.partialRight=No,Un.partition=Eo,Un.pick=Qs,Un.pickBy=js,Un.property=dl,Un.propertyOf=function(e){return function(t){return null==e?i:Cr(e,t)}},Un.pull=Xa,Un.pullAll=Ja,Un.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,la(n,2)):e},Un.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Vr(e,t,i,n):e},Un.pullAt=Ka,Un.range=fl,Un.rangeRight=pl,Un.rearg=Fo,Un.reject=function(e,t){return(Go(e)?Rt:mr)(e,Lo(la(t,3)))},Un.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=la(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Wr(e,i),n},Un.rest=function(e,t){if("function"!=typeof e)throw new ke(a);return Xr(e,t=t===i?t:ps(t))},Un.reverse=$a,Un.sampleSize=function(e,t,n){return t=(n?ya(e,t,n):t===i)?1:ps(t),(Go(e)?Kn:Kr)(e,t)},Un.set=function(e,t,n){return null==e?e:$r(e,t,n)},Un.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:$r(e,t,n,r)},Un.shuffle=function(e){return(Go(e)?$n:ni)(e)},Un.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ya(e,t,n)?(t=0,n=r):(t=null==t?0:ps(t),n=n===i?r:ps(n)),ri(e,t,n)):[]},Un.sortBy=So,Un.sortedUniq=function(e){return e&&e.length?si(e):[]},Un.sortedUniqBy=function(e,t){return e&&e.length?si(e,la(t,2)):[]},Un.split=function(e,t,n){return n&&"number"!=typeof n&&ya(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=gs(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=ui(t))&&ln(e)?bi(An(e),0,n):e.split(t,n):[]},Un.spread=function(e,t){if("function"!=typeof e)throw new ke(a);return t=null==t?0:qt(ps(t),0),Xr((function(n){var r=n[t],i=bi(n,0,t);return r&&Qt(i,r),Mt(e,this,i)}))},Un.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Un.take=function(e,t,n){return e&&e.length?ri(e,0,(t=n||t===i?1:ps(t))<0?0:t):[]},Un.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ri(e,(t=r-(t=n||t===i?1:ps(t)))<0?0:t,r):[]},Un.takeRightWhile=function(e,t){return e&&e.length?fi(e,la(t,3),!1,!0):[]},Un.takeWhile=function(e,t){return e&&e.length?fi(e,la(t,3)):[]},Un.tap=function(e,t){return t(e),e},Un.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ke(a);return es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),To(e,t,{leading:r,maxWait:t,trailing:i})},Un.thru=fo,Un.toArray=ds,Un.toPairs=Ns,Un.toPairsIn=Fs,Un.toPath=function(e){return Go(e)?Lt(e,Qa):ls(e)?[e]:ki(La(gs(e)))},Un.toPlainObject=vs,Un.transform=function(e,t,n){var r=Go(e),i=r||qo(e)||us(e);if(t=la(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:es(e)&&Jo(a)?On(Ve(e)):{}}return(i?kt:xr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Un.unary=function(e){return Mo(e,1)},Un.union=eo,Un.unionBy=to,Un.unionWith=no,Un.uniq=function(e){return e&&e.length?ci(e):[]},Un.uniqBy=function(e,t){return e&&e.length?ci(e,la(t,2)):[]},Un.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Un.unset=function(e,t){return null==e||hi(e,t)},Un.unzip=ro,Un.unzipWith=io,Un.update=function(e,t,n){return null==e?e:di(e,t,gi(n))},Un.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,gi(n),r)},Un.values=Us,Un.valuesIn=function(e){return null==e?[]:en(e,Rs(e))},Un.without=ao,Un.words=Js,Un.wrap=function(e,t){return jo(gi(t),e)},Un.xor=oo,Un.xorBy=so,Un.xorWith=lo,Un.zip=uo,Un.zipObject=function(e,t){return mi(e||[],t||[],tr)},Un.zipObjectDeep=function(e,t){return mi(e||[],t||[],$r)},Un.zipWith=co,Un.entries=Ns,Un.entriesIn=Fs,Un.extend=xs,Un.extendWith=bs,sl(Un,Un),Un.add=vl,Un.attempt=Ks,Un.camelCase=Os,Un.capitalize=Zs,Un.ceil=gl,Un.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ms(n))===n?n:0),t!==i&&(t=(t=ms(t))===t?t:0),sr(ms(e),t,n)},Un.clone=function(e){return lr(e,4)},Un.cloneDeep=function(e){return lr(e,5)},Un.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},Un.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},Un.conformsTo=function(e,t){return null==t||ur(e,t,Ts(t))},Un.deburr=zs,Un.defaultTo=function(e,t){return null==e||e!==e?t:e},Un.divide=yl,Un.endsWith=function(e,t,n){e=gs(e),t=ui(t);var r=e.length,a=n=n===i?r:sr(ps(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},Un.eq=Uo,Un.escape=function(e){return(e=gs(e))&&J.test(e)?e.replace(Y,on):e},Un.escapeRegExp=function(e){return(e=gs(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},Un.every=function(e,t,n){var r=Go(e)?Tt:pr;return n&&ya(e,t,n)&&(t=i),r(e,la(t,3))},Un.find=mo,Un.findIndex=Za,Un.findKey=function(e,t){return Ot(e,la(t,3),xr)},Un.findLast=vo,Un.findLastIndex=za,Un.findLastKey=function(e,t){return Ot(e,la(t,3),br)},Un.floor=xl,Un.forEach=go,Un.forEachRight=yo,Un.forIn=function(e,t){return null==e?e:gr(e,la(t,3),Rs)},Un.forInRight=function(e,t){return null==e?e:yr(e,la(t,3),Rs)},Un.forOwn=function(e,t){return e&&xr(e,la(t,3))},Un.forOwnRight=function(e,t){return e&&br(e,la(t,3))},Un.get=Is,Un.gt=Oo,Un.gte=Zo,Un.has=function(e,t){return null!=e&&Aa(e,t,Mr)},Un.hasIn=Ms,Un.head=Ha,Un.identity=rl,Un.includes=function(e,t,n,r){e=Vo(e)?e:Us(e),n=n&&!r?ps(n):0;var i=e.length;return n<0&&(n=qt(i+n,0)),ss(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zt(e,t,n)>-1},Un.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ps(n);return i<0&&(i=qt(r+i,0)),zt(e,t,i)},Un.inRange=function(e,t,n){return t=fs(t),n===i?(n=t,t=0):n=fs(n),function(e,t,n){return e>=yn(t,n)&&e<qt(t,n)}(e=ms(e),t,n)},Un.invoke=Bs,Un.isArguments=zo,Un.isArray=Go,Un.isArrayBuffer=Ho,Un.isArrayLike=Vo,Un.isArrayLikeObject=Wo,Un.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Sr(e)==x},Un.isBuffer=qo,Un.isDate=Yo,Un.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Un.isEmpty=function(e){if(null==e)return!0;if(Vo(e)&&(Go(e)||"string"==typeof e||"function"==typeof e.splice||qo(e)||us(e)||zo(e)))return!e.length;var t=pa(e);if(t==S||t==B)return!e.size;if(Ca(e))return!Qr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Un.isEqual=function(e,t){return Rr(e,t)},Un.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},Un.isError=Xo,Un.isFinite=function(e){return"number"==typeof e&&yt(e)},Un.isFunction=Jo,Un.isInteger=Ko,Un.isLength=$o,Un.isMap=ns,Un.isMatch=function(e,t){return e===t||Dr(e,t,ca(t))},Un.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,ca(t),n)},Un.isNaN=function(e){return rs(e)&&e!=+e},Un.isNative=function(e){if(wa(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Pr(e)},Un.isNil=function(e){return null==e},Un.isNull=function(e){return null===e},Un.isNumber=rs,Un.isObject=es,Un.isObjectLike=ts,Un.isPlainObject=is,Un.isRegExp=as,Un.isSafeInteger=function(e){return Ko(e)&&e>=-9007199254740991&&e<=p},Un.isSet=os,Un.isString=ss,Un.isSymbol=ls,Un.isTypedArray=us,Un.isUndefined=function(e){return e===i},Un.isWeakMap=function(e){return ts(e)&&pa(e)==D},Un.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Sr(e)},Un.join=function(e,t){return null==e?"":xt.call(e,t)},Un.kebabCase=Gs,Un.last=Ya,Un.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=ps(n))<0?qt(r+a,0):yn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Zt(e,Ht,a,!0)},Un.lowerCase=Hs,Un.lowerFirst=Vs,Un.lt=cs,Un.lte=hs,Un.max=function(e){return e&&e.length?Ar(e,rl,Ir):i},Un.maxBy=function(e,t){return e&&e.length?Ar(e,la(t,2),Ir):i},Un.mean=function(e){return Vt(e,rl)},Un.meanBy=function(e,t){return Vt(e,la(t,2))},Un.min=function(e){return e&&e.length?Ar(e,rl,Nr):i},Un.minBy=function(e,t){return e&&e.length?Ar(e,la(t,2),Nr):i},Un.stubArray=Al,Un.stubFalse=ml,Un.stubObject=function(){return{}},Un.stubString=function(){return""},Un.stubTrue=function(){return!0},Un.multiply=bl,Un.nth=function(e,t){return e&&e.length?zr(e,ps(t)):i},Un.noConflict=function(){return At._===this&&(At._=Ue),this},Un.noop=ll,Un.now=Io,Un.pad=function(e,t,n){e=gs(e);var r=(t=ps(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Gi(pt(i),n)+e+Gi(ft(i),n)},Un.padEnd=function(e,t,n){e=gs(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?e+Gi(t-r,n):e},Un.padStart=function(e,t,n){e=gs(e);var r=(t=ps(t))?pn(e):0;return t&&r<t?Gi(t-r,n)+e:e},Un.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),bn(gs(e).replace(oe,""),t||0)},Un.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ya(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=fs(e),t===i?(t=e,e=0):t=fs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=wn();return yn(e+a*(t-e+ht("1e-"+((a+"").length-1))),t)}return qr(e,t)},Un.reduce=function(e,t,n){var r=Go(e)?jt:Yt,i=arguments.length<3;return r(e,la(t,4),n,i,dr)},Un.reduceRight=function(e,t,n){var r=Go(e)?Nt:Yt,i=arguments.length<3;return r(e,la(t,4),n,i,fr)},Un.repeat=function(e,t,n){return t=(n?ya(e,t,n):t===i)?1:ps(t),Yr(gs(e),t)},Un.replace=function(){var e=arguments,t=gs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Un.result=function(e,t,n){var r=-1,a=(t=yi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Qa(t[r])];o===i&&(r=a,o=n),e=Jo(o)?o.call(e):o}return e},Un.round=wl,Un.runInContext=e,Un.sample=function(e){return(Go(e)?Jn:Jr)(e)},Un.size=function(e){if(null==e)return 0;if(Vo(e))return ss(e)?pn(e):e.length;var t=pa(e);return t==S||t==B?e.size:Qr(e).length},Un.snakeCase=Ws,Un.some=function(e,t,n){var r=Go(e)?Ft:ii;return n&&ya(e,t,n)&&(t=i),r(e,la(t,3))},Un.sortedIndex=function(e,t){return ai(e,t)},Un.sortedIndexBy=function(e,t,n){return oi(e,t,la(n,2))},Un.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Uo(e[r],t))return r}return-1},Un.sortedLastIndex=function(e,t){return ai(e,t,!0)},Un.sortedLastIndexBy=function(e,t,n){return oi(e,t,la(n,2),!0)},Un.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Uo(e[n],t))return n}return-1},Un.startCase=qs,Un.startsWith=function(e,t,n){return e=gs(e),n=null==n?0:sr(ps(n),0,e.length),t=ui(t),e.slice(n,n+t.length)==t},Un.subtract=Cl,Un.sum=function(e){return e&&e.length?Xt(e,rl):0},Un.sumBy=function(e,t){return e&&e.length?Xt(e,la(t,2)):0},Un.template=function(e,t,n){var r=Un.templateSettings;n&&ya(e,t,n)&&(t=i),e=gs(e),t=bs({},t,r,Ki);var a,o,s=bs({},t.imports,r.imports,Ki),l=Ts(s),u=en(s,l),c=0,h=t.interpolate||we,d="__p += '",f=Me((t.escape||we).source+"|"+h.source+"|"+(h===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(f,(function(t,n,r,i,s,l){return r||(r=i),d+=e.slice(c,l).replace(Ce,sn),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var A=Le.call(t,"variable")&&t.variable;if(A){if(de.test(A))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(H,""):d).replace(V,"$1").replace(W,"$1;"),d="function("+(A||"obj")+") {\n"+(A?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ks((function(){return Ee(l,p+"return "+d).apply(i,u)}));if(m.source=d,Xo(m))throw m;return m},Un.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=m,r=yn(e,m);t=la(t),e-=m;for(var i=Jt(r,t);++n<e;)t(n);return i},Un.toFinite=fs,Un.toInteger=ps,Un.toLength=As,Un.toLower=function(e){return gs(e).toLowerCase()},Un.toNumber=ms,Un.toSafeInteger=function(e){return e?sr(ps(e),-9007199254740991,p):0===e?e:0},Un.toString=gs,Un.toUpper=function(e){return gs(e).toUpperCase()},Un.trim=function(e,t,n){if((e=gs(e))&&(n||t===i))return Kt(e);if(!e||!(t=ui(t)))return e;var r=An(e),a=An(t);return bi(r,nn(r,a),rn(r,a)+1).join("")},Un.trimEnd=function(e,t,n){if((e=gs(e))&&(n||t===i))return e.slice(0,mn(e)+1);if(!e||!(t=ui(t)))return e;var r=An(e);return bi(r,0,rn(r,An(t))+1).join("")},Un.trimStart=function(e,t,n){if((e=gs(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=ui(t)))return e;var r=An(e);return bi(r,nn(r,An(t))).join("")},Un.truncate=function(e,t){var n=30,r="...";if(es(t)){var a="separator"in t?t.separator:a;n="length"in t?ps(t.length):n,r="omission"in t?ui(t.omission):r}var o=(e=gs(e)).length;if(ln(e)){var s=An(e);o=s.length}if(n>=o)return e;var l=n-pn(r);if(l<1)return r;var u=s?bi(s,0,l).join(""):e.slice(0,l);if(a===i)return u+r;if(s&&(l+=u.length-l),as(a)){if(e.slice(l).search(a)){var c,h=u;for(a.global||(a=Me(a.source,gs(Ae.exec(a))+"g")),a.lastIndex=0;c=a.exec(h);)var d=c.index;u=u.slice(0,d===i?l:d)}}else if(e.indexOf(ui(a),l)!=l){var f=u.lastIndexOf(a);f>-1&&(u=u.slice(0,f))}return u+r},Un.unescape=function(e){return(e=gs(e))&&X.test(e)?e.replace(q,vn):e},Un.uniqueId=function(e){var t=++Qe;return gs(e)+t},Un.upperCase=Ys,Un.upperFirst=Xs,Un.each=go,Un.eachRight=yo,Un.first=Ha,sl(Un,function(){var e={};return xr(Un,(function(t,n){Le.call(Un.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Un.VERSION="4.17.21",kt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Un[e].placeholder=Un})),kt(["drop","take"],(function(e,t){Gn.prototype[e]=function(n){n=n===i?1:qt(ps(n),0);var r=this.__filtered__&&!t?new Gn(this):this.clone();return r.__filtered__?r.__takeCount__=yn(n,r.__takeCount__):r.__views__.push({size:yn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),kt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:la(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),kt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),kt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(rl)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Br(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(Lo(la(e)))},Gn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Gn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(m)},xr(Gn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=Un[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(Un.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Gn,u=s[0],c=l||Go(t),h=function(e){var t=a.apply(Un,Qt([e],s));return r&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,f=!!this.__actions__.length,p=o&&!d,A=l&&!f;if(!o&&c){t=A?t:new Gn(this);var m=e.apply(t,s);return m.__actions__.push({func:fo,args:[h],thisArg:i}),new zn(m,d)}return p&&A?e.apply(this,s):(m=this.thru(h),p?r?m.value()[0]:m.value():m)})})),kt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Be[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Un.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Go(i)?i:[],e)}return this[n]((function(n){return t.apply(Go(n)?n:[],e)}))}})),xr(Gn.prototype,(function(e,t){var n=Un[t];if(n){var r=n.name+"";Le.call(Tn,r)||(Tn[r]=[]),Tn[r].push({name:t,func:n})}})),Tn[Ui(i,2).name]=[{name:"wrapper",func:i}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=ki(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ki(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ki(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Go(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=yn(t,e+o);break;case"takeRight":e=qt(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,h=c.length,d=0,f=yn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return pi(e,this.__actions__);var p=[];e:for(;l--&&d<f;){for(var A=-1,m=e[u+=t];++A<h;){var v=c[A],g=v.iteratee,y=v.type,x=g(m);if(2==y)m=x;else if(!x){if(1==y)continue e;break e}}p[d++]=m}return p},Un.prototype.at=po,Un.prototype.chain=function(){return ho(this)},Un.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Un.prototype.next=function(){this.__values__===i&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Un.prototype.plant=function(e){for(var t,n=this;n instanceof Zn;){var r=Na(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},Un.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:fo,args:[$a],thisArg:i}),new zn(t,this.__chain__)}return this.thru($a)},Un.prototype.toJSON=Un.prototype.valueOf=Un.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Un.prototype.first=Un.prototype.head,Je&&(Un.prototype[Je]=function(){return this}),Un}();At._=gn,(r=function(){return gn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},1729:function(e,t,n){"use strict";var r=n(9165);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},5192:function(e,t,n){e.exports=n(1729)()},9165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},534:function(e,t,n){"use strict";var r=n(7313),i=n(2224);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function A(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,g);m[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,g);m[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,g);m[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),M=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var Q,j=Object.assign;function N(e){if(void 0===Q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Q=t&&t[1]||""}return"\n"+Q+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function O(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case w:return"Portal";case S:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case B:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case M:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function K(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function Ae(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ae(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ce=null,Ee=null;function Se(e){if(e=yi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Ie(e){Ce?Ee?Ee.push(e):Ee=[e]:Ce=e}function Me(){if(Ce){var e=Ce,t=Ee;if(Ee=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function _e(e,t){return e(t)}function ke(){}var Be=!1;function Te(e,t,n){if(Be)return e(t,n);Be=!0;try{return _e(e,t,n)}finally{Be=!1,(null!==Ce||null!==Ee)&&(ke(),Me())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){De=!1}function Le(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Qe=!1,je=null,Ne=!1,Fe=null,Ue={onError:function(e){Qe=!0,je=e}};function Oe(e,t,n,r,i,a,o,s,l){Qe=!1,je=null,Le.apply(Ue,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ht(s):0!==(a&=o)&&(r=ht(a))}else 0!==(o=n&~i)?r=ht(o):0!==a&&(r=ht(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function At(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Ct,Et,St,It=!1,Mt=[],_t=null,kt=null,Bt=null,Tt=new Map,Rt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Qt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=gi(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Nt(e)&&n.delete(t)}function Ut(){It=!1,null!==_t&&Nt(_t)&&(_t=null),null!==kt&&Nt(kt)&&(kt=null),null!==Bt&&Nt(Bt)&&(Bt=null),Tt.forEach(Ft),Rt.forEach(Ft)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Zt(e){function t(t){return Ot(t,e)}if(0<Mt.length){Ot(Mt[0],e);for(var n=1;n<Mt.length;n++){var r=Mt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Ot(_t,e),null!==kt&&Ot(kt,e),null!==Bt&&Ot(Bt,e),Tt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var zt=x.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=1,Wt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Vt(e,t,n,r){var i=yt,a=zt.transition;zt.transition=null;try{yt=4,Wt(e,t,n,r)}finally{yt=i,zt.transition=a}}function Wt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Qt(_t,e,t,n,r,i),!0;case"dragenter":return kt=Qt(kt,e,t,n,r,i),!0;case"mouseover":return Bt=Qt(Bt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Tt.set(a,Qt(Tt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Qt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&bt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var qt=null;function Yt(e,t,n,r){if(qt=null,null!==(e=gi(e=be(r))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Kt=null,$t=null;function en(){if($t)return $t;var e,t,n=Kt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),hn=j({},un,{view:0,detail:0}),dn=an(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),An=an(j({},fn,{dataTransfer:0})),mn=an(j({},hn,{relatedTarget:0})),vn=an(j({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=j({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(gn),xn=an(j({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return En}var In=j({},hn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(In),_n=an(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=an(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Bn=an(j({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Tn),Dn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Qn=c&&"TextEvent"in window&&!Ln,jn=c&&(!Pn||Ln&&8<Ln&&11>=Ln),Nn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ie(r),0<(t=Vr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Wn=null;function qn(e){Nr(e,0)}function Yn(e){if(W(xi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Kn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Kn=$n}else Kn=!1;Jn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Wn=Vn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Hn(t,Wn,e,be(e)),Te(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ar=c&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,gr=null,yr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=Vr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Cr={},Er={};function Sr(e){if(Cr[e])return Cr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Cr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Ir=Sr("animationend"),Mr=Sr("animationiteration"),_r=Sr("animationstart"),kr=Sr("transitionend"),Br=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Br.set(e,t),l(t,[e])}for(var Dr=0;Dr<Tr.length;Dr++){var Pr=Tr[Dr];Rr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Mr,"onAnimationIteration"),Rr(_r,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(kr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Oe.apply(this,arguments),Qe){if(!Qe)throw Error(a(198));var c=je;Qe=!1,je=null,Ne||(Ne=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;jr(i,s,u),a=l}}}if(Ne)throw e=Fe,Ne=!1,Fe=null,e}function Fr(e,t){var n=t[Ai];void 0===n&&(n=t[Ai]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Or="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[Or]){e[Or]=!0,o.forEach((function(t){"selectionchange"!==t&&(Qr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Or]||(t[Or]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Vt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Te((function(){var r=a,i=be(n),o=[];e:{var s=Br.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=An;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case Ir:case Mr:case _r:l=vn;break;case kr:l=Bn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=r;null!==p;){var A=(f=p).stateNode;if(5===f.tag&&null!==A&&(f=A,null!==d&&(null!=(A=Re(p,d))&&c.push(Hr(p,A,f)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(h=Ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,A="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=_n,A="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:xi(l),f=null==u?s:xi(u),(s=new c(A,p+"leave",l,n,i)).target=h,s.relatedTarget=f,A=null,gi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,A=c),h=A,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Wr(f))p++;for(f=0,A=d;A;A=Wr(A))f++;for(;0<p-f;)c=Wr(c),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Wr(c),d=Wr(d)}c=null}else c=null;null!==l&&qr(o,s,l,c,!1),null!==u&&null!==h&&qr(o,h,u,c,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Xn;else if(Gn(s))if(Jn)m=or;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?xi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,gr=null);break;case"focusout":gr=vr=mr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,xr(o,n,i);break;case"selectionchange":if(Ar)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Zn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(jn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Zn&&(g=en()):(Kt="value"in(Jt=i)?Jt.value:Jt.textContent,Zn=!0)),0<(v=Vr(r,y)).length&&(y=new xn(y,e,null,n,i),o.push({event:y,listeners:v}),g?y.data=g:null!==(g=On(n))&&(y.data=g))),(g=Qn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(Fn=!0,Nn);case"textInput":return(e=t.data)===Nn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Pn&&Un(e,t)?(e=en(),$t=Kt=Jt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Re(n,a))&&o.unshift(Hr(n,l,s)):i||null!=(l=Re(n,a))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Kr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,Ai="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function gi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[fi]||null}var wi=[],Ci=-1;function Ei(e){return{current:e}}function Si(e){0>Ci||(e.current=wi[Ci],wi[Ci]=null,Ci--)}function Ii(e,t){Ci++,wi[Ci]=e.current,e.current=t}var Mi={},_i=Ei(Mi),ki=Ei(!1),Bi=Mi;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Mi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Si(ki),Si(_i)}function Pi(e,t,n){if(_i.current!==Mi)throw Error(a(168));Ii(_i,t),Ii(ki,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,z(e)||"Unknown",i));return j({},n,r)}function Qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mi,Bi=_i.current,Ii(_i,e),Ii(ki,ki.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Bi),r.__reactInternalMemoizedMergedChildContext=e,Si(ki),Si(_i),Ii(_i,e)):Si(ki),Ii(ki,n)}var Ni=null,Fi=!1,Ui=!1;function Oi(e){null===Ni?Ni=[e]:Ni.push(e)}function Zi(){if(!Ui&&null!==Ni){Ui=!0;var e=0,t=yt;try{var n=Ni;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,Fi=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),We($e,Zi),i}finally{yt=t,Ui=!1}}return null}var zi=[],Gi=0,Hi=null,Vi=0,Wi=[],qi=0,Yi=null,Xi=1,Ji="";function Ki(e,t){zi[Gi++]=Vi,zi[Gi++]=Hi,Hi=e,Vi=t}function $i(e,t,n){Wi[qi++]=Xi,Wi[qi++]=Ji,Wi[qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Ji=a+e}else Xi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Ki(e,1),$i(e,1,0))}function ta(e){for(;e===Hi;)Hi=zi[--Gi],zi[Gi]=null,Vi=zi[--Gi],zi[Gi]=null;for(;e===Yi;)Yi=Wi[--qi],Wi[qi]=null,Ji=Wi[--qi],Wi[qi]=null,Xi=Wi[--qi],Wi[qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ru(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ru(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ha(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=ui(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var Aa=x.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var va=Ei(null),ga=null,ya=null,xa=null;function ba(){xa=ya=ga=null}function wa(e){var t=va.current;Si(va),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,xa=ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(xa!==e)if(e={context:e,memoizedValue:t,next:null},null===ya){if(null===ga)throw Error(a(308));ya=e,ga.dependencies={lanes:0,firstContext:e}}else ya=ya.next=e;return t}var Ia=null;function Ma(e){null===Ia?Ia=[e]:Ia.push(e)}function _a(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ma(t)):(n.next=i.next,i.next=n),t.interleaved=n,ka(e,r)}function ka(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ba=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ka(e,n)}return null===(i=r.interleaved)?(t.next=t,Ma(r)):(t.next=i.next,i.next=t),r.interleaved=t,ka(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Qa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Ba=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(o=0,c=u=l=null,s=a;;){var d=s.lane,f=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,A=s;switch(d=t,f=n,A.tag){case 1:if("function"===typeof(p=A.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=A.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Ba=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=h}}function Na(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Fa=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Oa={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(ru(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),i=nu(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(ru(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(ru(t,e,r,n),La(t,e,r))}};function Za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function za(e,t,n){var r=!1,i=Mi,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Ri(t)?Bi:_i.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):Mi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fa,Ta(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Ri(t)?Bi:_i.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Oa.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Va(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fa&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&qa(a)===t.type)?((r=i(t,n.props)).ref=Va(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Va(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Va(e,null,t),n.return=e,n;case w:return(t=Fu(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function A(i,a,s,l){for(var u=null,c=null,h=a,A=a=0,m=null;null!==h&&A<s.length;A++){h.index>A?(m=h,h=null):m=h.sibling;var v=f(i,h,s[A],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,A),null===c?u=v:c.sibling=v,c=v,h=m}if(A===s.length)return n(i,h),ia&&Ki(i,A),u;if(null===h){for(;A<s.length;A++)null!==(h=d(i,s[A],l))&&(a=o(h,a,A),null===c?u=h:c.sibling=h,c=h);return ia&&Ki(i,A),u}for(h=r(i,h);A<s.length;A++)null!==(m=p(h,i,A,s[A],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?A:m.key),a=o(m,a,A),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(i,e)})),ia&&Ki(i,A),u}function m(i,s,l,u){var c=L(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,A=s,m=s=0,v=null,g=l.next();null!==A&&!g.done;m++,g=l.next()){A.index>m?(v=A,A=null):v=A.sibling;var y=f(i,A,g.value,u);if(null===y){null===A&&(A=v);break}e&&A&&null===y.alternate&&t(i,A),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y,A=v}if(g.done)return n(i,A),ia&&Ki(i,m),c;if(null===A){for(;!g.done;m++,g=l.next())null!==(g=d(i,g.value,u))&&(s=o(g,s,m),null===h?c=g:h.sibling=g,h=g);return ia&&Ki(i,m),c}for(A=r(i,A);!g.done;m++,g=l.next())null!==(g=p(A,i,m,g.value,u))&&(e&&null!==g.alternate&&A.delete(null===g.key?m:g.key),s=o(g,s,m),null===h?c=g:h.sibling=g,h=g);return e&&A.forEach((function(e){return t(i,e)})),ia&&Ki(i,m),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===C){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&qa(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Va(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===C?((a=Qu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Lu(o.type,o.key,o.props,null,r.mode,l)).ref=Va(r,a,o),l.return=r,r=l)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fu(o,r.mode,l)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),l)}if(te(o))return A(r,a,o,l);if(L(o))return m(r,a,o,l);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Nu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Xa=Ya(!0),Ja=Ya(!1),Ka={},$a=Ei(Ka),eo=Ei(Ka),to=Ei(Ka);function no(e){if(e===Ka)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii($a,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ii($a,t)}function io(){Si($a),Si(eo),Si(to)}function ao(e){no(to.current);var t=no($a.current),n=le(t,e.type);t!==n&&(Ii(eo,e),Ii($a,n))}function oo(e){eo.current===e&&(Si($a),Si(eo))}var so=Ei(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uo=[];function co(){for(var e=0;e<uo.length;e++)uo[e]._workInProgressVersionPrimary=null;uo.length=0}var ho=x.ReactCurrentDispatcher,fo=x.ReactCurrentBatchConfig,po=0,Ao=null,mo=null,vo=null,go=!1,yo=!1,xo=0,bo=0;function wo(){throw Error(a(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,Ao=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),yo){o=0;do{if(yo=!1,xo=0,25<=o)throw Error(a(301));o+=1,vo=mo=null,t.updateQueue=null,ho.current=us,e=n(r,i)}while(yo)}if(ho.current=os,t=null!==mo&&null!==mo.next,po=0,vo=mo=Ao=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==xo;return xo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?Ao.memoizedState=vo=e:vo=vo.next=e,vo}function Mo(){if(null===mo){var e=Ao.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===vo?Ao.memoizedState:vo.next;if(null!==t)vo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===vo?Ao.memoizedState=vo=e:vo=vo.next=e}return vo}function _o(e,t){return"function"===typeof t?t(e):t}function ko(e){var t=Mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var h=c.lane;if((po&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=r):u=u.next=d,Ao.lanes|=h,jl|=h}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,Ao.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bo(e){var t=Mo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Ro(e,t){var n=Ao,r=Mo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,xs=!0),r=r.queue,Go(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Fo(9,Po.bind(null,n,r,i,t),void 0,null),null===Bl)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ao.updateQueue)?(t={lastEffect:null,stores:null},Ao.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Qo(t)&&jo(e)}function Lo(e,t,n){return n((function(){Qo(t)&&jo(e)}))}function Qo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function jo(e){var t=ka(e,1);null!==t&&ru(t,e,1,-1)}function No(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_o,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,Ao,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ao.updateQueue)?(t={lastEffect:null,stores:null},Ao.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return Mo().memoizedState}function Oo(e,t,n,r){var i=Io();Ao.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function Zo(e,t,n,r){var i=Mo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Co(r,o.deps))return void(i.memoizedState=Fo(t,n,a,r))}Ao.flags|=e,i.memoizedState=Fo(1|t,n,a,r)}function zo(e,t){return Oo(8390656,8,e,t)}function Go(e,t){return Zo(2048,8,e,t)}function Ho(e,t){return Zo(4,2,e,t)}function Vo(e,t){return Zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=At(),Ao.lanes|=n,jl|=n,e.baseState=!0),t)}function $o(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{yt=n,fo.transition=r}}function es(){return Mo().memoizedState}function ts(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=_a(e,t,n,r))){ru(n,e,r,tu()),as(n,t,r)}}function ns(e,t,n){var r=nu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ma(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=_a(e,t,i,r))&&(ru(n,e,r,i=tu()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===Ao||null!==t&&t===Ao}function is(e,t){yo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Sa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:zo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,Ao,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:No,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=$o.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ao,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Bl)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,zo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Bl.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=xo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Go,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:Jo,useReducer:ko,useRef:Uo,useState:function(){return ko(_o)},useDebugValue:Yo,useDeferredValue:function(e){return Ko(Mo(),mo.memoizedState,e)},useTransition:function(){return[ko(_o)[0],Mo().memoizedState]},useMutableSource:To,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},us={readContext:Sa,useCallback:Xo,useContext:Sa,useEffect:Go,useImperativeHandle:qo,useInsertionEffect:Ho,useLayoutEffect:Vo,useMemo:Jo,useReducer:Bo,useRef:Uo,useState:function(){return Bo(_o)},useDebugValue:Yo,useDeferredValue:function(e){var t=Mo();return null===mo?t.memoizedState=e:Ko(t,mo.memoizedState,e)},useTransition:function(){return[Bo(_o)[0],Mo().memoizedState]},useMutableSource:To,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=O(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),ds(0,t)},n}function As(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Iu.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ys=x.ReactCurrentOwner,xs=!1;function bs(e,t,n,r){t.child=null===e?Ja(t,null,n,r):Xa(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||xs?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Cs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Du(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Es(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Pu(a,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Ms(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Pl,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Pl,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Pl,Dl),Dl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Pl,Dl),Dl|=r;return bs(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ms(e,t,n,r,i){var a=Ri(n)?Bi:_i.current;return a=Ti(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||xs?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function _s(e,t,n,r,i){if(Ri(n)){var a=!0;Qi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Gs(e,t),za(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Sa(u):u=Ti(t,u=Ri(n)?Bi:_i.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Ga(t,o,r,u),Ba=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),l=t.memoizedState,s!==r||d!==l||ki.current||Ba?("function"===typeof c&&(Ua(t,n,c,r),l=t.memoizedState),(s=Ba||Za(t,n,s,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ma(t.type,s),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Sa(l):l=Ti(t,l=Ri(n)?Bi:_i.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||d!==l)&&Ga(t,o,r,l),Ba=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;s!==h||d!==p||ki.current||Ba?("function"===typeof f&&(Ua(t,n,f,r),p=t.memoizedState),(u=Ba||Za(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,a,i)}function ks(e,t,n,r,i,a){Is(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Hs(e,t,a);r=t.stateNode,ys.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Bs(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ts(e,t,n,r,i){return fa(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Rs,Ds,Ps,Ls,Qs={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ns(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(so,1&o),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=ju(l,i,0,null),e=Qu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Qs,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=hs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=ju({mode:"visible",children:r.children},i,0,null),(o=Qu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Qs,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=hs(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Bl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,ka(e,i),ru(r,e,i,-1))}return mu(),Us(e,t,s,r=hs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_u.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[qi++]=Xi,Wi[qi++]=Ji,Wi[qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Pu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pu(r,s):(s=Qu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Qs,i}return e=(s=e.child).sibling,i=Pu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=ju({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Os(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function Zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Os(e,n,t);else if(19===e.tag)Os(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zs(t,!0,n,null,a);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ri(t.type)&&Di(),Ws(t),null;case 3:return r=t.stateNode,io(),Si(ki),Si(_i),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ha(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),Ds(e,t),Ws(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=no($a.current),ha(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ge(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":V(r),$(r,o,!0);break;case"textarea":V(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Fr(Lr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&y(e,o,c,l))}switch(n){case"input":V(e),$(e,r,!1);break;case"textarea":V(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no($a.current),ha(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ws(t),null;case 13:if(Si(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),fa(),t.flags|=98560,o=!1;else if(o=ha(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(su(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Ll&&(Ll=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return io(),Ds(e,t),null===e&&Zr(t.stateNode.containerInfo),Ws(t),null;case 10:return wa(t.type._context),Ws(t),null;case 19:if(Si(so),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Vs(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Vs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>zl&&(t.flags|=128,r=!0,Vs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ws(t),null}else 2*Je()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Vs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=so.current,Ii(so,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ys(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(ki),Si(_i),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($a.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Js=!1,Ks="function"===typeof WeakSet?WeakSet:Set,$s=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Su(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tl(t,n,a)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[Ai],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Js||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Js&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Js&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Su(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Js=(r=Js)||null!==n.memoizedState,fl(e,t,n),Js=r):fl(e,t,n);break;default:fl(e,t,n)}}function Al(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var r=ku.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(a(160));pl(o,s,i),hl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Su(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){Su(e,e.return,m)}try{rl(5,e,e.return)}catch(m){Su(e,e.return,m)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Su(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&J(i,o),ye(l,s);var c=ye(l,o);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):y(i,h,d,c)}switch(l){case"input":K(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Su(e,e.return,m)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Su(e,e.return,m)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(m){Su(e,e.return,m)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Zl=Je())),4&r&&Al(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Js=(c=Js)||h,ml(t,e),Js=c):ml(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for($s=e,h=e.child;null!==h;){for(d=$s=h;null!==$s;){switch(p=(f=$s).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var A=f.stateNode;if("function"===typeof A.componentWillUnmount){r=f,n=f.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(m){Su(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){wl(d);continue}}null!==p?(p.return=f,$s=p):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=Ae("display",s))}catch(m){Su(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Su(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),gl(e),4&r&&Al(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ul(e,ll(e),o);break;default:throw Error(a(161))}}catch(s){Su(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){$s=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Js;s=Xs;var u=Js;if(Xs=o,(Js=l)&&!u)for($s=i;null!==$s;)l=(o=$s).child,22===o.tag&&null!==o.memoizedState?Cl(i):null!==l?(l.return=o,$s=l):Cl(i);for(;null!==a;)$s=a,xl(a,t,n),a=a.sibling;$s=i,Xs=s,Js=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):bl(e)}}function bl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Js||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Js)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Na(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Na(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Zt(d)}}}break;default:throw Error(a(163))}Js||512&t.flags&&al(t)}catch(f){Su(t,t.return,f)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function wl(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function Cl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Su(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Su(t,i,l)}}var a=t.return;try{al(t)}catch(l){Su(t,a,l)}break;case 5:var o=t.return;try{al(t)}catch(l){Su(t,o,l)}}}catch(l){Su(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var El,Sl=Math.ceil,Il=x.ReactCurrentDispatcher,Ml=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,kl=0,Bl=null,Tl=null,Rl=0,Dl=0,Pl=Ei(0),Ll=0,Ql=null,jl=0,Nl=0,Fl=0,Ul=null,Ol=null,Zl=0,zl=1/0,Gl=null,Hl=!1,Vl=null,Wl=null,ql=!1,Yl=null,Xl=0,Jl=0,Kl=null,$l=-1,eu=0;function tu(){return 0!==(6&kl)?Je():-1!==$l?$l:$l=Je()}function nu(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==Rl?Rl&-Rl:null!==Aa.transition?(0===eu&&(eu=At()),eu):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ru(e,t,n,r){if(50<Jl)throw Jl=0,Kl=null,Error(a(185));vt(e,n,r),0!==(2&kl)&&e===Bl||(e===Bl&&(0===(2&kl)&&(Nl|=n),4===Ll&&lu(e,Rl)),iu(e,r),1===n&&0===kl&&0===(1&t.mode)&&(zl=Je()+500,Fi&&Zi()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Bl?Rl:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Fi=!0,Oi(e)}(uu.bind(null,e)):Oi(uu.bind(null,e)),oi((function(){0===(6&kl)&&Zi()})),n=null;else{switch(xt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Bu(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if($l=-1,eu=0,0!==(6&kl))throw Error(a(327));var n=e.callbackNode;if(Cu()&&e.callbackNode!==n)return null;var r=dt(e,e===Bl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var i=kl;kl|=2;var o=Au();for(Bl===e&&Rl===t||(Gl=null,zl=Je()+500,fu(e,t));;)try{yu();break}catch(l){pu(e,l)}ba(),Il.current=o,kl=i,null!==Tl?t=0:(Bl=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ou(e,i))),1===t)throw n=Ql,fu(e,0),lu(e,r),iu(e,Je()),n;if(6===t)lu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vu(e,r))&&(0!==(o=pt(e))&&(r=o,t=ou(e,o))),1===t))throw n=Ql,fu(e,0),lu(e,r),iu(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wu(e,Ol,Gl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Zl+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wu.bind(null,e,Ol,Gl),t);break}wu(e,Ol,Gl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(wu.bind(null,e,Ol,Gl),r);break}wu(e,Ol,Gl);break;default:throw Error(a(329))}}}return iu(e,Je()),e.callbackNode===n?au.bind(null,e):null}function ou(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Ol,Ol=n,null!==t&&su(t)),e}function su(e){null===Ol?Ol=e:Ol.push.apply(Ol,e)}function lu(e,t){for(t&=~Fl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!==(6&kl))throw Error(a(327));Cu();var t=dt(e,0);if(0===(1&t))return iu(e,Je()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ql,fu(e,0),lu(e,t),iu(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Ol,Gl),iu(e,Je()),null}function cu(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(zl=Je()+500,Fi&&Zi())}}function hu(e){null!==Yl&&0===Yl.tag&&0===(6&kl)&&Cu();var t=kl;kl|=1;var n=_l.transition,r=yt;try{if(_l.transition=null,yt=1,e)return e()}finally{yt=r,_l.transition=n,0===(6&(kl=t))&&Zi()}}function du(){Dl=Pl.current,Si(Pl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Si(ki),Si(_i),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(so);break;case 10:wa(r.type._context);break;case 22:case 23:du()}n=n.return}if(Bl=e,Tl=e=Pu(e.current,null),Rl=Dl=t,Ll=0,Ql=null,Fl=Nl=jl=0,Ol=Ul=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pu(e,t){for(;;){var n=Tl;try{if(ba(),ho.current=os,go){for(var r=Ao.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,vo=mo=Ao=null,yo=!1,xo=0,Ml.current=null,null===n||null===n.return){Ll=1,Ql=t,Tl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Rl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,gs(p,s,l,0,t),1&p.mode&&ms(o,c,t),u=c;var A=(t=p).updateQueue;if(null===A){var m=new Set;m.add(u),t.updateQueue=m}else A.add(u);break e}if(0===(1&t)){ms(o,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),gs(v,s,l,0,t),pa(cs(u,l));break e}}o=u=cs(u,l),4!==Ll&&(Ll=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Qa(o,ps(0,u,t));break e;case 1:l=u;var g=o.type,y=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Wl||!Wl.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Qa(o,As(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function Au(){var e=Il.current;return Il.current=os,null===e?os:e}function mu(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Bl||0===(268435455&jl)&&0===(268435455&Nl)||lu(Bl,Rl)}function vu(e,t){var n=kl;kl|=2;var r=Au();for(Bl===e&&Rl===t||(Gl=null,fu(e,t));;)try{gu();break}catch(i){pu(e,i)}if(ba(),kl=n,Il.current=r,null!==Tl)throw Error(a(261));return Bl=null,Rl=0,Ll}function gu(){for(;null!==Tl;)xu(Tl)}function yu(){for(;null!==Tl&&!Ye();)xu(Tl)}function xu(e){var t=El(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?bu(e):Tl=t,Ml.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Dl)))return void(Tl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ll=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ll&&(Ll=5)}function wu(e,t,n){var r=yt,i=_l.transition;try{_l.transition=null,yt=1,function(e,t,n,r){do{Cu()}while(null!==Yl);if(0!==(6&kl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Bl&&(Tl=Bl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Bu(tt,(function(){return Cu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=_l.transition,_l.transition=null;var s=yt;yt=1;var l=kl;kl|=4,Ml.current=null,function(e,t){if(ei=Gt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(u=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=s),f===o&&++h===r&&(u=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var A=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==A){var m=A.memoizedProps,v=A.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),v);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(b){Su(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}A=nl,nl=!1}(e,n),vl(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),kl=l,yt=s,_l.transition=o}else e.current=n;if(ql&&(ql=!1,Yl=e,Xl=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Xl)&&0!==e.tag&&Cu(),o=e.pendingLanes,0!==(1&o)?e===Kl?Jl++:(Jl=0,Kl=e):Jl=0,Zi()}(e,t,n,r)}finally{_l.transition=i,yt=r}return null}function Cu(){if(null!==Yl){var e=xt(Xl),t=_l.transition,n=yt;try{if(_l.transition=null,yt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Xl=0,0!==(6&kl))throw Error(a(331));var i=kl;for(kl|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for($s=c;null!==$s;){var h=$s;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,$s=d;else for(;null!==$s;){var f=(h=$s).sibling,p=h.return;if(ol(h),h===c){$s=null;break}if(null!==f){f.return=p,$s=f;break}$s=p}}}var A=o.alternate;if(null!==A){var m=A.child;if(null!==m){A.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$s=g;break e}$s=o.return}}var y=e.current;for($s=y;null!==$s;){var x=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,$s=x;else e:for(s=y;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){Su(l,l.return,w)}if(l===s){$s=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,$s=b;break e}$s=l.return}}if(kl=i,Zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{yt=n,_l.transition=t}}return!1}function Eu(e,t,n){e=Pa(e,t=ps(0,t=cs(n,t),1),1),t=tu(),null!==e&&(vt(e,1,t),iu(e,t))}function Su(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Pa(t,e=As(t,e=cs(n,e),1),1),e=tu(),null!==t&&(vt(t,1,e),iu(t,e));break}}t=t.return}}function Iu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Bl===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Je()-Zl?fu(e,0):Fl|=n),iu(e,t)}function Mu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=ka(e,t))&&(vt(e,t,n),iu(e,n))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Mu(e,n)}function ku(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Mu(e,n)}function Bu(e,t){return We(e,t)}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ru(e,t,n,r){return new Tu(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Du(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case C:return Qu(n.children,i,o,t);case E:s=8,i|=8;break;case S:return(e=Ru(12,n,t,2|i)).elementType=S,e.lanes=o,e;case k:return(e=Ru(13,n,t,i)).elementType=k,e.lanes=o,e;case B:return(e=Ru(19,n,t,i)).elementType=B,e.lanes=o,e;case D:return ju(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:s=10;break e;case M:s=9;break e;case _:s=11;break e;case T:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ru(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qu(e,t,n,r){return(e=Ru(7,e,r,t)).lanes=n,e}function ju(e,t,n,r){return(e=Ru(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Nu(e,t,n){return(e=Ru(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Ru(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ou(e,t,n,r,i,a,o,s,l){return e=new Uu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ru(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(a),e}function Zu(e){if(!e)return Mi;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function zu(e,t,n,r,i,a,o,s,l){return(e=Ou(n,r,!0,e,0,a,0,s,l)).context=Zu(null),n=e.current,(a=Da(r=tu(),i=nu(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,vt(e,i,r),iu(e,r),e}function Gu(e,t,n,r){var i=t.current,a=tu(),o=nu(i);return n=Zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(ru(e,i,o,a),La(e,i,o)),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Bs(t),fa();break;case 5:ao(t);break;case 1:Ri(t.type)&&Qi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(va,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ns(e,t,n):(Ii(so,1&so.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ii(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,ia&&0!==(1048576&t.flags)&&$i(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ti(t,_i.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Qi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ta(t),i.updater=Oa,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=ks(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===T)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ms(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Cs(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Bs(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ts(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ja(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=Hs(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ua(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Is(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Ns(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ii(va,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!ki.current){t=Hs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ca(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ca(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Cs(e,t,r,i=ma(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Gs(e,t),t.tag=1,Ri(r)?(e=!0,Qi(t)):e=!1,Ea(t,n),za(t,r,i),Ha(t,r,i,n),ks(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ss(e,t,n)}throw Error(a(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hu(o);s.call(e)}}Gu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hu(o);a.call(e)}}var o=zu(t,r,e,0,null,!1,0,"",$u);return e._reactRootContainer=o,e[pi]=o.current,Zr(8===e.nodeType?e.parentNode:e),hu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hu(l);s.call(e)}}var l=Ou(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=l,e[pi]=l.current,Zr(8===e.nodeType?e.parentNode:e),hu((function(){Gu(t,l,n,r)})),l}(n,t,e,i,r);return Hu(o)}Xu.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gu(e,t,null,null)},Xu.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu((function(){Gu(null,e,null,null)})),t[pi]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(gt(t,1|n),iu(t,Je()),0===(6&kl)&&(zl=Je()+500,Zi()))}break;case 13:hu((function(){var t=ka(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Wu(e,1)}},wt=function(e){if(13===e.tag){var t=ka(e,134217728);if(null!==t)ru(t,e,134217728,tu());Wu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nu(e),n=ka(e,t);if(null!==n)ru(n,e,t,tu());Wu(e,t)}},Et=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},we=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));W(r),K(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cu,ke=hu;var tc={usingClientEntryPoint:!1,Events:[yi,xi,bi,Ie,Me,cu]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(a(299));var n=!1,r="",i=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ou(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Zr(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,n){if(!Ku(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xu(t)},t.render=function(e,t,n){if(!Ku(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ku(e))throw Error(a(40));return!!e._reactRootContainer&&(hu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ku(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},6939:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,l,u,c;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(!a(e[l],o[l]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!a(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!a(e[u[l]],o[u[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},1624:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,s=60109,l=60110,u=60112,c=60113,h=60120,d=60115,f=60116,p=60121,A=60122,m=60117,v=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;n=y("react.element"),r=y("react.portal"),i=y("react.fragment"),a=y("react.strict_mode"),o=y("react.profiler"),s=y("react.provider"),l=y("react.context"),u=y("react.forward_ref"),c=y("react.suspense"),h=y("react.suspense_list"),d=y("react.memo"),f=y("react.lazy"),p=y("react.block"),A=y("react.server.block"),m=y("react.fundamental"),v=y("react.debug_trace_mode"),g=y("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case h:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case d:case s:return e;default:return t}}case r:return t}}}},6214:function(e,t,n){"use strict";n(1624)},5958:function(e,t,n){var r=n(7146);e.exports=f,e.exports.parse=a,e.exports.compile=function(e,t){return s(a(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,s="",c=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],d=n[1],f=n.index;if(s+=e.slice(o,f),o=f+h.length,d)s+=d[1];else{var p=e[o],A=n[2],m=n[3],v=n[4],g=n[5],y=n[6],x=n[7];s&&(r.push(s),s="");var b=null!=A&&null!=p&&p!==A,w="+"===y||"*"===y,C="?"===y||"*"===y,E=n[2]||c,S=v||g;r.push({name:m||a++,prefix:A||"",delimiter:E,optional:C,repeat:w,partial:b,asterisk:!!x,pattern:S?u(S):x?".*":"[^"+l(E)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var a="",s=t||{},l=(i||{}).pretty?o:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!==typeof c){var h,d=s[c.name];if(null==d){if(c.optional){c.partial&&(a+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var f=0;f<d.length;f++){if(h=l(d[f]),!n[u].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");a+=(0===f?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(d),!n[u].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');a+=c.prefix+h}}else a+=c}return a}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)o+=l(u);else{var d=l(u.prefix),f="(?:"+u.pattern+")";t.push(u),u.repeat&&(f+="(?:"+d+f+")*"),o+=f=u.optional?u.partial?d+"("+f+")?":"(?:"+d+"("+f+"))?":d+"("+f+")"}}var p=l(n.delimiter||"/"),A=o.slice(-p.length)===p;return i||(o=(A?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&A?"":"(?="+p+"|$)",c(new RegExp("^"+o,h(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(f(e[i],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return d(a(e,n),t,n)}(e,t,n)}},7740:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,A=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case a:case s:case o:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case m:case A:case l:return e;default:return t}}case i:return t}}}function w(e){return b(e)===h}},335:function(e,t,n){"use strict";n(7740)},5918:function(e,t,n){"use strict";var r=n(7313),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.jsx=u,t.jsxs=u},306:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=v.prototype;var x=y.prototype=new g;x.constructor=y,A(x,v.prototype),x.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:C.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var M=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+_(l,0):a,b(o)?(i="",null!=e&&(i=e.replace(M,"$&/")+"/"),k(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(M,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",b(e))for(var u=0;u<e.length;u++){var c=a+_(s=e[u],u);l+=k(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=k(s=s.value,t,i,c=a+_(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function B(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},P={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:C};t.Children={map:B,forEach:function(e,t,n){B(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return B(e,(function(){t++})),t},toArray:function(e){return B(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=y,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=A({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=C.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},3095:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,A=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function b(e){if(m=!1,x(e),!A)if(null!==r(u))A=!0,D(w);else{var t=r(c);null!==t&&P(b,t.startTime-e)}}function w(e,n){A=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=f;try{for(x(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!k());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(u)&&i(u),x(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&P(b,h.startTime-n),l=!1}return l}finally{d=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,E=!1,S=null,I=-1,M=5,_=-1;function k(){return!(t.unstable_now()-_<M)}function B(){if(null!==S){var e=t.unstable_now();_=e;var n=!0;try{n=S(!0,e)}finally{n?C():(E=!1,S=null)}}else E=!1}if("function"===typeof y)C=function(){y(B)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=B,C=function(){R.postMessage(null)}}else C=function(){v(B,0)};function D(e){S=e,E||(E=!0,C())}function P(e,n){I=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||p||(A=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(m?(g(I),I=-1):m=!0,P(b,a-o))):(e.sortIndex=s,n(u,e),A||p||(A=!0,D(w))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},9767:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=e[u],h=t[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}},5643:function(e){"use strict";e.exports="data:image/png;base64,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"},7644:function(e){"use strict";e.exports="data:image/png;base64,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"},2036:function(e,t,n){"use strict";e.exports=n.p+"static/media/ar.12e1a3ac2931c171a04b.gif"},6086:function(e,t,n){"use strict";e.exports=n.p+"static/media/ar1.2ad2d1880643a4cc01b8.jpg"},7880:function(e){"use strict";e.exports="data:image/png;base64,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"},5923:function(e,t,n){"use strict";e.exports=n.p+"static/media/cameradetail.a3b75ed3570a4c7ca109.jpg"},6576:function(e,t,n){"use strict";e.exports=n.p+"static/media/chair.23ffa4d0e6e11352597a.jpg"},8831:function(e,t,n){"use strict";e.exports=n.p+"static/media/code.397c72decb2eeaa40910.jpg"},6551:function(e){"use strict";e.exports="data:image/png;base64,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"},1557:function(e){"use strict";e.exports="data:image/png;base64,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"},9084:function(e){"use strict";e.exports="data:image/png;base64,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"},4726:function(e){"use strict";e.exports="data:image/png;base64,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"},7952:function(e,t,n){"use strict";e.exports=n.p+"static/media/dishwasher.939c712e8720a1888af5.jpg"},9870:function(e,t,n){"use strict";e.exports=n.p+"static/media/drawers.ee895b9b19d653b323a5.jpg"},1730:function(e,t,n){"use strict";e.exports=n.p+"static/media/emailsent.a7e737f3d90e5256ceb5.jpg"},6217:function(e,t,n){"use strict";e.exports=n.p+"static/media/handbag.9f0feac0d81142328068.jpg"},6317:function(e){"use strict";e.exports="data:image/png;base64,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"},7399:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhtSURBVHhe7Z1tbFNVGMfX2662xGkRY8BoBDFSEZ0QtzUICgET4hcNvid+0ITMgOtotyWLhA+LkZjhlnUdW2DRZBoDxoHhg5FEQf0AoSlMARMcQRTUCUEZG+jmurbz//SelZa169t92/b8krNzztOm6z3/+zzPuS8911RkcLxerz0SiSw2mUyLUJwwLUKZh+JAKRkbGyuBfQ7aRWhfQfs6mlQGUC7C1gtbLz6j12Kx9La0tAzTe42K4QSprKycZbfbV6K5BgO5BvVjKBK9pgBRlBMoByHUweHh4SOdnZ1DsVcMgu6CNDQ0WPr7+8slSVqDQVoLEVwwW+VXVSeEcpTEwf891NfXF+zu7o7IL+mDboK43e6FEGE9mlQqMCC67hwQZQxfIYBqH0q33+//TbykKZoPAnLCA9FodAuar2EAimWrsYAgo6g+QWlsbW09EzNqhGaCwCOWms3mrWg+h6JUTlAbyjn7seO8h8nAcdmkLqoLsmnTprlWq7UVzZdky9SDwhmqrtHR0S0dHR2XZKs6qCYIkrU0ODjoRnh6B3vYbcI8pYEu17AtWx0ORzu2j7xHcVQRBOHpHiTsPfjyK4RpWgFhDmNHe7Wtre0PYVIMxWM5kvazEOPUdBWDoG2jbaRtFSbFUMxDkCtuLS4ubsKXfVOYZgTwlp0Izd6urq7/hKkgFBGkvr7+9pGRka/QLJctMwuIErDZbOsaGxsHhSlvChaE8gWms1+i+YhsmZlAlFPIK2uRV/4SprwoSBA62oYY36J5r2yZ2UCUs8gtz+CY5Wdhypm8Bamurl6Cf34IzbtkCyO4jDy6FqL8KPo5kZcgVVVVC+AZh/GP7xYmJgF4yp/YWVdClF+EKWtyFsTj8dC1iMMo98cMTEogyjmIUg5R+oUpK3I6DqGpLaqvUViMDCB6LIQoB8SYZU1Oglit1t2oHpZ7TBaUY8zorHHWmEWdEYQqD6pqucfkgNPlcg0GgOhPSlY5BFosg/sF4IaGvH5hdDB2o8gny7M5hZ8xZNXV1dG09nMWI39o7CBKN53REKa0ZBQkHA5vR3Wf3GMKYP7IyAhdF5qUSUOW1+t9Csp+J7qMMqz2+XxpxzSthzQ0NFij0egu0WUUAjv4Thpb0Z1AWkEGBga2IPbRTWmMgtCY9vf314juBFKGrJqamgcjkQhdZLpFmBhluU53Y6a64pjSQ+g2HRZDVUrMZvO7op3EBA+h+6YQ535C0yJbGJUIY8df7Pf7z4p+jAkegjfVoWIx1MeCKFQr2nGSPETcQ0WnjO2yhVEZuhN/IabBF+XuTR5isVheR8ViaAeN9ctyUyZJEEmSXhFNRjvICeLEBfF4PPQ7jFK5x2hIqRj7GIkekqQUox2Y1cYjU6IgdFc6ow/xsY/NsuAy81H9Sm1GNxZgtnV+3ENWiZrRj5gGLIhxYEEMRkwDkzg6jx8pMvoRCoXmSRCDfozPGADSQopGoyyIcZgvARbEIOAA0UlJnY5BGANgMpmcElSZK/qMzpAW5CG0qg5jDBwsiIFAyLJJ9Ef0GZ1ByLJRDmFBjEMsZDEGggShpfAYYzBAOUSRFQiYwiEtKIewIAaBtOCQZSxiIUvVBbmY7CEtKGT1ij6jM6QFeQgLYhBIC8oh5+Uuoze0+rYUCoXYQwyC2WzulcQqmxdkE6MjF3w+38D4qRP+pa3+xDRgQYwDC2IwbghC95SiOkltRhdOCg3iHkK/LfxUNBmNSRz7uCCYcu3FkSKtcc5oCI056BbdG4KIlTSDco/RkGBbW9s50b4hCAGl9osmoxEmkykpVSQJwmFLW2isLRYLLZsYJ0kQEbY65R6jAZ1NTU2XRTtGkiAERGtGFZZ7jIqEJUlqEu04EwShtTcgyj7RZVSCxlhEpCQmCELgze+jcC5RCRpbHHs0im4SKQWBl/Sg+kzuMUqDmdXHmOr+ILpJpBSEEKsC0SNMGQWBc/wDQdKuKJd2IeVgMHjN5XLRajXrZAujBBCj3ufz0SM+UpLWQwiHw+GHosdElykQjGUPjanopmTSZWIJt9u9GNOzY1B2ljAxeQAxhjCGj8M7aLW+tEzqIQSSz2l80Fuiy+QJjWEmMYisFuMPBAInKioqHsKHLhEmJjc+ghgNoj0pGT1kHJvNRo/D41uGcgShiiLMRtHNSMYckkhVVZXTYrF8gyY9ZYfJAMS4hPFyNTc3Z31XT06CECxKdpAYqFbl+vjvnAUhhChH0LxDtjCJ5CsGkXUOSWTHjh10t+PTKDk98GqGQGOSlxhEXoIQmDV8H4lEaNHMvB+iON2AZ5xDAn80XzGIvAUhaDF5iLIcTb4WX1R0nBJ4S0tLn+jnRV455GYqKytn2e32L7B3rBammcYBbPvzEIPO/RVE1k9pm4yenp7R0tLS3dhD6BrKCny5gjxvqoAQFcG2bhsaGtrY3t4+IswFoYiHJOLxeJ5AtQdluj+wmELTi8ilR+WuMijiIYkEAoHfy8rKPpQkiZ5wWYaiuOg6E0XpQO5c7/f74/dTKYWqg+V2u5eazeYP0FwmW6Y8NLPckO5qnxKoGuvpizscjjLEWjpbXPDT+PUC3/8aqmraFjXFIDQLJ7W1tXdi73obTTrRNlUeiUGzpl3w8m3Nzc1/yyZ10Ty+I+nTOTC6Xm9kYWJCoGxH0tZ0CV3dEi4Jg1CwFdPGDeimfa6fxugmxDiGmAFt3rz5SQjzBgR6AXVOzx9XgH9R9qJ0QQTdf0lmCEHGoSdgXr16tRSilEOccpioLEJfke+Jz6QDVzrPFMRHBtENzp49+yT+byj2BgNgKEFS4fV67eFw2InE6sQAOjGQtM4w5SFaK7IEthLY5tB70b6CNt1LRoUW1aGwcwb2XpQz+IzTSpzeUI+iov8B/kkAJCiZq4EAAAAASUVORK5CYII="},4427:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAcCAYAAADiHqZbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAARwSURBVFhHrZdbiFVVGMf3PnMRKatxenHQrlNaIlQSUULNmSskWAQT4YNYkNlNSx/Kty6gRRlUDzOBlQ9FCHbDKJiZM3NIRI0KoiTEqWyQkmjACxrOHPfu9631zT5rn73nnD2nfrD2+r5vn7X2f93X8T2H0dHRxWSrcrlci42kE4bhRfiT1NTc3PxTPp8/pq/qgu/e5Pv+1dR7gm8f6ejoCCUeiSsWi+vIBknzTSA7JSp9GYEvqT8nxsbGtiLsVcwGkojaNT09vbGnpycw4kZGRloaGxt/x1wgfh0ECFyFwEPqZ4Iea5eewmy2EUsQBPnOzs5iThyELSerV5gg9WyxZnbosSfJYsIExF0vuRGHM0FWErte+ND9DNF16taEXrucMuvVdQnpzR/EMOLowgmG5W2x/wNNpKesWRuEPUx2hfXKoOMg6Tux3QWRI7gWs4eenGej6dCy26j8BnVdTlHHtcy9U+qnQq81Uv5nUruGIvh2P521V+zYVpIVKl+NwC/UjYG4ZxD3prqpUP4+yn+mrss45ZdR/qI4ZljnChV/Rfaj9eLQG08z9xKT3IXfPKtmDIS9PiNMqEscm6RsHTvVrURW2hprJqHXbkXc3eq6nGRIP1DbEBvW8J3Wu5B/M1vh7MPt+6d57iu07/EaGhqO8qEl9kWM/aR7ZnZ6F3r1fcokVimNfYFee1FdQyQiGGx9zve9HZhZ5uHhIAi7vl728SY+tF1jLiG9cCcT+7D6BoS18ftxzMpT6BxH4TVdXV1/q28wwxoOLLwSYXL8ZF0gd+R8fwOtHcA+a0Mx0OBvUttlAylxPFLP7kphgp1zOX8pz6qTOIHvraBnZOt4VyMxENdfKBSuUlfm2nxiIq4SOZtTV7cVF4Z/mXxunJcHwycVT4ldQROr+nG1RexDZIusVwZhn9PI1FuNivN+4XnA2NmYJu0Rg+E4zgc+EbsSBD06PDx8KRu8TJfNNhqDouFraieI5lg42NqG9wbmChuZlXM0Zoe/cfJT9WWir0TIN5iJrYmPP0Emq7pgI2V4V2SF5tVNkHUB1ASBBQR0qutyFBHjvFutfgTxNWjbp26CREvrpcrwLEXYvWq7HCmVSl+qncr/Jg4BwwhMPdIgMUL8die33eioSiNZyM69y9SthqzQ3/zHJqNTgKF9BJGpW4sLwk6wym9kMf2joVTKC2Jg4QL2O6n4AZLc52shor7l+SCL47gEhoaG5vGH51fMNvFnA3HbmGuvqDsr5WHNmWOon5RFmCANu53nXhpm6unt7b3Ah6tel+AMR5X8kaqJO+fSJm0WVtJ70eaKOOl9uRykwvtd3d3dVS+jM7jizI5fBwxvGKgtV/5JBOxWtxLp2bfUrklZXOi9p9ZcGeP2eVJtA5NdNvPEZEfYh4iXv6CZcMTRotDbhvUHSY4n+TdWLcnQfUSZfhZE7N7GKpxAoJwMF2zECPue2PPqZiL1hODSeQlZ6juH82wj0XCmwa1kMaJu4VJ6empq6lBfX580OiOe9y/ler+pvkfFQAAAAABJRU5ErkJggg=="},8780:function(e,t,n){"use strict";e.exports=n.p+"static/media/mazda.e632b57fb3ada8adc1ba.jpg"},3811:function(e,t,n){"use strict";e.exports=n.p+"static/media/ring.fbd9796599054390fbf9.jpg"},5620:function(e,t,n){"use strict";e.exports=n.p+"static/media/robot.70c83170a4b521530551.jpg"},9515:function(e,t,n){"use strict";e.exports=n.p+"static/media/sculpture.4c4251a87e6edf4366fe.jpg"},7409:function(e){"use strict";e.exports="data:image/jpeg;base64,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"},3209:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABQCAYAAADm4nCVAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsAAAA7AAWrWiQkAAAqOSURBVHhe7ZwLUFTXGcf/u4gIRJBHwVANSkCLMMEX1kZ0fKCgtUykGRV8xNKZqlinkGKEGaxYjYaMNtFYtUXUKkpFQca3UXyhsY6MTY2lKkYRxQeiPFREQW7vdzwgyF0eu3vvXd39zXyz53x3997d893zne8759zVlJWVCQkJCTh27BhqampgQX6sra0xYsQILFu2DJg0aZIg6iyiglDba2xsbIRnz56JdQtKI7Y9tJbGbz8ajQadOnXitVeQjo41pmPHjujQoQOvNYXaXsvLFtqIVqvFtm3bcO/ePSQmJnItEBMTg7t372LXrl3MxxNDhw7F9evXceHCBXTv3p3ppJD0TxaRFrEhhbq6OoG4c+eOIN7dTF9QUMB0hL+/P9OlpKRwjSDMmTOnyXkaiaTSIjrEyspKOHToEI2bwooVKxr0SUlJTJebmyuIrojpQkNDhcrKSqG4uFjw9vZueO9rIqm0SAsiuiHB1dW1mZ50dKyxzsHBQbC1tW2iayw0YlDBgko0McDcuXMxYcIEXjMPRN+NmTNnspCwd+/eXCsP5eXlKCoq4rVXNHSHVatW8SHDfMjJyWG/vWfPnlwjH5s3b25o63ox+zCU7ko1MXsDVFRU8JI6mL0BHj16xEvq0GQQFscANhCbE0uWLMGCBQsgjgG4du0a1wJlZWU4d+4cxKSLa9qPi4sLAgMDeQ3YsmULpk+fzmuvaBgQzHEQTkxMZL/99UE4KCiooV30FcoJjhw5ws9oGYQlqa6u5qWm9OjRo9nEWnuxs7ODk5MTr0ljMYAOA2zatIlNrhkixcXF6N+/Pz+jNCZhgOfPn/OS8ugygJWVFdzc3ODu7q63ODg48LPpRjUD0B2ybt06tjRH3XT8+PHYunUrHj9+zN+hDC9evOAldVDUAA8ePEBqairGjBnDfOzSBbH41fv3kRXfD4O7FCB29ifw8PBAZGQk9u7dyxYs5KaqqoqX1EF2A1Cik5aWhrCwMNa4C+ZFY5THLRz7fDCuLPPAp4PuIsT9EhKHPUDhX7yw87MAvFd9BlGRH7FFjFmzZuHEiROy3alicMJL6iBLHkDJzf79+5GRkYGDBw/C0aYW0eN6YtgH7gh0LoZtXevpf4XGDSdvdcHizFs499+bzBiTJ09GREQEAgIC2MqUMQgPD2erWK/nATQukZs0BIqCXF1deU06DzCqAajhZ8+ejd27d+PJkyfw9/dH5NgBmOt9CnZ1D/m72keN9h3cFLxw9upjLMu8gR9+LGHnnTp1KuLi4thgaQg0+5udnd3EANQrQkJCcPjwYVbXF5phpRtx5MiRrC5lAKO6IFr/pIGUDOHj48OmeX/n96PejU9Y1z2Gl3ABEe9fw94EP3h7e+PixYuIj4+XdR7HGJN01ItaCyqM2gNo8Zncw9KlS9kgeubMGQT/whdfTnKDn9111pj6UCq8i/R/a7B0+yXYOHow44oZJkpLS1m6bwhSPYAgA9DvMWQqgqI7ao96ZHdB9QYQDv+Wa4BFRzoheeV69O31LlZM98QAxxvoWNf6BBi5notVPbHnX8XIOFmIcYE/RWBvV7jaA2erApDwRaqsBpAD2V2QFAuDq1G1ZyqmiD47JCkPg76sxuH7vnimlU5SSH+yrA+GfF2H8UnfibeIBqs+6YaPfcvhqb0K+6dX4YP/8He/+SiWB8zpdweVuybjs7hPMeXrfPgtfIDsmz6o0jqz4/S6p7g3+i6uwG9Wfo+IwQ74Z3RXhHqW4B2hjL3nbUQxA9QT6XUZJekT8M1XyYjdfAs/S7iJ5O/c2GtCmpiMhb2HzVGOGOJWDJu6Sv4p+dC1a00pFDdAPWOd83A9NQR/jF+I+H/8D5PCf4m/R1ijb+dCvQdrfWgpn6ABmBJAfaUtSZ5qBqjnDwFX2evIrkXoUKf8tICuPIK2H1IUQ8mUvkJbE58+fcrPKI3qBlAbqU22RF5eHiorK1ksr6/QOVpb8pQ9DG0LmtGp2P+nQLjUFHBNy9wUvPHxF3lGCUOjoqKwcePGZmEoNVxmZiZrSH3x8/PDkCFDeE2lPKAtqGmA6OhorF279u3NA0wdQ+eSDMXsDUAPUKiJ2RvAbPMAU+Gt6gH1/jR6R+sJiL7Uau3wbeHL6QtjoKsH0COkAwYMMEhGjRqFwsJCfkZpjGqAXr16sS++fWc2uvw6AxlFffgRw6GGL3juhZnptdiYeQwzZsxo066D1pAyAGWxtGHg/PnzBsnRo0eRk5PDzyqNUcPQemjxPTk5GWvWrEEXh87Y+M2fMdrxLD/anJbC0BdaW9x47oHle+/h+yt32PTxokWL0KePcYy7fPlyzJs3r1kYSuvQtLJnyJqxs7MzYmNjYW9vz+pSYShBV2AiGkC8nvEoKioSxESHPcjm4+0lnP12myDmCM2Eri0aQDib0KWJHIz3Fj7s68WOjxs3ThAzS35m47Fy5Up2ftEAXCMfim9NpIV02oZCCZqf/wf4cOw09IvT3RPqqYQz0n/ojGl/vQZrx+7Izc3Fvn37mF81NrqmIpRCkSjI19eX7Tw4deoUnJx/wlzOqM+v8KMvKbINwl2tD7KvOCNydSHO3PdA2s4DOH78OIKCgvi7jI/aURDR0B2M7YKkEAc44cCBA0JAQICg0WganqkVfTrbTUz1rKwsoba2ln9CXtLS0tj130oXJAXNv4eGhrIogQal+ulascHZhlhyVzTQKjVF0FIiJrYZ215DE3Ptlfb880yDNZToAa8jGoDtoa+uruYaZRFdI/vtr/eAy5cvC2IcL9CfmTRuo7ZK165dBTHCYj2+HpN8PoAGQUpYaBOTGkj1NLrrqZdSDK/v/lTaVUfh7fr167lGGtUNoDZSLoganjaZGYp407Op7pYwewPY2try0iuM+egq7d4jQ+jC7A0g5YIo7DWWSwwODm7xUSezN4BUQ3t5eWH16tUGG2HgwIFsm2ZLyDIX9CZBj6IOGjRIckmSZjLpzwzb+xAHhdqenp4YPXp0w583EYrPBb0JiHkH++1mk4hZaEoTA9B2cnPD0GeBDaXJGEC+a/78+ZgyZYrqs4RKQX6fHhrs1q0bm/iTC9pfRGsPGzZs4JqXNDFAY9S+M5REdM/sVc7fXH+N19FpAAvKYBmEVcZiAJWxGEBltLRyb0EdqO21MTExX4ll6b8MsSAn1dT2GgqPsrKywsQYOKympkbdrcJmgrW19Yvhw4fvDg8P380MYEE9LIOwylgMoDIm54ImTpy4rrCw0Hi7ehvh6emZv2PHjlm8ahKYnAHc3d3zS0pKfHnVqLi4uFwqLS2V5dz6YlIGKC8vd3dycqIN9XJNxVY/fPiwh3iNe7yuOiY1Boih8GTxRc558E6nT5+eyMsmgUkZID09Xb5duBwx5/k5L5oG5IJMQfLz8/1tbGxo9Zt8omxib2//5Pbt255S30ENkVSqIcHBwQelGkwOiYqKSpP6DmqIpFJpWbx4cazYMLRNulljySEajeapGI5+JPVdlBZJpZKSkpIyjRpEqqHkFFtb2yfioD9M6jspKZJKpSQ5Ofn3VlZWsvt9XULjwfbt2ydIfTelRLU8ICkpKS4tLS1RvL4jV6mCVqutiI6Onh8bG/s3rlIQ4P+l3xVWV1w2ZwAAAABJRU5ErkJggg=="},7468:function(e){"use strict";e.exports="data:image/jpeg;base64,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"},5719:function(e,t,n){"use strict";e.exports=n.p+"static/media/studio.5a58f71effe172f861e2.jpg"},7239:function(e,t,n){"use strict";e.exports=n.p+"static/media/studio1.9faac07670629634874a.jpg"},7542:function(e,t,n){"use strict";e.exports=n.p+"static/media/sunglasses.7cbafdbc55ee2bf16a44.jpg"},7709:function(e){"use strict";e.exports="data:image/png;base64,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"},5089:function(e,t,n){"use strict";e.exports=n.p+"static/media/toaster-detail.048166ee83ad55417152.jpg"},6663:function(e,t,n){"use strict";e.exports=n.p+"static/media/toaster.47182123a468110e7295.jpg"},2532:function(e,t,n){"use strict";e.exports=n.p+"static/media/trex.c360092a1d2c7ccf04b2.jpg"},3434:function(e,t,n){"use strict";e.exports=n.p+"static/media/tshirtvariants.d6de1f04b8c59184d589.jpg"},2602:function(e){"use strict";e.exports="data:image/png;base64,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"},8204:function(e){"use strict";e.exports="data:image/png;base64,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"},8293:function(e){"use strict";e.exports="data:image/jpeg;base64,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"},3594:function(e){"use strict";e.exports="data:image/jpeg;base64,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"},6831:function(e){"use strict";e.exports="data:image/jpeg;base64,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"},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5263:function(e,t,n){var r=n(8698).default;function i(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(a,s,l):a[s]=e[s]}return a.default=e,n&&n.set(e,a),a},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,l,"next",e)}function l(e){r(o,i,a,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120),i=n(8814),a=n(2963);function o(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1120);function i(){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},i.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,a=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1002),i=n(7326);function a(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(B){c=function(e,t,n){return e[t]=n}}function h(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,o=Object.create(i.prototype),s=new M(r||[]);return a(o,"_invoke",{value:C(e,n,s)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(B){return{type:"throw",arg:B}}}e.wrap=h;var f={};function p(){}function A(){}function m(){}var v={};c(v,s,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(_([])));y&&y!==t&&n.call(y,s)&&(v=y);var x=m.prototype=p.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(a,o,s,l){var u=d(e[a],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==(0,r.Z)(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)}var o;a(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function C(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return k()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return A.prototype=m,a(x,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:A,configurable:!0}),A.displayName=c(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===A||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(h(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(x),c(x,u,"Generator"),c(x,s,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=_,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8737:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),i=n(9611);var a=n(8814);function o(e,t,n){return o=(0,a.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,i.Z)(a,n.prototype),a},o.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},s(e)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{40:"061df35d",58:"3b92ba0a",97:"9cafcb17",137:"8f74a42d",158:"3d8b77b6",205:"814b857d",242:"c18c4020",290:"65e4a1ae",362:"f1e7c6cd",394:"396fbff6",547:"122ed027",581:"0e2256d8",613:"20c83141",631:"cd00c787",696:"7335e211",727:"a2e710f9",748:"5105f31c",775:"e2c36ee8",791:"21bdcef9",810:"0b2c7d05",884:"118e953f"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="ezyview:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkezyview=self.webpackChunkezyview||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(7313),t=n(1168),r=n(5671),i=n(3144),a=n(136),o=n(9388),s=n(4578),l=n(5192),u=n.n(l),c=n(7462);function h(e){return"/"===e.charAt(0)}function d(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var f=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&h(e),o=t&&h(t),s=a||o;if(e&&h(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,c=i.length;c>=0;c--){var f=i[c];"."===f?d(i,c):".."===f?(d(i,c),u++):u&&(d(i,c),u--)}if(!s)for(;u--;u)i.unshift("..");!s||""===i[0]||i[0]&&h(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},p=!0,A="Invariant failed";function m(e,t){if(!e){if(p)throw new Error(A);var n="function"===typeof t?t():t,r=n?"".concat(A,": ").concat(n):A;throw new Error(r)}}function v(e){return"/"===e.charAt(0)?e:"/"+e}function g(e){return"/"===e.charAt(0)?e.substr(1):e}function y(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function x(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function b(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function w(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,c.Z)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(Nm){throw Nm instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Nm}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=f(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function C(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var E=!("undefined"===typeof window||!window.document||!window.document.createElement);function S(e,t){t(window.confirm(e))}var I="popstate",M="hashchange";function _(){try{return window.history.state||{}}catch(Nm){return{}}}function k(e){void 0===e&&(e={}),E||m(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,s=i.getUserConfirmation,l=void 0===s?S:s,u=i.keyLength,h=void 0===u?6:u,d=e.basename?x(v(e.basename)):"";function f(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return d&&(a=y(a,d)),w(a,r,n)}function p(){return Math.random().toString(36).substr(2,h)}var A=C();function g(e){(0,c.Z)(U,e),U.length=t.length,A.notifyListeners(U.location,U.action)}function k(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(f(e.state))}function B(){R(f(_()))}var T=!1;function R(e){if(T)T=!1,g();else{A.confirmTransitionTo(e,"POP",l,(function(t){t?g({action:"POP",location:e}):function(e){var t=U.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(T=!0,Q(i))}(e)}))}}var D=f(_()),P=[D.key];function L(e){return d+b(e)}function Q(e){t.go(e)}var j=0;function N(e){1===(j+=e)&&1===e?(window.addEventListener(I,k),r&&window.addEventListener(M,B)):0===j&&(window.removeEventListener(I,k),r&&window.removeEventListener(M,B))}var F=!1;var U={length:t.length,action:"POP",location:D,createHref:L,push:function(e,r){var i="PUSH",a=w(e,r,p(),U.location);A.confirmTransitionTo(a,i,l,(function(e){if(e){var r=L(a),s=a.key,l=a.state;if(n)if(t.pushState({key:s,state:l},null,r),o)window.location.href=r;else{var u=P.indexOf(U.location.key),c=P.slice(0,u+1);c.push(a.key),P=c,g({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=w(e,r,p(),U.location);A.confirmTransitionTo(a,i,l,(function(e){if(e){var r=L(a),s=a.key,l=a.state;if(n)if(t.replaceState({key:s,state:l},null,r),o)window.location.replace(r);else{var u=P.indexOf(U.location.key);-1!==u&&(P[u]=a.key),g({action:i,location:a})}else window.location.replace(r)}}))},go:Q,goBack:function(){Q(-1)},goForward:function(){Q(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return F||(N(1),F=!0),function(){return F&&(F=!1,N(-1)),t()}},listen:function(e){var t=A.appendListener(e);return N(1),function(){N(-1),t()}}};return U}var B="hashchange",T={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+g(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:g,decodePath:v},slash:{encodePath:v,decodePath:v}};function R(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function D(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function P(e){window.location.replace(R(window.location.href)+"#"+e)}function L(e){void 0===e&&{},E||m(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?S:r,a=n.hashType,o=void 0===a?"slash":a,s=e.basename?x(v(e.basename)):"",l=T[o],u=l.encodePath,h=l.decodePath;function d(){var e=h(D());return s&&y(e,s),w(e)}var f=C();function p(e){(0,c.Z)(U,e),U.length=t.length,f.notifyListeners(U.location,U.action)}var A=!1,g=null;function I(){var e=D(),t=u(e);if(e!==t)P(t);else{var n=d(),r=U.location;if(!A&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(g===b(n))return;null,function(e){if(A)!1,p();else{var t="POP";f.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=U.location,n=L.lastIndexOf(b(t));-1===n&&0;var r=L.lastIndexOf(b(e));-1===r&&0;var i=n-r;i&&(!0,Q(i))}(e)}))}}(n)}}var M=D(),_=u(M);M!==_&&P(_);var k=d(),L=[b(k)];function Q(e){t.go(e)}var j=0;function N(e){1===(j+=e)&&1===e?window.addEventListener(B,I):0===j&&window.removeEventListener(B,I)}var F=!1;var U={length:t.length,action:"POP",location:k,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&R(window.location.href),n+"#"+u(s+b(e))},push:function(e,t){var n="PUSH",r=w(e,void 0,void 0,U.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=b(r),i=u(s+t);if(D()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(b(U.location)),o=L.slice(0,a+1);o.push(t),o,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=w(e,void 0,void 0,U.location);f.confirmTransitionTo(r,n,i,(function(e){if(e){var t=b(r),i=u(s+t);D()!==i&&(t,P(i));var a=L.indexOf(b(U.location));-1!==a&&(L[a]=t),p({action:n,location:r})}}))},go:Q,goBack:function(){Q(-1)},goForward:function(){Q(1)},block:function(e){void 0===e&&!1;var t=f.setPrompt(e);return F||(N(1),!0),function(){return F&&(!1,N(-1)),t()}},listen:function(e){var t=f.appendListener(e);return N(1),function(){N(-1),t()}}};return U}function Q(e,t,n){return Math.min(Math.max(e,t),n)}var j=n(5958),N=n.n(j),F=(n(335),n(3366)),U=n(7861),O=n.n(U),Z=1073741823,z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var G=e.createContext||function(t,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return z[e]=(z[e]||0)+1}()+"__",o=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}(0,s.Z)(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):Z,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);o.childContextTypes=((r={})[a]=u().object.isRequired,r);var l=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).observedBits=void 0,t.state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}(0,s.Z)(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Z:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Z:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return l.contextTypes=((i={})[a]=u().object,i),{Provider:o,Consumer:l}},H=function(e){var t=G();return t.displayName=e,t},V=H("Router-History"),W=H("Router"),q=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._pendingLocation=e}))),n}(0,s.Z)(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return e.createElement(W.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(V.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;var Y=function(e){function t(){return e.apply(this,arguments)||this}(0,s.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(e.Component);function X(t){var n=t.message,r=t.when,i=void 0===r||r;return e.createElement(W.Consumer,null,(function(t){if(t||m(!1),!i||t.staticContext)return null;var r=t.history.block;return e.createElement(Y,{onMount:function(e){e.release=r(n)},onUpdate:function(e,t){t.message!==n&&(e.release(),e.release=r(n))},onUnmount:function(e){e.release()},message:n})}))}var J={},K=1e4,$=0;function ee(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,s=void 0!==o&&o,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=J[n]||(J[n]={});if(r[e])return r[e];var i=[],a={regexp:N()(e,i,t),keys:i};return $<K&&(r[e]=a,$++),a}(n,{end:a,strict:s,sensitive:u}),i=r.regexp,o=r.keys,l=i.exec(e);if(!l)return null;var c=l[0],h=l.slice(1),d=e===c;return a&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:o.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var te=function(t){function n(){return t.apply(this,arguments)||this}return(0,s.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(W.Consumer,null,(function(n){n||m(!1);var r=t.props.location||n.location,i=t.props.computedMatch?t.props.computedMatch:t.props.path?ee(r.pathname,t.props):n.match,a=(0,c.Z)({},n,{location:r,match:i}),o=t.props,s=o.children,l=o.component,u=o.render;return Array.isArray(s)&&function(t){return 0===e.Children.count(t)}(s)&&(s=null),e.createElement(W.Provider,{value:a},a.match?s?"function"===typeof s?s(a):s:l?e.createElement(l,a):u?u(a):null:"function"===typeof s?s(a):null)}))},n}(e.Component);function ne(e){return"/"===e.charAt(0)?e:"/"+e}function re(e,t){if(!e)return t;var n=ne(e);return 0!==t.pathname.indexOf(n)?t:(0,c.Z)({},t,{pathname:t.pathname.substr(n.length)})}function ie(e){return"string"===typeof e?e:b(e)}function ae(e){return function(){m(!1)}}function oe(){}e.Component;var se=function(t){function n(){return t.apply(this,arguments)||this}return(0,s.Z)(n,t),n.prototype.render=function(){var t=this;return e.createElement(W.Consumer,null,(function(n){n||m(!1);var r,i,a=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var o=t.props.path||t.props.from;i=o?ee(a.pathname,(0,c.Z)({},t.props,{path:o})):n.match}})),i?e.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(e.Component);e.useContext;var le=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=k(e.props),e}return(0,s.Z)(n,t),n.prototype.render=function(){return e.createElement(q,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var ue=function(e,t){return"function"===typeof e?e(t):e},ce=function(e,t){return"string"===typeof e?w(e,null,null,t):e},he=function(e){return e},de=e.forwardRef;"undefined"===typeof de&&(de=he);var fe=de((function(t,n){var r=t.innerRef,i=t.navigate,a=t.onClick,o=(0,F.Z)(t,["innerRef","navigate","onClick"]),s=o.target,l=(0,c.Z)({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return l.ref=he!==de&&n||r,e.createElement("a",l)}));var pe=de((function(t,n){var r=t.component,i=void 0===r?fe:r,a=t.replace,o=t.to,s=t.innerRef,l=(0,F.Z)(t,["component","replace","to","innerRef"]);return e.createElement(W.Consumer,null,(function(t){t||m(!1);var r=t.history,u=ce(ue(o,t.location),t.location),h=u?r.createHref(u):"",d=(0,c.Z)({},l,{href:h,navigate:function(){var e=ue(o,t.location),n=b(t.location)===b(ce(e));(a||n?r.replace:r.push)(e)}});return he!==de?d.ref=n||s:d.innerRef=s,e.createElement(i,d)}))})),Ae=function(e){return e},me=e.forwardRef;"undefined"===typeof me&&(me=Ae);var ve=me((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.activeClassName,o=void 0===a?"active":a,s=t.activeStyle,l=t.className,u=t.exact,h=t.isActive,d=t.location,f=t.sensitive,p=t.strict,A=t.style,v=t.to,g=t.innerRef,y=(0,F.Z)(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(W.Consumer,null,(function(t){t||m(!1);var r=d||t.location,a=ce(ue(v,r),r),x=a.pathname,b=x&&x.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?ee(r.pathname,{path:b,exact:u,sensitive:f,strict:p}):null,C=!!(h?h(w,r):w),E="function"===typeof l?l(C):l,S="function"===typeof A?A(C):A;C&&(E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(E,o),S=(0,c.Z)({},S,s));var I=(0,c.Z)({"aria-current":C&&i||null,className:E,style:S,to:a},y);return Ae!==me?I.ref=n||g:I.innerRef=g,e.createElement(pe,I)}))})),ge=n(8),ye={homepage:"https://www.ezyview.net",viewerUrl:"https://viewer.ezyview.net",fileServerUrl:"https://storage.googleapis.com/vrproductsapi.appspot.com",release:!0},xe=n(6417),be=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).state={hasError:!1},i}return(0,i.Z)(n,[{key:"componentDidCatch",value:function(e){ye.release||console.log(e)}},{key:"render",value:function(){return this.state.hasError?(0,xe.jsx)("div",{className:"std-page center-page-x center",children:(0,xe.jsxs)("div",{className:"error-box",children:[(0,xe.jsx)(ge.Z,{className:"error-icon"}),(0,xe.jsx)("h2",{children:"Error"}),"Something went wrong, please check your internet connection and try again. ",(0,xe.jsx)("br",{}),"If this error persists contact support."]})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(e.Component),we=n(3203),Ce=n(7420),Ee=n(1994);var Se=function(t){var n=t.children,r=t.theme,i=(0,Ce.Z)(),a=e.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):(0,c.Z)({},e,t)}(i,r);return null!=e&&(e[Ee.Z]=null!==i),e}),[r,i]);return e.createElement(we.Z.Provider,{value:a},n)},Ie=(0,n(4632).Z)({palette:{primary:{main:"#FF9913"},secondary:{main:"#a84b03"},type:"light"},overrides:{MuiCssBaseline:{"@global":{"*":{"scrollbar-width":"thin"},"*::-webkit-scrollbar":{width:"4px",height:"4px"}}},MuiTooltip:{tooltip:{fontSize:"medium"}},MuiPaper:{root:{color:"#a8a8a8",backgroundColor:"#444",padding:"0"}},MuiTextField:{root:{marginBottom:"8px"}},MuiIconButton:{root:{padding:"4px"}},MuiAccordionDetails:{root:{backgroundColor:"#444",paddingLeft:"0px",paddingTop:"5px",paddingBottom:"5px"}},MuiAccordionSummary:{root:{color:"#000",backgroundColor:"#666",marginBottom:-1,minHeight:0,"&$expanded":{minHeight:0},width:"auto !important"},content:{"&$expanded":{margin:"12px 0"}},expanded:{}},MuiSelect:{select:{color:"",backgroundColor:"#585858"}},MuiGridList:{root:{margin:"0px"}},MuiTabs:{root:{minHeight:"0px"}},MuiTab:{root:{minHeight:"0px"}},MuiTabPanel:{root:{height:"100%"}},MuiFormControlLabel:{root:{marginBottom:"0",color:"#ccc"}},MuiFormLabel:{root:{color:"#999"}},MuiCircularProgress:{root:{zIndex:500}},MuiBackdrop:{root:{backgroundColor:"rgba(0, 0, 0, 0.9)"}},MuiSlider:{root:{padding:"10px 0 !important",color:"#444"},thumb:{color:"orange"},rail:{backgroundColor:"#666"},track:{backgroundColor:"#888"}},MuiButton:{root:{padding:"2px 5px",margin:"8px",minWidth:"0"},label:{fontSize:"small"},containedPrimary:{backgroundColor:"#888 !important"}},MuiButtonBase:{root:{width:"fit-content"}},MuiMenuItem:{root:{color:"#eee"}},MuiDivider:{root:{borderTop:"1px solid #000",margin:"5px 0"}}}}),Me=n(6939),_e=n.n(Me),ke=n(6993),Be=n.n(ke),Te=n(9767),Re=n.n(Te);function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}function Pe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Le(e,t)}function Le(e,t){return Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Le(e,t)}function Qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}var je={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},Ne={rel:["amphtml","canonical","alternate"]},Fe={type:["application/ld+json"]},Ue={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Oe=Object.keys(je).map((function(e){return je[e]})),Ze={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ze=Object.keys(Ze).reduce((function(e,t){return e[Ze[t]]=t,e}),{}),Ge=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},He=function(e){var t=Ge(e,je.TITLE),n=Ge(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(function(){return t}));var r=Ge(e,"defaultTitle");return t||r||void 0},Ve=function(e){return Ge(e,"onChangeClientState")||function(){}},We=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return De({},e,t)}),{})},qe=function(e,t){return t.filter((function(e){return void 0!==e[je.BASE]})).map((function(e){return e[je.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i+=1){var a=r[i].toLowerCase();if(-1!==e.indexOf(a)&&n[a])return t.concat(n)}return t}),[])},Ye=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&console&&"function"==typeof console.warn&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof t[e]+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n,a=Object.keys(e),o=0;o<a.length;o+=1){var s=a[o],l=s.toLowerCase();-1===t.indexOf(l)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===l&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(s)||"innerHTML"!==s&&"cssText"!==s&&"itemprop"!==s||(n=s)}if(!n||!e[n])return!1;var u=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][u]&&(i[n][u]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var a=Object.keys(i),o=0;o<a.length;o+=1){var s=a[o],l=De({},r[s],i[s]);r[s]=l}return e}),[]).reverse()},Xe=function(e,t){if(Array.isArray(e)&&e.length)for(var n=0;n<e.length;n+=1)if(e[n][t])return!0;return!1},Je=function(e){return Array.isArray(e)?e.join(""):e},Ke=function(e,t){return Array.isArray(e)?e.reduce((function(e,n){return function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1}(n,t)?e.priority.push(n):e.default.push(n),e}),{priority:[],default:[]}):{default:e}},$e=function(e,t){var n;return De({},e,((n={})[t]=void 0,n))},et=[je.NOSCRIPT,je.SCRIPT,je.STYLE],tt=function(e,t){return void 0===t&&(t=!0),!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},nt=function(e){return Object.keys(e).reduce((function(t,n){var r=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},rt=function(e,t){return void 0===t&&(t={}),Object.keys(e).reduce((function(t,n){return t[Ze[n]||n]=e[n],t}),t)},it=function(t,n){return n.map((function(n,r){var i,a=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach((function(e){var t=Ze[e]||e;"innerHTML"===t||"cssText"===t?a.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:a[t]=n[e]})),e.createElement(t,a)}))},at=function(t,n,r){switch(t){case je.TITLE:return{toComponent:function(){return r=n.titleAttributes,(i={key:t=n.title})["data-rh"]=!0,a=rt(r,i),[e.createElement(je.TITLE,a,t)];var t,r,i,a},toString:function(){return function(e,t,n,r){var i=nt(n),a=Je(t);return i?"<"+e+' data-rh="true" '+i+">"+tt(a,r)+"</"+e+">":"<"+e+' data-rh="true">'+tt(a,r)+"</"+e+">"}(t,n.title,n.titleAttributes,r)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return rt(n)},toString:function(){return nt(n)}};default:return{toComponent:function(){return it(t,n)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!("innerHTML"===e||"cssText"===e)})).reduce((function(e,t){var i=void 0===r[t]?t:t+'="'+tt(r[t],n)+'"';return e?e+" "+i:i}),""),a=r.innerHTML||r.cssText||"",o=-1===et.indexOf(e);return t+"<"+e+' data-rh="true" '+i+(o?"/>":">"+a+"</"+e+">")}),"")}(t,n,r)}}}},ot=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.noscriptTags,o=e.styleTags,s=e.title,l=void 0===s?"":s,u=e.titleAttributes,c=e.linkTags,h=e.metaTags,d=e.scriptTags,f={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var p=function(e){var t=e.linkTags,n=e.scriptTags,r=e.encode,i=Ke(e.metaTags,Ue),a=Ke(t,Ne),o=Ke(n,Fe);return{priorityMethods:{toComponent:function(){return[].concat(it(je.META,i.priority),it(je.LINK,a.priority),it(je.SCRIPT,o.priority))},toString:function(){return at(je.META,i.priority,r)+" "+at(je.LINK,a.priority,r)+" "+at(je.SCRIPT,o.priority,r)}},metaTags:i.default,linkTags:a.default,scriptTags:o.default}}(e);f=p.priorityMethods,c=p.linkTags,h=p.metaTags,d=p.scriptTags}return{priority:f,base:at(je.BASE,t,r),bodyAttributes:at("bodyAttributes",n,r),htmlAttributes:at("htmlAttributes",i,r),link:at(je.LINK,c,r),meta:at(je.META,h,r),noscript:at(je.NOSCRIPT,a,r),script:at(je.SCRIPT,d,r),style:at(je.STYLE,o,r),title:at(je.TITLE,{title:l,titleAttributes:u},r)}},st=[],lt=function(e,t){var n=this;void 0===t&&(t="undefined"!=typeof document),this.instances=[],this.value={setHelmet:function(e){n.context.helmet=e},helmetInstances:{get:function(){return n.canUseDOM?st:n.instances},add:function(e){(n.canUseDOM?st:n.instances).push(e)},remove:function(e){var t=(n.canUseDOM?st:n.instances).indexOf(e);(n.canUseDOM?st:n.instances).splice(t,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=ot({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},ut=e.createContext({}),ct=u().shape({setHelmet:u().func,helmetInstances:u().shape({get:u().func,add:u().func,remove:u().func})}),ht="undefined"!=typeof document,dt=function(t){function n(e){var r;return(r=t.call(this,e)||this).helmetData=new lt(r.props.context,n.canUseDOM),r}return Pe(n,t),n.prototype.render=function(){return e.createElement(ut.Provider,{value:this.helmetData.value},this.props.children)},n}(e.Component);dt.canUseDOM=ht,dt.propTypes={context:u().shape({helmet:u().shape()}),children:u().node.isRequired},dt.defaultProps={context:{}},dt.displayName="HelmetProvider";var ft=function(e,t){var n,r=document.head||document.querySelector(je.HEAD),i=r.querySelectorAll(e+"[data-rh]"),a=[].slice.call(i),o=[];return t&&t.length&&t.forEach((function(t){var r=document.createElement(e);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&("innerHTML"===i?r.innerHTML=t.innerHTML:"cssText"===i?r.styleSheet?r.styleSheet.cssText=t.cssText:r.appendChild(document.createTextNode(t.cssText)):r.setAttribute(i,void 0===t[i]?"":t[i]));r.setAttribute("data-rh","true"),a.some((function(e,t){return n=t,r.isEqualNode(e)}))?a.splice(n,1):o.push(r)})),a.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return r.appendChild(e)})),{oldTags:a,newTags:o}},pt=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],a=[].concat(i),o=Object.keys(t),s=0;s<o.length;s+=1){var l=o[s],u=t[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),-1===i.indexOf(l)&&i.push(l);var c=a.indexOf(l);-1!==c&&a.splice(c,1)}for(var h=a.length-1;h>=0;h-=1)n.removeAttribute(a[h]);i.length===a.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==o.join(",")&&n.setAttribute("data-rh",o.join(","))}},At=function(e,t){var n=e.baseTag,r=e.htmlAttributes,i=e.linkTags,a=e.metaTags,o=e.noscriptTags,s=e.onChangeClientState,l=e.scriptTags,u=e.styleTags,c=e.title,h=e.titleAttributes;pt(je.BODY,e.bodyAttributes),pt(je.HTML,r),function(e,t){void 0!==e&&document.title!==e&&(document.title=Je(e)),pt(je.TITLE,t)}(c,h);var d={baseTag:ft(je.BASE,n),linkTags:ft(je.LINK,i),metaTags:ft(je.META,a),noscriptTags:ft(je.NOSCRIPT,o),scriptTags:ft(je.SCRIPT,l),styleTags:ft(je.STYLE,u)},f={},p={};Object.keys(d).forEach((function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(f[e]=n),r.length&&(p[e]=d[e].oldTags)})),t&&t(),s(e,f,p)},mt=null,vt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).rendered=!1,t}Pe(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return!Re()(e,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var e,t,n=this.props.context,r=n.setHelmet,i=null,a=(e=n.helmetInstances.get().map((function(e){var t=De({},e.props);return delete t.context,t})),{baseTag:qe(["href"],e),bodyAttributes:We("bodyAttributes",e),defer:Ge(e,"defer"),encode:Ge(e,"encodeSpecialCharacters"),htmlAttributes:We("htmlAttributes",e),linkTags:Ye(je.LINK,["rel","href"],e),metaTags:Ye(je.META,["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Ye(je.NOSCRIPT,["innerHTML"],e),onChangeClientState:Ve(e),scriptTags:Ye(je.SCRIPT,["src","innerHTML"],e),styleTags:Ye(je.STYLE,["cssText"],e),title:He(e),titleAttributes:We("titleAttributes",e),prioritizeSeoTags:Xe(e,"prioritizeSeoTags")});dt.canUseDOM?(t=a,mt&&cancelAnimationFrame(mt),t.defer?mt=requestAnimationFrame((function(){At(t,(function(){mt=null}))})):(At(t),mt=null)):ot&&(i=ot(a)),r(i)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},t}(e.Component);vt.propTypes={context:ct.isRequired},vt.displayName="HelmetDispatcher";var gt=["children"],yt=["children"],xt=function(t){function n(){return t.apply(this,arguments)||this}Pe(n,t);var r=n.prototype;return r.shouldComponentUpdate=function(e){return!_e()($e(this.props,"helmetData"),$e(e,"helmetData"))},r.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case je.SCRIPT:case je.NOSCRIPT:return{innerHTML:t};case je.STYLE:return{cssText:t};default:throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},r.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren;return De({},r,((t={})[n.type]=[].concat(r[n.type]||[],[De({},e.newChildProps,this.mapNestedChildrenToProps(n,e.nestedChildren))]),t))},r.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(r.type){case je.TITLE:return De({},i,((t={})[r.type]=o,t.titleAttributes=De({},a),t));case je.BODY:return De({},i,{bodyAttributes:De({},a)});case je.HTML:return De({},i,{htmlAttributes:De({},a)});default:return De({},i,((n={})[r.type]=De({},a),n))}},r.mapArrayTypeChildrenToProps=function(e,t){var n=De({},t);return Object.keys(e).forEach((function(t){var r;n=De({},n,((r={})[t]=e[t],r))})),n},r.warnOnInvalidChildren=function(e,t){return Be()(Oe.some((function(t){return e.type===t})),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+Oe.join(", ")+" are allowed. Helmet does not support rendering <"+e.type+"> elements. Refer to our API for more information."),Be()(!t||"string"==typeof t||Array.isArray(t)&&!t.some((function(e){return"string"!=typeof e})),"Helmet expects a string as a child of <"+e.type+">. Did you forget to wrap your children in braces? ( <"+e.type+">{``}</"+e.type+"> ) Refer to our API for more information."),!0},r.mapChildrenToProps=function(t,n){var r=this,i={};return e.Children.forEach(t,(function(e){if(e&&e.props){var t=e.props,a=t.children,o=Qe(t,gt),s=Object.keys(o).reduce((function(e,t){return e[ze[t]||t]=o[t],e}),{}),l=e.type;switch("symbol"==typeof l?l=l.toString():r.warnOnInvalidChildren(e,a),l){case je.FRAGMENT:n=r.mapChildrenToProps(a,n);break;case je.LINK:case je.META:case je.NOSCRIPT:case je.SCRIPT:case je.STYLE:i=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:s,nestedChildren:a});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:s,nestedChildren:a})}}})),this.mapArrayTypeChildrenToProps(i,n)},r.render=function(){var t=this.props,n=t.children,r=Qe(t,yt),i=De({},r),a=r.helmetData;return n&&(i=this.mapChildrenToProps(n,i)),!a||a instanceof lt||(a=new lt(a.context,a.instances)),a?e.createElement(vt,De({},i,{context:a.value,helmetData:void 0})):e.createElement(ut.Consumer,null,(function(t){return e.createElement(vt,De({},i,{context:t}))}))},n}(e.Component);xt.propTypes={base:u().object,bodyAttributes:u().object,children:u().oneOfType([u().arrayOf(u().node),u().node]),defaultTitle:u().string,defer:u().bool,encodeSpecialCharacters:u().bool,htmlAttributes:u().object,link:u().arrayOf(u().object),meta:u().arrayOf(u().object),noscript:u().arrayOf(u().object),onChangeClientState:u().func,script:u().arrayOf(u().object),style:u().arrayOf(u().object),title:u().string,titleAttributes:u().object,titleTemplate:u().string,prioritizeSeoTags:u().bool,helmetData:u().object},xt.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},xt.displayName="Helmet";var bt=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,xe.jsx)("div",{className:"page center-page-x center",children:(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"About EzyView"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net/about"})]}),(0,xe.jsx)("h1",{children:"About EzyView"}),"EzyView is a software development business based in Queensland, Australia, founded in 2021. We specialize in developing 3D & AR technologies and applications for the web.",(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h2",{children:"The EzyView platform"}),(0,xe.jsx)("p",{children:"The 3D Product Viewer is an application that can easily be added to any webpage to display realistic 3D models. It's designed to engage website visitors with interactive, 3D models of real objects or products."}),(0,xe.jsx)("p",{children:"The EzyView 3D editor is a comprehensive online scene editing tool that allows users to customize 3D models and scenes for the 3D product viewer."}),(0,xe.jsx)("h2",{children:"Demos"}),(0,xe.jsxs)("p",{children:["View the ",(0,xe.jsx)(pe,{to:"/demos",children:"demos"})," to see how 3D products can look on your website."]})]})]})})}}]),n}(e.Component),wt=[{title:"E-Commerce",demos:[{glbFile:"trainer.glb",projectFile:"trainerdemo.zip",usdzFile:"trainer.usdz",thumb:"trainer.jpg",title:"Training Shoe",startButton:!1},{glbFile:"handbag.glb",projectFile:"handbag.zip",usdzFile:"handbag.usdz",thumb:"handbag.jpg",title:"Handbag"},{glbFile:"camera.glb",projectFile:"camera.zip",usdzFile:"camera.usdz",thumb:"camera.jpg",title:"Camera"},{glbFile:"ring.glb",projectFile:"ring.zip",thumb:"ring.jpg",title:"Ring Configurator"},{glbFile:"handbag1.glb",projectFile:"handbag1.zip",thumb:"handbag1.jpg",title:"Handbag Configurator"},{glbFile:"sofa.glb",projectFile:"sofa.zip",thumb:"sofa.jpg",title:"Sofa Configurator"},{glbFile:"dishwasher.glb",projectFile:"dishwasher.zip",usdzFile:"dishwasher.usdz",thumb:"dishwasher.jpg",title:"Animation"},{glbFile:"sunglasses.glb",projectFile:"sunglasses.zip",usdzFile:"sunglasses.usdz",thumb:"sunglasses.jpg",title:"Sunglasses"},{glbFile:"chair.glb",projectFile:"chair.zip",usdzFile:"chair.usdz",thumb:"chair.jpg",title:"Chair"},{glbFile:"mazda.glb",projectFile:"mazda.zip",usdzFile:"mazda.usdz",thumb:"mazda.jpg",title:"Mazda 3"}]},{title:"Learning & Education",demos:[{glbFile:"trex.glb",projectFile:"trex.zip",thumb:"trex.jpg",title:"Animated T-Rex"}]},{title:"Manufacuring",demos:[{glbFile:"robot.glb",projectFile:"robot.zip",thumb:"robot.jpg",title:"Robotic Assembly Line"}]},{title:"Virtual Reality",demos:[{glbFile:"vr.glb",projectFile:"vr.zip",thumb:"vr.jpg",title:"Apartment (VR enabled)"}]}],Ct=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),n.apply(this,arguments)}return(0,i.Z)(s,[{key:"renderGroup",value:function(t){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("h2",{children:t.title}),t.demos.map((function(t,n){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("h4",{children:t.title}),(0,xe.jsx)(pe,{className:"demo-card",to:"/modelViewer?".concat(t.startButton?"startButton&":"","projectFile=").concat(ye.fileServerUrl,"/").concat(t.projectFile,"&glbFile=").concat(ye.fileServerUrl,"/").concat(t.glbFile,"&usdzFile=").concat(ye.fileServerUrl,"/").concat(t.usdzFile,"&backgroundImage=").concat(ye.fileServerUrl,"/").concat(t.thumb),children:(0,xe.jsx)("img",{src:"".concat(ye.fileServerUrl,"/").concat(t.thumb),alt:""})})]},n)}))]})}},{key:"render",value:function(){var e=this;return(0,xe.jsxs)("div",{className:"page center center-page-x",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"A collection of 3d models demonstrating the features of the EzyView 3d product viewer"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net/demos"})]}),(0,xe.jsx)("h1",{style:{textAlign:"center"},children:"Demos"}),wt.map((function(t){return e.renderGroup(t)})),(0,xe.jsx)("div",{className:"demo-card"})]})}}]),s}(e.Component),Et=function(){return Et=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Et.apply(this,arguments)};var St="",It=null,Mt=null,_t=null;function kt(){St="",null!==It&&It.disconnect(),null!==Mt&&(window.clearTimeout(Mt),Mt=null)}function Bt(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)&&!e.hasAttribute("disabled")||["A","AREA"].includes(e.tagName)&&e.hasAttribute("href")}function Tt(){var e=null;if("#"===St)e=document.body;else{var t=St.replace("#","");null===(e=document.getElementById(t))&&"#top"===St&&(e=document.body)}if(null!==e){_t(e);var n=e.getAttribute("tabindex");return null!==n||Bt(e)||e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),null!==n||Bt(e)||(e.blur(),e.removeAttribute("tabindex")),kt(),!0}return!1}function Rt(t){return e.forwardRef((function(n,r){var i="";"string"===typeof n.to&&n.to.includes("#")?i="#"+n.to.split("#").slice(1).join("#"):"object"===typeof n.to&&"string"===typeof n.to.hash&&(i=n.to.hash);var a={};t===ve&&(a.isActive=function(e,t){return e&&e.isExact&&t.hash===i});var o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(n,["scroll","smooth","timeout","elementId"]);return e.createElement(t,Et({},a,o,{onClick:function(e){var t;kt(),St=n.elementId?"#"+n.elementId:i,n.onClick&&n.onClick(e),""===St||e.defaultPrevented||0!==e.button||n.target&&"_self"!==n.target||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(_t=n.scroll||function(e){return n.smooth?e.scrollIntoView({behavior:"smooth"}):e.scrollIntoView()},t=n.timeout,window.setTimeout((function(){!1===Tt()&&(null===It&&(It=new MutationObserver(Tt)),It.observe(document,{attributes:!0,childList:!0,subtree:!0}),Mt=window.setTimeout((function(){kt()}),t||1e4))}),0))},ref:r}),n.children)}))}var Dt=Rt(pe),Pt=(Rt(ve),function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,xe.jsxs)("div",{className:"docpage center center-page-x",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"Documentation"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net/documentation"})]}),(0,xe.jsxs)("div",{className:"docpage-index",children:[(0,xe.jsx)(Dt,{to:"/documentation/#viewer",smooth:!0,children:"3D product viewer"}),(0,xe.jsx)(Dt,{to:"/documentation/#studio",smooth:!0,children:"3D editor"}),(0,xe.jsx)(Dt,{to:"/documentation/#projects",children:"Projects"}),(0,xe.jsx)(Dt,{to:"/documentation/#cameractrl",children:"Camera controllers"}),(0,xe.jsx)(Dt,{to:"/documentation/#selecting",children:"Selecting objects"}),(0,xe.jsx)(Dt,{to:"/documentation/#transforming",children:"Transforming objects"}),(0,xe.jsx)(Dt,{to:"/documentation/#deleting",children:"Deleting selected objects"}),(0,xe.jsx)(Dt,{to:"/documentation/#undoredo",children:"Undo/redo"}),(0,xe.jsx)(Dt,{to:"/documentation/#viewprops",children:"Viewing object properties"}),(0,xe.jsx)(Dt,{to:"/documentation/#sceneprops",children:"Scene properties"}),(0,xe.jsx)(Dt,{to:"/documentation/#annot",children:"Text annotations"}),(0,xe.jsx)(Dt,{to:"/documentation/#effects",children:"Effects"}),(0,xe.jsx)(Dt,{to:"/documentation/#settings",children:"Project settings"}),(0,xe.jsx)(Dt,{to:"/documentation/#prefs",children:"Preferences"}),(0,xe.jsx)(Dt,{to:"/documentation/#embed",children:"Embed viewer"}),(0,xe.jsx)(Dt,{to:"/documentation/#conf",children:"Product configurator builder"})]}),(0,xe.jsxs)("div",{className:"docpage-content",children:[(0,xe.jsx)("h1",{id:"viewer",children:"Documentation"}),(0,xe.jsx)("h2",{children:"Introduction"}),(0,xe.jsx)("p",{children:"With the EzyView platform, you can display realistic models on your website in 3D and AR. The 3D Editor is an online tool that you can use to import assets, compose a scene, configure various settings, and export files for display in the 3D product viewer."}),(0,xe.jsx)("h2",{children:"3D Product Viewer"}),(0,xe.jsx)("p",{children:"The 3D product viewer encapsulates 3D, AR, and VR technologies in a single web application which can be added to a webpage as a single HTML element. For e-commerce, it provides engaging and practical ways for consumers to experience and try out brands online."}),(0,xe.jsx)("h3",{children:"Adding the viewer to your website"}),(0,xe.jsxs)("p",{children:[" Use the 3D editor to import your 3D file, configure the settings, and publish the project. Publishing the project will download two files to your computer, a 3D file and a project settings file. Upload the files to your web server or file hosting service and copy the direct URLs of these files. See the ",(0,xe.jsx)(Dt,{to:"/documentation/#projects",children:"Project"})," section of the 3D editor for more detailed information."]}),(0,xe.jsx)("h4",{children:"Adding the viewer to a web page using an iframe HTML element"}),(0,xe.jsxs)("p",{children:["Creating an iframe element for the viewer is relatively easy and can be done from the Embed tab in the 3D editor. See the ",(0,xe.jsx)(Dt,{to:"/documentation/#projects",children:"Embed"})," documentation for more information. Once you've copied the embed code simply paste it onto your web page and publish."]}),(0,xe.jsx)("pre",{children:'<iframe id="ezyview-viewer"\n    src="https://viewer.ezyview.net?projectFile=https://myfiles.com/project.zip&sceneFile=https://myfiles.com/3d.glb&showStartButton&animateStartButton"\n width="100%" height="100%" style="border:none; " frameborder="0" xr-spatial-tracking="true"\n autoplay allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true"\n allow="fullscreen"></iframe>\n'}),(0,xe.jsx)("b",{children:(0,xe.jsx)("a",{href:"https://jsfiddle.net/zenguru/10mgshc4/24/",target:"_blank",rel:"noreferrer",children:"Run the demo code on JSFiddle"})}),(0,xe.jsx)("h5",{children:"iframe element attributes"}),(0,xe.jsxs)("table",{className:"doc-table",children:[(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"src*"}),(0,xe.jsx)("td",{children:"The following url: https://viewer.ezyview.net"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"projectFile*"}),(0,xe.jsx)("td",{children:"The URL of your project file (.zip)"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"sceneFile*"}),(0,xe.jsx)("td",{children:"The URL of your 3D file (.glb)"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"usdzFile"}),(0,xe.jsx)("td",{children:"The URL of the 3D for Apple devices (.usdz)"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"loadingImage"}),(0,xe.jsx)("td",{children:"The URL of an image displayed during loading"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"showStartButton"}),(0,xe.jsx)("td",{children:"Show the start button"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"animateStartButton"}),(0,xe.jsx)("td",{children:"Animate the start button"})]})]}),(0,xe.jsx)("p",{children:"* required attributes"}),(0,xe.jsx)("h4",{children:"Adding the viewer to a web page using the viewer-3d HTML element"}),(0,xe.jsxs)("p",{children:["Here is an example of an HTML page with the viewer element and a link to the viewer script code:",(0,xe.jsx)("pre",{children:'\n<!doctype html>\n<html>\n<head lang=\'en\'>\n    <meta charset=\'utf-8\'>\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    <script src="https://cdn.jsdelivr.net/gh/ezyvue/src/v1.0/viewer.js" defer type=\'module\'><\/script>\n    <link href="https://cdn.jsdelivr.net/gh/ezyvue/src/v1.0/viewer.css" rel="stylesheet" />\n</head>\n<body>\n<viewer-3d style=\'width: 500px;height: 400px;\' data-start-button data-project-file="https://raw.githubusercontent.com/ezyvue/files/main/camera.zip" data-scene-file="https://raw.githubusercontent.com/ezyvue/files/main/camera.glb" />\n </body>\n</html>\n'}),(0,xe.jsx)("b",{children:(0,xe.jsx)("a",{href:"https://jsfiddle.net/zenguru/bw3a96u1/4/",target:"_blank",rel:"noreferrer",children:"Run the example code on JSFiddle"})})]}),(0,xe.jsx)("h5",{children:"CDN urls (version 1.0)"}),(0,xe.jsx)("pre",{children:"\n    Javascript:     https://cdn.jsdelivr.net/gh/ezyvue/src/v1.0/viewer.js\n    CSS:            https://cdn.jsdelivr.net/gh/ezyvue/src/v1.0/viewer.css\n"}),(0,xe.jsx)("h5",{children:"Viewer element attributes"}),(0,xe.jsxs)("table",{className:"doc-table",children:[(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"data-project-file*"}),(0,xe.jsx)("td",{children:"The URL of your project file (.zip)"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"data-scene-file*"}),(0,xe.jsx)("td",{children:"The URl of your 3d file (.glb)"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"data-usdz-file"}),(0,xe.jsx)("td",{children:"The URL of the 3d for Apple devices (.usdz)"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"data-start-button"}),(0,xe.jsx)("td",{children:"Show the start button"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"data-animate-start-button"}),(0,xe.jsx)("td",{children:"Animate the start button"})]})]}),(0,xe.jsx)("p",{children:"* required attributes"}),(0,xe.jsx)("h5",{children:"React applications"}),(0,xe.jsxs)("p",{children:["Here is a simple React class component for the viewer which renders a div element. In the componentDidMount a reference to the element is passed createViewer() function.",(0,xe.jsx)("pre",{children:'\n    import React from "react"\n    import {createViewer} from "viewer-es.js" \n    // download the javascript code from  https://cdn.jsdelivr.net/gh/ezyvue/src/v1.0/viewer.js\n    // and add /*eslint-disable*/ to the first line of the file \n\n    export default class Viewer extends React.Component {\n        constructor() {\n            super();\n    \n            this.elemRef = React.createRef();\n        }\n        \n        componentDidMount() {\n            createViewer(this.elemRef.current);\n        }\n    \n        render() {\n            return (\n                <div ref={this.elemRef}  \n                    style={this.props.style} \n                    data-project-file={this.props.projectFile}\n                    data-scene-file={this.props.sceneFile} \n                    data-start-button \n                    data-animate-start-button >    \n                </div>\n            )\n        }\n    }\n'})]}),(0,xe.jsx)("h5",{children:"Vue applications"}),(0,xe.jsx)("p",{children:"Example coming soon."}),(0,xe.jsx)("h5",{children:"Angular applications"}),(0,xe.jsx)("p",{children:"Example coming soon."}),(0,xe.jsx)("h3",{children:"Augmented reality (AR)"}),(0,xe.jsx)("h2",{id:"studio",children:"EzyView 3D Editor"}),(0,xe.jsx)("p",{children:"EzyView 3D Editor is a web application for building and configuring 3D scenes for the 3D product viewer."}),(0,xe.jsx)("h3",{id:"projects",children:"Projects"}),(0,xe.jsx)("p",{children:"A project is a container for settings and assets created in the 3D Editor."}),(0,xe.jsx)("h4",{children:"Publishing a project"}),(0,xe.jsxs)("p",{children:["When you are ready to display the scene in the viewer Publish the project from the File menu. ",(0,xe.jsx)("br",{}),"Two files will be downloaded to your computer: ",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),".zip file - this holds the project settings file and any other assets. ",(0,xe.jsx)("br",{}),".glb file - the 3D scene saved as a self-contained binary glTF file.",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),"For Apple devices you'll also need to convert the .glb file to a .usdz file if AR is to be used. You can use Apose online converter (https://products.aspose.app/3d/conversion/gltf-to-usdz) to do this."]}),(0,xe.jsx)("h4",{children:"Obtaining direct download urls"}),(0,xe.jsx)("p",{children:"If you are embedding the viewer as an iframe element on a website builder such as Wix, upload the files to a file hosting service and obtain direct download URLs to the files."}),(0,xe.jsx)("h5",{children:"Dropbox"}),(0,xe.jsx)("p",{children:"Click the Copy Link Button next to the file. Paste the link and change the dl parameter from dl=0 to dl=1."}),(0,xe.jsx)("h5",{children:"Box"}),(0,xe.jsx)("p",{children:"At the bottom of the shared link settings pop-up, you will find a direct link to your file."}),(0,xe.jsx)("h5",{children:"Google Cloud Storage"}),(0,xe.jsxs)("p",{children:["Give your bucket public access by following this ",(0,xe.jsx)("a",{href:"https://cloud.google.com/storage/docs/access-control/making-data-public",children:" guide."})," Click on a file and copy the Public URL in the Overview section."]}),(0,xe.jsx)("h5",{children:"Google Drive"}),(0,xe.jsx)("p",{children:"Unfortunately Google Drive links do not contain the file name and cannot be used with the viewer."}),(0,xe.jsx)("h5",{children:"Amazon S3"}),(0,xe.jsx)("p",{children:"The direct url format is http://YourBucketName.s3.amazonaws.com/YourFileName. Ensure that public permissions are set so that anyone can access the file."}),(0,xe.jsx)("h3",{children:"Importing and exporting scenes"}),(0,xe.jsxs)("p",{children:["To import a single 3D file, select Import File on the file menu and choose the file on your computer.",(0,xe.jsx)("br",{}),"To import a 3D file that has additional files such as textures select Import Directory on the File Menu and select the directory containing the 3D file.",(0,xe.jsx)("br",{}),"You can import files in the following formats:",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:".glTF & .glb (GL Transmission Format)"}),(0,xe.jsx)("li",{children:"3dm (Rhino)"}),(0,xe.jsx)("li",{children:"3ds (3D Studio)"}),(0,xe.jsx)("li",{children:"3mf (3D manufacturing format)"}),(0,xe.jsx)("li",{children:"amf (Additive manufacturing file format)"}),(0,xe.jsx)("li",{children:"dae (Collada)"}),(0,xe.jsx)("li",{children:"drc (Draco Compressed)"}),(0,xe.jsx)("li",{children:"fbx (Autodesk)"}),(0,xe.jsx)("li",{children:"ifc (Industrial Foundation Classes)"}),(0,xe.jsx)("li",{children:"kmz (Google Keyhole Markup Language zip)"}),(0,xe.jsx)("li",{children:"ldr (LDraw)"}),(0,xe.jsx)("li",{children:"obj (Wavefront)"}),(0,xe.jsx)("li",{children:"pcd (Point Cloud Data)"}),(0,xe.jsx)("li",{children:"ply (Polygon File Format)"}),(0,xe.jsx)("li",{children:"stl (Stereolithography)"}),(0,xe.jsx)("li",{children:"svg (Vector Graphics)"}),(0,xe.jsx)("li",{children:"usdz (Apple, Pixar)"}),(0,xe.jsx)("li",{children:"vox (Voxel)"}),(0,xe.jsx)("li",{children:"vtk,vtp (Visualization Toolkit)"}),(0,xe.jsx)("li",{children:"wrl (Virtual Reality Modeling Language) "}),(0,xe.jsx)("li",{children:"xyz (Point Ccloud Data)"})]})]}),(0,xe.jsx)("p",{children:"You can export a scene to a binary glTF format (.glb) by selecting Export Glb File from the file menu."}),(0,xe.jsx)("h3",{id:"cameractrl",children:"Camera controllers"}),(0,xe.jsx)("h4",{children:"Selecting the controller"}),"To select a controller click the Camera Controller tab and select a controller from the dropdown menu.",(0,xe.jsx)("br",{}),"NOTE: The selected controller will be used by the viewer when the project is published.",(0,xe.jsx)("h4",{children:"Orbit controller"}),"The orbit controller is best suited for viewing a scene from various angles. The camera can be rotated around the model, moved in and out, and panned around.",(0,xe.jsx)("h5",{children:"Controls"}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsxs)("div",{className:"flexcol",children:["Orbit around",(0,xe.jsx)("br",{}),"Move in/out",(0,xe.jsx)("br",{}),"Pan",(0,xe.jsx)("br",{})]}),(0,xe.jsxs)("div",{className:"flexcol",children:["Mouse",(0,xe.jsx)("br",{}),"Mouse wheel",(0,xe.jsx)("br",{}),"Mouse + CTRL",(0,xe.jsx)("br",{})]})]}),(0,xe.jsx)("h5",{children:"Controller Properties"}),(0,xe.jsx)("p",{children:"The controller properties can be viewed and changed from the Camera Controller tab."}),(0,xe.jsx)("b",{children:"Minimum distance"}),(0,xe.jsx)("p",{children:"The minimum distance the camera can be moved to the target."}),(0,xe.jsx)("b",{children:"Maximum distance"}),(0,xe.jsx)("p",{children:"The maximum distance the camera can be moved from the target."}),(0,xe.jsx)("b",{children:"Minimum polar angle"}),(0,xe.jsx)("p",{children:"The minimum camera elevation."}),(0,xe.jsx)("b",{children:"Maximum polar angle"}),(0,xe.jsx)("p",{children:"The maximum camera elevation."}),(0,xe.jsx)("b",{children:"Viewer Camera Position"}),(0,xe.jsx)("p",{children:"Set the initial camera state when the viewer loads"}),(0,xe.jsx)("h4",{children:"First-person controller"}),(0,xe.jsx)("p",{children:"The first-person camera provides a way to move around the scene in a similar way to a video game character."}),(0,xe.jsx)("h4",{children:"Controls"}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsxs)("div",{className:"flexcol",children:["Look around",(0,xe.jsx)("br",{}),"Forward/back",(0,xe.jsx)("br",{}),"Left/right",(0,xe.jsx)("br",{}),"Up/down",(0,xe.jsx)("br",{})]}),(0,xe.jsxs)("div",{className:"flexcol",children:["Mouse",(0,xe.jsx)("br",{}),"W/S or virtual joystick",(0,xe.jsx)("br",{}),"A/D or virtual joystick",(0,xe.jsx)("br",{}),"R/F"]})]}),(0,xe.jsx)("h5",{children:"Controller Properties"}),(0,xe.jsx)("p",{children:"The controller properties can be viewed and changed from the Camera Controller tab."}),(0,xe.jsx)("b",{children:"Move Speed"}),(0,xe.jsx)("p",{children:"The forward speed of the camera."}),(0,xe.jsx)("b",{children:"Viewer Camera Position"}),(0,xe.jsx)("p",{children:"Set the initial camera state when the viewer loads"}),(0,xe.jsx)("h3",{id:"selecing",children:"Selecting objects"}),(0,xe.jsxs)("p",{children:["Objects can be selected by clicking on the object in the 3D viewport or selecting a node in the Scene Graph window.",(0,xe.jsx)("br",{}),"Most objects consist of a hierarchy  of nodes and selecting an object in the 3D viewport will only select the Mesh node.",(0,xe.jsx)("br",{}),"To select the entire object use the Scene Graph."]}),(0,xe.jsx)("p",{children:"To deselect an object click anywhere in the viewport background."}),(0,xe.jsx)("p",{children:"NOTE: Currently lights can only be selected in the Scene Graph window"}),(0,xe.jsx)("h3",{id:"transforming",children:"Transforming objects"}),(0,xe.jsx)("p",{children:"Objects can be moved around, rotated and scaled using the 3D viewport gizmos or using the text inputs in the object properties window."}),(0,xe.jsx)("h4",{children:"Using the viewport gizmos"}),(0,xe.jsxs)("p",{children:["A viewport gizmo will appear whenever an object is selected. You can select the gizmo to use from the edit menu or using a shortcut key: ",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),"1 - Translate",(0,xe.jsx)("br",{}),"2 - Rotate",(0,xe.jsx)("br",{}),"3 - Scale",(0,xe.jsx)("br",{})]}),(0,xe.jsx)("h5",{children:"Translating an object"}),(0,xe.jsxs)("p",{children:["To move the selected object along an axis, click on an axis arrow and move the mouse.",(0,xe.jsx)("br",{}),"To move the selected object around a plane, click on one of the squares near the center of the Gizmo and move the mouse.",(0,xe.jsx)("br",{}),"To move the object freely in any direction, click the diamond shape at the center of the gizmo and move the mouse."]}),(0,xe.jsx)("h5",{children:"Rotating an object"}),(0,xe.jsxs)("p",{children:["To move the selected object along an axis, click on an axis and move the object along the line shown.",(0,xe.jsx)("br",{}),"To move the selected object around a plane, click on one of the squares near the center of the Gizmo and move using the mouse.",(0,xe.jsx)("br",{}),"To move the object freely in any direction, click the diamond shape at the center of the gizmo and move around using the mouse."]}),(0,xe.jsx)("h5",{children:"Scaling an object"}),(0,xe.jsxs)("p",{children:["To scale the selected object along an axis, click on an axis cube and move the mouse.",(0,xe.jsx)("br",{}),"To scale the selected object around a plane, click on one of the squares near the center of the Gizmo and move the mouse.",(0,xe.jsx)("br",{}),"To scale the object freely in any direction, click the cube at the center of the gizmo and move the mouse."]}),(0,xe.jsx)("h3",{id:"deleting",children:"Deleting a selected object"}),(0,xe.jsx)("p",{children:"Use the Delete option in the Edit menu or hit the Del key."}),(0,xe.jsx)("h3",{id:"undoredo",children:"Undo & redo"}),(0,xe.jsxs)("p",{children:["To undo the last action press CTRL+z or select Undo on the Edit Menu",(0,xe.jsx)("br",{}),"To redo the last action press CTRL+y or select Redo on the Edit Menu",(0,xe.jsx)("br",{})]}),(0,xe.jsx)("h3",{id:"viewprops",children:"Viewing object properties"}),(0,xe.jsx)("p",{children:"When an object is selected the properties will be displayed in the Object Properties tab."}),(0,xe.jsx)("h4",{children:"Common properties"}),(0,xe.jsx)("b",{children:"Object Name"}),(0,xe.jsx)("p",{children:"Edit the object name"}),(0,xe.jsx)("b",{children:"Position"}),(0,xe.jsx)("p",{children:"Edit the position x,y,z components"}),(0,xe.jsx)("b",{children:"Rotation"}),(0,xe.jsx)("p",{children:"Edit the rotation x,y,z components (in degrees)"}),(0,xe.jsx)("b",{children:"Scale"}),(0,xe.jsx)("p",{children:"Edit the scale x,y,z components"}),(0,xe.jsx)("b",{children:"UUID"}),(0,xe.jsx)("p",{children:"Universally Unique IDentifier"}),(0,xe.jsx)("b",{children:"Casts a Shadow"}),(0,xe.jsx)("p",{children:"When selected the object is rendered into a shadow map"}),(0,xe.jsx)("b",{children:"Receives Shadows"}),(0,xe.jsx)("p",{children:"When selected this object receives a shadow map"}),(0,xe.jsx)("h4",{children:"Animations"}),(0,xe.jsx)("p",{children:"To view and play animations select the topmost node of the mdoel in the Scene Graph window and click on the Object Properties tab. If a model has animations an Animations window will be displayed listing each animation."}),(0,xe.jsx)("b",{children:"Playing an animation"}),(0,xe.jsx)("p",{children:"Click the play button to start an animation."}),(0,xe.jsx)("b",{children:"Stopping an animation"}),(0,xe.jsx)("p",{children:"Click the square stop button to stop an animation."}),(0,xe.jsx)("b",{children:"Loop an animation"}),(0,xe.jsx)("p",{children:"Toggle the loop button before playing."}),(0,xe.jsx)("h4",{children:"Mesh properties"}),(0,xe.jsx)("h5",{children:"Material Properties"}),(0,xe.jsx)("b",{children:"Diffuse Color"}),(0,xe.jsx)("p",{children:"Select a color using the color input"}),(0,xe.jsx)("b",{children:"Emmisive color"}),(0,xe.jsx)("p",{children:"Select a color using the color input"}),(0,xe.jsx)("b",{children:"Roughness"}),(0,xe.jsx)("p",{children:"Change the material from shiny to rough"}),(0,xe.jsx)("b",{children:"Metalness"}),(0,xe.jsx)("p",{children:"Increasing the value makes the material more metallic"}),(0,xe.jsx)("b",{children:"Transparent"}),(0,xe.jsx)("p",{children:"Turn transparency on/off"}),(0,xe.jsx)("b",{children:"Opacity"}),(0,xe.jsx)("p",{children:"Change material from transparent to opaque"}),(0,xe.jsx)("b",{children:"Depth Test"}),(0,xe.jsx)("p",{children:"Turn depth testing on/off"}),(0,xe.jsx)("b",{children:"Depth Writes"}),(0,xe.jsx)("p",{children:"Turn depth writes on/off"}),(0,xe.jsx)("h5",{children:"Maps"}),(0,xe.jsxs)("p",{children:["To upload a texture map click on a box. ",(0,xe.jsx)("br",{}),"To remove a texture click the cross next to the box."]}),(0,xe.jsx)("h4",{children:"Light properties"}),(0,xe.jsx)("p",{children:"Select a light from the Scene Graph window"}),(0,xe.jsx)("h5",{children:"Point Lights"}),(0,xe.jsx)("b",{children:"Position"}),(0,xe.jsx)("p",{children:"Change the position of the light using the translation Gizmo"}),(0,xe.jsx)("b",{children:"Color"}),(0,xe.jsx)("p",{children:"Select the color by clicking on the color input"}),(0,xe.jsx)("b",{children:"Intensity"}),(0,xe.jsx)("h5",{children:"Directional Lights"}),(0,xe.jsx)("b",{children:"Direction"}),(0,xe.jsx)("p",{children:"Change the direction of the light using the rotation Gizmo"}),(0,xe.jsx)("b",{children:"Color"}),(0,xe.jsx)("p",{children:"Select the color by clicking on the color input"}),(0,xe.jsx)("b",{children:"Intensity"}),(0,xe.jsx)("p",{children:"Enter a value to change the brightness"}),(0,xe.jsx)("h5",{children:"Spot Lights"}),(0,xe.jsx)("b",{children:"Position"}),(0,xe.jsx)("p",{children:"Change the position of the light using the translation Gizmo"}),(0,xe.jsx)("b",{children:"Direction"}),(0,xe.jsx)("p",{children:"Change the direction of the light using the rotation Gizmo"}),(0,xe.jsx)("b",{children:"Color"}),(0,xe.jsx)("p",{children:"Select the color by clicking on the color input"}),(0,xe.jsx)("b",{children:"Intensity"}),(0,xe.jsx)("p",{children:"Enter a value to change the brightness"}),(0,xe.jsx)("b",{children:"Spot Angle"}),(0,xe.jsx)("p",{children:"Enter a value to change the spotlight cone angle"}),(0,xe.jsx)("h3",{id:"sceneprops",children:"Scene properties"}),(0,xe.jsx)("h4",{children:"Scene graph window"}),(0,xe.jsxs)("p",{children:["The scene graph window displays the scene as a hierarchical structure of nodes.",(0,xe.jsx)("br",{}),"Each node in the scene graph represents an object in the scene.",(0,xe.jsx)("br",{}),"You can click on a node to select it and expand to view child nodes."]}),(0,xe.jsx)("h4",{children:"Environment map"}),(0,xe.jsx)("p",{children:"HDR Environment maps are used on scenes to simulate reflections and lighting in a very realistic way."}),(0,xe.jsx)("h5",{children:"Where to find HDR maps"}),(0,xe.jsxs)("p",{children:["There are many resources on the web where you can download free HDR maps.",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),"These files can be quite large so it's recommended to scale them down using an image application such as GIMP, to avoid slow download times in the viewer.",(0,xe.jsx)("br",{}),"Here are some links to popular download sites:",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),(0,xe.jsx)("a",{href:"https://polyhaven.com/",children:"Poly Haven"}),(0,xe.jsx)("br",{}),(0,xe.jsx)("a",{href:"https://hdri-haven.com/",children:"HDRIHaven"}),(0,xe.jsx)("br",{}),(0,xe.jsx)("a",{href:"https://hdrmaps.com/freebies/",children:"HDRMAPS"}),(0,xe.jsx)("br",{})]}),(0,xe.jsx)("h5",{children:"Uploading a HDR Map"}),(0,xe.jsx)("p",{children:"Click the HDR image button to select and upload an image from your computer."}),(0,xe.jsx)("h4",{children:"Background"}),(0,xe.jsx)("b",{children:"Color"}),(0,xe.jsx)("p",{children:"Select the color by clicking on the color input"}),(0,xe.jsx)("b",{children:"Gradient"}),(0,xe.jsx)("p",{children:"Select the primary and secondary colors by clicking on the color inputs"}),(0,xe.jsx)("b",{children:"Transparent"}),(0,xe.jsx)("p",{children:"When set the background element style will be used."}),(0,xe.jsx)("h4",{children:"Reflection plane"}),(0,xe.jsxs)("p",{children:["Add a realistic ground reflection effect with a reflection plane",(0,xe.jsx)("br",{}),"NOTE: To see the effect click the preview checkbox"]}),(0,xe.jsx)("h5",{children:"Properties"}),(0,xe.jsx)("b",{children:"Enable/disable"}),(0,xe.jsx)("p",{children:"Show/hide the reflection plane"}),(0,xe.jsx)("b",{children:"Fade Depth"}),(0,xe.jsx)("p",{children:"Change the amount the reflection fades out"}),(0,xe.jsx)("b",{children:"Color"}),(0,xe.jsx)("p",{children:"Select the reflection color by clicking on the color input"}),(0,xe.jsx)("b",{children:"Opacity"}),(0,xe.jsx)("p",{children:"Change the transparency of the reflection plane"}),(0,xe.jsx)("b",{children:"Blur"}),(0,xe.jsx)("p",{children:"Change the roughness of the reflection surface."}),(0,xe.jsx)("h4",{children:"Fog"}),(0,xe.jsx)("b",{children:"Enable/disable"}),(0,xe.jsx)("p",{children:"Turn fog on/"}),(0,xe.jsx)("h5",{children:"Exponential Fog"}),(0,xe.jsx)("p",{children:"A formula is used to calculate the fog density"}),(0,xe.jsx)("b",{children:"Density"}),(0,xe.jsx)("p",{children:"Change the value to increase or decrease the fog effect"}),(0,xe.jsx)("b",{children:"Color"}),(0,xe.jsx)("p",{children:"Select the color by clicking on the color input"}),(0,xe.jsx)("h5",{children:"Linear Fog"}),(0,xe.jsx)("p",{children:"The fog density increases linearly between the near and far distance"}),(0,xe.jsx)("b",{children:"Fog Near"}),(0,xe.jsx)("p",{children:"Set the distance at which fog starts"}),(0,xe.jsx)("b",{children:"Fog Far"}),(0,xe.jsx)("p",{children:"Set the distance at which the fog ends"}),(0,xe.jsx)("b",{children:"Fog Color"}),(0,xe.jsx)("p",{children:"Select the color by clicking on the color input"}),(0,xe.jsx)("p",{}),(0,xe.jsx)("h3",{id:"lightprops",children:"Lighting properties"}),(0,xe.jsx)("h4",{children:"Shadows"}),(0,xe.jsx)("p",{children:"Real-time shadows greatly improve depth perception and realism within a 3D scene."}),(0,xe.jsx)("b",{children:"Enabled"}),(0,xe.jsx)("p",{children:"Turn shadows on/off"}),(0,xe.jsx)("b",{children:"Bias"}),(0,xe.jsx)("p",{children:"Use shadow bias to reduce artifacts between shadows and objects which commonly manifest as gaps"}),(0,xe.jsx)("h5",{children:"Shadow plane"}),(0,xe.jsx)("p",{children:"A shadow plane can be used to produce ground shadows if there is no ground mesh in the scene to cast a shadow onto "}),(0,xe.jsx)("b",{children:"Properties"}),(0,xe.jsx)("p",{children:"Turn the shadow plane on/off"}),(0,xe.jsx)("b",{children:"Lightness"}),(0,xe.jsx)("p",{}),(0,xe.jsx)("b",{children:"Shadow light rotation"}),(0,xe.jsx)("p",{}),(0,xe.jsx)("b",{children:"Shadow light elevation"}),(0,xe.jsx)("p",{}),(0,xe.jsx)("h4",{children:"Baked shadows"}),(0,xe.jsxs)("p",{children:["Baked shadows provide a softer shadow than normal ground shadows and require less processing power which makes them suitable for mobile devices.",(0,xe.jsx)("br",{}),"NOTE: select an object to see the baked shadow controls."]}),(0,xe.jsx)("h5",{children:"Adding a baked shadow"}),(0,xe.jsx)("p",{children:"Click the add icon to add a baked shadow to a selected object"}),(0,xe.jsx)("h5",{children:"Removing a baked shadow"}),(0,xe.jsx)("p",{children:"Click the minus icon to remove a baked shadow"}),(0,xe.jsx)("h5",{children:"Refreshing a baked shadow"}),(0,xe.jsx)("p",{children:"When an object is moved, translated, or scaled the baked shadow can be redrawn by clicking the refresh icon."}),(0,xe.jsx)("h5",{children:"Properties"}),(0,xe.jsx)("b",{children:"Softness"}),(0,xe.jsx)("p",{children:"Change the softness of shadow edges"}),(0,xe.jsx)("b",{children:"Lightness"}),(0,xe.jsx)("p",{children:"Change the lightness of the shadow"}),(0,xe.jsx)("b",{children:"Depth"}),(0,xe.jsx)("p",{children:"The depth determines how much of the mesh contributes to the shadow"}),(0,xe.jsx)("h4",{children:"Ambient light"}),(0,xe.jsx)("h5",{children:"Properties"}),(0,xe.jsx)("b",{children:"Brightness"}),(0,xe.jsx)("p",{children:"Control the overall brightness of the scene"}),(0,xe.jsx)("b",{children:"Color"}),(0,xe.jsx)("p",{children:"Select the color by clicking on the color input"}),(0,xe.jsx)("h3",{id:"annot",children:"3D text annotations"}),(0,xe.jsxs)("p",{children:["Text annotations allow you to give information about and focus on specific parts of the scene.",(0,xe.jsx)("br",{}),"When a user clicks on a button, the camera brings the button in focus and displays a text box."]}),(0,xe.jsx)("h4",{children:"Properties"}),(0,xe.jsx)("b",{children:"Occlusion test"}),(0,xe.jsx)("p",{children:"When occlusion is on, buttons behind mesh geometry will be made semi-transparent"}),(0,xe.jsx)("b",{children:"Show Nav buttons"}),(0,xe.jsx)("p",{children:"Show next/previous buttons in the viewer"}),(0,xe.jsx)("h4",{children:"Button properties"}),(0,xe.jsx)("b",{children:"Size"}),(0,xe.jsx)("p",{children:"The diameter of the button in pixels"}),(0,xe.jsx)("b",{children:"Text color"}),(0,xe.jsx)("p",{children:"The button text color"}),(0,xe.jsx)("b",{children:"Flll color"}),(0,xe.jsx)("p",{children:"Select the background color by clicking on the color input"}),(0,xe.jsx)("b",{children:"Border color"}),(0,xe.jsx)("p",{children:"Select the border color by clicking on the color input"}),(0,xe.jsx)("p",{}),(0,xe.jsx)("h4",{children:"Add an annotation"}),(0,xe.jsxs)("p",{children:["To add annotation click on the Add button, move the camera to the desired viewing position, and click on the model to place the annotation at that point. ",(0,xe.jsx)("br",{})]}),(0,xe.jsx)("b",{children:"Button text"}),(0,xe.jsx)("p",{children:"The button number"}),(0,xe.jsx)("b",{children:"Label text"}),(0,xe.jsx)("p",{children:"Enter a description for the label"}),(0,xe.jsx)("b",{}),(0,xe.jsx)("p",{}),(0,xe.jsx)("h4",{children:"Editing annotations"}),(0,xe.jsxs)("p",{children:["To edit an annotation click on the annotation to select it.",(0,xe.jsx)("br",{}),"The button and label text can be edited from the object properties tab."]}),(0,xe.jsx)("h3",{id:"effects",children:"Effects"}),(0,xe.jsx)("h4",{children:"Properties"}),(0,xe.jsxs)("p",{children:["Add bloom and camera depth of field post-processing effects.",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),"NOTE: to see the effects click the preview check box."]}),(0,xe.jsx)("h4",{children:"Bloom"}),(0,xe.jsxs)("p",{children:["Bloom is a simulated camera effect that enhances bright, illuminated or shiny parts of a model. ",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),"NOTE: The background should be relatively dark to prevent the effect from over-brighting it."]}),(0,xe.jsx)("h5",{children:"Properties"}),(0,xe.jsx)("b",{children:"Enabled"}),(0,xe.jsx)("p",{children:"Turn effect on/off"}),(0,xe.jsx)("b",{children:"Strength"}),(0,xe.jsx)("p",{children:"The intensity of the effect"}),(0,xe.jsx)("b",{children:"Threshold"}),(0,xe.jsx)("p",{children:"Determines the pixel brightness cut-off for the effect"}),(0,xe.jsx)("b",{children:"Radius"}),(0,xe.jsx)("p",{children:"How much of the bloom radiates out"}),(0,xe.jsx)("h4",{children:"Depth of field"}),(0,xe.jsx)("p",{children:"Depth of field reproduces camera out-of-focus effects."}),(0,xe.jsx)("b",{children:"Enabled"}),(0,xe.jsx)("p",{children:"Turn effect on/off"}),(0,xe.jsx)("b",{children:"Focus"}),(0,xe.jsx)("p",{children:"The distance from the camera that image pixels are in focus"}),(0,xe.jsx)("b",{children:"Focal length"}),(0,xe.jsx)("p",{}),(0,xe.jsx)("b",{children:"Blur"}),(0,xe.jsx)("p",{children:"How much out-of-focus pixels are blurred"}),(0,xe.jsx)("h4",{children:"Gemstone effect"}),(0,xe.jsx)("p",{children:"This effect simulates the reflection of gemstones using an environment map. Using this effect you can display realistic jewelry on your online store. It can be even more effective when used in conjunction with a bloom effect."}),(0,xe.jsx)("p",{children:"The environment map is applied to all materials in the scene that have a specific pattern in the material name. For each material in the scene that you want the effect to be applied to, change the name so it contains the word 'gemstone'. For example, the material could be named Gemstone_1 or gemstone. This can be done from the material section of the Object Properties tab when a mesh is selected."}),(0,xe.jsxs)("p",{children:["To apply an image, click on the Environment map image to select an image from your computer. You can download a free image ",(0,xe.jsx)("a",{href:"https://raw.githubusercontent.com/ezyvue/files/main/diamond.jpg",target:"_blank",rel:"noreferrer",children:"here"}),". If you change a material you can re-apply the effect using the Refresh button."]}),(0,xe.jsx)("b",{children:"Environment Map"}),(0,xe.jsx)("p",{children:"Select an image to use as an environment map (cube map)."}),(0,xe.jsx)("b",{children:"Refresh"}),(0,xe.jsx)("p",{children:"Re-apply the effect to target materials."}),(0,xe.jsx)("h3",{id:"settings",children:"Project settings"}),(0,xe.jsx)("h4",{children:"General settings"}),(0,xe.jsx)("b",{children:"Title"}),(0,xe.jsx)("p",{children:"Enter a title to be shown in the viewer info window and also in the AR app"}),(0,xe.jsx)("b",{children:"Description"}),(0,xe.jsx)("p",{children:"Enter a description to be shown in the viewer info window"}),(0,xe.jsx)("b",{children:"Project Image"}),(0,xe.jsx)("p",{children:"Click Capture Image to capture an image from the camera. Right-click and select Save image as... to save to disk."}),(0,xe.jsx)("h4",{children:" Viewer settings"}),(0,xe.jsx)("h5",{children:"Auto-rotate"}),(0,xe.jsx)("b",{children:"Enable"}),(0,xe.jsx)("p",{children:"When enabled the scene will automatically rotate when the viewer is loaded."}),(0,xe.jsx)("h5",{children:"Menus"}),(0,xe.jsx)("b",{children:"Show Options"}),(0,xe.jsx)("p",{children:"Show/hide the options menu"}),(0,xe.jsx)("b",{children:"Show Help"}),(0,xe.jsx)("p",{children:"Show/hide the help menu"}),(0,xe.jsx)("b",{children:"Show Info"}),(0,xe.jsx)("p",{children:"Show/hide the info menu"}),(0,xe.jsx)("h5",{children:"AR Settings"}),(0,xe.jsx)("b",{children:"Enable AR"}),(0,xe.jsx)("p",{children:"Show the AR button"}),(0,xe.jsx)("p",{children:"Note: on Apple devices provide a direct link to a USDZ file in the viewer-3d or iframe element."}),(0,xe.jsx)("b",{children:"Use WebAR"}),(0,xe.jsx)("p",{children:"Turn on WebAR. WebAR runs in the browser and doesn't require a separate app (and additional load of the 3D file). However, on Apple devices, it requires the WebXR Viewer from the App Store."}),(0,xe.jsx)("b",{children:"Model root node"}),(0,xe.jsxs)("p",{children:["When using WebAR set the value to the name of the root node of the model in the scene to be displayed.",(0,xe.jsx)("br",{}),"(The root node is the topmost node for the model in the scene). Set the name of the node in the scene if it is blank.",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),"NOTE: If this is not set, the root node of the entire scene will be used, almost certainly resulting in incorrect positioning of the model in AR Mode."]}),(0,xe.jsx)("h5",{children:"Dimensions Tool"}),(0,xe.jsx)("p",{children:"The dimensions tool shows the dimensions of the bounding box of the model."}),(0,xe.jsx)("b",{children:"Show"}),(0,xe.jsx)("p",{children:"When clicked the Dimensions Tool option will be added to Options Menu."}),(0,xe.jsx)("h5",{children:"Animations"}),(0,xe.jsx)("b",{children:"Start Animation"}),(0,xe.jsx)("p",{children:"Enter the name of the animation to be played when the viewer loads."}),(0,xe.jsx)("b",{children:"Loop Start Animation"}),(0,xe.jsx)("p",{children:"If selected the start animation will loop continuously."}),(0,xe.jsx)("h3",{id:"prefs",children:"Preferences"}),(0,xe.jsx)("h4",{children:"Grid"}),(0,xe.jsx)("b",{children:"Show"}),(0,xe.jsx)("p",{children:"Turn the grid on/off"}),(0,xe.jsx)("b",{children:"Size"}),(0,xe.jsx)("p",{children:"Dimensions of the grid"}),(0,xe.jsx)("b",{children:"Divisions"}),(0,xe.jsx)("p",{children:"Number of grid divisions"}),(0,xe.jsx)("b",{children:"Line color"}),(0,xe.jsx)("p",{children:"Select the color from the color input control"}),(0,xe.jsx)("b",{children:"Centerline color"}),(0,xe.jsx)("p",{children:"Select the color from the color input control"}),(0,xe.jsx)("b",{}),(0,xe.jsx)("p",{}),(0,xe.jsx)("h3",{id:"embed",children:"Embed viewer"}),(0,xe.jsx)("p",{children:"This tab allows you to build a viewer <iframe> element for embedding on a web page."}),(0,xe.jsx)("b",{children:"Project File URL"}),(0,xe.jsx)("p",{children:"Direct link to a project file (.zip)."}),(0,xe.jsx)("b",{children:"Scene File URL"}),(0,xe.jsx)("p",{children:"Direct link to a scene file (.glb)."}),(0,xe.jsx)("b",{children:"Loading image URL"}),(0,xe.jsx)("p",{children:"Direct link to an image displayed in the viewer background before and during loading."}),(0,xe.jsx)("b",{children:"Show start button"}),(0,xe.jsx)("p",{children:"Show the start button or start loading immediately. "}),(0,xe.jsx)("b",{children:"Animate start button"}),(0,xe.jsx)("p",{children:"Animate the start button from left to right."}),(0,xe.jsx)("b",{children:"Include wrapper code"}),(0,xe.jsx)("p",{children:"Select to include wrapper code which maintains a particular aspect ratio of the viewer."}),(0,xe.jsx)("b",{children:"Width"}),(0,xe.jsx)("p",{children:"The width of the viewer."}),(0,xe.jsx)("b",{children:"Aspect Ratio"}),(0,xe.jsx)("p",{children:"Set the aspect ratio (width/height) of the viewer"}),(0,xe.jsx)("h3",{id:"conf",children:"Product configurator builder"}),(0,xe.jsxs)("p",{children:["A product configurator allows users to personalize a 3d model in the viewer by selecting from available material, color and texture options. Using the builder you can create selectable parts and variants that allow you to display available options without loading another mesh.  As you create these components a customizable user interface is constructed for you.",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]}),(0,xe.jsx)("h4",{children:"Parts"}),(0,xe.jsx)("p",{children:"A Part represents a customizable part of a model, for example a Nike trainer will have separate heel, toe, tongue parts etc. each with it's own set of material and color variations. A part will have one or more mesh materials. When you have added a new part you can select the mesh materials that will be used for the part."}),(0,xe.jsx)("h4",{children:"Variants"}),(0,xe.jsx)("p",{children:"A variant represents a single color or material variation of a particular part. Each variant may also have a number of color variations. For example for a particular fabric variant you may have a number of color options. When a variant is selected, each variant property is copied to the corresponding mesh material property, changing the mesh appearance."}),(0,xe.jsx)("h4",{children:"Rules"}),(0,xe.jsx)("p",{children:"Rules determine what part and variant combinations are allowed."}),(0,xe.jsx)("h4",{children:"General settings"}),(0,xe.jsx)("b",{children:"Show control"}),(0,xe.jsx)("p",{children:"Select to show the configurator panel in the editor and in the 3D product viewer."}),(0,xe.jsx)("b",{children:"Fixed panel height"}),(0,xe.jsx)("p",{children:"When checked the configurator panel height is fixed to the chosen height. When unchecked the panel height will fit the panel contents and may vary."}),(0,xe.jsx)("b",{children:"Panel height"}),(0,xe.jsx)("p",{children:"Set the fixed panel height."}),(0,xe.jsx)("b",{children:"Icon size"}),(0,xe.jsx)("p",{children:"Change the color icon size."}),(0,xe.jsx)("b",{children:"Icon roundness"}),(0,xe.jsx)("p",{children:"Change the color icon corner roundness."}),(0,xe.jsx)("b",{children:"Title"}),(0,xe.jsx)("p",{children:"Set the title at the top of the panel. "}),(0,xe.jsx)("h3",{children:"Parts"}),(0,xe.jsx)("h5",{children:"Add a new part"}),(0,xe.jsx)("p",{children:"Click the Add Part button to add a new empty part."}),(0,xe.jsx)("h5",{children:"Delete a part"}),(0,xe.jsx)("p",{children:"Click the bin icon to delete the part. You can undo the operation from the Edit menu."}),(0,xe.jsx)("h5",{children:"Edit a part"}),(0,xe.jsx)("p",{children:"Click the pencil icon to open the Part Editor."}),(0,xe.jsx)("h3",{children:"Part editor"}),(0,xe.jsx)("h5",{children:"Add materials"}),(0,xe.jsx)("p",{children:"Click the Add Materials button and select materials to use for this part in the dialog box."}),(0,xe.jsx)("h5",{children:"Remove a material"}),(0,xe.jsx)("p",{children:"Click the bin icon next to the material to remove it."}),(0,xe.jsx)("h5",{children:"Add a variant"}),(0,xe.jsx)("p",{children:"Click the Add Variant button to add a new variant."}),(0,xe.jsx)("h5",{children:"Delete a variant"}),(0,xe.jsx)("p",{children:"Click the bin icon in the variant properties."}),(0,xe.jsx)("h4",{children:"Variant properties"}),(0,xe.jsx)("b",{children:"Name"}),(0,xe.jsx)("p",{children:"The name of the variant"}),(0,xe.jsx)("b",{children:"Icon Color"}),(0,xe.jsx)("p",{children:"The fill color of the icon"}),(0,xe.jsx)("h4",{children:"Variant material properties"}),(0,xe.jsx)("b",{children:"Diffuse color"}),(0,xe.jsx)("p",{children:"diffuse material color"}),(0,xe.jsx)("b",{children:"Emissive color"}),(0,xe.jsx)("p",{children:"Setting the emissive to any color other than black will make the material glow."}),(0,xe.jsx)("b",{children:"Transparent"}),(0,xe.jsx)("p",{children:"Make the material transparent/opaque."}),(0,xe.jsx)("b",{children:"Opacity"}),(0,xe.jsx)("p",{children:"Controls how opaque the material is."}),(0,xe.jsx)("b",{children:"Roughness"}),(0,xe.jsx)("p",{children:"Roughness/shininess of the material"}),(0,xe.jsx)("b",{children:"Metalness"}),(0,xe.jsx)("p",{children:"Increasing the value makes the material more metallic in appearance."}),(0,xe.jsx)("b",{children:"Diffuse Map"}),(0,xe.jsx)("p",{children:"Base color texture map."}),(0,xe.jsx)("b",{children:"Normal Map"}),(0,xe.jsx)("p",{children:"Adds the appearance of surface detail to an object."}),(0,xe.jsx)("b",{children:"AO Map"}),(0,xe.jsx)("p",{children:"Baked-in ambient occulsion."}),(0,xe.jsx)("b",{children:"Displacement map"}),(0,xe.jsx)("p",{children:"Like the normal map, it adds surface detail but generates actual surface geometery."}),(0,xe.jsx)("b",{children:"Displacement map scale"}),(0,xe.jsx)("p",{children:"Scales the overall displacement."}),(0,xe.jsx)("b",{children:"Roughness map"}),(0,xe.jsx)("p",{children:"Controls the roughness over the mesh surface."}),(0,xe.jsx)("b",{children:"Metalness map"}),(0,xe.jsx)("p",{children:"Controls the metalness over the mesh surface."}),(0,xe.jsx)("b",{children:"U Repeat"}),(0,xe.jsx)("p",{children:"The number of times the texture is repeated in the horizontal direction."}),(0,xe.jsx)("b",{children:"V Repeat"}),(0,xe.jsx)("p",{children:"The number of times the texture is repeated in the vertical direction."}),(0,xe.jsx)("h4",{children:"Colors"}),(0,xe.jsx)("h5",{children:"Add a new color"}),(0,xe.jsx)("p",{children:"Click the Add Color button to add a new color"}),(0,xe.jsx)("h5",{children:"Delete a color"}),(0,xe.jsx)("p",{children:"Click the bin icon to delete a color."}),(0,xe.jsx)("h4",{children:"Color properties"}),(0,xe.jsx)("b",{children:"Diffuse Color"}),(0,xe.jsx)("p",{children:"The diffuse color overrides the material's diffuse color."}),(0,xe.jsx)("b",{children:"Name"}),(0,xe.jsx)("p",{children:"The name of the color which is displayed when selected."})]})]})}}]),n}(e.Component)),Lt=n(4165),Qt=n(5861),jt=n(7326),Nt=n(5987),Ft=n(3061),Ut=n(454),Ot=n(3644),Zt=n(8088),zt=n(2705),Gt=n(6790),Ht=n(3433),Vt=e.createContext(null);function Wt(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function qt(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Yt(t,n,r){var i=Wt(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,e.isValidElement)(s)){var l=o in n,u=o in i,c=n[o],h=(0,e.isValidElement)(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&(0,e.isValidElement)(c)&&(a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:qt(s,"exit",t),enter:qt(s,"enter",t)})):a[o]=(0,e.cloneElement)(s,{in:!1}):a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:qt(s,"exit",t),enter:qt(s,"enter",t)})}})),a}var Xt=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Jt=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind((0,jt.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,s.Z)(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,Wt(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:qt(t,"appear",r),enter:qt(t,"enter",r),exit:qt(t,"exit",r)})}))):Yt(t,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=Wt(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,c.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=(0,F.Z)(t,["component","childFactory"]),a=this.state.contextValue,o=Xt(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(Vt.Provider,{value:a},o):e.createElement(Vt.Provider,{value:a},e.createElement(n,i,o))},n}(e.Component);Jt.propTypes={},Jt.defaultProps={component:"div",childFactory:function(e){return e}};var Kt=Jt,$t="undefined"===typeof window?e.useEffect:e.useLayoutEffect;var en=function(t){var n=t.classes,r=t.pulsate,i=void 0!==r&&r,a=t.rippleX,o=t.rippleY,s=t.rippleSize,l=t.in,u=t.onExited,c=void 0===u?function(){}:u,h=t.timeout,d=e.useState(!1),f=d[0],p=d[1],A=(0,Ft.Z)(n.ripple,n.rippleVisible,i&&n.ripplePulsate),m={width:s,height:s,top:-s/2+o,left:-s/2+a},v=(0,Ft.Z)(n.child,f&&n.childLeaving,i&&n.childPulsate),g=(0,zt.Z)(c);return $t((function(){if(!l){p(!0);var e=setTimeout(g,h);return function(){clearTimeout(e)}}}),[g,l,h]),e.createElement("span",{className:A,style:m},e.createElement("span",{className:v}))},tn=e.forwardRef((function(t,n){var r=t.center,i=void 0!==r&&r,a=t.classes,o=t.className,s=(0,Nt.Z)(t,["center","classes","className"]),l=e.useState([]),u=l[0],h=l[1],d=e.useRef(0),f=e.useRef(null);e.useEffect((function(){f.current&&(f.current(),f.current=null)}),[u]);var p=e.useRef(!1),A=e.useRef(null),m=e.useRef(null),v=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(A.current)}}),[]);var g=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,i=t.rippleY,o=t.rippleSize,s=t.cb;h((function(t){return[].concat((0,Ht.Z)(t),[e.createElement(en,{key:d.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),d.current+=1,f.current=s}),[a]),y=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,s=void 0===o?i||t.pulsate:o,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===e.type&&p.current)p.current=!1;else{"touchstart"===e.type&&(p.current=!0);var c,h,d,f=u?null:v.current,y=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(y.width/2),h=Math.round(y.height/2);else{var x=e.touches?e.touches[0]:e,b=x.clientX,w=x.clientY;c=Math.round(b-y.left),h=Math.round(w-y.top)}if(s)(d=Math.sqrt((2*Math.pow(y.width,2)+Math.pow(y.height,2))/3))%2===0&&(d+=1);else{var C=2*Math.max(Math.abs((f?f.clientWidth:0)-c),c)+2,E=2*Math.max(Math.abs((f?f.clientHeight:0)-h),h)+2;d=Math.sqrt(Math.pow(C,2)+Math.pow(E,2))}e.touches?null===m.current&&(m.current=function(){g({pulsate:a,rippleX:c,rippleY:h,rippleSize:d,cb:n})},A.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):g({pulsate:a,rippleX:c,rippleY:h,rippleSize:d,cb:n})}}),[i,g]),x=e.useCallback((function(){y({},{pulsate:!0})}),[y]),b=e.useCallback((function(e,t){if(clearTimeout(A.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(A.current=setTimeout((function(){b(e,t)})));m.current=null,h((function(e){return e.length>0?e.slice(1):e})),f.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:x,start:y,stop:b}}),[x,y,b]),e.createElement("span",(0,c.Z)({className:(0,Ft.Z)(a.root,o),ref:v},s),e.createElement(Kt,{component:null,exit:!0},u))})),nn=(0,Ut.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(tn)),rn=e.forwardRef((function(n,r){var i=n.action,a=n.buttonRef,o=n.centerRipple,s=void 0!==o&&o,l=n.children,u=n.classes,h=n.className,d=n.component,f=void 0===d?"button":d,p=n.disabled,A=void 0!==p&&p,m=n.disableRipple,v=void 0!==m&&m,g=n.disableTouchRipple,y=void 0!==g&&g,x=n.focusRipple,b=void 0!==x&&x,w=n.focusVisibleClassName,C=n.onBlur,E=n.onClick,S=n.onFocus,I=n.onFocusVisible,M=n.onKeyDown,_=n.onKeyUp,k=n.onMouseDown,B=n.onMouseLeave,T=n.onMouseUp,R=n.onTouchEnd,D=n.onTouchMove,P=n.onTouchStart,L=n.onDragLeave,Q=n.tabIndex,j=void 0===Q?0:Q,N=n.TouchRippleProps,F=n.type,U=void 0===F?"button":F,O=(0,Nt.Z)(n,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Z=e.useRef(null);var z=e.useRef(null),G=e.useState(!1),H=G[0],V=G[1];A&&H&&V(!1);var W=(0,Gt.Z)(),q=W.isFocusVisible,Y=W.onBlurVisible,X=W.ref;function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,zt.Z)((function(r){return t&&t(r),!n&&z.current&&z.current[e](r),!0}))}e.useImperativeHandle(i,(function(){return{focusVisible:function(){V(!0),Z.current.focus()}}}),[]),e.useEffect((function(){H&&b&&!v&&z.current.pulsate()}),[v,b,H]);var K=J("start",k),$=J("stop",L),ee=J("stop",T),te=J("stop",(function(e){H&&e.preventDefault(),B&&B(e)})),ne=J("start",P),re=J("stop",R),ie=J("stop",D),ae=J("stop",(function(e){H&&(Y(e),V(!1)),C&&C(e)}),!1),oe=(0,zt.Z)((function(e){Z.current||(Z.current=e.currentTarget),q(e)&&(V(!0),I&&I(e)),S&&S(e)})),se=function(){var e=t.findDOMNode(Z.current);return f&&"button"!==f&&!("A"===e.tagName&&e.href)},le=e.useRef(!1),ue=(0,zt.Z)((function(e){b&&!le.current&&H&&z.current&&" "===e.key&&(le.current=!0,e.persist(),z.current.stop(e,(function(){z.current.start(e)}))),e.target===e.currentTarget&&se()&&" "===e.key&&e.preventDefault(),M&&M(e),e.target===e.currentTarget&&se()&&"Enter"===e.key&&!A&&(e.preventDefault(),E&&E(e))})),ce=(0,zt.Z)((function(e){b&&" "===e.key&&z.current&&H&&!e.defaultPrevented&&(le.current=!1,e.persist(),z.current.stop(e,(function(){z.current.pulsate(e)}))),_&&_(e),E&&e.target===e.currentTarget&&se()&&" "===e.key&&!e.defaultPrevented&&E(e)})),he=f;"button"===he&&O.href&&(he="a");var de={};"button"===he?(de.type=U,de.disabled=A):("a"===he&&O.href||(de.role="button"),de["aria-disabled"]=A);var fe=(0,Zt.Z)(a,r),pe=(0,Zt.Z)(X,Z),Ae=(0,Zt.Z)(fe,pe),me=e.useState(!1),ve=me[0],ge=me[1];e.useEffect((function(){ge(!0)}),[]);var ye=ve&&!v&&!A;return e.createElement(he,(0,c.Z)({className:(0,Ft.Z)(u.root,h,H&&[u.focusVisible,w],A&&u.disabled),onBlur:ae,onClick:E,onFocus:oe,onKeyDown:ue,onKeyUp:ce,onMouseDown:K,onMouseLeave:te,onMouseUp:ee,onDragLeave:$,onTouchEnd:re,onTouchMove:ie,onTouchStart:ne,ref:Ae,tabIndex:A?-1:j},de,O),l,ye?e.createElement(nn,(0,c.Z)({ref:z,center:s},N)):null)})),an=(0,Ut.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(rn),on=n(9685),sn=e.forwardRef((function(t,n){var r=t.edge,i=void 0!==r&&r,a=t.children,o=t.classes,s=t.className,l=t.color,u=void 0===l?"default":l,h=t.disabled,d=void 0!==h&&h,f=t.disableFocusRipple,p=void 0!==f&&f,A=t.size,m=void 0===A?"medium":A,v=(0,Nt.Z)(t,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return e.createElement(an,(0,c.Z)({className:(0,Ft.Z)(o.root,s,"default"!==u&&o["color".concat((0,on.Z)(u))],d&&o.disabled,"small"===m&&o["size".concat((0,on.Z)(m))],{start:o.edgeStart,end:o.edgeEnd}[i]),centerRipple:!0,focusRipple:!p,disabled:d,ref:n},v),e.createElement("span",{className:o.label},a))})),ln=(0,Ut.Z)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,Ot.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,Ot.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,Ot.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(sn),un=n(3481),cn=n(4942),hn=n(2879);var dn=e.createContext({}),fn="undefined"===typeof window?e.useEffect:e.useLayoutEffect,pn=e.forwardRef((function(n,r){var i=n.alignItems,a=void 0===i?"center":i,o=n.autoFocus,s=void 0!==o&&o,l=n.button,u=void 0!==l&&l,h=n.children,d=n.classes,f=n.className,p=n.component,A=n.ContainerComponent,m=void 0===A?"li":A,v=n.ContainerProps,g=(v=void 0===v?{}:v).className,y=(0,Nt.Z)(v,["className"]),x=n.dense,b=void 0!==x&&x,w=n.disabled,C=void 0!==w&&w,E=n.disableGutters,S=void 0!==E&&E,I=n.divider,M=void 0!==I&&I,_=n.focusVisibleClassName,k=n.selected,B=void 0!==k&&k,T=(0,Nt.Z)(n,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),R=e.useContext(dn),D={dense:b||R.dense||!1,alignItems:a},P=e.useRef(null);fn((function(){s&&P.current&&P.current.focus()}),[s]);var L=e.Children.toArray(h),Q=L.length&&(0,hn.Z)(L[L.length-1],["ListItemSecondaryAction"]),j=e.useCallback((function(e){P.current=t.findDOMNode(e)}),[]),N=(0,Zt.Z)(j,r),F=(0,c.Z)({className:(0,Ft.Z)(d.root,f,D.dense&&d.dense,!S&&d.gutters,M&&d.divider,C&&d.disabled,u&&d.button,"center"!==a&&d.alignItemsFlexStart,Q&&d.secondaryAction,B&&d.selected),disabled:C},T),U=p||"li";return u&&(F.component=p||"div",F.focusVisibleClassName=(0,Ft.Z)(d.focusVisible,_),U=an),Q?(U=F.component||p?U:"div","li"===m&&("li"===U?U="div":"li"===F.component&&(F.component="div")),e.createElement(dn.Provider,{value:D},e.createElement(m,(0,c.Z)({className:(0,Ft.Z)(d.container,g),ref:N},y),e.createElement(U,F,L),L.pop()))):e.createElement(dn.Provider,{value:D},e.createElement(U,(0,c.Z)({ref:N},F),L))})),An=(0,Ut.Z)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(pn),mn=e.forwardRef((function(t,n){var r,i=t.classes,a=t.className,o=t.component,s=void 0===o?"li":o,l=t.disableGutters,u=void 0!==l&&l,h=t.ListItemClasses,d=t.role,f=void 0===d?"menuitem":d,p=t.selected,A=t.tabIndex,m=(0,Nt.Z)(t,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return t.disabled||(r=void 0!==A?A:-1),e.createElement(An,(0,c.Z)({button:!0,role:f,tabIndex:r,component:s,selected:p,disableGutters:u,classes:(0,c.Z)({dense:i.dense},h),className:(0,Ft.Z)(i.root,a,p&&i.selected,!u&&i.gutters),ref:n},m))})),vn=(0,Ut.Z)((function(e){return{root:(0,c.Z)({},e.typography.body1,(0,cn.Z)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,c.Z)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(mn),gn=(n(6214),n(670)),yn=n(516),xn=n(3958),bn=n(468),wn=n(3621),Cn=n(1225);var En="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;var Sn=e.forwardRef((function(n,r){var i=n.children,a=n.container,o=n.disablePortal,s=void 0!==o&&o,l=n.onRendered,u=e.useState(null),c=u[0],h=u[1],d=(0,Zt.Z)(e.isValidElement(i)?i.ref:null,r);return En((function(){s||h(function(e){return e="function"===typeof e?e():e,t.findDOMNode(e)}(a)||document.body)}),[a,s]),En((function(){if(c&&!s)return(0,Cn.Z)(r,c),function(){(0,Cn.Z)(r,null)}}),[r,c,s]),En((function(){l&&(c||s)&&l()}),[l,c,s]),s?e.isValidElement(i)?e.cloneElement(i,{ref:d}):i:c?t.createPortal(i,c):c})),In=n(4398);function Mn(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function _n(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function kn(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function Bn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,Ht.Z)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&_n(e,i)}))}function Tn(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Rn(e,t){var n,r=[],i=[],a=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,yn.Z)(e);return t.body===e?(0,xn.Z)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(a)){var o=Mn();r.push({value:a.style.paddingRight,key:"padding-right",el:a}),a.style["padding-right"]="".concat(kn(a)+o,"px"),n=(0,yn.Z)(a).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(kn(e)+o,"px")}))}var s=a.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:a;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Dn=function(){function e(){(0,r.Z)(this,e),this.modals=[],this.containers=[]}return(0,i.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&_n(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Bn(t,e.mountNode,e.modalRef,r,!0);var i=Tn(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=Tn(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Rn(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=Tn(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&_n(e.modalRef,!0),Bn(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&_n(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var Pn=function(n){var r=n.children,i=n.disableAutoFocus,a=void 0!==i&&i,o=n.disableEnforceFocus,s=void 0!==o&&o,l=n.disableRestoreFocus,u=void 0!==l&&l,c=n.getDoc,h=n.isEnabled,d=n.open,f=e.useRef(),p=e.useRef(null),A=e.useRef(null),m=e.useRef(),v=e.useRef(null),g=e.useCallback((function(e){v.current=t.findDOMNode(e)}),[]),y=(0,Zt.Z)(r.ref,g),x=e.useRef();return e.useEffect((function(){x.current=d}),[d]),!x.current&&d&&"undefined"!==typeof window&&(m.current=c().activeElement),e.useEffect((function(){if(d){var e=(0,yn.Z)(v.current);a||!v.current||v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var t=function(){null!==v.current&&(e.hasFocus()&&!s&&h()&&!f.current?v.current&&!v.current.contains(e.activeElement)&&v.current.focus():f.current=!1)},n=function(t){!s&&h()&&9===t.keyCode&&e.activeElement===v.current&&(f.current=!0,t.shiftKey?A.current.focus():p.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var r=setInterval((function(){t()}),50);return function(){clearInterval(r),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),u||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[a,s,u,h,d]),e.createElement(e.Fragment,null,e.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),e.cloneElement(r,{ref:y}),e.createElement("div",{tabIndex:0,ref:A,"data-test":"sentinelEnd"}))},Ln={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},Qn=e.forwardRef((function(t,n){var r=t.invisible,i=void 0!==r&&r,a=t.open,o=(0,Nt.Z)(t,["invisible","open"]);return a?e.createElement("div",(0,c.Z)({"aria-hidden":!0,ref:n},o,{style:(0,c.Z)({},Ln.root,i?Ln.invisible:{},o.style)})):null}));var jn=new Dn,Nn=e.forwardRef((function(n,r){var i=(0,Ce.Z)(),a=(0,wn.Z)({name:"MuiModal",props:(0,c.Z)({},n),theme:i}),o=a.BackdropComponent,s=void 0===o?Qn:o,l=a.BackdropProps,u=a.children,h=a.closeAfterTransition,d=void 0!==h&&h,f=a.container,p=a.disableAutoFocus,A=void 0!==p&&p,m=a.disableBackdropClick,v=void 0!==m&&m,g=a.disableEnforceFocus,y=void 0!==g&&g,x=a.disableEscapeKeyDown,b=void 0!==x&&x,w=a.disablePortal,C=void 0!==w&&w,E=a.disableRestoreFocus,S=void 0!==E&&E,I=a.disableScrollLock,M=void 0!==I&&I,_=a.hideBackdrop,k=void 0!==_&&_,B=a.keepMounted,T=void 0!==B&&B,R=a.manager,D=void 0===R?jn:R,P=a.onBackdropClick,L=a.onClose,Q=a.onEscapeKeyDown,j=a.onRendered,N=a.open,F=(0,Nt.Z)(a,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),U=e.useState(!0),O=U[0],Z=U[1],z=e.useRef({}),G=e.useRef(null),H=e.useRef(null),V=(0,Zt.Z)(H,r),W=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(a),q=function(){return(0,yn.Z)(G.current)},Y=function(){return z.current.modalRef=H.current,z.current.mountNode=G.current,z.current},X=function(){D.mount(Y(),{disableScrollLock:M}),H.current.scrollTop=0},J=(0,zt.Z)((function(){var e=function(e){return e="function"===typeof e?e():e,t.findDOMNode(e)}(f)||q().body;D.add(Y(),e),H.current&&X()})),K=e.useCallback((function(){return D.isTopModal(Y())}),[D]),$=(0,zt.Z)((function(e){G.current=e,e&&(j&&j(),N&&K()?X():_n(H.current,!0))})),ee=e.useCallback((function(){D.remove(Y())}),[D]);if(e.useEffect((function(){return function(){ee()}}),[ee]),e.useEffect((function(){N?J():W&&d||ee()}),[N,ee,W,d,J]),!T&&!N&&(!W||O))return null;var te=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(i||{zIndex:In.Z}),ne={};return void 0===u.props.tabIndex&&(ne.tabIndex=u.props.tabIndex||"-1"),W&&(ne.onEnter=(0,bn.Z)((function(){Z(!1)}),u.props.onEnter),ne.onExited=(0,bn.Z)((function(){Z(!0),d&&ee()}),u.props.onExited)),e.createElement(Sn,{ref:$,container:f,disablePortal:C},e.createElement("div",(0,c.Z)({ref:V,onKeyDown:function(e){"Escape"===e.key&&K()&&(Q&&Q(e),b||(e.stopPropagation(),L&&L(e,"escapeKeyDown")))},role:"presentation"},F,{style:(0,c.Z)({},te.root,!N&&O?te.hidden:{},F.style)}),k?null:e.createElement(s,(0,c.Z)({open:N,onClick:function(e){e.target===e.currentTarget&&(P&&P(e),!v&&L&&L(e,"backdropClick"))}},l)),e.createElement(Pn,{disableEnforceFocus:y,disableAutoFocus:A,disableRestoreFocus:S,getDoc:q,isEnabled:K,open:N},e.cloneElement(u,ne))))})),Fn=Nn,Un=n(9439),On=!1,Zn="unmounted",zn="exited",Gn="entering",Hn="entered",Vn="exiting",Wn=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,a=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=zn,r.appearStatus=Gn):i=Hn:i=e.unmountOnExit||e.mountOnEnter?Zn:zn,r.state={status:i},r.nextCallback=null,r}(0,s.Z)(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Zn?{status:zn}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Gn&&n!==Hn&&(t=Gn):n!==Gn&&n!==Hn||(t=Vn)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,n){if(void 0===e&&(e=!1),null!==n)if(this.cancelNextCallback(),n===Gn){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zn&&this.setState({status:Zn})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[t.findDOMNode(this),i],o=a[0],s=a[1],l=this.getTimeouts(),u=i?l.appear:l.enter;!e&&!r||On?this.safeSetState({status:Hn},(function(){n.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Gn},(function(){n.props.onEntering(o,s),n.onTransitionEnd(u,(function(){n.safeSetState({status:Hn},(function(){n.props.onEntered(o,s)}))}))})))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!On?(this.props.onExit(i),this.safeSetState({status:Vn},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:zn},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:zn},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===Zn)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,F.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Vt.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function qn(){}Wn.contextType=Vt,Wn.propTypes={},Wn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qn,onEntering:qn,onEntered:qn,onExit:qn,onExiting:qn,onExited:qn},Wn.UNMOUNTED=Zn,Wn.EXITED=zn,Wn.ENTERING=Gn,Wn.ENTERED=Hn,Wn.EXITING=Vn;var Yn=Wn,Xn=n(1187);function Jn(){return(0,Ce.Z)()||Xn.Z}var Kn=function(e){return e.scrollTop};function $n(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function er(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var tr={entering:{opacity:1,transform:er(1)},entered:{opacity:1,transform:"none"}},nr=e.forwardRef((function(t,n){var r=t.children,i=t.disableStrictModeCompat,a=void 0!==i&&i,o=t.in,s=t.onEnter,l=t.onEntered,u=t.onEntering,h=t.onExit,d=t.onExited,f=t.onExiting,p=t.style,A=t.timeout,m=void 0===A?"auto":A,v=t.TransitionComponent,g=void 0===v?Yn:v,y=(0,Nt.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),x=e.useRef(),b=e.useRef(),w=Jn(),C=w.unstable_strictMode&&!a,E=e.useRef(null),S=(0,Zt.Z)(r.ref,n),I=(0,Zt.Z)(C?E:void 0,S),M=function(e){return function(t,n){if(e){var r=C?[E.current,t]:[t,n],i=(0,Un.Z)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},_=M(u),k=M((function(e,t){Kn(e);var n,r=$n({style:p,timeout:m},{mode:"enter"}),i=r.duration,a=r.delay;"auto"===m?(n=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=n):n=i,e.style.transition=[w.transitions.create("opacity",{duration:n,delay:a}),w.transitions.create("transform",{duration:.666*n,delay:a})].join(","),s&&s(e,t)})),B=M(l),T=M(f),R=M((function(e){var t,n=$n({style:p,timeout:m},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===m?(t=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=t):t=r,e.style.transition=[w.transitions.create("opacity",{duration:t,delay:i}),w.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=er(.75),h&&h(e)})),D=M(d);return e.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),e.createElement(g,(0,c.Z)({appear:!0,in:o,nodeRef:C?E:void 0,onEnter:k,onEntered:B,onEntering:_,onExit:R,onExited:D,onExiting:T,addEndListener:function(e,t){var n=C?e:t;"auto"===m&&(x.current=setTimeout(n,b.current||0))},timeout:"auto"===m?null:m},y),(function(t,n){return e.cloneElement(r,(0,c.Z)({style:(0,c.Z)({opacity:0,transform:er(.75),visibility:"exited"!==t||o?void 0:"hidden"},tr[t],p,r.props.style),ref:I},n))}))}));nr.muiSupportAuto=!0;var rr=nr,ir=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.component,o=void 0===a?"div":a,s=t.square,l=void 0!==s&&s,u=t.elevation,h=void 0===u?1:u,d=t.variant,f=void 0===d?"elevation":d,p=(0,Nt.Z)(t,["classes","className","component","square","elevation","variant"]);return e.createElement(o,(0,c.Z)({className:(0,Ft.Z)(r.root,i,"outlined"===f?r.outlined:r["elevation".concat(h)],!l&&r.rounded),ref:n},p))})),ar=(0,Ut.Z)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,c.Z)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(ir);function or(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function sr(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function lr(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function ur(e){return"function"===typeof e?e():e}var cr=e.forwardRef((function(n,r){var i=n.action,a=n.anchorEl,o=n.anchorOrigin,s=void 0===o?{vertical:"top",horizontal:"left"}:o,l=n.anchorPosition,u=n.anchorReference,h=void 0===u?"anchorEl":u,d=n.children,f=n.classes,p=n.className,A=n.container,m=n.elevation,v=void 0===m?8:m,g=n.getContentAnchorEl,y=n.marginThreshold,x=void 0===y?16:y,b=n.onEnter,w=n.onEntered,C=n.onEntering,E=n.onExit,S=n.onExited,I=n.onExiting,M=n.open,_=n.PaperProps,k=void 0===_?{}:_,B=n.transformOrigin,T=void 0===B?{vertical:"top",horizontal:"left"}:B,R=n.TransitionComponent,D=void 0===R?rr:R,P=n.transitionDuration,L=void 0===P?"auto":P,Q=n.TransitionProps,j=void 0===Q?{}:Q,N=(0,Nt.Z)(n,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),F=e.useRef(),U=e.useCallback((function(e){if("anchorPosition"===h)return l;var t=ur(a),n=(t&&1===t.nodeType?t:(0,yn.Z)(F.current).body).getBoundingClientRect(),r=0===e?s.vertical:"center";return{top:n.top+or(n,r),left:n.left+sr(n,s.horizontal)}}),[a,s.horizontal,s.vertical,l,h]),O=e.useCallback((function(e){var t=0;if(g&&"anchorEl"===h){var n=g(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[s.vertical,h,g]),Z=e.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:or(e,T.vertical)+t,horizontal:sr(e,T.horizontal)}}),[T.horizontal,T.vertical]),z=e.useCallback((function(e){var t=O(e),n={width:e.offsetWidth,height:e.offsetHeight},r=Z(n,t);if("none"===h)return{top:null,left:null,transformOrigin:lr(r)};var i=U(t),o=i.top-r.vertical,s=i.left-r.horizontal,l=o+n.height,u=s+n.width,c=(0,xn.Z)(ur(a)),d=c.innerHeight-x,f=c.innerWidth-x;if(o<x){var p=o-x;o-=p,r.vertical+=p}else if(l>d){var A=l-d;o-=A,r.vertical+=A}if(s<x){var m=s-x;s-=m,r.horizontal+=m}else if(u>f){var v=u-f;s-=v,r.horizontal+=v}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:lr(r)}}),[a,h,U,O,Z,x]),G=e.useCallback((function(){var e=F.current;if(e){var t=z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[z]),H=e.useCallback((function(e){F.current=t.findDOMNode(e)}),[]);e.useEffect((function(){M&&G()})),e.useImperativeHandle(i,(function(){return M?{updatePosition:function(){G()}}:null}),[M,G]),e.useEffect((function(){if(M){var e=(0,gn.Z)((function(){G()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[M,G]);var V=L;"auto"!==L||D.muiSupportAuto||(V=void 0);var W=A||(a?(0,yn.Z)(ur(a)).body:void 0);return e.createElement(Fn,(0,c.Z)({container:W,open:M,ref:r,BackdropProps:{invisible:!0},className:(0,Ft.Z)(f.root,p)},N),e.createElement(D,(0,c.Z)({appear:!0,in:M,onEnter:b,onEntered:w,onExit:E,onExited:S,onExiting:I,timeout:V},j,{onEntering:(0,bn.Z)((function(e,t){C&&C(e,t),G()}),j.onEntering)}),e.createElement(ar,(0,c.Z)({elevation:v,ref:H},k,{className:(0,Ft.Z)(f.paper,k.className)}),d)))})),hr=(0,Ut.Z)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(cr),dr=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.component,s=void 0===o?"ul":o,l=t.dense,u=void 0!==l&&l,h=t.disablePadding,d=void 0!==h&&h,f=t.subheader,p=(0,Nt.Z)(t,["children","classes","className","component","dense","disablePadding","subheader"]),A=e.useMemo((function(){return{dense:u}}),[u]);return e.createElement(dn.Provider,{value:A},e.createElement(s,(0,c.Z)({className:(0,Ft.Z)(i.root,a,u&&i.dense,!d&&i.padding,f&&i.subheader),ref:n},p),f,r))})),fr=(0,Ut.Z)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(dr);function pr(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Ar(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function mr(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function vr(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return;o=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&mr(s,a)&&!l)return void s.focus();s=i(e,s,n)}}var gr="undefined"===typeof window?e.useEffect:e.useLayoutEffect,yr=e.forwardRef((function(n,r){var i=n.actions,a=n.autoFocus,o=void 0!==a&&a,s=n.autoFocusItem,l=void 0!==s&&s,u=n.children,h=n.className,d=n.disabledItemsFocusable,f=void 0!==d&&d,p=n.disableListWrap,A=void 0!==p&&p,m=n.onKeyDown,v=n.variant,g=void 0===v?"selectedMenu":v,y=(0,Nt.Z)(n,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),x=e.useRef(null),b=e.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});gr((function(){o&&x.current.focus()}),[o]),e.useImperativeHandle(i,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!x.current.style.width;if(e.clientHeight<x.current.clientHeight&&n){var r="".concat(Mn(),"px");x.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,x.current.style.width="calc(100% + ".concat(r,")")}return x.current}}}),[]);var w=e.useCallback((function(e){x.current=t.findDOMNode(e)}),[]),C=(0,Zt.Z)(w,r),E=-1;e.Children.forEach(u,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("selectedMenu"===g&&t.props.selected||-1===E)&&(E=n))}));var S=e.Children.map(u,(function(t,n){if(n===E){var r={};return l&&(r.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===g&&(r.tabIndex=0),e.cloneElement(t,r)}return t}));return e.createElement(fr,(0,c.Z)({role:"menu",ref:C,className:h,onKeyDown:function(e){var t=x.current,n=e.key,r=(0,yn.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),vr(t,r,A,f,pr);else if("ArrowUp"===n)e.preventDefault(),vr(t,r,A,f,Ar);else if("Home"===n)e.preventDefault(),vr(t,null,A,f,pr);else if("End"===n)e.preventDefault(),vr(t,null,A,f,Ar);else if(1===n.length){var i=b.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&mr(r,i);i.previousKeyMatched&&(s||vr(t,r,!1,f,pr,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:o?0:-1},y),S)})),xr=yr,br={vertical:"top",horizontal:"right"},wr={vertical:"top",horizontal:"left"},Cr=e.forwardRef((function(n,r){var i=n.autoFocus,a=void 0===i||i,o=n.children,s=n.classes,l=n.disableAutoFocusItem,u=void 0!==l&&l,h=n.MenuListProps,d=void 0===h?{}:h,f=n.onClose,p=n.onEntering,A=n.open,m=n.PaperProps,v=void 0===m?{}:m,g=n.PopoverClasses,y=n.transitionDuration,x=void 0===y?"auto":y,b=n.TransitionProps,w=(b=void 0===b?{}:b).onEntering,C=(0,Nt.Z)(b,["onEntering"]),E=n.variant,S=void 0===E?"selectedMenu":E,I=(0,Nt.Z)(n,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),M=Jn(),_=a&&!u&&A,k=e.useRef(null),B=e.useRef(null),T=-1;e.Children.map(o,(function(t,n){e.isValidElement(t)&&(t.props.disabled||("menu"!==S&&t.props.selected||-1===T)&&(T=n))}));var R=e.Children.map(o,(function(n,r){return r===T?e.cloneElement(n,{ref:function(e){B.current=t.findDOMNode(e),(0,Cn.Z)(n.ref,e)}}):n}));return e.createElement(hr,(0,c.Z)({getContentAnchorEl:function(){return B.current},classes:g,onClose:f,TransitionProps:(0,c.Z)({onEntering:function(e,t){k.current&&k.current.adjustStyleForScrollbar(e,M),p&&p(e,t),w&&w(e,t)}},C),anchorOrigin:"rtl"===M.direction?br:wr,transformOrigin:"rtl"===M.direction?br:wr,PaperProps:(0,c.Z)({},v,{classes:(0,c.Z)({},v.classes,{root:s.paper})}),open:A,ref:r,transitionDuration:x},I),e.createElement(xr,(0,c.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),f&&f(e,"tabKeyDown"))},actions:k,autoFocus:a&&(-1===T||u),autoFocusItem:_,variant:S},d,{className:(0,Ft.Z)(s.list,d.className)}),R))})),Er=(0,Ut.Z)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Cr),Sr=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).state={platformAnchorElem:null,solutionsAnchorElem:null},e.onMenuClose=e.onMenuClose.bind((0,jt.Z)(e)),e.onPlatformClick=e.onPlatformClick.bind((0,jt.Z)(e)),e.onPlatformMenuClose=e.onPlatformMenuClose.bind((0,jt.Z)(e)),e.onSolutionsClick=e.onSolutionsClick.bind((0,jt.Z)(e)),e.onSolutionsMenuClose=e.onSolutionsMenuClose.bind((0,jt.Z)(e)),e}return(0,i.Z)(n,[{key:"onPlatformClick",value:function(e){this.setState({platformAnchorElem:e.currentTarget})}},{key:"onPlatformMenuClose",value:function(){this.setState({platformAnchorElem:null}),this.onMenuClose()}},{key:"onSolutionsClick",value:function(e){this.setState({solutionsAnchorElem:e.currentTarget})}},{key:"onSolutionsMenuClose",value:function(){this.setState({solutionsAnchorElem:null}),this.onMenuClose()}},{key:"onMenuClose",value:function(){this.props.onMenuClose&&this.props.onMenuClose()}},{key:"renderPlatformMenu",value:function(){return(0,xe.jsxs)(Er,{anchorReference:"anchorEl",style:{zIndex:"2000"},anchorEl:this.state.platformAnchorElem,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(this.state.platformAnchorElem),onClose:this.onPlatformMenuClose,children:[(0,xe.jsx)(vn,{onClick:this.onPlatformMenuClose,children:(0,xe.jsx)(pe,{to:"/3d-viewer",children:"3D Viewer"})}),(0,xe.jsx)(vn,{onClick:this.onPlatformMenuClose,children:(0,xe.jsx)(pe,{to:"/editorIntro",children:"EzyView 3D editor"})})]})}},{key:"renderSolutionsMenu",value:function(){return(0,xe.jsx)(Er,{anchorReference:"anchorEl",style:{zIndex:"2000"},anchorEl:this.state.solutionsAnchorElem,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(this.state.solutionsAnchorElem),onClose:this.onSolutionsMenuClose,children:(0,xe.jsx)(vn,{onClick:this.onSolutionsMenuClose,children:(0,xe.jsx)(pe,{to:"/ar-for-ecommerce",children:"Augmented Reality for E-Commerce"})})})}},{key:"renderMobileMainMenu",value:function(){return(0,xe.jsxs)(Er,{anchorEl:this.props.anchorElem,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(this.props.anchorElem),onClose:this.onMenuClose,children:[(0,xe.jsx)(vn,{onClick:this.onMenuClose,children:(0,xe.jsx)(pe,{to:"/",children:"Home"})}),(0,xe.jsx)(vn,{onClick:this.onMenuClose,children:(0,xe.jsx)(pe,{to:"/getStarted",children:"Get Started"})}),(0,xe.jsx)(vn,{onClick:this.onPlatformClick,children:"Platform"}),(0,xe.jsx)(vn,{onClick:this.onSolutionsClick,children:"Solutions"}),(0,xe.jsx)(vn,{onClick:this.onMenuClose,children:(0,xe.jsx)(pe,{to:"/demos",children:"Demos"})}),(0,xe.jsx)(vn,{onClick:this.onMenuClose,children:(0,xe.jsx)(pe,{to:"/documentation",children:"Docs"})})]})}},{key:"renderMainMenu",value:function(){return(0,xe.jsxs)("div",{className:"main-menu",children:[(0,xe.jsx)("div",{children:(0,xe.jsx)(pe,{to:"/",children:"Home"})}),(0,xe.jsx)("div",{children:(0,xe.jsx)(pe,{to:"/getStarted",children:"Getting Started"})}),(0,xe.jsx)("div",{onClick:this.onPlatformClick,children:"Platform"}),(0,xe.jsx)("div",{onClick:this.onSolutionsClick,children:"Solutions"}),(0,xe.jsx)("div",{children:(0,xe.jsx)(pe,{to:"/demos",children:"Demos"})}),(0,xe.jsx)("div",{children:(0,xe.jsx)(pe,{to:"/documentation",children:"Docs"})})]})}},{key:"render",value:function(){return[this.renderPlatformMenu(),this.renderSolutionsMenu(),this.props.isMobile?this.renderMobileMainMenu():this.renderMainMenu()]}}]),n}(e.Component),Ir=function(t){(0,a.Z)(l,t);var s=(0,o.Z)(l);function l(){var e;return(0,r.Z)(this,l),(e=s.call(this)).state={isMobile:!1},e.onMenuButtonClick=e.onMenuButtonClick.bind((0,jt.Z)(e)),e.onMediaQueryChanged=e.onMediaQueryChanged.bind((0,jt.Z)(e)),e.onMenuClose=e.onMenuClose.bind((0,jt.Z)(e)),e}return(0,i.Z)(l,[{key:"componentDidMount",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.mql=window.matchMedia("(max-width: 1024px)"),this.mql.addListener(this.onMediaQueryChanged),this.setState({isMobile:this.mql.matches});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMediaQueryChanged",value:function(){this.setState({isMobile:this.mql.matches})}},{key:"onMenuButtonClick",value:function(e){this.setState({anchorElem:e.currentTarget})}},{key:"onMenuClose",value:function(e){this.setState({anchorElem:null})}},{key:"render",value:function(){return(0,xe.jsx)(e.Fragment,{children:(0,xe.jsxs)("div",{className:"header-container",children:[(0,xe.jsx)("div",{className:"header-logo",children:(0,xe.jsx)("a",{href:"/",children:(0,xe.jsx)("img",{alt:"",width:"37",height:"28",src:n(4427)})})}),this.state.isMobile&&(0,xe.jsx)(ln,{edge:"start",color:"inherit","aria-label":"menu",onClick:this.onMenuButtonClick,children:(0,xe.jsx)(un.Z,{className:"icon-fill-color",fontSize:"large"})}),(0,xe.jsx)(Sr,{anchorElem:this.state.anchorElem,isMobile:this.state.isMobile,loggedIn:this.state.isLoggedIn,showProductCatalogItem:this.state.productCatalogAccess,showIntegrateItem:this.state.canUpload,onMenuClose:this.onMenuClose})]})})}}]),l}(e.Component),Mr=function(){return Mr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mr.apply(this,arguments)},_r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function kr(t){var n=function(n){var r=n.bgStyle,i=n.borderRadius,a=n.iconFillColor,o=n.round,s=n.size,l=_r(n,["bgStyle","borderRadius","iconFillColor","round","size"]);return e.createElement("svg",Mr({viewBox:"0 0 64 64",width:s,height:s},l),o?e.createElement("circle",{cx:"32",cy:"32",r:"31",fill:t.color,style:r}):e.createElement("rect",{width:"64",height:"64",rx:i,ry:i,fill:t.color,style:r}),e.createElement("path",{d:t.path,fill:a}))};return n.defaultProps={bgStyle:{},borderRadius:0,iconFillColor:"white",size:64},n}var Br=kr({color:"#3b5998",networkName:"facebook",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"}),Tr=kr({color:"#00aced",networkName:"twitter",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"}),Rr=kr({color:"#007fb1",networkName:"linkedin",path:"M20.4,44h5.4V26.6h-5.4V44z M23.1,18c-1.7,0-3.1,1.4-3.1,3.1c0,1.7,1.4,3.1,3.1,3.1 c1.7,0,3.1-1.4,3.1-3.1C26.2,19.4,24.8,18,23.1,18z M39.5,26.2c-2.6,0-4.4,1.4-5.1,2.8h-0.1v-2.4h-5.2V44h5.4v-8.6 c0-2.3,0.4-4.5,3.2-4.5c2.8,0,2.8,2.6,2.8,4.6V44H46v-9.5C46,29.8,45,26.2,39.5,26.2z"}),Dr=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,xe.jsxs)("div",{className:"footer",children:[(0,xe.jsxs)("div",{className:"footer-links",children:[(0,xe.jsxs)("div",{className:"footer-links-col",children:[(0,xe.jsx)(pe,{to:"/getStarted",children:"Get Started"}),(0,xe.jsx)("br",{}),(0,xe.jsx)(pe,{to:"/editor",children:"3D Editor"}),(0,xe.jsx)("br",{}),(0,xe.jsx)(pe,{to:"/documentation",children:"Documentation"}),(0,xe.jsx)("br",{}),(0,xe.jsx)(pe,{to:"/demos",children:"Demos"}),(0,xe.jsx)("br",{})]}),(0,xe.jsxs)("div",{className:"footer-links-col",children:[(0,xe.jsx)(pe,{to:"/contact",children:"Contact Us"}),(0,xe.jsx)("br",{}),(0,xe.jsx)(pe,{to:"/about",children:"About Ezyview"}),(0,xe.jsx)("br",{})]}),(0,xe.jsxs)("div",{className:"footer-links-col",children:[(0,xe.jsx)(pe,{to:"/termsOfService",children:"Terms of Service"}),(0,xe.jsx)("br",{}),(0,xe.jsx)(pe,{to:"/privacyPolicy",children:"Privacy Policy"}),(0,xe.jsx)("br",{})]})]}),(0,xe.jsx)("div",{className:"footer-social-links",children:(0,xe.jsxs)("div",{children:[(0,xe.jsx)("a",{href:"https://www.facebook.com/ezyvuesoftware",children:(0,xe.jsx)(Br,{size:32})}),(0,xe.jsx)("a",{href:"https://twitter.com/EzyVueSoftware",children:(0,xe.jsx)(Tr,{size:32})}),(0,xe.jsx)("a",{href:"https://www.linkedin.com/company/ezyvue",children:(0,xe.jsx)(Rr,{size:32})})]})})]})}}]),n}(e.Component),Pr=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,xe.jsx)("div",{className:"page docpage center center-page-x",children:(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsx)("h1",{children:"Pricing"}),(0,xe.jsx)("div",{className:"pricing-table",children:(0,xe.jsxs)("table",{children:[(0,xe.jsxs)("tr",{children:[(0,xe.jsxs)("td",{children:["Non-commercial use",(0,xe.jsx)("br",{}),(0,xe.jsx)("span",{style:{fontSize:"small",color:"#888"},children:"For use on a web site that is not used for the sale of any type of goods or products or services."})]}),(0,xe.jsx)("td",{children:"FREE"})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsxs)("td",{children:["Commercial 12-month single-domain subscription with email technical support",(0,xe.jsx)("br",{}),(0,xe.jsx)("span",{style:{fontSize:"small",color:"#888"},children:"Can be used on any website that sells products, goods or services of any kind."}),(0,xe.jsx)("br",{})]}),(0,xe.jsx)("td",{children:"$40.00 USD per month"})]})]})}),(0,xe.jsx)("h2",{children:"Subscriptions"}),(0,xe.jsx)("h4",{children:"12-month subscription"}),(0,xe.jsxs)("p",{children:["This subscription allows multiple instances of the viewer to be used on a single domain for 12 months.",(0,xe.jsx)("br",{}),"Contact us at subscriptions@ezyview.net to purchase a commercial subscription."]})]})})}}]),n}(e.Component),Lr=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,xe.jsxs)("div",{className:"std-page center-page-x center",style:{textAlign:"center"},children:[(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),(0,xe.jsx)("span",{style:{fontSize:"80px",color:"orange"},children:"404"}),"Sorry, Page Not Found"]})}}]),n}(e.Component),Qr=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,xe.jsxs)("div",{className:"page center center-page-x",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"Quick start guide"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net/getStarted"})]}),(0,xe.jsx)("h1",{children:"Quick Start Guide"}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsx)("h2",{children:"At a glance"}),(0,xe.jsxs)("p",{children:["This quick start guide will take you through the steps needed to add the viewer to a webpage and display a 3D model. For more detailed information see the ",(0,xe.jsx)("a",{href:"/documentation",target:"_blank",rel:"noreferrer",children:"documentation page"}),"."]})]}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsx)("h4",{children:"Step 1. Import a 3D model file into the editor"}),(0,xe.jsxs)("p",{children:["Open ",(0,xe.jsx)("a",{href:"/editor",target:"_blank",rel:"noreferrer",children:"EzyView 3D editor"}),". Click on the cube and choose the delete command from the Edit menu to delete it. From the File menu choose Import File and select a file on your computer. If your model has additional files choose Import Folder and select the root folder. The model will be loaded and displayed in the main window."]}),(0,xe.jsx)("h4",{children:"Step 2. Save and publish the project"}),(0,xe.jsx)("p",{children:"From the File menu save the project so that you can come back to it later. On the File menu choose Publish Project. Two files will be downloaded to your computer, a project zip file containing project settings and a glTF 3D model file. Upload these files to your web server or file hosting service."}),(0,xe.jsx)("h4",{children:"Step 3. Add the viewer HTML element"}),(0,xe.jsxs)("p",{children:["The viewer is added to a webpage as an HTML element and there are two different elements that can be used. If you are using a website builder such as Wix or Shopify the simplest way to add the viewer is to embed it as an iframe element. The iframe code can be easily generated and copied from the Embed Viewer tab in the 3D editor. You can also use a custom viewer-3d element. To use this element include the Javascript and style files. For both elements, you'll need to specify the URLs of the zip and gltf files that you uploaded earlier. View the ",(0,xe.jsx)(pe,{to:"/documentation/#projects",children:"Projects section"})," in the documentation for a guide on obtaining direct download urls of files for common file hosting services."]}),(0,xe.jsx)("h5",{children:"Using an iframe element"}),(0,xe.jsxs)("p",{children:["Go to the embed viewer tab and paste in the direct download file URLs into the relevant text boxes. Click the copy button and paste the code onto your webpage. Here is an example of a viewer iframe element:",(0,xe.jsx)("pre",{children:'\n      <div style="width:100%">\n      <div style="position: relative;padding-top:80%">\n        <div style="position:absolute;left:0;right:0;top:0;bottom:0">\n          <iframe id="ezyview-viewer" src="https://viewer.ezyview.net?projectFile="https://www.mysite.com/project.zip"&sceneFile="https://www.mysite.com/project.glb" \n            width="100%" height="100%" style="border:none;" \n            frameborder="0" xr-spatial-tracking="true" \n            autoplay allowfullscreen mozallowfullscreen="true" \n            webkitallowfullscreen="true" allow="fullscreen">\n          </iframe>\n        </div>\n      </div>\n    </div>\n'}),(0,xe.jsx)("b",{children:(0,xe.jsx)("a",{href:"https://jsfiddle.net/zenguru/10mgshc4/28/",target:"_blank",rel:"noreferrer",children:"Run the example code on JSFiddle"})})]}),(0,xe.jsx)("h5",{children:"Using a viewer-3d element"}),(0,xe.jsxs)("p",{children:["Copy and paste the following HTML into the head section of your webpage:",(0,xe.jsx)("pre",{children:'\n<script src="https://cdn.jsdelivr.net/gh/ezyvue/src/v1.0/viewer.js" defer type=\'module\'><\/script>\n<link href="https://cdn.jsdelivr.net/gh/ezyvue/src/v1.0/viewer.css" rel="stylesheet" />\n                                '}),"Add the viewer-3d element to the page and set the data-project-file and data-scene attributes to your direct download file links.",(0,xe.jsx)("pre",{children:'\n<viewer-3d style=\'width: 500px;height: 400px;\' \n    data-project-file="https://www.mysite.com/project.zip" \n    data-scene-file="https://www.mysite.com/project.glb"  />\n                           '}),(0,xe.jsx)("b",{children:(0,xe.jsx)("a",{href:"https://jsfiddle.net/zenguru/bw3a96u1/23/",target:"_blank",rel:"noreferrer",children:"Run the example code on JSFiddle"})})]}),(0,xe.jsx)("h4",{children:"Step 4. Set the viewer size"}),(0,xe.jsx)("p",{children:"The viewer will take up 100% of the width and height of it's parent element which is unsuitable for most scenarios. For a fixed-sized viewer add width and height styles to the HTML element. To make the viewer more responsive on all devices, you can generate wrapper code to accomplish this. On the Embed Viewer tab in the 3D editor, tick the Include wrapper code checkbox. The Width and Aspect Ratio options will be shown. The wrapper code ensures that the viewer is responsive and the aspect ratio stays the same, regardless of the width chosen. You can also use the same wrapper code for a viewer-3d element, just replace the iframe element."})]}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsx)("h2",{children:"Next Steps"}),(0,xe.jsxs)("p",{children:["You can further enhance the look of your model using the editor - add lighting, shadows, edit materials, add effects and other features.",(0,xe.jsx)("br",{})]}),(0,xe.jsx)("p",{children:(0,xe.jsx)("a",{href:"https://jsfiddle.net/user/zenguru/fiddles/",target:"_blank",rel:"noreferrer",children:"View the examples on JSFiddle"})}),(0,xe.jsx)("h2",{children:"Need help?"}),(0,xe.jsxs)("p",{children:[(0,xe.jsx)(pe,{to:"/documentation",children:"View the documentation "}),(0,xe.jsx)("br",{}),(0,xe.jsx)(pe,{to:"/contact",children:"Contact tech support "})]})]}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]})}}]),n}(e.Component),jr=n(4214),Nr=(0,jr.Z)(e.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Fr=(0,jr.Z)(e.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Ur=(0,jr.Z)(e.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Or=(0,jr.Z)(e.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Zr=(0,jr.Z)(e.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),zr={success:e.createElement(Nr,{fontSize:"inherit"}),warning:e.createElement(Fr,{fontSize:"inherit"}),error:e.createElement(Ur,{fontSize:"inherit"}),info:e.createElement(Or,{fontSize:"inherit"})},Gr=e.createElement(Zr,{fontSize:"small"}),Hr=e.forwardRef((function(t,n){var r=t.action,i=t.children,a=t.classes,o=t.className,s=t.closeText,l=void 0===s?"Close":s,u=t.color,h=t.icon,d=t.iconMapping,f=void 0===d?zr:d,p=t.onClose,A=t.role,m=void 0===A?"alert":A,v=t.severity,g=void 0===v?"success":v,y=t.variant,x=void 0===y?"standard":y,b=(0,Nt.Z)(t,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return e.createElement(ar,(0,c.Z)({role:m,square:!0,elevation:0,className:(0,Ft.Z)(a.root,a["".concat(x).concat((0,on.Z)(u||g))],o),ref:n},b),!1!==h?e.createElement("div",{className:a.icon},h||f[g]||zr[g]):null,e.createElement("div",{className:a.message},i),null!=r?e.createElement("div",{className:a.action},r):null,null==r&&p?e.createElement("div",{className:a.action},e.createElement(ln,{size:"small","aria-label":l,title:l,color:"inherit",onClick:p},Gr)):null)})),Vr=(0,Ut.Z)((function(e){var t="light"===e.palette.type?Ot._j:Ot.$n,n="light"===e.palette.type?Ot.$n:Ot._j;return{root:(0,c.Z)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(Hr),Wr=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.open&&!e.open&&setTimeout((function(){t.props.onClose&&t.props.onClose(!0)}),1e4)}},{key:"render",value:function(){var e=this;return(0,xe.jsx)("div",{style:{position:"fixed",left:"15px",top:"100px",display:this.props.open?"block":"none",minWidth:"250px",maxWidth:"95%",zIndex:"1500"},children:(0,xe.jsx)(Vr,{severity:this.props.severity||"error",onClose:function(){e.props.onClose&&e.props.onClose(!1)},children:this.props.message})})}}]),n}(e.Component),qr=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={activeTabIndex:0},e}return(0,i.Z)(s,[{key:"render",value:function(){var t=this;return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"tab",children:this.props.tabs.map((function(e,n){return e.renderButton(t.state.activeTabIndex==n,(function(){return t.onTabButtonClick(e,n)}),n)}))}),(0,xe.jsx)(e.Fragment,{children:this.props.tabs.length>0&&this.props.tabs[this.state.activeTabIndex].renderContent()})]})}},{key:"onTabButtonClick",value:function(e,t){var n=this;this.setState({activeTabIndex:t},(function(){n.props.onTabChanged&&n.props.onTabChanged(e,t)}))}}]),s}(e.Component),Yr=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,xe.jsx)("div",{className:"editor-sidebar",children:(0,xe.jsx)(qr,{tabs:this.props.tabs,onTabChanged:function(e){}})})}}]),n}(e.Component),Xr=e.forwardRef((function(t,n){var r=t.absolute,i=void 0!==r&&r,a=t.classes,o=t.className,s=t.component,l=void 0===s?"hr":s,u=t.flexItem,h=void 0!==u&&u,d=t.light,f=void 0!==d&&d,p=t.orientation,A=void 0===p?"horizontal":p,m=t.role,v=void 0===m?"hr"!==l?"separator":void 0:m,g=t.variant,y=void 0===g?"fullWidth":g,x=(0,Nt.Z)(t,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return e.createElement(l,(0,c.Z)({className:(0,Ft.Z)(a.root,o,"fullWidth"!==y&&a[y],i&&a.absolute,h&&a.flexItem,f&&a.light,"vertical"===A&&a.vertical),role:v,ref:n},x))})),Jr=(0,Ut.Z)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,Ot.Fq)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(Xr),Kr=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var t;return(0,r.Z)(this,s),(t=n.call(this)).fileInputRef=e.createRef(),t.projectInputRef=e.createRef(),t.dirInputRef=e.createRef(),t}return(0,i.Z)(s,[{key:"render",value:function(){var t=this;return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsxs)(Er,{style:{top:"38px"},anchorEl:this.props.anchorElem,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:Boolean(this.props.anchorElem&&!this.props.disabled),onClose:this.props.onClose,children:[(0,xe.jsx)(vn,{onClick:function(){t.props.onClose(),t.props.editorViewModel.getUserResponse("Discard current project and lose changes?",(function(){t.props.fileCommands.execute("new project")}))},children:"New Project"}),(0,xe.jsx)(vn,{onClick:function(){t.props.onClose(),t.props.editorViewModel.getUserResponse("Discard current project and lose changes?",(function(){t.projectInputRef.current.click()}))},children:"Load Project"}),(0,xe.jsx)(vn,{onClick:(0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.props.onClose(),e.next=3,t.props.fileCommands.execute("export project");case 3:case"end":return e.stop()}}),e)}))),children:"Save Project"}),(0,xe.jsx)(Jr,{}),(0,xe.jsx)(vn,{onClick:function(){t.props.onClose(),t.fileInputRef.current.click()},children:"Import File"}),(0,xe.jsx)(vn,{onClick:function(){t.props.onClose(),t.dirInputRef.current.click()},children:"Import Directory"}),(0,xe.jsx)(vn,{onClick:function(){t.props.onClose(),t.props.fileCommands.execute("export glb")},children:"Export Glb File"}),(0,xe.jsx)(vn,{onClick:function(){t.props.onClose(),t.props.fileCommands.execute("publish")},children:"Publish"}),(0,xe.jsx)(vn,{onClick:function(){window.location="/"},children:"Exit"})]}),(0,xe.jsx)("input",{ref:this.fileInputRef,type:"file",style:{display:"none"},onChange:function(e){t.props.fileCommands&&t.props.fileCommands.execute("import file",e.target.files)}}),(0,xe.jsx)("input",{ref:this.projectInputRef,type:"file",style:{display:"none"},accept:".zip",onChange:function(e){t.props.fileCommands&&t.props.fileCommands.execute("import project",e.target.files[0]),t.projectInputRef.current.value=""}}),(0,xe.jsx)("input",{ref:this.dirInputRef,type:"file",webkitdirectory:"",style:{display:"none"},onChange:function(e){t.props.fileCommands&&t.props.fileCommands.execute("import dir",e.target.files)}})]})}}]),s}(e.Component),$r=n(8737),ei=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,"Invalid argument: ".concat(e))}return(0,i.Z)(n)}((0,$r.Z)(Error)),ti=function(){function e(){(0,r.Z)(this,e),this.observers=[],this.map=new Map}return(0,i.Z)(e,[{key:"subscribe",value:function(e,t){if(!e)throw new ei("eventType");if(!t)throw new ei("observer");var n=this.map.get(e);if(void 0===n&&(n=[]),n.indexOf(t)>-1)throw Error("subscribe: already subscribed");n.push(t),this.map.set(e,n)}},{key:"unsubscribe",value:function(e,t){if(!e)throw new ei("eventType");if(!t)throw new ei("observer");var n=this.map.get(e);if(void 0!==n){var r=n.indexOf(t);r>-1&&this.map.set(e,this.observers.splice(r,1))}}},{key:"isSubscribed",value:function(e,t){if(!e)throw new ei("eventType");if(!t)throw new ei("observer");var n=this.map.get(e);return void 0!==n&&n.indexOf(t)>-1}},{key:"notifyAll",value:function(e){if(!e)throw new ei("event");var t=this.map.get(e.constructor);void 0!==t&&t.forEach((function(t){return t(e)}))}}]),e}(),ni=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;if((0,r.Z)(this,n),(e=t.call(this)).instance)throw new Error("only one instance of EventAggregator permitted");return e}return(0,i.Z)(n)}(ti);ni.instance=new ni;var ri=(0,i.Z)((function e(){(0,r.Z)(this,e)})),ii=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(ri),ai=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(ri),oi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(ri),si=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).domEvent=e,i}return(0,i.Z)(n)}(ri),li=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).intersect=e,i}return(0,i.Z)(n)}(ri),ui=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).material=e,i}return(0,i.Z)(n)}(ri),ci=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).object=e,a.intersect=i,a}return(0,i.Z)(n)}(ri),hi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).object=e,i}return(0,i.Z)(n)}(ri),di=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).object=e,i}return(0,i.Z)(n)}(ri),fi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).object=e,i}return(0,i.Z)(n)}(ri),pi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).object=e,i}return(0,i.Z)(n)}(ri),Ai=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(ri),mi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).settings=e,i}return(0,i.Z)(n)}(ri),vi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).type=e,i}return(0,i.Z)(n)}(ri),gi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(ri),yi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(ri),xi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(ri),bi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(ri),wi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(ri),Ci=function(){function e(){(0,r.Z)(this,e),this.redoStack=[],this.undoStack=[]}return(0,i.Z)(e,[{key:"execute",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var n,r=arguments;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,t.execute();case 3:n&&(this.redoStack=[],t.undoable&&this.undoStack.push(t),ni.instance.notifyAll(new ii));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"undo",value:function(){if(this.undoStack.length){var e=this.undoStack.pop();e.undo(),this.redoStack.push(e),ni.instance.notifyAll(new ii)}}},{key:"redo",value:function(){if(this.redoStack.length){var e=this.redoStack.pop();e.redo(),this.undoStack.push(e),ni.instance.notifyAll(new ii)}}},{key:"nextRedoCommand",get:function(){return this.redoStack.length?this.redoStack.slice(-1).pop():null}},{key:"nextUndoCommand",get:function(){return this.undoStack.length?this.undoStack.slice(-1).pop():null}}]),e}(),Ei=new Ci,Si=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).executeCommand=i.executeCommand.bind((0,jt.Z)(i)),i.state={nextUndoCmd:null,nextRedoCmd:null,deleteEnabled:!1},ni.instance.subscribe(ii,(function(){i.setState({nextUndoCmd:Ei.nextUndoCommand,nextRedoCmd:Ei.nextRedoCommand})})),ni.instance.subscribe(ci,(function(){i.setState({deleteEnabled:!0})})),ni.instance.subscribe(hi,(function(){i.setState({deleteEnabled:!1})})),i}return(0,i.Z)(n,[{key:"executeCommand",value:function(e){this.props.editCommands&&this.props.editCommands.execute(e),this.props.onClose()}},{key:"render",value:function(){var e,t,n,r,i=this;return(0,xe.jsxs)(Er,{style:{top:"38px"},anchorEl:this.props.anchorElem,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:Boolean(this.props.anchorElem&&!this.props.disabled),onClose:this.props.onClose,children:[(0,xe.jsx)(vn,{onClick:function(){return i.executeCommand("translate")},children:"Translate 1"}),(0,xe.jsx)(vn,{onClick:function(){return i.executeCommand("rotate")},children:"Rotate 2"}),(0,xe.jsx)(vn,{onClick:function(){return i.executeCommand("scale")},children:"Scale 3"}),(0,xe.jsx)(Jr,{}),(0,xe.jsx)(vn,{disabled:!this.state.deleteEnabled,onClick:function(){return i.executeCommand("delete")},children:"Delete del"}),(0,xe.jsx)(Jr,{}),(0,xe.jsxs)(vn,{disabled:!this.state.nextUndoCmd,onClick:function(){return i.executeCommand("undo")},children:["Undo "+(null!==(e=null===(t=this.state.nextUndoCmd)||void 0===t?void 0:t.name)&&void 0!==e?e:"")," ctrl+z"]}),(0,xe.jsxs)(vn,{disabled:!this.state.nextRedoCmd,onClick:function(){return i.executeCommand("redo")},children:["Redo "+(null!==(n=null===(r=this.state.nextRedoCmd)||void 0===r?void 0:r.name)&&void 0!==n?n:"")," ctrl+r"]})]})}}]),n}(e.PureComponent),Ii=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this;return(0,xe.jsxs)(Er,{style:{top:"38px"},anchorEl:this.props.anchorElem,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:Boolean(this.props.anchorElem&&!this.props.disabled),onClose:this.props.onClose,children:[(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Sphere"),e.props.onClose()},children:"Sphere"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Box"),e.props.onClose()},children:"Box"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Cylinder"),e.props.onClose()},children:"Cylinder"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Torus"),e.props.onClose()},children:"Torus"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Capsule"),e.props.onClose()},children:"Capsule"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Tetrahedron"),e.props.onClose()},children:"Tetrahedron"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Sphere"),e.props.onClose()},children:"Sphere"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Icosahedron"),e.props.onClose()},children:"Icosahedron"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Tetrahedron"),e.props.onClose()},children:"Tetrahedron"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Dodecahedron"),e.props.onClose()},children:"Dodecahedron"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Lathe"),e.props.onClose()},children:"Lathe"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Plane"),e.props.onClose()},children:"Plane"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Circle"),e.props.onClose()},children:"Circle"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Ring"),e.props.onClose()},children:"Ring"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("primitive.Tube"),e.props.onClose()},children:"Tube"}),(0,xe.jsx)(Jr,{}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("light.PointLight"),e.props.onClose()},children:"Point Light"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("light.DirectionalLight"),e.props.onClose()},children:"Directional Light"}),(0,xe.jsx)(vn,{onClick:function(){e.props.addCommands&&e.props.addCommands.execute("light.SpotLight"),e.props.onClose()},children:"Spotlight"})]})}}]),n}(e.PureComponent),Mi=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).executeCommand=i.executeCommand.bind((0,jt.Z)(i)),i.state={},i}return(0,i.Z)(n,[{key:"executeCommand",value:function(e){this.props.viewCommands&&this.props.viewCommands.execute(e),this.props.onClose()}},{key:"render",value:function(){var e=this;return(0,xe.jsxs)(Er,{style:{top:"38px"},anchorEl:this.props.anchorElem,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:Boolean(this.props.anchorElem),onClose:this.props.onClose,children:[(0,xe.jsx)(vn,{onClick:function(){return e.executeCommand("frame scene")},children:"Frame Scene"}),(0,xe.jsx)(vn,{onClick:function(){return e.executeCommand("frame selection")},children:"Frame Selection"})]})}}]),n}(e.PureComponent),_i=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(e){var t;return(0,r.Z)(this,s),(t=n.call(this,e)).state={fileAnchorElem:null,editAnchorElem:null,addAnchorElem:null,viewAnchorElem:null},t.onFileMenuClick=t.onFileMenuClick.bind((0,jt.Z)(t)),t.onEditMenuClick=t.onEditMenuClick.bind((0,jt.Z)(t)),t.onAddMenuClick=t.onAddMenuClick.bind((0,jt.Z)(t)),t.onViewMenuClick=t.onViewMenuClick.bind((0,jt.Z)(t)),t}return(0,i.Z)(s,[{key:"render",value:function(){var t=this;return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsxs)("div",{className:"main-menu",children:[(0,xe.jsx)("div",{onClick:this.onFileMenuClick,children:"File"}),(0,xe.jsx)("div",{onClick:this.onEditMenuClick,children:"Edit"}),(0,xe.jsx)("div",{onClick:this.onAddMenuClick,children:"Add"}),(0,xe.jsx)("div",{onClick:this.onViewMenuClick,children:"View"}),(0,xe.jsx)("div",{children:(0,xe.jsx)("a",{href:"/help/editing",target:"_blank",children:"Help"})})]}),(0,xe.jsx)(Kr,{anchorElem:this.state.fileAnchorElem,disabled:!1,onClose:function(){t.setState({fileAnchorElem:null})},fileCommands:this.props.fileCommands,editorViewModel:this.props.editorViewModel}),(0,xe.jsx)(Si,{anchorElem:this.state.editAnchorElem,disabled:!1,onClose:function(){t.setState({editAnchorElem:null})},editCommands:this.props.editCommands}),(0,xe.jsx)(Ii,{anchorElem:this.state.addAnchorElem,disabled:!1,onClose:function(){t.setState({addAnchorElem:null})},addCommands:this.props.addCommands}),(0,xe.jsx)(Mi,{anchorElem:this.state.viewAnchorElem,disabled:!1,onClose:function(){t.setState({viewAnchorElem:null})},viewCommands:this.props.viewCommands})]})}},{key:"onFileMenuClick",value:function(e){this.setState({fileAnchorElem:e.currentTarget})}},{key:"onEditMenuClick",value:function(e){this.setState({editAnchorElem:e.currentTarget})}},{key:"onAddMenuClick",value:function(e){this.setState({addAnchorElem:e.currentTarget})}},{key:"onViewMenuClick",value:function(e){this.setState({viewAnchorElem:e.currentTarget})}}]),s}(e.Component),ki=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(t){var i;return(0,r.Z)(this,s),(i=n.call(this,t)).stickRef=e.createRef(),i.onPointerDown=i.onPointerDown.bind((0,jt.Z)(i)),i.onPointerMove=i.onPointerMove.bind((0,jt.Z)(i)),i.onPointerUp=i.onPointerUp.bind((0,jt.Z)(i)),i}return(0,i.Z)(s,[{key:"render",value:function(){return(0,xe.jsxs)("div",{style:{width:"128px",position:"absolute",left:"10px",top:"10px",touchAction:"none"},onPointerMove:this.onPointerMove,children:[(0,xe.jsx)("img",{src:this.props.baseImageSrc,style:{"-webkit-user-drag":"none",userSelect:"none",width:"80px",height:"80px"}}),(0,xe.jsx)("div",{ref:this.stickRef,style:{position:"absolute",left:"20px",top:"20px"},onPointerDown:this.onPointerDown,children:(0,xe.jsx)("img",{src:this.props.stickImageSrc,style:{"-webkit-user-drag":"none",userSelect:"none",width:"40px",height:"40px"}})})]})}},{key:"componentDidMount",value:function(){this.dragStart=null,this.touchId=null,this.active=!1,document.addEventListener("pointerup",this.onPointerUp),document.addEventListener("pointerleave",this.onPointerUp)}},{key:"onPointerDown",value:function(e){e.stopPropagation(),this.active=!0,this.stickRef.current.style.transition="0s",e.preventDefault(),e.stopPropagation(),e.changedTouches?this.dragStart={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:this.dragStart={x:e.clientX,y:e.clientY},e.changedTouches&&(this.touchId=e.changedTouches[0].identifier),this.onTouch&&this.onTouch()}},{key:"onPointerMove",value:function(e){if(e.stopPropagation(),this.active){var t=null;if(e.changedTouches){for(var n=0;n<e.changedTouches.length;n++)this.touchId==e.changedTouches[n].identifier&&(t=n,e.clientX=e.changedTouches[n].clientX,e.clientY=e.changedTouches[n].clientY);if(null==t)return}var r=e.clientX-this.dragStart.x,i=e.clientY-this.dragStart.y,a=Math.atan2(i,r),o=Math.min(this.props.maxDistance,Math.hypot(r,i)),s=o*Math.cos(a),l=o*Math.sin(a);this.stickRef.current.style.transform="translate3d(".concat(s,"px, ").concat(l,"px, 0px)");var u=o<this.props.deadzone?0:this.props.maxDistance/(this.props.maxDistance-this.props.deadzone)*(o-this.props.deadzone),c=u*Math.cos(a),h=u*Math.sin(a);this.props.onMove&&this.props.onMove(c,h)}}},{key:"onPointerUp",value:function(e){e.stopPropagation(),this.active&&(e.changedTouches&&this.touchId!=e.changedTouches[0].identifier||(this.stickRef.current.style.transition=".2s",this.stickRef.current.style.transform="translate3d(0px, 0px, 0px)",this.touchId=null,this.active=!1,this.props.onRelease&&this.props.onRelease()))}}]),s}(e.Component),Bi=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.color,s=void 0===o?"default":o,l=t.component,u=void 0===l?"button":l,h=t.disabled,d=void 0!==h&&h,f=t.disableElevation,p=void 0!==f&&f,A=t.disableFocusRipple,m=void 0!==A&&A,v=t.endIcon,g=t.focusVisibleClassName,y=t.fullWidth,x=void 0!==y&&y,b=t.size,w=void 0===b?"medium":b,C=t.startIcon,E=t.type,S=void 0===E?"button":E,I=t.variant,M=void 0===I?"text":I,_=(0,Nt.Z)(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),k=C&&e.createElement("span",{className:(0,Ft.Z)(i.startIcon,i["iconSize".concat((0,on.Z)(w))])},C),B=v&&e.createElement("span",{className:(0,Ft.Z)(i.endIcon,i["iconSize".concat((0,on.Z)(w))])},v);return e.createElement(an,(0,c.Z)({className:(0,Ft.Z)(i.root,i[M],a,"inherit"===s?i.colorInherit:"default"!==s&&i["".concat(M).concat((0,on.Z)(s))],"medium"!==w&&[i["".concat(M,"Size").concat((0,on.Z)(w))],i["size".concat((0,on.Z)(w))]],p&&i.disableElevation,d&&i.disabled,x&&i.fullWidth),component:u,disabled:d,focusRipple:!m,focusVisibleClassName:(0,Ft.Z)(i.focusVisible,g),ref:n,type:S},_),e.createElement("span",{className:i.label},k,r,B))})),Ti=(0,Ut.Z)((function(e){return{root:(0,c.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,Ot.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,Ot.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,Ot.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,Ot.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,Ot.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,Ot.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,Ot.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(Bi),Ri=n(4006),Di={entering:{opacity:1},entered:{opacity:1}},Pi={enter:Ri.x9.enteringScreen,exit:Ri.x9.leavingScreen},Li=e.forwardRef((function(t,n){var r=t.children,i=t.disableStrictModeCompat,a=void 0!==i&&i,o=t.in,s=t.onEnter,l=t.onEntered,u=t.onEntering,h=t.onExit,d=t.onExited,f=t.onExiting,p=t.style,A=t.TransitionComponent,m=void 0===A?Yn:A,v=t.timeout,g=void 0===v?Pi:v,y=(0,Nt.Z)(t,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),x=Jn(),b=x.unstable_strictMode&&!a,w=e.useRef(null),C=(0,Zt.Z)(r.ref,n),E=(0,Zt.Z)(b?w:void 0,C),S=function(e){return function(t,n){if(e){var r=b?[w.current,t]:[t,n],i=(0,Un.Z)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},I=S(u),M=S((function(e,t){Kn(e);var n=$n({style:p,timeout:g},{mode:"enter"});e.style.webkitTransition=x.transitions.create("opacity",n),e.style.transition=x.transitions.create("opacity",n),s&&s(e,t)})),_=S(l),k=S(f),B=S((function(e){var t=$n({style:p,timeout:g},{mode:"exit"});e.style.webkitTransition=x.transitions.create("opacity",t),e.style.transition=x.transitions.create("opacity",t),h&&h(e)})),T=S(d);return e.createElement(m,(0,c.Z)({appear:!0,in:o,nodeRef:b?w:void 0,onEnter:M,onEntered:_,onEntering:I,onExit:B,onExited:T,onExiting:k,timeout:g},y),(function(t,n){return e.cloneElement(r,(0,c.Z)({style:(0,c.Z)({opacity:0,visibility:"exited"!==t||o?void 0:"hidden"},Di[t],p,r.props.style),ref:E},n))}))})),Qi=Li,ji=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.invisible,s=void 0!==o&&o,l=t.open,u=t.transitionDuration,h=t.TransitionComponent,d=void 0===h?Qi:h,f=(0,Nt.Z)(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return e.createElement(d,(0,c.Z)({in:l,timeout:u},f),e.createElement("div",{className:(0,Ft.Z)(i.root,a,s&&i.invisible),"aria-hidden":!0,ref:n},r))})),Ni=(0,Ut.Z)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(ji),Fi={enter:Ri.x9.enteringScreen,exit:Ri.x9.leavingScreen},Ui=e.forwardRef((function(t,n){var r=t.BackdropProps,i=t.children,a=t.classes,o=t.className,s=t.disableBackdropClick,l=void 0!==s&&s,u=t.disableEscapeKeyDown,h=void 0!==u&&u,d=t.fullScreen,f=void 0!==d&&d,p=t.fullWidth,A=void 0!==p&&p,m=t.maxWidth,v=void 0===m?"sm":m,g=t.onBackdropClick,y=t.onClose,x=t.onEnter,b=t.onEntered,w=t.onEntering,C=t.onEscapeKeyDown,E=t.onExit,S=t.onExited,I=t.onExiting,M=t.open,_=t.PaperComponent,k=void 0===_?ar:_,B=t.PaperProps,T=void 0===B?{}:B,R=t.scroll,D=void 0===R?"paper":R,P=t.TransitionComponent,L=void 0===P?Qi:P,Q=t.transitionDuration,j=void 0===Q?Fi:Q,N=t.TransitionProps,F=t["aria-describedby"],U=t["aria-labelledby"],O=(0,Nt.Z)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),Z=e.useRef();return e.createElement(Fn,(0,c.Z)({className:(0,Ft.Z)(a.root,o),BackdropComponent:Ni,BackdropProps:(0,c.Z)({transitionDuration:j},r),closeAfterTransition:!0},l?{disableBackdropClick:l}:{},{disableEscapeKeyDown:h,onEscapeKeyDown:C,onClose:y,open:M,ref:n},O),e.createElement(L,(0,c.Z)({appear:!0,in:M,timeout:j,onEnter:x,onEntering:w,onEntered:b,onExit:E,onExiting:I,onExited:S,role:"none presentation"},N),e.createElement("div",{className:(0,Ft.Z)(a.container,a["scroll".concat((0,on.Z)(D))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===Z.current&&(Z.current=null,g&&g(e),!l&&y&&y(e,"backdropClick"))},onMouseDown:function(e){Z.current=e.target}},e.createElement(k,(0,c.Z)({elevation:24,role:"dialog","aria-describedby":F,"aria-labelledby":U},T,{className:(0,Ft.Z)(a.paper,a["paperScroll".concat((0,on.Z)(D))],a["paperWidth".concat((0,on.Z)(String(v)))],T.className,f&&a.paperFullScreen,A&&a.paperFullWidth)}),i))))})),Oi=(0,Ut.Z)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,cn.Z)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,cn.Z)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,cn.Z)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,cn.Z)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,cn.Z)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(Ui),Zi=e.forwardRef((function(t,n){var r=t.disableSpacing,i=void 0!==r&&r,a=t.classes,o=t.className,s=(0,Nt.Z)(t,["disableSpacing","classes","className"]);return e.createElement("div",(0,c.Z)({className:(0,Ft.Z)(a.root,o,!i&&a.spacing),ref:n},s))})),zi=(0,Ut.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(Zi),Gi=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.dividers,o=void 0!==a&&a,s=(0,Nt.Z)(t,["classes","className","dividers"]);return e.createElement("div",(0,c.Z)({className:(0,Ft.Z)(r.root,i,o&&r.dividers),ref:n},s))})),Hi=(0,Ut.Z)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(Gi),Vi=n(9493);function Wi(e){return(0,xe.jsxs)(Oi,{fullWidth:!1,maxWidth:"md",open:e.open,children:[(0,xe.jsxs)(Hi,{children:[(0,xe.jsxs)("div",{style:{color:"#f44",display:"flex",alignItems:"center"},children:[(0,xe.jsx)(Vi.Z,{fontSize:"large",color:"#f44"}),"\xa0Alert"]}),(0,xe.jsx)("br",{}),(0,xe.jsx)("div",{style:{color:"#aaa",paddingTop:"2   0px"},dangerouslySetInnerHTML:{__html:e.message}})]}),(0,xe.jsxs)(zi,{children:[(0,xe.jsx)(Ti,{onClick:e.onOk,children:(0,xe.jsx)("span",{style:{color:"#f44",fontWeight:"bold",fontSize:"large"},children:e.okText})}),(0,xe.jsx)(Ti,{onClick:e.onCancel,children:(0,xe.jsx)("span",{style:{color:"#484",fontWeight:"bold",fontSize:"large"},children:e.cancelText})})]})]})}Wi.defaultProps={okText:"OK",cancelText:"CANCEL"};var qi=n(7762),Yi=n(3272),Xi=function(){function e(t){(0,r.Z)(this,e),this._center=new Yi.Pa4,this._size=new Yi.Pa4,this._bSphere=new Yi.aLr,this._bBox=new Yi.ZzF,this.setFromModel(t)}return(0,i.Z)(e,[{key:"setFromModel",value:function(e){if(!e||!(e instanceof Yi.Tme))throw new ei("model");this._bBox.setFromObject(e),this._bBox.getCenter(this._center),this._bBox.getSize(this._size),this._bBox.getBoundingSphere(this._bSphere)}},{key:"boundingBox",get:function(){return this._bBox}},{key:"boundingSphere",get:function(){return this._bSphere}},{key:"size",get:function(){return this._size}},{key:"center",get:function(){return this._center}}]),e}(),Ji={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"},Ki=function(){function e(){(0,r.Z)(this,e),this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}return(0,i.Z)(e,[{key:"setSize",value:function(){}},{key:"render",value:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},{key:"dispose",value:function(){}}]),e}(),$i=new Yi.iKG(-1,1,1,-1,0,1),ea=new Yi.u9r;ea.setAttribute("position",new Yi.a$l([-1,3,0,-1,-1,0,3,-1,0],3)),ea.setAttribute("uv",new Yi.a$l([0,2,0,0,2,0],2));var ta=function(){function e(t){(0,r.Z)(this,e),this._mesh=new Yi.Kj0(ea,t)}return(0,i.Z)(e,[{key:"dispose",value:function(){this._mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this._mesh,$i)}},{key:"material",get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}]),e}(),na=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).textureID=void 0!==i?i:"tDiffuse",e instanceof Yi.jyz?(a.uniforms=e.uniforms,a.material=e):e&&(a.uniforms=Yi.rDY.clone(e.uniforms),a.material=new Yi.jyz({defines:Object.assign({},e.defines),uniforms:a.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),a.fsQuad=new ta(a.material),a}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}},{key:"dispose",value:function(){this.material.dispose(),this.fsQuad.dispose()}}]),n}(Ki),ra=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).scene=e,a.camera=i,a.clear=!0,a.needsSwap=!1,a.inverse=!1,a}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){var r,i,a=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(r=0,i=1):(r=1,i=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.buffers.stencil.setFunc(a.ALWAYS,r,4294967295),o.buffers.stencil.setClear(i),o.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(a.EQUAL,1,4294967295),o.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.buffers.stencil.setLocked(!0)}}]),n}(Ki),ia=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).needsSwap=!1,e}return(0,i.Z)(n,[{key:"render",value:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}]),n}(Ki),aa=function(){function e(t,n){if((0,r.Z)(this,e),this.renderer=t,void 0===n){var i=t.getSize(new Yi.FM8);this._pixelRatio=t.getPixelRatio(),this._width=i.width,this._height=i.height,(n=new Yi.dd2(this._width*this._pixelRatio,this._height*this._pixelRatio)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new na(Ji),this.clock=new Yi.SUY}return(0,i.Z)(e,[{key:"swapBuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}},{key:"addPass",value:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"insertPass",value:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"removePass",value:function(e){var t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}},{key:"render",value:function(e){void 0===e&&(e=this.clock.getDelta());for(var t=this.renderer.getRenderTarget(),n=!1,r=0,i=this.passes.length;r<i;r++){var a=this.passes[r];if(!1!==a.enabled){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),a.needsSwap){if(n){var o=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==ra&&(a instanceof ra?n=!0:a instanceof ia&&(n=!1))}}this.renderer.setRenderTarget(t)}},{key:"reset",value:function(e){if(void 0===e){var t=this.renderer.getSize(new Yi.FM8);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}},{key:"setSize",value:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}},{key:"dispose",value:function(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}]),e}(),oa=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o,s){var l;return(0,r.Z)(this,n),(l=t.call(this)).scene=e,l.camera=i,l.overrideMaterial=a,l.clearColor=o,l.clearAlpha=void 0!==s?s:0,l.clear=!0,l.clearDepth=!1,l.needsSwap=!1,l._oldClearColor=new Yi.Ilk,l}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){var r,i,a=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=a}}]),n}(Ki),sa={defines:{DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tColor:{value:null},tDepth:{value:null},focus:{value:1},aspect:{value:1},aperture:{value:.025},maxblur:{value:.01},nearClip:{value:1},farClip:{value:1e3}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\t#include <common>\n\n\t\tvarying vec2 vUv;\n\n\t\tuniform sampler2D tColor;\n\t\tuniform sampler2D tDepth;\n\n\t\tuniform float maxblur; // max blur amount\n\t\tuniform float aperture; // aperture - bigger values for shallower depth of field\n\n\t\tuniform float nearClip;\n\t\tuniform float farClip;\n\n\t\tuniform float focus;\n\t\tuniform float aspect;\n\n\t\t#include <packing>\n\n\t\tfloat getDepth( const in vec2 screenPosition ) {\n\t\t\t#if DEPTH_PACKING == 1\n\t\t\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );\n\t\t\t#else\n\t\t\treturn texture2D( tDepth, screenPosition ).x;\n\t\t\t#endif\n\t\t}\n\n\t\tfloat getViewZ( const in float depth ) {\n\t\t\t#if PERSPECTIVE_CAMERA == 1\n\t\t\treturn perspectiveDepthToViewZ( depth, nearClip, farClip );\n\t\t\t#else\n\t\t\treturn orthographicDepthToViewZ( depth, nearClip, farClip );\n\t\t\t#endif\n\t\t}\n\n\n\t\tvoid main() {\n\n\t\t\tvec2 aspectcorrect = vec2( 1.0, aspect );\n\n\t\t\tfloat viewZ = getViewZ( getDepth( vUv ) );\n\n\t\t\tfloat factor = ( focus + viewZ ); // viewZ is <= 0, so this is a difference equation\n\n\t\t\tvec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );\n\n\t\t\tvec2 dofblur9 = dofblur * 0.9;\n\t\t\tvec2 dofblur7 = dofblur * 0.7;\n\t\t\tvec2 dofblur4 = dofblur * 0.4;\n\n\t\t\tvec4 col = vec4( 0.0 );\n\n\t\t\tcol += texture2D( tColor, vUv.xy );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );\n\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\n\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );\n\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );\n\n\t\t\tgl_FragColor = col / 41.0;\n\t\t\tgl_FragColor.a = 1.0;\n\n\t\t}"},la=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;(0,r.Z)(this,n),(o=t.call(this)).scene=e,o.camera=i;var s=void 0!==a.focus?a.focus:1,l=void 0!==a.aspect?a.aspect:i.aspect,u=void 0!==a.aperture?a.aperture:.025,c=void 0!==a.maxblur?a.maxblur:1;o.renderTargetDepth=new Yi.dd2(1,1,{minFilter:Yi.TyD,magFilter:Yi.TyD}),o.renderTargetDepth.texture.name="BokehPass.depth",o.materialDepth=new Yi.lRF,o.materialDepth.depthPacking=Yi.mSO,o.materialDepth.blending=Yi.jFi;var h=sa,d=Yi.rDY.clone(h.uniforms);return d.tDepth.value=o.renderTargetDepth.texture,d.focus.value=s,d.aspect.value=l,d.aperture.value=u,d.maxblur.value=c,d.nearClip.value=i.near,d.farClip.value=i.far,o.materialBokeh=new Yi.jyz({defines:Object.assign({},h.defines),uniforms:d,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}),o.uniforms=d,o.needsSwap=!1,o.fsQuad=new ta(o.materialBokeh),o._oldClearColor=new Yi.Ilk,o}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){this.scene.overrideMaterial=this.materialDepth,e.getClearColor(this._oldClearColor);var r=e.getClearAlpha(),i=e.autoClear;e.autoClear=!1,e.setClearColor(16777215),e.setClearAlpha(1),e.setRenderTarget(this.renderTargetDepth),e.clear(),e.render(this.scene,this.camera),this.uniforms.tColor.value=n.texture,this.uniforms.nearClip.value=this.camera.near,this.uniforms.farClip.value=this.camera.far,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),e.clear(),this.fsQuad.render(e)),this.scene.overrideMaterial=null,e.setClearColor(this._oldClearColor),e.setClearAlpha(r),e.autoClear=i}},{key:"setSize",value:function(e,t){this.renderTargetDepth.setSize(e,t)}},{key:"dispose",value:function(){this.renderTargetDepth.dispose(),this.materialDepth.dispose(),this.materialBokeh.dispose(),this.fsQuad.dispose()}}]),n}(Ki),ua={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Yi.Ilk(0)},defaultOpacity:{value:0}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}"},ca=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){var s;(0,r.Z)(this,n),(s=t.call(this)).strength=void 0!==i?i:1,s.radius=a,s.threshold=o,s.resolution=void 0!==e?new Yi.FM8(e.x,e.y):new Yi.FM8(256,256),s.clearColor=new Yi.Ilk(0,0,0),s.renderTargetsHorizontal=[],s.renderTargetsVertical=[],s.nMips=5;var l=Math.round(s.resolution.x/2),u=Math.round(s.resolution.y/2);s.renderTargetBright=new Yi.dd2(l,u),s.renderTargetBright.texture.name="UnrealBloomPass.bright",s.renderTargetBright.texture.generateMipmaps=!1;for(var c=0;c<s.nMips;c++){var h=new Yi.dd2(l,u);h.texture.name="UnrealBloomPass.h"+c,h.texture.generateMipmaps=!1,s.renderTargetsHorizontal.push(h);var d=new Yi.dd2(l,u);d.texture.name="UnrealBloomPass.v"+c,d.texture.generateMipmaps=!1,s.renderTargetsVertical.push(d),l=Math.round(l/2),u=Math.round(u/2)}var f=ua;s.highPassUniforms=Yi.rDY.clone(f.uniforms),s.highPassUniforms.luminosityThreshold.value=o,s.highPassUniforms.smoothWidth.value=.01,s.materialHighPassFilter=new Yi.jyz({uniforms:s.highPassUniforms,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,defines:{}}),s.separableBlurMaterials=[];var p=[3,5,7,9,11];l=Math.round(s.resolution.x/2),u=Math.round(s.resolution.y/2);for(var A=0;A<s.nMips;A++)s.separableBlurMaterials.push(s.getSeperableBlurMaterial(p[A])),s.separableBlurMaterials[A].uniforms.texSize.value=new Yi.FM8(l,u),l=Math.round(l/2),u=Math.round(u/2);s.compositeMaterial=s.getCompositeMaterial(s.nMips),s.compositeMaterial.uniforms.blurTexture1.value=s.renderTargetsVertical[0].texture,s.compositeMaterial.uniforms.blurTexture2.value=s.renderTargetsVertical[1].texture,s.compositeMaterial.uniforms.blurTexture3.value=s.renderTargetsVertical[2].texture,s.compositeMaterial.uniforms.blurTexture4.value=s.renderTargetsVertical[3].texture,s.compositeMaterial.uniforms.blurTexture5.value=s.renderTargetsVertical[4].texture,s.compositeMaterial.uniforms.bloomStrength.value=i,s.compositeMaterial.uniforms.bloomRadius.value=.1,s.compositeMaterial.needsUpdate=!0;s.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],s.bloomTintColors=[new Yi.Pa4(1,1,1),new Yi.Pa4(1,1,1),new Yi.Pa4(1,1,1),new Yi.Pa4(1,1,1),new Yi.Pa4(1,1,1)],s.compositeMaterial.uniforms.bloomTintColors.value=s.bloomTintColors;var m=Ji;return s.copyUniforms=Yi.rDY.clone(m.uniforms),s.copyUniforms.opacity.value=1,s.materialCopy=new Yi.jyz({uniforms:s.copyUniforms,vertexShader:m.vertexShader,fragmentShader:m.fragmentShader,blending:Yi.WMw,depthTest:!1,depthWrite:!1,transparent:!0}),s.enabled=!0,s.needsSwap=!1,s._oldClearColor=new Yi.Ilk,s.oldClearAlpha=1,s.basic=new Yi.vBJ,s.fsQuad=new ta(null),s}return(0,i.Z)(n,[{key:"dispose",value:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(var t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(var n=0;n<this.separableBlurMaterials.length;n++)this.separableBlurMaterials[n].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}},{key:"setSize",value:function(e,t){var n=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(n,r);for(var i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,r),this.renderTargetsVertical[i].setSize(n,r),this.separableBlurMaterials[i].uniforms.texSize.value=new Yi.FM8(n,r),n=Math.round(n/2),r=Math.round(r/2)}},{key:"render",value:function(e,t,r,i,a){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();var o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),a&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=r.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);for(var s=this.renderTargetBright,l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=s.texture,this.separableBlurMaterials[l].uniforms.direction.value=n.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=n.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),s=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}},{key:"getSeperableBlurMaterial",value:function(e){return new Yi.jyz({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new Yi.FM8(.5,.5)},direction:{value:new Yi.FM8(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}},{key:"getCompositeMaterial",value:function(e){return new Yi.jyz({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}"})}}]),n}(Ki);ca.BlurDirectionX=new Yi.FM8(1,0),ca.BlurDirectionY=new Yi.FM8(0,1);var ha=function(){function e(t){if((0,r.Z)(this,e),!t||!(t instanceof Yi.CP7))throw new ei("renderer");this._renderer=t;var n=new Yi.FM8;t.getSize(n),this._composer=new aa(t),this._composer.setSize(n.x,n.y)}return(0,i.Z)(e,[{key:"dispose",value:function(){this._composer.passes.forEach((function(e){e.dispose&&e.dispose()}))}},{key:"deleteAllPasses",value:function(){this.dispose(),this._composer.passes=[]}},{key:"composer",get:function(){return this._composer}},{key:"addPass",value:function(e){this._composer.addPass(e)}},{key:"removePass",value:function(e){this._composer.removePass(e),this._composer.passes.length>0&&(this._composer.passes[this._composer.passes.length-1].renderToScreen=!0)}},{key:"enablePass",value:function(e,t){e.enabled=t}},{key:"setSize",value:function(e,t){e&&t&&this._composer.setSize(e,t)}},{key:"render",value:function(e,t){this._composer.render(e,t)}},{key:"createRenderPass",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new oa(e,t);return r.clearAlpha=n,r}},{key:"createDofPass",value:function(e,t,n,r,i){return new la(e,t,{focus:n,aperture:r,maxblur:i,width:512,height:512,aspect:1})}},{key:"createBloomPass",value:function(e,t,n){return new ca(new Yi.FM8(1024,1024),3*t,n,e)}},{key:"setCamera",value:function(e){this._composer.passes.forEach((function(t){(t instanceof oa||t instanceof la)&&(t.camera=e)}))}}]),e}(),da=new Yi.Pa4,fa=new Yi.$V,pa=new Yi.Pa4,Aa=function(){function e(t,n){(0,r.Z)(this,e),this.object=t,this.domElement=n,this.hasFocus=!1,this.enabled=!0,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.mouseDragOn=!1,this.autoSpeedFactor=0,this.pointerX=0,this.pointerY=0,this.pointerDeltaX=0,this.pointerDeltaY=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.virtualJoystickDx=0,this.virtualJoystickDy=0,this.viewHalfX=0,this.viewHalfY=0,this.lat=0,this.lon=0,this.targetPosition=new Yi.Pa4,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.domElement.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this.handleResize(),this.setOrientation()}return(0,i.Z)(e,[{key:"dispose",value:function(){this.domElement.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"setFocus",value:function(e){this.hasFocus=e,this.pointerDeltaX=0,this.pointerDeltaY=0,this.moveBackward=!1,this.moveForward=!1,this.moveLeft=!1,this.moveRight=!1}},{key:"blur",value:function(){this.hasFocus}},{key:"onPointerDown",value:function(e){!1!==e.isPrimary&&(this.pointerX=e.clientX,this.pointerY=e.clientY,this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp))}},{key:"onPointerMove",value:function(e){!1!==e.isPrimary&&(this.pointerDeltaX=this.pointerX-e.clientX,this.pointerDeltaY=this.pointerY-e.clientY,this.pointerX=e.clientX,this.pointerY=e.clientY,this.lon-=this.pointerDeltaX*this.lookSpeed,this.lat-=this.pointerDeltaY*this.lookSpeed,this.lat=Math.max(-85,Math.min(85,this.lat)))}},{key:"onPointerUp",value:function(e){!1!==e.isPrimary&&(this.pointerDeltaX=0,this.pointerDeltaY=0,this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp))}},{key:"setOrientation",value:function(){var e=this.object.quaternion;da.set(0,0,-1).applyQuaternion(e),fa.setFromVector3(da),this.lat=90-Yi.M8C.radToDeg(fa.phi),this.lon=Yi.M8C.radToDeg(fa.theta)}},{key:"getState",value:function(){return{matrix:this.object.matrix.clone(),controllerType:"firstperson"}}},{key:"setState",value:function(e){this.object.quaternion.setFromRotationMatrix(e.matrix),this.object.position.setFromMatrixPosition(e.matrix),this.setOrientation(this)}},{key:"handleResize",value:function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)}},{key:"onKeyDown",value:function(e){if(this.hasFocus)switch(e.code){case"ArrowUp":case"KeyW":this.moveForward=!0;break;case"ArrowLeft":case"KeyA":this.moveLeft=!0;break;case"ArrowDown":case"KeyS":this.moveBackward=!0;break;case"ArrowRight":case"KeyD":this.moveRight=!0;break;case"KeyR":this.moveUp=!0;break;case"KeyF":this.moveDown=!0}}},{key:"onKeyUp",value:function(e){if(this.hasFocus)switch(e.code){case"ArrowUp":case"KeyW":this.moveForward=!1;break;case"ArrowLeft":case"KeyA":this.moveLeft=!1;break;case"ArrowDown":case"KeyS":this.moveBackward=!1;break;case"ArrowRight":case"KeyD":this.moveRight=!1;break;case"KeyR":this.moveUp=!1;break;case"KeyF":this.moveDown=!1}}},{key:"lookAt",value:function(e,t,n){return e.isVector3?pa.copy(e):pa.set(e,t,n),this.object.lookAt(pa),this.setOrientation(),this}},{key:"update",value:function(e){if(!1!==this.enabled){var t=this.object.position.y;if(this.heightSpeed){var n=Yi.M8C.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=e*(n*this.heightCoef)}else this.autoSpeedFactor=0;var r=e*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(r+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(r),this.moveLeft&&this.object.translateX(-r),this.moveRight&&this.object.translateX(r),this.object.translateX(.1*r*this.virtualJoystickDx),this.object.translateZ(.1*r*this.virtualJoystickDy),this.moveUp&&this.object.translateY(r),this.moveDown&&this.object.translateY(-r);var i=Yi.M8C.degToRad(90-this.lat),a=Yi.M8C.degToRad(this.lon);this.constrainVertical&&(i=Yi.M8C.mapLinear(i,0,Math.PI,this.verticalMin,this.verticalMax));var o=this.object.position;this.targetPosition.setFromSphericalCoords(1,i,a).add(o),this.object.lookAt(this.targetPosition),this.moveUp||this.moveDown||(this.object.position.y=t)}}},{key:"onVirtualJoyStickMove",value:function(e,t){this.virtualJoystickDx=e,this.virtualJoystickDy=t}},{key:"onVirtualJoyStickTouch",value:function(){}},{key:"onVirtualJoyStickRelease",value:function(){this.virtualJoystickDx=0,this.virtualJoystickDy=0}}]),e}(),ma=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,n),(i=t.call(this,e)).isReflector=!0,i.type="Reflector",i.camera=new Yi.cPb;var o=(0,jt.Z)(i),s=void 0!==a.color?new Yi.Ilk(a.color):new Yi.Ilk(8355711),l=a.textureWidth||512,u=a.textureHeight||512,c=a.clipBias||0,h=a.shader||n.ReflectorShader,d=void 0!==a.multisample?a.multisample:4,f=new Yi.JOQ,p=new Yi.Pa4,A=new Yi.Pa4,m=new Yi.Pa4,v=new Yi.yGw,g=new Yi.Pa4(0,0,-1),y=new Yi.Ltg,x=new Yi.Pa4,b=new Yi.Pa4,w=new Yi.Ltg,C=new Yi.yGw,E=i.camera,S=new Yi.dd2(l,u,{samples:d,type:Yi.cLu}),I=new Yi.jyz({uniforms:Yi.rDY.clone(h.uniforms),fragmentShader:h.fragmentShader,vertexShader:h.vertexShader});return I.uniforms.tDiffuse.value=S.texture,I.uniforms.color.value=s,I.uniforms.textureMatrix.value=C,i.material=I,i.onBeforeRender=function(e,t,n){if(A.setFromMatrixPosition(o.matrixWorld),m.setFromMatrixPosition(n.matrixWorld),v.extractRotation(o.matrixWorld),p.set(0,0,1),p.applyMatrix4(v),x.subVectors(A,m),!(x.dot(p)>0)){x.reflect(p).negate(),x.add(A),v.extractRotation(n.matrixWorld),g.set(0,0,-1),g.applyMatrix4(v),g.add(m),b.subVectors(A,g),b.reflect(p).negate(),b.add(A),E.position.copy(x),E.up.set(0,1,0),E.up.applyMatrix4(v),E.up.reflect(p),E.lookAt(b),E.far=n.far,E.updateMatrixWorld(),E.projectionMatrix.copy(n.projectionMatrix),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(E.projectionMatrix),C.multiply(E.matrixWorldInverse),C.multiply(o.matrixWorld),f.setFromNormalAndCoplanarPoint(p,A),f.applyMatrix4(E.matrixWorldInverse),y.set(f.normal.x,f.normal.y,f.normal.z,f.constant);var r=E.projectionMatrix;w.x=(Math.sign(y.x)+r.elements[8])/r.elements[0],w.y=(Math.sign(y.y)+r.elements[9])/r.elements[5],w.z=-1,w.w=(1+r.elements[10])/r.elements[14],y.multiplyScalar(2/y.dot(w)),r.elements[2]=y.x,r.elements[6]=y.y,r.elements[10]=y.z+1-c,r.elements[14]=y.w,o.visible=!1;var i=e.getRenderTarget(),a=e.xr.enabled,s=e.shadowMap.autoUpdate,l=e.outputEncoding,u=e.toneMapping;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.outputEncoding=Yi.rnI,e.toneMapping=Yi.uL9,e.setRenderTarget(S),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,E),e.xr.enabled=a,e.shadowMap.autoUpdate=s,e.outputEncoding=l,e.toneMapping=u,e.setRenderTarget(i);var h=n.viewport;void 0!==h&&e.state.viewport(h),o.visible=!0}},i.getRenderTarget=function(){return S},i.dispose=function(){S.dispose(),o.material.dispose()},i}return(0,i.Z)(n)}(Yi.Kj0);ma.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:"\n\t\tuniform mat4 textureMatrix;\n\t\tvarying vec4 vUv;\n\n\t\t#include <common>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t\t#include <logdepthbuf_vertex>\n\n\t\t}",fragmentShader:"\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\t\tvarying vec4 vUv;\n\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\n\t\t}"};var va=n(1752),ga=n(1120),ya=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).type=Yi.cLu,i}return(0,i.Z)(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(i=s.indexOf("\n"))&&a<t&&r<e.byteLength;)o+=s,a+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),o+s.slice(0,i))},r=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},i=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=Yi.A5E.toHalfFloat(Math.min(e[t+0]*a,65504)),n[r+1]=Yi.A5E.toHalfFloat(Math.min(e[t+1]*a,65504)),n[r+2]=Yi.A5E.toHalfFloat(Math.min(e[t+2]*a,65504)),n[r+3]=Yi.A5E.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;var o=function(e){var r,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(i=r.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(u.valid|=1,u.programtype=i[1],u.string+=r+"\n";!1!==(r=n(e));)if(u.string+=r+"\n","#"!==r.charAt(0)){if((i=r.match(a))&&(u.gamma=parseFloat(i[1])),(i=r.match(o))&&(u.exposure=parseFloat(i[1])),(i=r.match(s))&&(u.valid|=2,u.format=i[1]),(i=r.match(l))&&(u.valid|=4,u.height=parseInt(i[1],10),u.width=parseInt(i[2],10)),2&u.valid&&4&u.valid)break}else u.comments+=r+"\n";return 2&u.valid?4&u.valid?u:t(3,"missing image size specifier"):t(3,"missing format specifier")}(a);if(-1!==o){var s=o.width,l=o.height,u=function(e,n,r){var i=n;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(i!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var a=new Uint8Array(4*n*r);if(!a.length)return t(4,"unable to allocate buffer space");for(var o=0,s=0,l=4*i,u=new Uint8Array(4),c=new Uint8Array(l),h=r;h>0&&s<e.byteLength;){if(s+4>e.byteLength)return t(1);if(u[0]=e[s++],u[1]=e[s++],u[2]=e[s++],u[3]=e[s++],2!=u[0]||2!=u[1]||(u[2]<<8|u[3])!=i)return t(3,"bad rgbe scanline format");for(var d=0,f=void 0;d<l&&s<e.byteLength;){var p=(f=e[s++])>128;if(p&&(f-=128),0===f||d+f>l)return t(3,"bad scanline data");if(p)for(var A=e[s++],m=0;m<f;m++)c[d++]=A;else c.set(e.subarray(s,s+f),d),d+=f,s+=f}for(var v=i,g=0;g<v;g++){var y=0;a[o]=c[g+y],y+=i,a[o+1]=c[g+y],y+=i,a[o+2]=c[g+y],y+=i,a[o+3]=c[g+y],o+=4}h--}return a}(a.subarray(a.pos),s,l);if(-1!==u){var c,h,d;switch(this.type){case Yi.VzW:d=u.length/4;for(var f=new Float32Array(4*d),p=0;p<d;p++)r(u,4*p,f,4*p);c=f,h=Yi.VzW;break;case Yi.cLu:d=u.length/4;for(var A=new Uint16Array(4*d),m=0;m<d;m++)i(u,4*m,A,4*m);c=A,h=Yi.cLu;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:s,height:l,data:c,header:o.string,gamma:o.gamma,exposure:o.exposure,type:h}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,i){return(0,va.Z)((0,ga.Z)(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case Yi.VzW:case Yi.cLu:e.encoding=Yi.rnI,e.minFilter=Yi.wem,e.magFilter=Yi.wem,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),r,i)}}]),n}(Yi.yxD),xa="\n  attribute vec3 position;\n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n  varying vec2 vUv;\n  void main() {\n    gl_Position = vec4(position, 1.0);\n    vUv = vec2(position.x, position.y) * 0.5 + 0.5;\n  }\n",ba="\n  precision mediump float;\n  \n  uniform vec3 color1;\n  uniform vec3 color2;\n  uniform float aspect;\n  uniform vec2 offset;\n  uniform vec2 scale;\n  uniform float noiseAlpha;\n  uniform bool aspectCorrection;\n  uniform float grainScale;\n  uniform float grainTime;\n  uniform vec2 smooth;\n\n  varying vec2 vUv;\n\n  void main() {\n    vec2 q = vec2(vUv - 0.5);\n    if (aspectCorrection) {\n      q.x *= aspect;\n    }\n    q /= scale;\n    q -= offset;\n    float dst = length(q);\n    dst = smoothstep(smooth.x, smooth.y, dst);\n    vec3 color = mix(color1, color2, dst);\n\n    gl_FragColor.rgb = color;\n    gl_FragColor.a = 1.0;\n  }\n";var wa=n(1413),Ca={defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{value:null},uImageIncrement:{value:new Yi.FM8(.001953125,0)},cKernel:{value:[]}},vertexShader:"\n\n\t\tuniform vec2 uImageIncrement;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float cKernel[ KERNEL_SIZE_INT ];\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec2 uImageIncrement;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec2 imageCoord = vUv;\n\t\t\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );\n\n\t\t\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {\n\n\t\t\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];\n\t\t\t\timageCoord += uImageIncrement;\n\n\t\t\t}\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}",buildKernel:function(e){var t=2*Math.ceil(3*e)+1;t>25&&(t=25);for(var n=.5*(t-1),r=new Array(t),i=0,a=0;a<t;++a)r[a]=Ea(a-n,e),i+=r[a];for(var o=0;o<t;++o)r[o]/=i;return r}};function Ea(e,t){return Math.exp(-e*e/(2*t*t))}var Sa=function(){function e(){(0,r.Z)(this,e),this.resources=new Set}return(0,i.Z)(e,[{key:"track",value:function(e){var t=this;if(!e)return e;if(Array.isArray(e))return e.forEach((function(e){return t.track(e)})),e;if(e instanceof Yi.xsS)this.track(e.background),this.track(e.environment),this.track(e.children);else if(e instanceof Yi.Kj0)this.track(e.geometry),this.track(e.material),e.dispose&&this.resources.add(e),this.track(e.children);else if(e instanceof Yi.woe)this.track(e.geometry),this.track(e.material),this.track(e.children);else if(e instanceof Yi.F5T){if(this.track(e.map),this.track(e.lightMap),this.track(e.metalnessMap),this.track(e.alphaMap),this.track(e.displacementMap),this.track(e.normalMap),this.track(e.emissiveMap),this.track(e.bumpMap),this.track(e.envMap),this.track(e.roughnessMap),this.track(e.aoMap),this.track(e.clearcoatMap),this.track(e.clearcoatNormalMap),this.track(e.clearcoatRoughnessMap),e.uniforms)for(var n=0,r=Object.values(e.uniforms);n<r.length;n++){var i=r[n];if(i){var a=i.value;(a instanceof Yi.xEZ||Array.isArray(a))&&this.track(a)}}}else if(e instanceof Yi.Tme)this.track(e.children);else if(e.dispose)return void this.resources.add(e);return e}},{key:"untrack",value:function(e){this.resources.delete(e)}},{key:"dispose",value:function(){var e,t=(0,qi.Z)(this.resources);try{for(t.s();!(e=t.n()).done;){var n=e.value;n instanceof Yi.Tme&&n.parent&&n.parent.remove(n),n instanceof Yi.xsS||n.dispose&&n.dispose()}}catch(Vc){t.e(Vc)}finally{t.f()}this.resources.clear()}}]),e}(),Ia=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;(0,r.Z)(this,n),i=t.call(this);var a=Ji;return i.textureID="tDiffuse",i.uniforms=Yi.rDY.clone(a.uniforms),i.material=new Yi.jyz({uniforms:i.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),i.renderTarget=e,void 0===i.renderTarget&&(i.renderTarget=new Yi.dd2,i.renderTarget.texture.name="SavePass.rt"),i.needsSwap=!1,i.fsQuad=new ta(i.material),i}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),e.setRenderTarget(this.renderTarget),this.clear&&e.clear(),this.fsQuad.render(e)}},{key:"setSize",value:function(e,t){this.renderTarget.setSize(e,t)}},{key:"dispose",value:function(){this.renderTarget.dispose(),this.material.dispose(),this.fsQuad.dispose()}}]),n}(Ki),Ma=new Yi.FM8,_a=new Yi.Pa4,ka={uniforms:{},vertexShader:["varying vec4 vUv;","void main() {","   vec4 pos = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","   gl_Position = pos;","   vUv = pos;","}"].join("\n"),fragmentShader:["varying vec4 vUv;","void main() {","\tgl_FragColor = vec4( 0, 0, 0, ((vUv.z / vUv.w) + 1.0) / 2.0);","}"].join("\n")},Ba=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"renderShadow",value:function(e,t,n,r,i,a){var o=new Sa;e.renderer.getSize(Ma);var s=(new Yi.ZzF).setFromObject(r);s.getSize(_a);var l=new Yi.Pa4;s.getCenter(l);var u=new Yi.aLr;s.getBoundingSphere(u);var c=.2*_a.x,h=.2*_a.z,d=new Yi.iKG(-(_a.x/2+c),_a.x/2+c,_a.z/2+h,-(_a.z/2+h),_a.y*a+.001*_a.y,_a.y+.1*_a.y);d.position.add(l),d.position.y=s.max.y+.05*_a.y;var f=d.position.clone();f.y=s.min.y,d.lookAt(f);var p=new Yi.jyz({fragmentShader:ka.fragmentShader,vertexShader:ka.vertexShader});p.depthFunc=Yi.w$m,p.side=Yi._Li,e.renderer.state.buffers.depth.setClear(0);var A=r.clone();A.traverse((function(e){e instanceof Yi.Kj0&&(e.material=p)}));var m=new Yi.xsS;m.add(A),m.add(d),m.background=null;var v=new aa(e.renderer);v.setSize(512,512);var g=new oa(m,d);v.addPass(g);var y=(0,wa.Z)({},Ca);y.uniforms.uImageIncrement.value=new Yi.FM8(.001953125,0),y.uniforms.cKernel.value=Ca.buildKernel(4),y.uniforms.tDiffuse.value=t.texture;var x=new na(y),b=(0,wa.Z)({},Ca);b.uniforms.uImageIncrement.value=new Yi.FM8(0,.001953125),b.uniforms.cKernel.value=Ca.buildKernel(4),b.uniforms.tDiffuse.value=t.texture;for(var w=new na(b),C=1;C<8*i;++C)v.addPass(x),v.addPass(w);v.addPass(new Ia(t)),o.track(m),n.position.set(l.x,0,l.z);var E=.2*_a.x*2,S=.2*_a.z*2;n.geometry.dispose(),n.geometry=new Yi._12(_a.x+E,_a.z+S,1,1),e.renderer.setRenderTarget(t);var I=new Yi.Ilk;e.renderer.getClearColor(I);var M=e.renderer.getClearAlpha();e.renderer.setClearColor(new Yi.Ilk(0),0),v.render(),e.renderer.setClearColor(I,M),e.renderer.setRenderTarget(null),e.renderer.state.buffers.depth.setClear(1),e.renderer.setSize(Ma.x,Ma.y),v.renderTarget1.dispose(),v.renderTarget2.dispose(),o.dispose()}}]),e}(),Ta=new Yi.USm,Ra=new Yi.Pa4,Da=new Yi.Pa4(1,0,0),Pa=new Yi.Pa4(0,1,0),La=new Yi.Pa4(0,0,1);new Yi.ZzF,new Yi.Pa4,new Yi.Pa4;function Qa(e,t,n){var r=function(e){var t=(e=e||{}).geometry||new Yi._12(2,2,1),n=new Yi.FIo({vertexShader:xa,fragmentShader:ba,side:Yi.ehD,uniforms:{aspectCorrection:{type:"i",value:!1},aspect:{type:"f",value:1},offset:{type:"v2",value:new Yi.FM8(0,0)},scale:{type:"v2",value:new Yi.FM8(1,1)},smooth:{type:"v2",value:new Yi.FM8(0,1)},color1:{type:"c",value:new Yi.Ilk("#fff")},color2:{type:"c",value:new Yi.Ilk("#283844")}},depthTest:!1}),r=new Yi.Kj0(t,n);return r.frustumCulled=!1,r.style=function(e){if(e=e||{},Array.isArray(e.colors)){var t=e.colors.map((function(e){return"string"===typeof e||"number"===typeof e?new Yi.Ilk(e):e}));n.uniforms.color1.value.copy(t[0]),n.uniforms.color2.value.copy(t[1])}if("number"===typeof e.aspect&&(n.uniforms.aspect.value=e.aspect),e.smooth){var r=i(e.smooth,Yi.FM8);n.uniforms.smooth.value.copy(r)}if(e.offset){var a=i(e.offset,Yi.FM8);n.uniforms.offset.value.copy(a)}if("undefined"!==typeof e.scale){var o=e.scale;"number"===typeof o&&(o=[o,o]),o=i(o,Yi.FM8),n.uniforms.scale.value.copy(o)}"undefined"!==typeof e.aspectCorrection&&(n.uniforms.aspectCorrection.value=Boolean(e.aspectCorrection))},e&&r.style(e),r;function i(e,t){return Array.isArray(e)?(new t).fromArray(e):e}}({aspect:n,colors:[new Yi.Ilk(e),new Yi.Ilk(t)]});return r.name="gradient",r.renderOrder=-1,r}Object.freeze(Ta),Object.freeze(Ra),Object.freeze(Da),Object.freeze(Pa),Object.freeze(La);var ja=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new Yi.Pa4,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Yi.RsA.ROTATE,MIDDLE:Yi.RsA.DOLLY,RIGHT:Yi.RsA.PAN},this.touches={ONE:Yi.QmN.ROTATE,TWO:Yi.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Z),this._domElementKeyEvents=e},this.clearPanOffset=function(){n.panOffset.copy(Ra),n.update()},this.setState=function(e){e.matrix&&n.object.matrix.copy(e.matrix),e.position&&n.object.position.copy(e.position),e.quaternion&&n.object.quaternion.copy(e.quaternion),n.object.zoom=e.zoom,n.panOffset.copy(e.panOffset),n.target.copy(e.target),n.object.updateProjectionMatrix(),n.update()},this.getState=function(){var e;return{matrix:n.object.matrix.clone(),position:n.object.position.clone(),quaternion:n.object.quaternion.clone(),zoom:null!==(e=n.object.zoom)&&void 0!==e?e:1,panOffset:n.panOffset.clone(),target:n.target.clone(),controllerType:"orbit"}},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=function(){var t=new Yi.Pa4,i=(new Yi._fP).setFromUnitVectors(e.up,new Yi.Pa4(0,1,0)),a=i.clone().invert(),f=new Yi.Pa4,p=new Yi._fP,A=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(i),u.setFromVector3(t),n.autoRotate&&s===o.NONE&&C(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(u.theta+=c.theta*n.dampingFactor,u.phi+=c.phi*n.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);var m=n.minAzimuthAngle,v=n.maxAzimuthAngle;return isFinite(m)&&isFinite(v)&&(m<-Math.PI?m+=A:m>Math.PI&&(m-=A),v<-Math.PI?v+=A:v>Math.PI&&(v-=A),u.theta=m<=v?Math.max(m,Math.min(v,u.theta)):u.theta>(m+v)/2?Math.max(m,u.theta):Math.min(v,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=h,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),!0===n.enableDamping?n.target.addScaledVector(n.panOffset,n.dampingFactor):n.target.add(n.panOffset),t.setFromSpherical(u),t.applyQuaternion(a),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,n.panOffset.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),n.panOffset.set(0,0,0)),h=1,!!(d||f.distanceToSquared(n.object.position)>l||8*(1-p.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),f.copy(n.object.position),p.copy(n.object.quaternion),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",V),n.domElement.removeEventListener("pointerdown",N),n.domElement.removeEventListener("wheel",O),n.domElement.removeEventListener("touchstart",z),n.domElement.removeEventListener("touchend",H),n.domElement.removeEventListener("touchmove",G),n.domElement.ownerDocument.removeEventListener("pointermove",F),n.domElement.ownerDocument.removeEventListener("pointerup",U),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",Z)},this.panOffset=new Yi.Pa4;var n=this,r={type:"change"},i={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,l=1e-6,u=new Yi.$V,c=new Yi.$V,h=1,d=!1,f=new Yi.FM8,p=new Yi.FM8,A=new Yi.FM8,m=new Yi.FM8,v=new Yi.FM8,g=new Yi.FM8,y=new Yi.FM8,x=new Yi.FM8,b=new Yi.FM8;function w(){return Math.pow(.95,n.zoomSpeed)}function C(e){c.theta-=e}function E(e){c.phi-=e}var S=function(){var e=new Yi.Pa4;return function(t,r){e.setFromMatrixColumn(r,0),e.multiplyScalar(-t),n.panOffset.add(e)}}(),I=function(){var e=new Yi.Pa4;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),n.panOffset.add(e)}}(),M=function(){var e=new Yi.Pa4;return function(t,r){var i=n.domElement;if(n.object.isPerspectiveCamera){var a=n.object.position;e.copy(a).sub(n.target);var o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),S(2*t*o/i.clientHeight,n.object.matrix),I(2*r*o/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(S(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),I(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function _(e){n.object.isPerspectiveCamera?h/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(e){n.object.isPerspectiveCamera?h*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function B(e){f.set(e.clientX,e.clientY)}function T(e){m.set(e.clientX,e.clientY)}function R(e){if(1==e.touches.length)f.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);f.set(t,n)}}function D(e){if(1==e.touches.length)m.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);m.set(t,n)}}function P(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);y.set(0,r)}function L(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,r)}A.subVectors(p,f).multiplyScalar(n.rotateSpeed);var i=n.domElement;C(2*Math.PI*A.x/i.clientHeight),E(2*Math.PI*A.y/i.clientHeight),f.copy(p)}function Q(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,r)}g.subVectors(v,m).multiplyScalar(n.panSpeed),M(g.x,g.y),m.copy(v)}function j(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+r*r);x.set(0,i),b.set(0,Math.pow(x.y/y.y,n.zoomSpeed)),_(b.y),y.copy(x)}function N(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case Yi.RsA.DOLLY:if(!1===n.enableZoom)return;!function(e){y.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case Yi.RsA.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;T(e),s=o.PAN}else{if(!1===n.enableRotate)return;B(e),s=o.ROTATE}break;case Yi.RsA.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;B(e),s=o.ROTATE}else{if(!1===n.enablePan)return;T(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&(n.domElement.ownerDocument.addEventListener("pointermove",F),n.domElement.ownerDocument.addEventListener("pointerup",U),n.dispatchEvent(i))}(e)}}function F(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;switch(e.preventDefault(),s){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){p.set(e.clientX,e.clientY),A.subVectors(p,f).multiplyScalar(n.rotateSpeed);var t=n.domElement;C(2*Math.PI*A.x/t.clientHeight),E(2*Math.PI*A.y/t.clientHeight),f.copy(p),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){x.set(e.clientX,e.clientY),b.subVectors(x,y),b.y>0?_(w()):b.y<0&&k(w()),y.copy(x),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){v.set(e.clientX,e.clientY),g.subVectors(v,m).multiplyScalar(n.panSpeed),M(g.x,g.y),m.copy(v),n.update()}(e)}}(e)}}function U(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(n.domElement.ownerDocument.removeEventListener("pointermove",F),n.domElement.ownerDocument.removeEventListener("pointerup",U),!1===n.enabled)return;n.dispatchEvent(a),s=o.NONE}()}}function O(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),n.dispatchEvent(i),function(e){e.deltaY<0?k(w()):e.deltaY>0&&_(w()),n.update()}(e),n.dispatchEvent(a))}function Z(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){var t=!1;switch(e.code){case n.keys.UP:M(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:M(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:M(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:M(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function z(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case Yi.QmN.ROTATE:if(!1===n.enableRotate)return;R(e),s=o.TOUCH_ROTATE;break;case Yi.QmN.PAN:if(!1===n.enablePan)return;D(e),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case Yi.QmN.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&P(e),n.enablePan&&D(e)}(e),s=o.TOUCH_DOLLY_PAN;break;case Yi.QmN.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&P(e),n.enableRotate&&R(e)}(e),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}}function G(e){if(!1!==n.enabled)switch(e.preventDefault(),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;L(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;Q(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&j(e),n.enablePan&&Q(e)}(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&j(e),n.enableRotate&&L(e)}(e),n.update();break;default:s=o.NONE}}function H(e){!1!==n.enabled&&(n.dispatchEvent(a),s=o.NONE)}function V(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",V),n.domElement.addEventListener("pointerdown",N),n.domElement.addEventListener("wheel",O),n.domElement.addEventListener("touchstart",z),n.domElement.addEventListener("touchend",H),n.domElement.addEventListener("touchmove",G),this.update()};(ja.prototype=Object.create(Yi.pBf.prototype)).constructor=ja;var Na=function(e,t){ja.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=Yi.RsA.PAN,this.mouseButtons.RIGHT=Yi.RsA.ROTATE,this.touches.ONE=Yi.QmN.PAN,this.touches.TWO=Yi.QmN.DOLLY_ROTATE};(Na.prototype=Object.create(Yi.pBf.prototype)).constructor=Na;var Fa=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"init",value:function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new ei("element");this._renderer=new Yi.CP7({alpha:null===(t=i.alpha)||void 0===t||t,antialias:!0,preserveDrawingBuffer:null===(n=i.preserveDrawingBuffer)||void 0===n||n,canvas:e}),this._renderer.setSize(e.clientWidth,e.clientHeight),this._renderer.outputEncoding=Yi.knz,this._renderer.toneMapping=null!==(r=i.toneMapping)&&void 0!==r?r:Yi.uL9,this._renderer.physicallyCorrectLights=!0,this._renderer.setClearColor(0,0),this._renderer.shadowMap.enabled=!1,this._renderer.shadowMap.type=Yi.ntZ}},{key:"renderer",get:function(){return this._renderer}},{key:"render",value:function(e,t){this._renderer.render(e,t)}},{key:"canvas",get:function(){return this._renderer.domElement}},{key:"xr",get:function(){return this._renderer.xr}},{key:"setSize",value:function(e,t){this._renderer.setSize(e,t)}},{key:"dispose",value:function(){this._renderer.dispose()}}]),e}(),Ua=function(){function e(t,n,i){(0,r.Z)(this,e),this._renderer=t,this._composer=n,this._scene=new Yi.xsS,this._sceneRoot=new Yi.Tme,this.sceneRoot.name="Scene Root",this.scene.add(this.sceneRoot),this._scene.background=null,this._cameraController=i,this.renderFrame=this.renderFrame.bind(this),this._renderEnabled=!0,this._renderFrameCallbacks=[],this.updateCameraController=!0,this.clock=new Yi.SUY,this.renderer.renderer.setAnimationLoop(this.renderFrame)}return(0,i.Z)(e,[{key:"scene",get:function(){return this._scene}},{key:"sceneRoot",get:function(){return this._sceneRoot}},{key:"renderer",get:function(){return this._renderer}},{key:"composer",get:function(){return this._composer}},{key:"camera",get:function(){return this._cameraController.object}},{key:"cameraController",get:function(){return this._cameraController},set:function(e){this._cameraController=e,this._composer&&this._composer.setCamera(e.object)}},{key:"renderScene",value:function(){this._killed||(this.composer?this.composer.render(this._scene,this.camera):this.renderer.render(this._scene,this.camera))}},{key:"renderFrame",value:function(e,t){var n=this.clock.getDelta();this._renderer.renderer.xr.isPresenting?this.xrRenderFrameHandler&&this.xrRenderFrameHandler(n,t):this.renderScene(),this._renderEnabled&&(this._cameraController&&this.updateCameraController&&this._cameraController.enabled&&this._cameraController.update(n),this._renderFrameCallbacks.forEach((function(e){e&&e(n,t)})))}},{key:"enableRender",value:function(e){this._renderEnabled=e}},{key:"addRenderFrameCallback",value:function(e){if(!e)throw new Error("Invalid parameter observer");this._renderFrameCallbacks.push(e)}},{key:"removeRenderFrameObserver",value:function(e){if(!e)throw new Error("Invalid parameter observer");this._renderFrameCallbacks.filter((function(t){return t!==e}))}},{key:"pauseRenderLoop",value:function(e){e?this.renderer.renderer.setAnimationLoop(null):this.renderer.renderer.setAnimationLoop(this.renderFrame)}},{key:"clearSceneRoot",value:function(){var e;this.sceneRoot&&((e=this.sceneRoot)&&e.traverse((function(e){!function(e){e&&(e.geometry&&e.geometry.dispose(),e.material&&(e.material.map&&e.material.map.dispose(),e.material.envMap&&e.material.envMap.dispose(),e.material.lightMap&&e.material.lightMap.dispose(),e.material.aoMap&&e.material.aoMap.dispose(),e.material.bumpMap&&e.material.bumpMap.dispose(),e.material.emissiveMap&&e.material.emissiveMap.dispose(),e.material.metalnessMap&&e.material.metalnessMap.dispose(),e.material.normalMap&&e.material.normalMap.dispose(),e.material.displacementMap&&e.material.displacementMap.dispose(),e.material.dispose()))}(e)})),this.sceneRoot.clear())}},{key:"setBackground",value:function(e){this._scene.background=e}},{key:"setEnvironmentMap",value:function(e){this._scene.environment=e}},{key:"setFog",value:function(e){this._scene.fog=e}},{key:"resetEffectManager",value:function(){if(this._composer){this._composer.deleteAllPasses();var e=this._composer.createRenderPass(this._scene,this._cameraController.object,!0);this._composer.addPass(e)}}},{key:"kill",value:function(){this._killed=!0}}]),e}(),Oa=function(){function e(){(0,r.Z)(this,e),this.rayCaster=new Yi.iMs,this.vec2=new Yi.FM8}return(0,i.Z)(e,[{key:"intersectionTest",value:function(e,t,n){return this.vec2.set(n.offsetX/n.target.clientWidth*2-1,-n.offsetY/n.target.clientHeight*2+1),this.rayCaster.setFromCamera(this.vec2,t),this.rayCaster.intersectObjects(function(e,t){if(!e)throw new ei("scene");var n=[];return e.traverse((function(e){if(e.isMesh){var r=!0;t&&(r=t(e)),r&&n.push(e)}})),n}(e))}}]),e}(),Za=new Yi.iMs,za=new Yi.Pa4,Ga=new Yi.Pa4,Ha=new Yi._fP,Va={X:new Yi.Pa4(1,0,0),Y:new Yi.Pa4(0,1,0),Z:new Yi.Pa4(0,0,1)},Wa={type:"change"},qa={type:"mouseDown"},Ya={type:"mouseUp",mode:null},Xa={type:"objectChange"},Ja=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;(0,r.Z)(this,n),a=t.call(this),void 0===i&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),i=document),a.isTransformControls=!0,a.visible=!1,a.domElement=i,a.domElement.style.touchAction="none";var o=new yo;a._gizmo=o,a.add(o);var s=new xo;a._plane=s,a.add(s);var l=(0,jt.Z)(a);function u(e,t){var n=t;Object.defineProperty(l,e,{get:function(){return void 0!==n?n:t},set:function(t){n!==t&&(n=t,s[e]=t,o[e]=t,l.dispatchEvent({type:e+"-changed",value:t}),l.dispatchEvent(Wa))}}),l[e]=t,s[e]=t,o[e]=t}u("camera",e),u("object",void 0),u("enabled",!0),u("axis",null),u("mode","translate"),u("translationSnap",null),u("rotationSnap",null),u("scaleSnap",null),u("space","world"),u("size",1),u("dragging",!1),u("showX",!0),u("showY",!0),u("showZ",!0);var c=new Yi.Pa4,h=new Yi.Pa4,d=new Yi._fP,f=new Yi._fP,p=new Yi.Pa4,A=new Yi._fP,m=new Yi.Pa4,v=new Yi.Pa4,g=new Yi.Pa4,y=new Yi.Pa4;return u("worldPosition",c),u("worldPositionStart",h),u("worldQuaternion",d),u("worldQuaternionStart",f),u("cameraPosition",p),u("cameraQuaternion",A),u("pointStart",m),u("pointEnd",v),u("rotationAxis",g),u("rotationAngle",0),u("eye",y),a._offset=new Yi.Pa4,a._startNorm=new Yi.Pa4,a._endNorm=new Yi.Pa4,a._cameraScale=new Yi.Pa4,a._parentPosition=new Yi.Pa4,a._parentQuaternion=new Yi._fP,a._parentQuaternionInv=new Yi._fP,a._parentScale=new Yi.Pa4,a._worldScaleStart=new Yi.Pa4,a._worldQuaternionInv=new Yi._fP,a._worldScale=new Yi.Pa4,a._positionStart=new Yi.Pa4,a._quaternionStart=new Yi._fP,a._scaleStart=new Yi.Pa4,a._getPointer=Ka.bind((0,jt.Z)(a)),a._onPointerDown=eo.bind((0,jt.Z)(a)),a._onPointerHover=$a.bind((0,jt.Z)(a)),a._onPointerMove=to.bind((0,jt.Z)(a)),a._onPointerUp=no.bind((0,jt.Z)(a)),a.domElement.addEventListener("pointerdown",a._onPointerDown),a.domElement.addEventListener("pointermove",a._onPointerHover),a.domElement.addEventListener("pointerup",a._onPointerUp),a}return(0,i.Z)(n,[{key:"updateMatrixWorld",value:function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.camera.isOrthographicCamera?this.camera.getWorldDirection(this.eye).negate():this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),(0,va.Z)((0,ga.Z)(n.prototype),"updateMatrixWorld",this).call(this,this)}},{key:"pointerHover",value:function(e){if(void 0!==this.object&&!0!==this.dragging){Za.setFromCamera(e,this.camera);var t=ro(this._gizmo.picker[this.mode],Za);this.axis=t?t.object.name:null}}},{key:"pointerDown",value:function(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){Za.setFromCamera(e,this.camera);var t=ro(this._plane,Za,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,qa.mode=this.mode,this.dispatchEvent(qa)}}},{key:"pointerMove",value:function(e){var t=this.axis,n=this.mode,r=this.object,i=this.space;if("scale"===n?i="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(i="world"),void 0!==r&&null!==t&&!1!==this.dragging&&-1===e.button){Za.setFromCamera(e,this.camera);var a=ro(this._plane,Za,!0);if(a){if(this.pointEnd.copy(a.point).sub(this.worldPositionStart),"translate"===n)this._offset.copy(this.pointEnd).sub(this.pointStart),"local"===i&&"XYZ"!==t&&this._offset.applyQuaternion(this._worldQuaternionInv),-1===t.indexOf("X")&&(this._offset.x=0),-1===t.indexOf("Y")&&(this._offset.y=0),-1===t.indexOf("Z")&&(this._offset.z=0),"local"===i&&"XYZ"!==t?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),r.position.copy(this._offset).add(this._positionStart),this.translationSnap&&("local"===i&&(r.position.applyQuaternion(Ha.copy(this._quaternionStart).invert()),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(this._quaternionStart)),"world"===i&&(r.parent&&r.position.add(za.setFromMatrixPosition(r.parent.matrixWorld)),-1!==t.search("X")&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(za.setFromMatrixPosition(r.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var o=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(o*=-1),Ga.set(o,o,o)}else za.copy(this.pointStart),Ga.copy(this.pointEnd),za.applyQuaternion(this._worldQuaternionInv),Ga.applyQuaternion(this._worldQuaternionInv),Ga.divide(za),-1===t.search("X")&&(Ga.x=1),-1===t.search("Y")&&(Ga.y=1),-1===t.search("Z")&&(Ga.z=1);r.scale.copy(this._scaleStart).multiply(Ga),this.scaleSnap&&(-1!==t.search("X")&&(r.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){this._offset.copy(this.pointEnd).sub(this.pointStart);var s=20/this.worldPosition.distanceTo(za.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):"XYZE"===t?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(za.copy(this.rotationAxis).cross(this.eye))*s):"X"!==t&&"Y"!==t&&"Z"!==t||(this.rotationAxis.copy(Va[t]),za.copy(Va[t]),"local"===i&&za.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(za.cross(this.eye).normalize())*s),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),"local"===i&&"E"!==t&&"XYZE"!==t?(r.quaternion.copy(this._quaternionStart),r.quaternion.multiply(Ha.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),r.quaternion.copy(Ha.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),r.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(Wa),this.dispatchEvent(Xa)}}}},{key:"pointerUp",value:function(e){0===e.button&&(this.dragging&&null!==this.axis&&(Ya.mode=this.mode,this.dispatchEvent(Ya)),this.dragging=!1,this.axis=null)}},{key:"dispose",value:function(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))}},{key:"attach",value:function(e){return this.object=e,this.visible=!0,this}},{key:"detach",value:function(){return this.object=void 0,this.visible=!1,this.axis=null,this}},{key:"reset",value:function(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(Wa),this.dispatchEvent(Xa),this.pointStart.copy(this.pointEnd))}},{key:"getRaycaster",value:function(){return Za}},{key:"getMode",value:function(){return this.mode}},{key:"setMode",value:function(e){this.mode=e}},{key:"setTranslationSnap",value:function(e){this.translationSnap=e}},{key:"setRotationSnap",value:function(e){this.rotationSnap=e}},{key:"setScaleSnap",value:function(e){this.scaleSnap=e}},{key:"setSize",value:function(e){this.size=e}},{key:"setSpace",value:function(e){this.space=e}}]),n}(Yi.Tme);function Ka(e){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};var t=this.domElement.getBoundingClientRect();return{x:(e.clientX-t.left)/t.width*2-1,y:-(e.clientY-t.top)/t.height*2+1,button:e.button}}function $a(e){if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(e))}}function eo(e){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(e)),this.pointerDown(this._getPointer(e)))}function to(e){this.enabled&&this.pointerMove(this._getPointer(e))}function no(e){this.enabled&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(e)))}function ro(e,t,n){for(var r=t.intersectObject(e,!0),i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1}var io=new Yi.USm,ao=new Yi.Pa4(0,1,0),oo=new Yi.Pa4(0,0,0),so=new Yi.yGw,lo=new Yi._fP,uo=new Yi._fP,co=new Yi.Pa4,ho=new Yi.yGw,fo=new Yi.Pa4(1,0,0),po=new Yi.Pa4(0,1,0),Ao=new Yi.Pa4(0,0,1),mo=new Yi.Pa4,vo=new Yi.Pa4,go=new Yi.Pa4,yo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n),(e=t.call(this)).isTransformControlsGizmo=!0,e.type="TransformControlsGizmo";var i=new Yi.vBJ({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),a=new Yi.nls({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),o=i.clone();o.opacity=.15;var s=a.clone();s.opacity=.5;var l=i.clone();l.color.setHex(16711680);var u=i.clone();u.color.setHex(65280);var c=i.clone();c.color.setHex(255);var h=i.clone();h.color.setHex(16711680),h.opacity=.5;var d=i.clone();d.color.setHex(65280),d.opacity=.5;var f=i.clone();f.color.setHex(255),f.opacity=.5;var p=i.clone();p.opacity=.25;var A=i.clone();A.color.setHex(16776960),A.opacity=.25,i.clone().color.setHex(16776960);var m=i.clone();m.color.setHex(7895160);var v=new Yi.fHI(0,.04,.1,12);v.translate(0,.05,0);var g=new Yi.DvJ(.08,.08,.08);g.translate(0,.04,0);var y=new Yi.u9r;y.setAttribute("position",new Yi.a$l([0,0,0,1,0,0],3));var x=new Yi.fHI(.0075,.0075,.5,3);function b(e,t){var n=new Yi.XvJ(e,.0075,3,64,t*Math.PI*2);return n.rotateY(Math.PI/2),n.rotateX(Math.PI/2),n}x.translate(0,.25,0);var w={X:[[new Yi.Kj0(v,l),[.5,0,0],[0,0,-Math.PI/2]],[new Yi.Kj0(v,l),[-.5,0,0],[0,0,Math.PI/2]],[new Yi.Kj0(x,l),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new Yi.Kj0(v,u),[0,.5,0]],[new Yi.Kj0(v,u),[0,-.5,0],[Math.PI,0,0]],[new Yi.Kj0(x,u)]],Z:[[new Yi.Kj0(v,c),[0,0,.5],[Math.PI/2,0,0]],[new Yi.Kj0(v,c),[0,0,-.5],[-Math.PI/2,0,0]],[new Yi.Kj0(x,c),null,[Math.PI/2,0,0]]],XYZ:[[new Yi.Kj0(new Yi.pQR(.1,0),p.clone()),[0,0,0]]],XY:[[new Yi.Kj0(new Yi.DvJ(.15,.15,.01),f.clone()),[.15,.15,0]]],YZ:[[new Yi.Kj0(new Yi.DvJ(.15,.15,.01),h.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Yi.Kj0(new Yi.DvJ(.15,.15,.01),d.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},C={X:[[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[.3,0,0],[0,0,-Math.PI/2]],[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[0,.3,0]],[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[0,0,.3],[Math.PI/2,0,0]],[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new Yi.Kj0(new Yi.pQR(.2,0),o)]],XY:[[new Yi.Kj0(new Yi.DvJ(.2,.2,.01),o),[.15,.15,0]]],YZ:[[new Yi.Kj0(new Yi.DvJ(.2,.2,.01),o),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Yi.Kj0(new Yi.DvJ(.2,.2,.01),o),[.15,0,.15],[-Math.PI/2,0,0]]]},E={START:[[new Yi.Kj0(new Yi.pQR(.01,2),s),null,null,null,"helper"]],END:[[new Yi.Kj0(new Yi.pQR(.01,2),s),null,null,null,"helper"]],DELTA:[[new Yi.x12(function(){var e=new Yi.u9r;return e.setAttribute("position",new Yi.a$l([0,0,0,1,1,1],3)),e}(),s),null,null,null,"helper"]],X:[[new Yi.x12(y,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Yi.x12(y,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Yi.x12(y,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},S={XYZE:[[new Yi.Kj0(b(.5,1),m),null,[0,Math.PI/2,0]]],X:[[new Yi.Kj0(b(.5,.5),l)]],Y:[[new Yi.Kj0(b(.5,.5),u),null,[0,0,-Math.PI/2]]],Z:[[new Yi.Kj0(b(.5,.5),c),null,[0,Math.PI/2,0]]],E:[[new Yi.Kj0(b(.75,1),A),null,[0,Math.PI/2,0]]]},I={AXIS:[[new Yi.x12(y,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},M={XYZE:[[new Yi.Kj0(new Yi.xo$(.25,10,8),o)]],X:[[new Yi.Kj0(new Yi.XvJ(.5,.1,4,24),o),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Yi.Kj0(new Yi.XvJ(.5,.1,4,24),o),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Yi.Kj0(new Yi.XvJ(.5,.1,4,24),o),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Yi.Kj0(new Yi.XvJ(.75,.1,2,24),o)]]},_={X:[[new Yi.Kj0(g,l),[.5,0,0],[0,0,-Math.PI/2]],[new Yi.Kj0(x,l),[0,0,0],[0,0,-Math.PI/2]],[new Yi.Kj0(g,l),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new Yi.Kj0(g,u),[0,.5,0]],[new Yi.Kj0(x,u)],[new Yi.Kj0(g,u),[0,-.5,0],[0,0,Math.PI]]],Z:[[new Yi.Kj0(g,c),[0,0,.5],[Math.PI/2,0,0]],[new Yi.Kj0(x,c),[0,0,0],[Math.PI/2,0,0]],[new Yi.Kj0(g,c),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new Yi.Kj0(new Yi.DvJ(.15,.15,.01),f),[.15,.15,0]]],YZ:[[new Yi.Kj0(new Yi.DvJ(.15,.15,.01),h),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Yi.Kj0(new Yi.DvJ(.15,.15,.01),d),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Yi.Kj0(new Yi.DvJ(.1,.1,.1),p.clone())]]},k={X:[[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[.3,0,0],[0,0,-Math.PI/2]],[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[0,.3,0]],[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[0,0,.3],[Math.PI/2,0,0]],[new Yi.Kj0(new Yi.fHI(.2,0,.6,4),o),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new Yi.Kj0(new Yi.DvJ(.2,.2,.01),o),[.15,.15,0]]],YZ:[[new Yi.Kj0(new Yi.DvJ(.2,.2,.01),o),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Yi.Kj0(new Yi.DvJ(.2,.2,.01),o),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Yi.Kj0(new Yi.DvJ(.2,.2,.2),o),[0,0,0]]]},B={X:[[new Yi.x12(y,s.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Yi.x12(y,s.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Yi.x12(y,s.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function T(e){var t=new Yi.Tme;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),a=e[n][r][1],o=e[n][r][2],s=e[n][r][3],l=e[n][r][4];i.name=n,i.tag=l,a&&i.position.set(a[0],a[1],a[2]),o&&i.rotation.set(o[0],o[1],o[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();var u=i.geometry.clone();u.applyMatrix4(i.matrix),i.geometry=u,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t}return e.gizmo={},e.picker={},e.helper={},e.add(e.gizmo.translate=T(w)),e.add(e.gizmo.rotate=T(S)),e.add(e.gizmo.scale=T(_)),e.add(e.picker.translate=T(C)),e.add(e.picker.rotate=T(M)),e.add(e.picker.scale=T(k)),e.add(e.helper.translate=T(E)),e.add(e.helper.rotate=T(I)),e.add(e.helper.scale=T(B)),e.picker.translate.visible=!1,e.picker.rotate.visible=!1,e.picker.scale.visible=!1,e}return(0,i.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this,r="local"===("scale"===this.mode?"local":this.space)?this.worldQuaternion:uo;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var i=[];i=(i=(i=i.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var a=function(){var e,n=i[o];if(n.visible=!0,n.rotation.set(0,0,0),n.position.copy(t.worldPosition),e=t.camera.isOrthographicCamera?(t.camera.top-t.camera.bottom)/t.camera.zoom:t.worldPosition.distanceTo(t.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*t.camera.fov/360)/t.camera.zoom,7),n.scale.set(1,1,1).multiplyScalar(e*t.size/4),"helper"===n.tag)return n.visible=!1,"AXIS"===n.name?(n.visible=!!t.axis,"X"===t.axis&&(Ha.setFromEuler(io.set(0,0,0)),n.quaternion.copy(r).multiply(Ha),Math.abs(ao.copy(fo).applyQuaternion(r).dot(t.eye))>.9&&(n.visible=!1)),"Y"===t.axis&&(Ha.setFromEuler(io.set(0,0,Math.PI/2)),n.quaternion.copy(r).multiply(Ha),Math.abs(ao.copy(po).applyQuaternion(r).dot(t.eye))>.9&&(n.visible=!1)),"Z"===t.axis&&(Ha.setFromEuler(io.set(0,Math.PI/2,0)),n.quaternion.copy(r).multiply(Ha),Math.abs(ao.copy(Ao).applyQuaternion(r).dot(t.eye))>.9&&(n.visible=!1)),"XYZE"===t.axis&&(Ha.setFromEuler(io.set(0,Math.PI/2,0)),ao.copy(t.rotationAxis),n.quaternion.setFromRotationMatrix(so.lookAt(oo,ao,po)),n.quaternion.multiply(Ha),n.visible=t.dragging),"E"===t.axis&&(n.visible=!1)):"START"===n.name?(n.position.copy(t.worldPositionStart),n.visible=t.dragging):"END"===n.name?(n.position.copy(t.worldPosition),n.visible=t.dragging):"DELTA"===n.name?(n.position.copy(t.worldPositionStart),n.quaternion.copy(t.worldQuaternionStart),za.set(1e-10,1e-10,1e-10).add(t.worldPositionStart).sub(t.worldPosition).multiplyScalar(-1),za.applyQuaternion(t.worldQuaternionStart.clone().invert()),n.scale.copy(za),n.visible=t.dragging):(n.quaternion.copy(r),t.dragging?n.position.copy(t.worldPositionStart):n.position.copy(t.worldPosition),t.axis&&(n.visible=-1!==t.axis.search(n.name))),"continue";if(n.quaternion.copy(r),"translate"===t.mode||"scale"===t.mode){var a=.99;"X"===n.name&&Math.abs(ao.copy(fo).applyQuaternion(r).dot(t.eye))>a&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"Y"===n.name&&Math.abs(ao.copy(po).applyQuaternion(r).dot(t.eye))>a&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"Z"===n.name&&Math.abs(ao.copy(Ao).applyQuaternion(r).dot(t.eye))>a&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"XY"===n.name&&Math.abs(ao.copy(Ao).applyQuaternion(r).dot(t.eye))<.2&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"YZ"===n.name&&Math.abs(ao.copy(fo).applyQuaternion(r).dot(t.eye))<.2&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"XZ"===n.name&&Math.abs(ao.copy(po).applyQuaternion(r).dot(t.eye))<.2&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1)}else"rotate"===t.mode&&(lo.copy(r),ao.copy(t.eye).applyQuaternion(Ha.copy(r).invert()),-1!==n.name.search("E")&&n.quaternion.setFromRotationMatrix(so.lookAt(t.eye,oo,po)),"X"===n.name&&(Ha.setFromAxisAngle(fo,Math.atan2(-ao.y,ao.z)),Ha.multiplyQuaternions(lo,Ha),n.quaternion.copy(Ha)),"Y"===n.name&&(Ha.setFromAxisAngle(po,Math.atan2(ao.x,ao.z)),Ha.multiplyQuaternions(lo,Ha),n.quaternion.copy(Ha)),"Z"===n.name&&(Ha.setFromAxisAngle(Ao,Math.atan2(ao.y,ao.x)),Ha.multiplyQuaternions(lo,Ha),n.quaternion.copy(Ha)));n.visible=n.visible&&(-1===n.name.indexOf("X")||t.showX),n.visible=n.visible&&(-1===n.name.indexOf("Y")||t.showY),n.visible=n.visible&&(-1===n.name.indexOf("Z")||t.showZ),n.visible=n.visible&&(-1===n.name.indexOf("E")||t.showX&&t.showY&&t.showZ),n.material._color=n.material._color||n.material.color.clone(),n.material._opacity=n.material._opacity||n.material.opacity,n.material.color.copy(n.material._color),n.material.opacity=n.material._opacity,t.enabled&&t.axis&&(n.name===t.axis||t.axis.split("").some((function(e){return n.name===e})))&&(n.material.color.setHex(16776960),n.material.opacity=1)},o=0;o<i.length;o++)a();(0,va.Z)((0,ga.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Yi.Tme),xo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this,new Yi._12(1e5,1e5,2,2),new Yi.vBJ({visible:!1,wireframe:!0,side:Yi.ehD,transparent:!0,opacity:.1,toneMapped:!1}))).isTransformControlsPlane=!0,e.type="TransformControlsPlane",e}return(0,i.Z)(n,[{key:"updateMatrixWorld",value:function(e){var t=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(t="local"),mo.copy(fo).applyQuaternion("local"===t?this.worldQuaternion:uo),vo.copy(po).applyQuaternion("local"===t?this.worldQuaternion:uo),go.copy(Ao).applyQuaternion("local"===t?this.worldQuaternion:uo),ao.copy(vo),this.mode){case"translate":case"scale":switch(this.axis){case"X":ao.copy(this.eye).cross(mo),co.copy(mo).cross(ao);break;case"Y":ao.copy(this.eye).cross(vo),co.copy(vo).cross(ao);break;case"Z":ao.copy(this.eye).cross(go),co.copy(go).cross(ao);break;case"XY":co.copy(go);break;case"YZ":co.copy(mo);break;case"XZ":ao.copy(go),co.copy(vo);break;case"XYZ":case"E":co.set(0,0,0)}break;default:co.set(0,0,0)}0===co.length()?this.quaternion.copy(this.cameraQuaternion):(ho.lookAt(za.set(0,0,0),co,ao),this.quaternion.setFromRotationMatrix(ho)),(0,va.Z)((0,ga.Z)(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Yi.Kj0),bo=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"name",get:function(){return""}},{key:"undoable",get:function(){return!0}},{key:"setObjectValue",value:function(e,t,n){e[t]instanceof Yi.Ilk?e[t].setStyle(n):("number"===typeof e[t]&&"number"!==typeof n&&(n=Number(n)),e[t]=n)}}]),e}(),wo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;return(0,r.Z)(this,n),(o=t.call(this)).object=e,o.pos=i.clone(),o.initialPos=a.clone(),o}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Position"}},{key:"execute",value:function(){Es.setObjectPosition(this.object,this.pos)}},{key:"undo",value:function(){Es.setObjectPosition(this.object,this.initialPos)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),Co=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;return(0,r.Z)(this,n),(o=t.call(this)).object=e,o.rot=i,o.initialRot=a,o}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Rotation"}},{key:"execute",value:function(){Es.setObjectRotation(this.object,this.rot)}},{key:"undo",value:function(){Es.setObjectRotation(this.object,this.initialRot)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),Eo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;return(0,r.Z)(this,n),(o=t.call(this)).object=e,o.scale=i,o.initialScale=a,o}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Scale"}},{key:"execute",value:function(){Es.setObjectScale(this.object,this.scale)}},{key:"undo",value:function(){Es.setObjectScale(this.object,this.initialScale)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),So=function(){function e(t,n){var i=this;(0,r.Z)(this,e),this._transformControls=new Ja(t,n),this._transformControls.addEventListener("dragging-changed",(function(e){i.onDragChanged&&i.onDragChanged(e)})),this._transformControls.addEventListener("mouseDown",(function(){var e=i._transformControls.object;e&&(i.initialObjectPos=e.position.clone(),i.initialObjectRot=e.rotation.clone(),i.initialObjectScale=e.scale.clone())})),this._transformControls.addEventListener("mouseUp",(function(){var e=i._transformControls.object;if(e)switch(i._transformControls.getMode()){case"translate":if(!i.initialObjectPos.equals(e.position)){var t=new wo(e,e.position.clone(),i.initialObjectPos.clone());Ei.execute(t)}break;case"rotate":if(!i.initialObjectRot.equals(e.rotation)){var n=new Co(e,e.rotation,i.initialObjectRot);Ei.execute(n)}break;case"scale":if(!i.initialObjectScale.equals(e.scale)){var r=new Eo(e,e.scale,i.initialObjectScale);Ei.execute(r)}}}))}return(0,i.Z)(e,[{key:"controls",get:function(){return this._transformControls}},{key:"camera",set:function(e){this._transformControls.camera=e}},{key:"object",get:function(){return this._transformControls.object}}]),e}(),Io=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).object=e,a.intersect=i,a}return(0,i.Z)(n,[{key:"name",get:function(){return"Select Object"}},{key:"execute",value:function(){Es.selectObject(this.object,this.intersect)}},{key:"undo",value:function(){Es.deselectAll()}},{key:"redo",value:function(){Es.selectObject(this.object)}}]),n}(bo),Mo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).object=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Deselect Object"}},{key:"execute",value:function(){Es.deselectAll()}},{key:"undo",value:function(){Es.selectObject(this.object)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),_o=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if((0,r.Z)(this,e),!t||!(t instanceof Fa))throw"renderer argument invalid";if(!n||!(n instanceof Yi.Tme))throw"model argument invalid";this._boundingGeometry=new Xi(n);var s=.2*this._boundingGeometry.size.x*2,l=.2*this._boundingGeometry.size.z*2;this._renderTarget=new Yi.dd2(512,512,{format:Yi.wk1});var u=new Yi.vBJ;u.map=this._renderTarget.texture,u.depthWrite=!1,u.transparent=!0,u.opacity=1-i,u.needsUpdate=!0,this._mesh=new Yi.Kj0(new Yi._12(this._boundingGeometry.size.x+s,this._boundingGeometry.size.z+l,1,1),u),this._mesh.rotation.x=-.5*Math.PI,this._mesh.renderOrder=1e6,this._mesh.name="_BAKED_SHADOW_MESH",this._render(t,n,i,a,o)}return(0,i.Z)(e,[{key:"_render",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this._mesh.material.opacity=1-n,this._mesh.material.needsUpdate=!0,Ba.renderShadow(e,this._renderTarget,this._mesh,t,r,i)}},{key:"dispose",value:function(){this._mesh.material.dispose(),this._mesh.geometry.dispose(),this._renderTarget.dispose()}},{key:"mesh",get:function(){return this._mesh}},{key:"renderTarget",get:function(){return this._renderTarget}}]),e}(),ko={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},Bo={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},To=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){var s,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if((0,r.Z)(this,n),!e||!(e instanceof Yi.u9r))throw new ei("geometry");if(!i||!(i instanceof Yi.CP7))throw new ei("renderer");if(!a||!(a instanceof Yi.xsS))throw new ei("scene");if(!o||!(o instanceof Yi.V1s))throw new ei("camera");(s=t.call(this,e)).type="Reflector";var u=void 0!==(l=l||{}).color?new Yi.Ilk(l.color):new Yi.Ilk(8355711),c=l.textureWidth||512,h=l.textureHeight||512;s.clipBias=l.clipBias||0;var d=l.shader||n.ReflectorShader;s.camera=o,s.reflectorPlane=new Yi.JOQ,s.normal=new Yi.Pa4,s.reflectorWorldPosition=new Yi.Pa4,s.cameraWorldPosition=new Yi.Pa4,s.rotationMatrix=new Yi.yGw,s.lookAtPosition=new Yi.Pa4(0,0,-1),s.clipPlane=new Yi.Ltg,s.viewport=new Yi.Ltg,s.view=new Yi.Pa4,s.target=new Yi.Pa4,s.q=new Yi.Ltg,s.textureMatrix=new Yi.yGw,s.virtualCamera=new Yi.cPb;var f={minFilter:Yi.wem,magFilter:Yi.wem,format:Yi.wk1,stencilBuffer:!1};s.renderTarget=s.createRenderTarget(c,h,f,!0),s.composer=new aa(i),s.composer.renderToScreen=!1,s.composer.addPass(new oa(a,s.virtualCamera)),s.verticalBlurPass=new na(Bo),s.horizontalBlurPass=new na(ko),s.composer.addPass(s.verticalBlurPass),s.composer.addPass(s.horizontalBlurPass),s.renderTarget1=s.createRenderTarget(c,h,f),s.composer.addPass(new Ia(s.renderTarget1));var p=new Yi.jyz({uniforms:Yi.rDY.clone(d.uniforms),fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,transparent:!0,depthWrite:!1});return p.uniforms.tDiffuse.value=s.renderTarget1.texture,p.uniforms.tDepth.value=s.renderTarget.depthTexture,p.uniforms.color.value=u,p.uniforms.textureMatrix.value=s.textureMatrix,s.material=p,s}return(0,i.Z)(n,[{key:"createRenderTarget",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Yi.dd2(e,t,n);return Yi.M8C.isPowerOfTwo(e)&&Yi.M8C.isPowerOfTwo(t)||(i.texture.generateMipmaps=!1),r&&(i.depthBuffer=!0,i.depthTexture=new Yi.$YQ,i.depthTexture.type=Yi.LsT),i}},{key:"onBeforeRender",value:function(e,t,n){if(this.reflectorWorldPosition.setFromMatrixPosition(this.matrixWorld),this.cameraWorldPosition.setFromMatrixPosition(n.matrixWorld),this.rotationMatrix.extractRotation(this.matrixWorld),this.normal.set(0,0,1),this.normal.applyMatrix4(this.rotationMatrix),this.view.subVectors(this.reflectorWorldPosition,this.cameraWorldPosition),!(this.view.dot(this.normal)>0)){this.view.reflect(this.normal).negate(),this.view.add(this.reflectorWorldPosition),this.rotationMatrix.extractRotation(n.matrixWorld),this.lookAtPosition.set(0,0,-1),this.lookAtPosition.applyMatrix4(this.rotationMatrix),this.lookAtPosition.add(this.cameraWorldPosition),this.target.subVectors(this.reflectorWorldPosition,this.lookAtPosition),this.target.reflect(this.normal).negate(),this.target.add(this.reflectorWorldPosition),this.virtualCamera.position.copy(this.view),this.virtualCamera.up.set(0,1,0),this.virtualCamera.up.applyMatrix4(this.rotationMatrix),this.virtualCamera.up.reflect(this.normal),this.virtualCamera.lookAt(this.target),this.virtualCamera.far=n.far,this.virtualCamera.updateMatrixWorld(),this.virtualCamera.projectionMatrix.copy(n.projectionMatrix),this.material.uniforms.cameraNear.value=n.near,this.material.uniforms.cameraFar.value=n.far,this.material.uniformsNeedUpdate=!0,this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.virtualCamera.projectionMatrix),this.textureMatrix.multiply(this.virtualCamera.matrixWorldInverse),this.textureMatrix.multiply(this.matrixWorld),this.reflectorPlane.setFromNormalAndCoplanarPoint(this.normal,this.reflectorWorldPosition),this.reflectorPlane.applyMatrix4(this.virtualCamera.matrixWorldInverse),this.clipPlane.set(this.reflectorPlane.normal.x,this.reflectorPlane.normal.y,this.reflectorPlane.normal.z,this.reflectorPlane.constant);var r=this.virtualCamera.projectionMatrix;this.q.x=(Math.sign(this.clipPlane.x)+r.elements[8])/r.elements[0],this.q.y=(Math.sign(this.clipPlane.y)+r.elements[9])/r.elements[5],this.q.z=-1,this.q.w=(1+r.elements[10])/r.elements[14],this.clipPlane.multiplyScalar(2/this.clipPlane.dot(this.q)),r.elements[2]=this.clipPlane.x,r.elements[6]=this.clipPlane.y,r.elements[10]=this.clipPlane.z+1-this.clipBias,r.elements[14]=this.clipPlane.w,t.traverse((function(e){e instanceof Yi.woe&&(e.visible=!1)})),this.visible=!1;var i=e.getRenderTarget(),a=e.xr.enabled,o=e.shadowMap.autoUpdate;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(this.renderTarget),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,this.virtualCamera),this.blur?(this.material.uniforms.tDiffuse.value=this.renderTarget1.texture,this.composer.render(.01)):this.material.uniforms.tDiffuse.value=this.renderTarget.texture,e.xr.enabled=a,e.shadowMap.autoUpdate=o,e.setRenderTarget(i);var s=n.bounds;if(void 0!==s){var l=e.getSize(),u=e.getPixelRatio();this.viewport.x=s.x*l.width*u,this.viewport.y=s.y*l.height*u,this.viewport.z=s.z*l.width*u,this.viewport.w=s.w*l.height*u,e.state.this.viewport(this.viewport)}this.visible=!0,t.traverse((function(e){e instanceof Yi.woe&&(e.visible=!0)}))}}},{key:"getRenderTarget",value:function(){return this.renderTarget}},{key:"setFadeScale",value:function(e){this.material.uniforms.fadeScale.value=e*this.camera.far/this.camera.near}},{key:"setColor",value:function(e){this.material.uniforms.color.value=e}},{key:"setOpacity",value:function(e){this.material.uniforms.opacity.value=e}},{key:"enableBlur",value:function(e){this.blur=e}},{key:"dispose",value:function(){this.composer.renderTarget1.dispose(),this.composer.renderTarget2.dispose(),this.renderTarget.dispose(),this.renderTarget1.dispose()}}]),n}(Yi.Kj0);function Ro(e,t,n,r,i,a){var o=new Yi._12(t,t),s=new To(o,e.renderer.renderer,e.scene,e.camera,{clipBias:.03,textureWidth:1024,textureHeight:1024,color:4294967295,encoding:Yi.knz});return s.rotateX(-Math.PI/2),s.setFadeScale(null!==r&&void 0!==r?r:3),s.setOpacity(null!==i&&void 0!==i?i:1),s.setColor(n?new Yi.Ilk(n):new Yi.Ilk("#808080")),s.enableBlur(null!==a&&void 0!==a&&a),s}function Do(e,t){var n=new Yi.Tn7;n.opacity=1,n.depthWrite=!1,n.color.set(0);var r=new Yi.Kj0(new Yi._12(1,1,8,8),n);return r.receiveShadow=!0,r.rotation.x=-.5*Math.PI,r.position.set(0,1e-4,0),r.scale.set(e,e,e),r}function Po(e,t,n){var r=new Yi.Ox3;if(r.color.set("#ffffff"),r.intensity=3,r.castShadow=!0,r.shadow.bias=-.0015,r.shadow.radius=1,r.shadow.mapSize.width=1024,r.shadow.mapSize.height=1024,r.shadow.camera.near=.01*e,r.shadow.camera.far=10*e,r.shadow.camera.left=2*-e,r.shadow.camera.right=2*e,r.shadow.camera.top=2*e,r.shadow.camera.bottom=2*-e,r.shadow.camera.updateProjectionMatrix(),void 0!==n&void 0!==t){var i=e,a=i*Math.sin(n)*Math.cos(t),o=i*Math.sin(n)*Math.sin(t),s=i*Math.cos(n);r.position.set(a,s,o)}else r.position.set(2*e,2*e,2*e);return r.lookAt(0,0,0),r}To.ReflectorShader={uniforms:{color:{type:"c",value:null},tDiffuse:{type:"t",value:null},tDepth:{type:"t",value:null},textureMatrix:{type:"m4",value:null},cameraNear:{type:"f",value:0},cameraFar:{type:"f",value:0},fadeScale:{type:"f",value:3},opacity:{type:"f",value:.5}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <packing>","uniform vec3 color;","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float fadeScale;","uniform float opacity;","varying vec4 vUv;","float readDepth( sampler2D depthSampler, vec4 coord ) {","\tfloat fragCoordZ = texture2DProj( depthSampler, coord ).x;","\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );"," \tfloat depth = readDepth( tDepth, vUv );","\tgl_FragColor = vec4(base.rgb * color.rgb, (1.0 - ( depth * fadeScale )) * opacity );","}"].join("\n")};var Lo=new Yi.Pa4,Qo=function(){function e(t){(0,r.Z)(this,e),this.domPool=[];for(var n=0;n<t;++n)this.domPool.push(document.createElement("div"));this.count=0}return(0,i.Z)(e,[{key:"allocate",value:function(){return this.count===this.domPool.length&&this.domPool.push(document.createElement("div")),this.domPool[this.count++]}},{key:"reset",value:function(){this.count=0}}]),e}(),jo=function(){function e(t,n){(0,r.Z)(this,e),this.containerElem=t,this.rootElem=document.createElement("div"),this.settings=n,this.domElemPool=new Qo(16),t.appendChild(this.rootElem)}return(0,i.Z)(e,[{key:"createLabelsFromScene",value:function(){var e=this,t=[];for(this.domElemPool.reset();this.rootElem.firstChild;)this.rootElem.removeChild(this.rootElem.lastChild);return Es.project.scene.traverse((function(n){if(n.isPoints){var r=e.domElemPool.allocate();r.style.position="absolute",r.style.visibility=n.userData.selected?"visible":"hidden",r.style.top="0",r.style.left="0",r.style.zIndex="1",r.style.marginLeft="0px",r.style.marginTop="0px",r.style.padding="1em",r.style.width="200px",r.style.color="#fff",r.style.background="rgba(0, 0, 0, 0.8)",r.style.borderRadius=".5em",r.style.fontSize="12px",r.style.lineHeight="1.2",r.style.transition="opacity .5s",r.style.overflowX="hidden",r.style.overflowWrap="break-word",r.style.whiteSpace="pre-wrap",r.textContent=n.userData.labelText,t.push({elem:r,object:n}),e.rootElem.appendChild(r)}})),t}},{key:"updateLabels",value:function(e){var t=this;this.createLabelsFromScene().forEach((function(n,r){if(n.object.getWorldPosition(Lo),Lo.project(e),Lo.z<1){var i=Math.round((.5+Lo.x/2)*t.containerElem.clientWidth),a=Math.round((.5-Lo.y/2)*t.containerElem.clientHeight);n.elem.style.left=i+t.settings.size/2+"px",n.elem.style.top=a+t.settings.size/2+"px"}else n.elem.style.left="-1000px"}))}}]),e}(),No=function(){function e(t){if((0,r.Z)(this,e),!t)throw new ei("cameraController");this.cameraController=t,this.camera=t.object,this.targetQuaternion=new Yi._fP,this.targetPosition=new Yi.Pa4,this.startPosition=new Yi.Pa4,this.lookAtPoint=new Yi.Pa4,this.startQuaternion=new Yi._fP}return(0,i.Z)(e,[{key:"start",value:function(e,t,n,r){this.rotSpeed=.75,this.transSpeed=.75,this.animating=!0,this.startQuaternion.copy(this.camera.quaternion),this.targetQuaternion.copy(t),this.targetPosition.copy(e),this.startPosition.copy(this.camera.position),this.positionAlpha=0,this.rotationAlpha=0,this.cameraState=n,this.onCompleted=r}},{key:"update",value:function(e){this.animating&&(this.rotationAlpha+=this.rotSpeed*e,this.rotationAlpha>=1&&(this.rotationAlpha=1),this.camera.quaternion.slerpQuaternions(this.startQuaternion,this.targetQuaternion,this.rotationAlpha),this.positionAlpha+=this.transSpeed*e,this.positionAlpha>=1&&(this.positionAlpha=1),this.camera.position.lerpVectors(this.startPosition,this.targetPosition,this.positionAlpha),1===this.rotationAlpha&&1===this.positionAlpha&&(this.animating=!1,this.cameraController.setState(this.cameraState),this.onCompleted&&this.onCompleted()))}}]),e}(),Fo=function(){function e(t,n){var i=this;if((0,r.Z)(this,e),!t||!(t instanceof Yi.Tme))throw new ei("rootNode");if(!n)throw new ei("clips");this._clips=n,this._mixer=new Yi.Xcj(t),this._mixer.addEventListener("finished",(function(e){i.onClipEndEventHandler&&i.onClipEndEventHandler(e.action),e.action.userData.finished=!0,e.action.userData.openState=e.action.userData.openState?0:1}))}return(0,i.Z)(e,[{key:"clips",get:function(){return this._clips}},{key:"mixer",get:function(){return this._mixer}},{key:"update",value:function(e){this._mixer&&this._mixer.update(e)}},{key:"playClip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this._mixer.clipAction(e);i.userData||(i.userData={}),i.isRunning()&&i.repetitions!==Number.POSITIVE_INFINITY||(void 0===i.userData.openState&&(i.userData.openState=0),t&&(n=!1),n&&!t||(i.userData.openState=0),i.setLoop(Yi.YKA,t?Number.POSITIVE_INFINITY:1),i.userData.finished&&n&&(i.timeScale=i.userData.openState?-1:1),i.clampWhenFinished=!0,i.enable=!0,this.currentAction&&this.currentAction!==i?this.currentAction.fadeOut(r):r=0,i.reset().fadeIn(r).play(),i.finished=!1,this.currentAction=i)}},{key:"getClipByName",value:function(e){return this._clips.find((function(t){return t.name===e}))}},{key:"stopClip",value:function(e){if(!e)throw new ei("clip");this._mixer.clipAction(e).stop()}},{key:"stopAll",value:function(){var e=this;this._clips.forEach((function(t){e._mixer.clipAction(t).stop()}))}},{key:"pauseClip",value:function(e){if(!e)throw new ei("clip");var t=this._mixer.clipAction(e);t.isRunning&&(t.paused=!0)}},{key:"unPauseClip",value:function(e){if(!e)throw new ei("clip");this._mixer.clipAction(e).paused=!1}},{key:"isClipPlaying",value:function(e){if(!e)throw new ei("clip");return this._mixer.clipAction(e).isRunning()}},{key:"isClipPaused",value:function(e){if(!e)throw new ei("clip");return this._mixer.clipAction(e).paused}},{key:"isAnyClipPlaying",value:function(){var e=this;return this._clips.forEach((function(t){if(e._mixer.clipAction(t).isRunning)return!0})),!1}}]),e}(),Uo=new Yi.Pa4,Oo=new Yi.Pa4,Zo=new Yi.Pa4,zo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).light=e,a.sprite=new Yi.jyi,a.sprite.material.map=i,a.sprite.material.sizeAttenuation=!1,a.sprite.scale.set(.05,.05,.05),a.add(a.sprite),a.isLightHelper=!0,a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a}return(0,i.Z)(n,[{key:"update",value:function(){this.sprite.material.color.copy(this.light.color)}},{key:"dispose",value:function(){this.sprite.geometry.dispose(),this.sprite.material.dispose()}}]),n}(Yi.Tme),Go=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){return(0,r.Z)(this,n),t.call(this,e,i)}return(0,i.Z)(n)}(zo),Ho=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;(0,r.Z)(this,n),a=t.call(this,e,i);var o=new Yi.u9r;o.setAttribute("position",new Yi.a$l([0,0,0,0,0,.25],3));var s=new Yi.nls({fog:!1,toneMapped:!1});return a.targetLine=new Yi.x12(o,s),a.add(a.targetLine),a}return(0,i.Z)(n,[{key:"update",value:function(){(0,va.Z)((0,ga.Z)(n.prototype),"update",this).call(this),this.targetLine.material.color.copy(this.light.color),this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Uo.setFromMatrixPosition(this.light.matrixWorld),Oo.setFromMatrixPosition(this.light.target.matrixWorld),Zo.subVectors(Oo,Uo),void 0!==this.color?this.targetLine.material.color.set(this.color):this.targetLine.material.color.copy(this.light.color),this.targetLine.lookAt(Oo),this.targetLine.scale.z=Zo.length()}},{key:"dispose",value:function(){(0,va.Z)((0,ga.Z)(n.prototype),"dispose",this).call(this),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}}]),n}(zo),Vo=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;(0,r.Z)(this,n),a=t.call(this,e,i);for(var o=new Yi.u9r,s=.1,l=[0,0,0,0,0,.2,0,0,0,s,0,s,0,0,0,-.1,0,s,0,0,0,0,s,s,0,0,0,0,-.1,s],u=0,c=1;u<32;u++,c++){var h=u/32*Math.PI*2,d=c/32*Math.PI*2;l.push(Math.cos(h)*s,Math.sin(h)*s,s,Math.cos(d)*s,Math.sin(d)*s,s)}o.setAttribute("position",new Yi.a$l(l,3));var f=new Yi.nls({fog:!1,toneMapped:!1});return a.cone=new Yi.ejS(o,f),a.add(a.cone),a.update(),a}return(0,i.Z)(n,[{key:"dispose",value:function(){(0,va.Z)((0,ga.Z)(n.prototype),"dispose",this).call(this),this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);var e=this.light.distance?this.light.distance:2,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Uo.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Uo),this.cone.material.color.copy(this.light.color)}}]),n}(zo);function Wo(){var e=new Yi.DvJ,t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}var qo=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,r.Z)(this,e),this._scene=t,this._settings=n,this._name=i,this._assets={cubeMaps:{},variantMaps:{}}}return(0,i.Z)(e,[{key:"settings",get:function(){return this._settings}},{key:"scene",get:function(){return this._scene}},{key:"name",get:function(){return this._name}},{key:"cubeMaps",get:function(){return this._assets.cubeMaps}},{key:"variantMaps",get:function(){return this._assets.variantMaps}},{key:"addCubeMap",value:function(e,t){this._assets.cubeMaps[e]={images:t}}},{key:"setVariantMap",value:function(e,t){this._assets.variantMaps[e]=t}},{key:"deleteVariantMap",value:function(e){this._assets.variantMaps[e]&&delete this._assets.variantMaps[e]}},{key:"removeCubeMap",value:function(e){this._assets.cubeMaps[e]&&delete this._assets.cubeMaps[e]}}]),e}(),Yo=n(6031),Xo=function(){function e(){(0,r.Z)(this,e),this._state={project:{title:"Untitled",description:""},environment:{backgroundType:"color",backgroundColor:"#ffffff",backgroundGradientColor1:"#ffffff",backgroundGradientColor2:"#808080",enableReflection:!1,reflectionFadeScale:3,reflectionColor:"#ffffff",reflectionOpacity:1,blurReflection:!1,fogColor:"#BABFD9",fogDensity:.02,fogNear:100,fogFar:1e3,fog:!1,fogType:"exponential"},lighting:{shadowsEnabled:!0,shadowLightIntensity:1,shadowPlaneVisible:!0,shadowPlaneLightness:.7,shadowLightRotation:Math.PI/4,shadowLightElevation:Math.PI/4,shadowBias:1e-4,ambientLightColor:"#ffffff",ambientLightIntensity:.2},cameraController:{controllerType:"orbit",orbitController:{minElevation:0,maxElevation:180,minZoom:0,maxZoom:100},firstPersonController:{moveSpeed:1}},annotations:{visibilityTest:!0,showNavButtons:!1,textColor:"#ffffff",fillColor:"#000000",borderColor:"#ffffff",size:32},viewer:{autoRotate:{enabled:!0,speed:1},menu:{showHelp:!0,showInfo:!0,showOptions:!0},startButton:{show:!0,type:"3d"},ar:{enabled:!0,webAr:!1,arModelRootNodeName:""},vr:{enabled:!1,walkSpeed:1,rayGeometryTest:!0},animations:{startAnimation:"",loopStartAnimation:!1},dimensionsTool:{show:!1}},effects:{bloom:{enabled:!1,radius:.5,threshold:.5,strength:.5},dof:{enabled:!1,focalLength:.5,focus:.5,blur:.5},gemstone:{enabled:!1}},configurator:{options:{titleText:"Untitled",show:!1,variantIconSize:40,variantIconBorderRadius:100,iconSize:50,iconBorderRadius:10,fixedPanelHeight:!1,panelHeight:200},parts:[]}}}return(0,i.Z)(e,[{key:"state",get:function(){return this._state}},{key:"set",value:function(e){this._state=e}},{key:"setValue",value:function(e,t){(0,Yo.set)(this._state,e,t),ni.instance.notifyAll(new mi(this._state))}}]),e}(),Jo=new Yi.Pa4,Ko=new Yi.FM8,$o=new Yi.FM8;function es(e,t,n,r,i,a,o){var s=null,l=o/2;return Ko.set(e,t),n.traverse((function(e){if(e.isPoints){if(e.userData.selected=!1,e.getWorldPosition(Jo),Jo.project(r),Jo.z>1)return null;$o.set(Math.round((.5+Jo.x/2)*i),Math.round((.5-Jo.y/2)*a)),$o.distanceTo(Ko)<l&&(e.userData.selected=!0,s=e)}})),s}function ts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ffffff",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#ffffff",i=arguments.length>4?arguments[4]:void 0,a=document.createElement("canvas").getContext("2d");if(a.canvas.width=64,a.canvas.height=64,i)a.drawImage(i,0,0);else{var o=2*Math.PI;a.fillStyle=t,a.beginPath(),a.arc(32,32,32,0,o),a.fill(),a.strokeStyle=r,a.lineWidth=4,a.beginPath(),a.arc(32,32,30,0,o),a.stroke(),a.fillStyle=n,a.font="32px sans-serif",a.textAlign="center",a.textBaseline="middle",a.fillText(e+"",32,32)}var s=new Yi.ROQ(a.canvas);return s.minFilter=Yi.wem,s.wrapS=Yi.uWy,s.wrapT=Yi.uWy,s}function ns(e,t,n,r){!function(e,t,n,r){e.getWorldPosition(Jo),Jo.sub(r.position);var i=Jo.length();i*=.98,Jo.normalize(),n.set(r.position,Jo);var a=n.intersectObjects([t],!0);return a.length>0&&a[0].distance<i}(e,t,n,r)?e.material.opacity=1:e.material.opacity=.1}var rs=n(6975);function is(e){return as.apply(this,arguments)}function as(){return(as=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.addEventListener("load",(function(t){return e(t.target.result)})),r.addEventListener("error",n),r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function os(e){return ss.apply(this,arguments)}function ss(){return(ss=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.addEventListener("load",(function(t){return e(t.target.result)})),r.addEventListener("error",n),r.readAsText(t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(e){return us.apply(this,arguments)}function us(){return us=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){(new ya).load(t,(function(n){n.isHDRTexture=!0,n.dataUrl=t,n.needsUpdate=!0,e(n)}),void 0,(function(e){return n("failed to load hdr ".concat(e))}))})));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function cs(e){return hs.apply(this,arguments)}function hs(){return hs=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){(new rs.U).load(t,(function(n){n.colorSpace=Yi.KI_,n.dataUrl=t,n.needsUpdate=!0,e(n)}),void 0,(function(e){return n("failed to load tga ".concat(e))}))})));case 1:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e){return fs.apply(this,arguments)}function fs(){return(fs=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=document.createElement("img");n.addEventListener("load",(function(){var n=new Yi.xEZ(this);n.dataUrl=t,n.needsUpdate=!0,e(n)}),!1),n.src=t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e){return As.apply(this,arguments)}function As(){return(As=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var n;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(t);case 2:return n=e.sent,e.abrupt("return",ls(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(e){return vs.apply(this,arguments)}function vs(){return(vs=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var n;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(t);case 2:return n=e.sent,e.abrupt("return",ds(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e){return ys.apply(this,arguments)}function ys(){return(ys=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var n,r,i,a,o,s,l;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("hdr"!==(n=t.name.split(".").pop().toLowerCase())&&"pic"!==n){e.next=11;break}return e.next=4,is(t);case 4:return r=e.sent,e.next=7,ls(r);case 7:return i=e.sent,e.abrupt("return",i);case 11:if("tga"!==n){e.next=21;break}return e.next=14,is(t);case 14:return a=e.sent,e.next=17,cs(a);case 17:return o=e.sent,e.abrupt("return",o);case 21:if(!t.type.match("image.*")){e.next=29;break}return e.next=24,is(t);case 24:return s=e.sent,e.next=27,ds(s);case 27:return l=e.sent,e.abrupt("return",l);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xs=new Yi.Ilk,bs=new Yi.Ilk,ws=new Yi.Pa4,Cs=(new Yi.Pa4,new Yi.Pa4,function(){function e(){(0,r.Z)(this,e),this._effectsPreviewMode=!1,this._envPreviewMode=!1}return(0,i.Z)(e,[{key:"orbitCameraController",get:function(){return this._orbitCameraController}},{key:"firstPersonCameraController",get:function(){return this._firstPersonCameraController}},{key:"cameraController",get:function(){return this._cameraController},set:function(e){this._cameraController=e}},{key:"world",get:function(){return this._world}},{key:"containerElem",get:function(){return this._containerElem}},{key:"canvasElem",get:function(){return this._canvasElem}},{key:"selectedObject",get:function(){return this._selectedObject}},{key:"renderPass",get:function(){return this._renderPass}},{key:"viewport",get:function(){return{width:this.containerElem.clientWidth,height:this.containerElem.clientHeight,aspect:this.containerElem.clientWidth/this.containerElem.clientHeight}}},{key:"effectsPreviewMode",get:function(){return this._effectsPreviewMode},set:function(e){this._effectsPreviewMode=e,this.setEffects()}},{key:"envPreviewMode",get:function(){return this._envPreviewMode},set:function(e){this._envPreviewMode=e,this.setEnvironment()}},{key:"transformControls",get:function(){return this._transformControls}},{key:"project",get:function(){return this._project},set:function(e){var t=this;this._project=e,this.removeLightHelpers(),this.world.clearSceneRoot(),this.world.sceneRoot.add(e.scene),e.scene.traverse((function(e){var n;e.isMesh?(e.receiveShadow=!0,e.castShadow=!0):e.isPoints?e.material=new Yi.UY4({color:4294967295,size:e.userData.size,sizeAttenuation:!1,depthTest:!1,transparent:!0,map:e.material.map}):e.isLight&&(e instanceof Yi.PMe||e instanceof Yi.Ox3)&&(e.children.length&&e.children.forEach((function(e){return e.removeFromParent()})),e.target=new Yi.Tme,e.target.position.set(0,0,2),e.add(e.target),t.updateLight(e)),null!==e&&void 0!==e&&null!==(n=e.animations)&&void 0!==n&&n.length&&(e.animationPlayer=new Fo(e,e.animations))})),this.bindCamerasToControllers(e.scene,1),this.renderPass.camera=this.orbitCameraController.object,this.transformControls.camera=this.orbitCameraController.object,this.setLighting(),this.setEnvironment(),this.setCameraController(),this.addLightHelpers(),this.deselectAll(),this.updateAnnotations(),this.createAllBakedShadows(),this.sceneBBoxHelper&&this.sceneBBoxHelper.setFromObject(e.scene),this.recalculateSceneBounds(),ni.instance.notifyAll(new mi),ni.instance.notifyAll(new oi),ni.instance.notifyAll(new ai),this.orbitCameraController.object.position.x=1,this.orbitCameraController.object.position.y=1,this.orbitCameraController.object.position.z=1,this.frameScene(this.firstPersonCameraController),this.frameScene(this.orbitCameraController),this.resizeViewport()}},{key:"resizeViewport",value:function(){var e=this.containerElem.clientWidth,t=this.containerElem.clientHeight,n=e/t;this.orbitCameraController.object.aspect=n,this.orbitCameraController.object.zoom=1,this.orbitCameraController.object.updateProjectionMatrix(),this.firstPersonCameraController.object.aspect=n,this.firstPersonCameraController.object.zoom=1,this.firstPersonCameraController.object.updateProjectionMatrix(),this.world.composer&&this.world.composer.setSize(e-1,t),this.world.renderer&&this.world.renderer.setSize(e,t)}},{key:"initialize",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n){var r,i,a,o,s,l,u,c=this;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._canvasElem=t,this._containerElem=n,ni.instance.notifyAll(new bi),this._project=new qo(new Yi.Tme,new Xo),this.mouseDownPos=new Yi.FM8,this.mouseUpPos=new Yi.FM8,r=this.createOrbitCamera(),this.project.scene.add(r),i=this.createFirstPersonCamera(),this.project.scene.add(i),this._orbitCameraController=new ja(r,n),this.orbitCameraController.enablePan=!0,this.orbitCameraController.autoRotate=!1,this.orbitCameraController.autoRotateSpeed=0,this.orbitCameraController.saveState(),r.position.set(20,20,20),r.lookAt(0,0,0),this.orbitCameraController.update(),this._firstPersonCameraController=new Aa(i,n),this.firstPersonCameraController.lookSpeed=.1,this.firstPersonCameraController.object.position.set(-10,10,-10),this.cameraController=this.orbitCameraController,(a=new Fa).init(t),o=new ha(a.renderer),this._world=new Ua(a,o,this.orbitCameraController),this._renderPass=o.createRenderPass(this.world.scene,r,!0),o.addPass(this.renderPass),this.world.sceneRoot.add(this.project.scene),this.ambientLight=new Yi.Mig(new Yi.Ilk(this.project.settings.state.lighting.ambientLightColor),this.project.settings.state.lighting.ambientLightIntensity),this.world.scene.add(this.ambientLight),this.world.renderer.renderer.shadowMap.enabled=this.project.settings.state.lighting.shadowsEnabled,this.world.renderer.renderer.shadowMap.type=Yi.ntZ,new ResizeObserver((function(e){e.length>0&&c.resizeViewport()})).observe(n),this.objectSelector=new Oa,this._transformControls=new So(this.world.camera,this.canvasElem),this.transformControls.onDragChanged=function(e){c.cameraController.enabled=!e.value,c.transformControls.object.isLight&&c.updateLight(c.transformControls.object),c.recalculateSceneBounds()},this.world.scene.add(this.transformControls.controls),this.getMousePos=function(e,t,n){var r=e.getBoundingClientRect();return[(t-r.left)/r.width,(n-r.top)/r.height]},this.canvasElem.addEventListener("pointerdown",(function(e){c.mouseDownPos.fromArray(c.getMousePos(c.canvasElem,e.clientX,e.clientY))})),this.canvasElem.addEventListener("pointerup",(function(e){c.mouseUpPos.fromArray(c.getMousePos(c.canvasElem,e.clientX,e.clientY))})),this.canvasElem.addEventListener("click",(function(e){var t=es(e.offsetX,e.offsetY,c.world.sceneRoot,c.world.camera,c.containerElem.clientWidth,c.containerElem.clientHeight,c.project.settings.state.annotations.size);if(t){var n=new Yi._fP;n.setFromRotationMatrix(t.userData.cameraState.matrix);var r=new Yi.Pa4;r.setFromMatrixPosition(t.userData.cameraState.matrix),c.cameraAnimation=new No(c.world.cameraController),c.orbitCameraController.enabled=!1,c.cameraAnimation.start(r,n,t.userData.cameraState,(function(){c.orbitCameraController.enabled=!0}));var i=new Io(t);Ei.execute(i)}else{if(!c.mouseUpPos.distanceTo(c.mouseDownPos)){var a,o,s=c.objectSelector.intersectionTest(c.project.scene,c.world.camera,e).filter((function(e){return!e.object.isLine&&!e.object.isPoints&&"ezv-baked-shadow"!=e.object.name})),l=(0,qi.Z)(s);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(u.object!==c.selectedObject){var h=new Io(u.object,u);Ei.execute(h),u.object.isLight&&c.bindLightHelper(u.object.constructor.name,u.object),a=u;break}}}catch(Vc){l.e(Vc)}finally{l.f()}if(s.length&&ni.instance.notifyAll(new li(s[0])),!a&&c.selectedObject){var d=new Mo(c.selectedObject);Ei.execute(d)}}ni.instance.notifyAll(new si(e))}})),this.gradient=Qa(this.world.camera),this.world.scene.add(this.gradient),this.reflector=Ro(this.world,10,this.project.settings.state.environment.reflectionColor,this.project.settings.state.environment.reflectionFadeScale,this.project.settings.state.environment.reflectionOpacity,this.project.settings.state.environment.blurReflection),this.world.scene.add(this.reflector),this.expFog=new Yi.yo9(16777215,this.project.settings.state.environment.fogColor,this.project.settings.state.environment.fogDensity),this.fog=new Yi.ybr(16777215,this.project.settings.state.environment.fogNear,this.project.settings.state.environment.fogFar),this.world.scene.fog="linear"===this.project.settings.state.environment.fogType?this.fog:this.expFog,this.shadowPlane=Do(10,this.project.settings.state.lighting.shadowLightness),this.shadowPlane.name="ezv-shadow-plane",this.world.scene.add(this.shadowPlane),this.shadowLight=Po(10,this.project.settings.state.lighting.shadowLightRotation,this.project.settings.state.lighting.shadowLightElevation),this.shadowLight.name="ezv-shadow-light",this.shadowLight.visible=!1,this.world.scene.add(this.shadowLight),this.annotationLabels=new jo(this.containerElem,this.project.settings.state.annotations),this.world.addRenderFrameCallback((function(e){c.annotationLabels.updateLabels(c.world.camera),c.cameraAnimation.update(e),c.project.scene.traverse((function(t){t.animationPlayer&&t.animationPlayer.update(e)})),c.project.settings.state.annotations.visibilityTest&&c.updateAnnotationsVisibility()})),this.cameraAnimation=new No(this.orbitCameraController),this.setGrid(100,40,new Yi.Ilk(2105376),new Yi.Ilk(4202528),!0),this.lightTexture=(new Yi.dpR).load("data:image/png;base64,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"),(s=this.addPointLight()).intensity=1,s.position.set(-2,2,-2),l=Wo(),this.addObject(l),this.bloomPass=this.world.composer.createBloomPass(this.project.settings.state.effects.bloom.threshold,this.project.settings.state.effects.bloom.strength,this.project.settings.state.effects.bloom.radius),this.world.composer.addPass(this.bloomPass),this.dofPass=this.world.composer.createDofPass(this.world.scene,this.world.camera,this.project.settings.state.effects.dof.focus*this.world.camera.far*.1,1*this.project.settings.state.effects.dof.focalLength/this.world.camera.far,.01*this.project.settings.state.effects.dof.blur),this.world.composer.addPass(this.dofPass),this.setEffects(),this.rayCaster=new Yi.iMs,this.newProject(),this.orbitCameraController.object.position.x=1,this.orbitCameraController.object.position.y=1,this.orbitCameraController.object.position.z=1,this.frameScene(this.orbitCameraController),this.frameScene(this.firstPersonCameraController),e.prev=79,e.next=82,ls("".concat(ye.fileServerUrl,"/city.hdr"));case 82:(u=e.sent)&&(u.mapping=Yi.dSO,this.defaultEnvMap=u,this.project.envMap=u,this.world.setEnvironmentMap(u)),e.next=89;break;case 86:e.prev=86,e.t0=e.catch(79),console.log("failed to load environment map");case 89:ni.instance.notifyAll(new wi);case 90:case"end":return e.stop()}}),e,this,[[79,86]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"newProject",value:function(){var e=new Yi.Tme,t=new Xo,n=new qo(e,t);this.project=n;var r=Wo();r.position.set(0,.5,0),this.addObject(r),this.frameObject(this.project.scene)}},{key:"setGrid",value:function(e,t,n,r,i){this._grid&&(this._grid.removeFromParent(),this._grid.dispose()),this._grid=new Yi.VLJ(e,t,r,n),this._grid.visible=i,this.world.scene.add(this._grid)}},{key:"createOrbitCamera",value:function(){var e=new Yi.cPb(45,this.viewport.aspect,.1,1e3);return e.name="Orbit_Camera",e}},{key:"createFirstPersonCamera",value:function(){var e=new Yi.cPb(45,this.viewport.aspect,.1,1e3);return e.name="First_Person_Camera",e}},{key:"bindCamerasToControllers",value:function(e){var t=e.getObjectByName("Orbit_Camera");t||(t=this.createOrbitCamera(this.viewport.aspect),e.add(t)),this.orbitCameraController.object=t,this.orbitCameraController.saveState();var n=e.getObjectByName("First_Person_Camera");n||(n=this.createFirstPersonCamera(this.viewport.aspect),e.add(n)),this.firstPersonCameraController.object=n}},{key:"renderScene",value:function(){this.world.composer.render(this.world.scene,this.world.camera)}},{key:"toggleFullScreen",value:function(){this.containerElem&&(document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():this.containerElem.requestFullscreen?this.containerElem.requestFullscreen():this.containerElem.mozRequestFullScreen?this.containerElem.mozRequestFullScreen():this.containerElem.msRequestFullscreen?this.containerElem.msRequestFullscreen():this.containerElem.webkitRequestFullscreen&&this.containerElem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}},{key:"addDepthFadeReflector",value:function(){this.depthFadeReflector&&(this.depthFadeReflector.removeFromParent(),this.depthFadeReflector.dispose());var e=new Xi(this.project.scene);this.depthFadeReflector=Ro(this.world,e,this.project.settings.state.environment.reflectionColor,this.project.settings.state.environment.reflectionFadeScale,this.project.settings.state.environment.reflectionOpacity,this.project.settings.state.environment.blurReflection),this.world.scene.add(this.depthFadeReflector)}},{key:"deleteBakedShadowMesh",value:function(e){e.bakedShadow&&(e.bakedShadow.mesh.removeFromParent(),e.bakedShadow.dispose(),e.bakedShadow=null)}},{key:"renderBakedShadow",value:function(e){var t,n,r,i=null!==(t=e.userData.bakedShadowLightness)&&void 0!==t?t:.7,a=null!==(n=e.userData.bakedShadowBlur)&&void 0!==n?n:.7,o=null!==(r=e.userData.bakedShadowFalloff)&&void 0!==r?r:0;this.deleteBakedShadowMesh(e),e.bakedShadow=function(e,t,n,r,i){var a=new _o(t,e,n,r,i);return e.attach(a.mesh),e.bakedShadow=a,a}(e,this.world.renderer,i,a,o),e.attach(e.bakedShadow.mesh),e.bakedShadow.mesh.name="ezv-baked-shadow"}},{key:"removeBakedShadowFromObject",value:function(e){this.deleteBakedShadowMesh(e),delete e.userData.bakedShadowLightness,delete e.userData.bakedShadowBlur,delete e.userData.bakedShadowFalloff}},{key:"getBakedShadowProperties",value:function(e){var t,n,r;return{bakedShadowBlur:null!==(t=e.userData.bakedShadowBlur)&&void 0!==t?t:.7,bakedShadowLightness:null!==(n=e.userData.bakedShadowLightness)&&void 0!==n?n:.7,bakedShadowFalloff:null!==(r=e.userData.bakedShadowFalloff)&&void 0!==r?r:0}}},{key:"setBakedShadowProperties",value:function(e,t){e.userData.bakedShadowBlur=t.bakedShadowBlur,e.userData.bakedShadowLightness=t.bakedShadowLightness,e.userData.bakedShadowFalloff=t.bakedShadowFalloff,this.renderBakedShadow(e,e.userData.bakedShadowLightness,e.userData.bakedShadowBlur,e.userData.bakedShadowFalloff)}},{key:"createAllBakedShadows",value:function(){var e=this;this.project.scene.traverse((function(t){void 0!=t.userData.bakedShadowBlur&&e.renderBakedShadow(t)}))}},{key:"deleteAllBakedShadowMeshes",value:function(){var e=this;this.project.scene.traverse((function(t){t.bakedShadow&&e.deleteBakedShadowMesh(t)}))}},{key:"addObject",value:function(e,t){e&&(t?t.add(e):this.project.scene.add(e),e.traverse((function(e){var t;e instanceof Yi.Kj0&&(e.receiveShadow=!0,e.castShadow=!0),null!==e&&void 0!==e&&null!==(t=e.animations)&&void 0!==t&&t.length&&(e.animationPlayer=new Fo(e,e.animations))})),this.recalculateSceneBounds(),ni.instance.notifyAll(new ai))}},{key:"removeObject",value:function(e){if(!e.isCamera){e.removeFromParent(),e.isLight&&e.helper&&this.removeLightHelper(e.helper);var t=new Sa;t.track(e),t.dispose(),this.deselectAll(),ni.instance.notifyAll(new ai)}}},{key:"updateLight",value:function(e){(e instanceof Yi.PMe||e instanceof Yi.Ox3)&&(e.helper&&e.helper.update(),e.target&&e.target.updateMatrixWorld())}},{key:"addPointLight",value:function(){var e=new Yi.cek;this.addObject(e);var t=new Go(e,this.lightTexture);return e.helper=t,this.world.scene.add(t),e}},{key:"addDirectionalLight",value:function(){var e=new Yi.Ox3;e.target=new Yi.Tme,e.target.position.set(0,0,2),this.addObject(e),e.add(e.target);var t=new Ho(e,this.lightTexture);return e.helper=t,this.world.scene.add(t),e}},{key:"addSpotLight",value:function(){var e=new Yi.PMe;this.addObject(e),e.add(e.target);var t=new Vo(e,this.lightTexture);return e.helper=t,this.world.scene.add(t),e}},{key:"addHemisphereLight",value:function(){var e=new Yi.vmT;this.addObject(e);var t=new Go(e,this.lightTexture);return e.helper=t,this.world.scene.add(t),e}},{key:"addLightHelpers",value:function(){var e=this;this.project.scene.traverse((function(t){var n;t.isLight&&(t.helper&&(t.helper.removeFromParent(),t.dispose&&t.dispose()),t instanceof Yi.cek?n=new Go(t,e.lightTexture):t instanceof Yi.Ox3?n=new Ho(t,e.lightTexture):t instanceof Yi.PMe?n=new Vo(t,e.lightTexture):t instanceof Yi.vmT&&(n=new Go(t,e.lightTexture)),n&&(t.helper=n,e.world.scene.add(n),t.helper.update()))}))}},{key:"removeLightHelper",value:function(e){if(e.isLightHelper){e.removeFromParent();var t=new Sa;t.track(e),t.dispose()}}},{key:"getLightHelpers",value:function(){var e=[];return this.world.scene.traverse((function(t){t.isLightHelper&&e.push(t)})),e}},{key:"removeLightHelpers",value:function(){var e=this;this.getLightHelpers().forEach((function(t){return e.removeLightHelper(t)}))}},{key:"frameObject",value:function(e,t){t||(t=this.cameraController);var n,r=t.object,i=new Xi(e),a=r.fov;if(n=r.aspect>1?i.boundingSphere.radius/Math.tan(a/2*Math.PI/180):i.boundingSphere.radius/r.aspect/Math.tan(a/2*Math.PI/180),t===this.orbitCameraController){var o;o=t.object.aspect>1?i.boundingSphere.radius/Math.tan(a/2*Math.PI/180):i.boundingSphere.radius/t.object.aspect/Math.tan(a/2*Math.PI/180),ws.set(Math.cos(Math.PI/4),Math.sin(Math.PI/4),Math.sin(Math.PI/4)),ws.normalize(),o*=1.1;var s=i.center.x+ws.x*o,l=i.center.y+ws.y*o,u=i.center.z+ws.z*o;t.object.position.set(s,l,u),t.target.copy(i.center)}else r.position.set(i.center.x,i.center.y,i.center.z+n),r.lookAt(i.center),t.setOrientation()}},{key:"frameScene",value:function(e){if(e||(e=this.cameraController),this.frameObject(this.project.scene,e),e===this.orbitCameraController){var t=new Xi(this.project.scene);e.object.near=.01*t.boundingSphere.radius,e.object.far=100*t.boundingSphere.radius,e.object.updateProjectionMatrix()}}},{key:"recalculateSceneBounds",value:function(){var e=new Xi(this.world.sceneRoot),t=e.boundingSphere.radius;this.shadowLight.shadow.camera.near=.01*t,this.shadowLight.shadow.camera.far=10*t,this.shadowLight.shadow.camera.left=2*-t,this.shadowLight.shadow.camera.right=2*t,this.shadowLight.shadow.camera.top=2*t,this.shadowLight.shadow.camera.bottom=2*-t,this.shadowLight.shadow.camera.updateProjectionMatrix();var n=t*Math.sin(this.project.settings.state.lighting.shadowLightElevation)*Math.cos(this.project.settings.state.lighting.shadowLightRotation),r=t*Math.sin(this.project.settings.state.lighting.shadowLightElevation)*Math.sin(this.project.settings.state.lighting.shadowLightRotation),i=t*Math.cos(this.project.settings.state.lighting.shadowLightElevation);this.shadowLight.position.set(e.boundingSphere.center.x+n,e.boundingSphere.center.y+i,e.boundingSphere.center.z+r),ws.set(e.boundingSphere.center.x,e.boundingSphere.center.y,e.boundingSphere.center.z),this.shadowLight.lookAt(ws);var a=2*(e.boundingSphere.center.length()+t);this.shadowPlane.scale.set(a,a,a),this.reflector.scale.set(a,a,a),this.sceneBBoxHelper&&this.sceneBBoxHelper.update(),this.shadowCameraHelper&&this.shadowCameraHelper.update()}},{key:"selectObject",value:function(e,t){this.selectedObject!==e&&(this._selectedObject=e,this.transformControls.controls.attach(e),ni.instance.notifyAll(new ci(e,t)))}},{key:"setObjectPosition",value:function(e,t){e.position.copy(t),this.recalculateSceneBounds(),ni.instance.notifyAll(new di(e))}},{key:"setObjectRotation",value:function(e,t){e.rotation.copy(t),this.recalculateSceneBounds(),ni.instance.notifyAll(new fi(e))}},{key:"setObjectScale",value:function(e,t){e.scale.copy(t),this.recalculateSceneBounds(),ni.instance.notifyAll(new pi(e))}},{key:"deselectAll",value:function(){this.selectedObject&&(ni.instance.notifyAll(new hi(this.selectedObject)),this._selectedObject=null,this.transformControls.controls.detach())}},{key:"setObjectTransformMode",value:function(e){this.transformControls.controls.setMode(e)}},{key:"getObjectTransformMode",value:function(){return this.transformControls.controls.getMode()}},{key:"setEnvironment",value:function(){if(this.envPreviewMode){var e=this.project.settings.state.environment;switch(e.backgroundType){case"transparent":this.world.scene.background=null,this.gradient.visible=!1;break;case"color":this.world.scene.background=new Yi.Ilk(e.backgroundColor),this.gradient.visible=!1;break;case"gradient":this.gradient.visible=!0,xs.set(e.backgroundGradientColor1),bs.set(e.backgroundGradientColor2),this.gradient.style({colors:[xs,bs]})}this.reflector.setFadeScale(e.reflectionFadeScale),xs.set(e.reflectionColor),this.reflector.setColor(xs),this.reflector.setOpacity(e.reflectionOpacity),this.reflector.enableBlur(e.blurReflection),this.reflector.visible=e.enableReflection,this.fog.near=e.fogNear,this.fog.far=e.fogFar,this.fog.color.set(e.fogColor),this.expFog.color.set(e.fogColor),this.expFog.density=e.fogDensity,e.fog?this.world.scene.fog="linear"===e.fogType?this.fog:this.expFog:this.world.scene.fog=null}else this.world.scene.background=new Yi.Ilk(4210752),this.gradient.visible=!1,this.reflector.visible=!1,this.world.scene.fog=null}},{key:"setLighting",value:function(){var e=this.project.settings.state.lighting;this.shadowLight.castShadow=e.shadowsEnabled,this.shadowLight.intensity=e.shadowLightIntensity,this.shadowLight.visible=e.shadowsEnabled,this.shadowLight.shadow.bias=e.shadowBias,this.shadowPlane.visible=e.shadowsEnabled&&e.shadowPlaneVisible,this.shadowPlane.material.opacity=1-e.shadowPlaneLightness,this.ambientLight.intensity=e.ambientLightIntensity,this.ambientLight.color.set(e.ambientLightColor),this.recalculateSceneBounds()}},{key:"setEffects",value:function(){this.effectsPreviewMode?(this.world.composer.enablePass(this.bloomPass,this.project.settings.state.effects.bloom.enabled),this.bloomPass.threshold=this.project.settings.state.effects.bloom.threshold,this.bloomPass.strength=this.project.settings.state.effects.bloom.strength,this.bloomPass.radius=this.project.settings.state.effects.bloom.radius,this.world.composer.enablePass(this.dofPass,this.project.settings.state.effects.dof.enabled),this.dofPass.uniforms.aperture.value=1*this.project.settings.state.effects.dof.focalLength/this.world.camera.far,this.dofPass.uniforms.focus.value=this.project.settings.state.effects.dof.focus*this.world.camera.far*.1,this.dofPass.uniforms.maxblur.value=.02*this.project.settings.state.effects.dof.blur):(this.world.composer.enablePass(this.bloomPass,!1),this.world.composer.enablePass(this.dofPass,!1))}},{key:"setCameraControllerType",value:function(e){"orbit"==e?(this.cameraController=this.orbitCameraController,this.firstPersonCameraController.enabled=!1):(this.cameraController=this.firstPersonCameraController,this.orbitCameraController.enabled=!1),this.world.cameraController=this.cameraController,this.cameraController.enabled=!0,this.transformControls.camera=this.cameraController.object}},{key:"setCameraController",value:function(){var e=this.project.settings.state.cameraController;this.setCameraControllerType(e.controllerType),this.orbitCameraController.minPolarAngle=Number(e.orbitController.minElevation)*Math.PI/180,this.orbitCameraController.maxPolarAngle=Number(e.orbitController.maxElevation)*Math.PI/180,this.firstPersonCameraController.movementSpeed=Number(e.firstPersonController.moveSpeed),this.orbitCameraController.update()}},{key:"addAnnotation",value:function(e,t){t.add(e),ni.instance.notifyAll(new ai)}},{key:"removeAnnotation",value:function(e){e.geometry.dispose(),e.material.dispose(),e.removeFromParent()}},{key:"updateAnnotations",value:function(){var e=this.project.settings.state.annotations;this.project.scene.traverse((function(t){t instanceof Yi.woe&&function(e,t,n,r,i,a,o,s){e.material.map.dispose(),e.material.map=ts(n,i,a,o),e.material.size=t,e.userData={buttonText:n,labelText:r,size:t,fillColor:i,textColor:a,borderColor:o,cameraState:s}}(t,e.size,t.userData.buttonText,t.userData.labelText,e.fillColor,e.textColor,e.borderColor,t.userData.cameraState)}))}},{key:"updateAnnotationsVisibility",value:function(){var e=this;this.project.scene.traverse((function(t){t instanceof Yi.woe&&t.parent&&ns(t,t.parent,e.rayCaster,e.world.camera)}))}},{key:"applyCubeMapToMaterials",value:function(e,t){this.project.scene.traverse((function(n){n instanceof Yi.Kj0&&(t(n.material)?(n.material.envMap&&n.material.envMap.dispose(),n.material.envMap=e):n.material.envMap=null)}))}},{key:"getSceneMaterials",value:function(){var e=[];return this.project.scene.traverse((function(t){t instanceof Yi.Kj0&&t.material instanceof Yi.Wid&&e.push(t.material)})),e}},{key:"getMaterialByUUID",value:function(e){var t=null;return this.project.scene.traverse((function(n){n instanceof Yi.Kj0&&n.material instanceof Yi.Wid&&n.material.userData.uuid===e&&(t=n.material)})),t}}]),e}()),Es=new Cs;function Ss(e){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ss(e)}var Is=/^\s+/,Ms=/\s+$/;function _s(e,t){if(t=t||{},(e=e||"")instanceof _s)return e;if(!(this instanceof _s))return new _s(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace(Is,"").replace(Ms,"").toLowerCase();var t,n=!1;if(Hs[e])e=Hs[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=tl.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=tl.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=tl.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=tl.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=tl.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=tl.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=tl.hex8.exec(e))return{r:Xs(t[1]),g:Xs(t[2]),b:Xs(t[3]),a:el(t[4]),format:n?"name":"hex8"};if(t=tl.hex6.exec(e))return{r:Xs(t[1]),g:Xs(t[2]),b:Xs(t[3]),format:n?"name":"hex"};if(t=tl.hex4.exec(e))return{r:Xs(t[1]+""+t[1]),g:Xs(t[2]+""+t[2]),b:Xs(t[3]+""+t[3]),a:el(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=tl.hex3.exec(e))return{r:Xs(t[1]+""+t[1]),g:Xs(t[2]+""+t[2]),b:Xs(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==Ss(e)&&(nl(e.r)&&nl(e.g)&&nl(e.b)?(t=function(e,t,n){return{r:255*qs(e,255),g:255*qs(t,255),b:255*qs(n,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):nl(e.h)&&nl(e.s)&&nl(e.v)?(r=Ks(e.s),i=Ks(e.v),t=function(e,t,n){e=6*qs(e,360),t=qs(t,100),n=qs(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,u=[n,o,a,a,s,n][l],c=[s,n,n,o,a,a][l],h=[a,a,s,n,n,o][l];return{r:255*u,g:255*c,b:255*h}}(e.h,r,i),o=!0,s="hsv"):nl(e.h)&&nl(e.s)&&nl(e.l)&&(r=Ks(e.s),a=Ks(e.l),t=function(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=qs(e,360),t=qs(t,100),n=qs(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));return n=Ws(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function ks(e,t,n){e=qs(e,255),t=qs(t,255),n=qs(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),s=(a+o)/2;if(a==o)r=i=0;else{var l=a-o;switch(i=s>.5?l/(2-a-o):l/(a+o),a){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function Bs(e,t,n){e=qs(e,255),t=qs(t,255),n=qs(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),s=a,l=a-o;if(i=0===a?0:l/a,a==o)r=0;else{switch(a){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function Ts(e,t,n,r){var i=[Js(Math.round(e).toString(16)),Js(Math.round(t).toString(16)),Js(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Rs(e,t,n,r){return[Js($s(r)),Js(Math.round(e).toString(16)),Js(Math.round(t).toString(16)),Js(Math.round(n).toString(16))].join("")}function Ds(e,t){t=0===t?0:t||10;var n=_s(e).toHsl();return n.s-=t/100,n.s=Ys(n.s),_s(n)}function Ps(e,t){t=0===t?0:t||10;var n=_s(e).toHsl();return n.s+=t/100,n.s=Ys(n.s),_s(n)}function Ls(e){return _s(e).desaturate(100)}function Qs(e,t){t=0===t?0:t||10;var n=_s(e).toHsl();return n.l+=t/100,n.l=Ys(n.l),_s(n)}function js(e,t){t=0===t?0:t||10;var n=_s(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),_s(n)}function Ns(e,t){t=0===t?0:t||10;var n=_s(e).toHsl();return n.l-=t/100,n.l=Ys(n.l),_s(n)}function Fs(e,t){var n=_s(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,_s(n)}function Us(e){var t=_s(e).toHsl();return t.h=(t.h+180)%360,_s(t)}function Os(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=_s(e).toHsl(),r=[_s(e)],i=360/t,a=1;a<t;a++)r.push(_s({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function Zs(e){var t=_s(e).toHsl(),n=t.h;return[_s(e),_s({h:(n+72)%360,s:t.s,l:t.l}),_s({h:(n+216)%360,s:t.s,l:t.l})]}function zs(e,t,n){t=t||6,n=n||30;var r=_s(e).toHsl(),i=360/n,a=[_s(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(_s(r));return a}function Gs(e,t){t=t||6;for(var n=_s(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(_s({h:r,s:i,v:a})),a=(a+s)%1;return o}_s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=Ws(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Bs(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Bs(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=ks(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=ks(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return Ts(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var a=[Js(Math.round(e).toString(16)),Js(Math.round(t).toString(16)),Js(Math.round(n).toString(16)),Js($s(r))];if(i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1))return a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0);return a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*qs(this._r,255))+"%",g:Math.round(100*qs(this._g,255))+"%",b:Math.round(100*qs(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*qs(this._r,255))+"%, "+Math.round(100*qs(this._g,255))+"%, "+Math.round(100*qs(this._b,255))+"%)":"rgba("+Math.round(100*qs(this._r,255))+"%, "+Math.round(100*qs(this._g,255))+"%, "+Math.round(100*qs(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Vs[Ts(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+Rs(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=_s(e);n="#"+Rs(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return _s(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Qs,arguments)},brighten:function(){return this._applyModification(js,arguments)},darken:function(){return this._applyModification(Ns,arguments)},desaturate:function(){return this._applyModification(Ds,arguments)},saturate:function(){return this._applyModification(Ps,arguments)},greyscale:function(){return this._applyModification(Ls,arguments)},spin:function(){return this._applyModification(Fs,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(zs,arguments)},complement:function(){return this._applyCombination(Us,arguments)},monochromatic:function(){return this._applyCombination(Gs,arguments)},splitcomplement:function(){return this._applyCombination(Zs,arguments)},triad:function(){return this._applyCombination(Os,[3])},tetrad:function(){return this._applyCombination(Os,[4])}},_s.fromRatio=function(e,t){if("object"==Ss(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:Ks(e[r]));e=n}return _s(e,t)},_s.equals=function(e,t){return!(!e||!t)&&_s(e).toRgbString()==_s(t).toRgbString()},_s.random=function(){return _s.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},_s.mix=function(e,t,n){n=0===n?0:n||50;var r=_s(e).toRgb(),i=_s(t).toRgb(),a=n/100;return _s({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},_s.readability=function(e,t){var n=_s(e),r=_s(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},_s.isReadable=function(e,t,n){var r,i,a=_s.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},_s.mostReadable=function(e,t,n){var r,i,a,o,s=null,l=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var u=0;u<t.length;u++)(r=_s.readability(e,t[u]))>l&&(l=r,s=_s(t[u]));return _s.isReadable(e,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,_s.mostReadable(e,["#fff","#000"],n))};var Hs=_s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Vs=_s.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(Hs);function Ws(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function qs(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Ys(e){return Math.min(1,Math.max(0,e))}function Xs(e){return parseInt(e,16)}function Js(e){return 1==e.length?"0"+e:""+e}function Ks(e){return e<=1&&(e=100*e+"%"),e}function $s(e){return Math.round(255*parseFloat(e)).toString(16)}function el(e){return Xs(e)/255}var tl=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",t="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+t),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+t),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+t),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function nl(e){return!!tl.CSS_UNIT.exec(e)}function rl(){var e=Es.project.settings.state.configurator;return e.parts.find((function(t){return t.id===e.selectedPartId}))}function il(e){return e.variants.find((function(t){return e.selectedVariantId==t.id}))}function al(e){return e.colors.find((function(t){return e.selectedColorId==t.id}))}function ol(){var e=Es.project.settings.state.configurator;return e.parts.findIndex((function(t){return t.id===e.selectedPartId}))}var sl=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"setTextureRepeat",value:function(e,t){t.repeat.x=e.texURepeat?e.texURepeat:1,t.repeat.y=e.texVRepeat?e.texVRepeat:1,t.wrapS=t.repeat.x>1?Yi.rpg:Yi.uWy,t.wrapT=t.repeat.y>1?Yi.rpg:Yi.uWy,t.needsUpdate=!0}},{key:"applyVariantToMaterials",value:function(e,t){var n=this;this.getPartMaterials(e).forEach((function(e){var r;if(e.color.setStyle(t.color),e.roughness=t.roughness,e.metalness=t.metalness,e.opacity=t.opacity,e.transparent=t.transparent,e.displacementScale=null!==(r=t.displacementMapScale)&&void 0!==r?r:1,e.map=null,e.normalMap=null,e.roughnessMap=null,e.displacementMap=null,e.aoMap=null,e.metalnessMap=null,t.map){var i=Es.project.variantMaps[t.map];i&&(e.map=i,n.setTextureRepeat(t,i))}if(t.normalMap){var a=Es.project.variantMaps[t.normalMap];a&&(e.normalMap=a,n.setTextureRepeat(t,a))}if(t.roughnessMap){var o=Es.project.variantMaps[t.roughnessMap];o&&(e.roughnessMap=o,n.setTextureRepeat(t,o))}if(t.displacementMap){var s=Es.project.variantMaps[t.displacementMap];s&&(e.displacementMap=s,n.setTextureRepeat(t,s))}if(t.aoMap){var l=Es.project.variantMaps[t.aoMap];l&&(e.aoMap=l,n.setTextureRepeat(t,l))}if(t.metalnessMap){var u=Es.project.variantMaps[t.metalnessMap];u&&(e.metalnessMap=u,n.setTextureRepeat(t,u))}e.needsUpdate=!0}))}},{key:"selectPart",value:function(e){Es.project.settings.state.configurator.selectedPartId=e.id}},{key:"selectVariant",value:function(e,t){e.selectedVariantId=t.id,this.applyVariantToMaterials(e,t),t.selectedColorId&&this.selectColor(e,t,al(t))}},{key:"selectColor",value:function(e,t,n){t.selectedColorId=n.id,this.applyColorToMaterials(e,n)}},{key:"applyColorToMaterials",value:function(e,t){this.getPartMaterials(e).forEach((function(e){e.color.setStyle(t.color)}))}},{key:"getPartMaterials",value:function(e){var t=Es.getSceneMaterials(),n=[];return e.materials.forEach((function(e){var r=t.find((function(t){return t.userData.uuid===e.uuid}));r&&n.push(r)})),n}}]),e}(),ll=1;function ul(){return ll++}var cl=function(){function e(t){(0,r.Z)(this,e),this.elem=document.createElement("div"),this.items=t,this.selectedItemIndex=0,this.leftButtId="ezv-select-lb-"+ll++,this.rightButtId="ezv-select-rb-"+ll++}return(0,i.Z)(e,[{key:"render",value:function(){return"\n            <div class='ezv-sliding-select'>\n                <img class='ezv-sliding-select-button' id='".concat(this.leftButtId,"' style='width: 12px;opacity: 0.5;' src='").concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAABACAYAAAB/e6WTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHASURBVGhDzZohTMNAGIUHDBIMCoXEYbEEBWg0ngSJQeHxeDwGM0kQKCwWsyBRJEswGBLgXeEtx/jbXdu/vfclX7dO9F62dX2928IgP8vw7OdpPobwBr4Ue5lYhSP4BcfhhRyswTsYQmQLsg4fIENkCbIBH2Ecovcgm/AJzoboNcgWfIZWiGAvQbZhOD2tALTzIDvwFVqDx3Ya5AC+QWvgWTsLcgjfoTWoZSdBjuAHtAYs0z3IMfyE1mBVugY5hdYgKboFOYfWAKm6BLmA1sHr2DrIJbQOXNdWQa6gddAmNgoSWtU1tA7Y1NpB4lblaa0gs63K0+QgVqvyNClIWavydG6QqlblaWWQea3K09IgKa3KUzNIaqvy9F+QfZjaqjz9E6Ruq/J0GqRJq/K0CHISvZDL8SI2Ukh8NETiy0okTl8i8YNGJH7iicRFj0jUACJRjIhEVSQS5ZlI3E4QiRusmOy3nDFuN+FL2LThFq7A3WKvOZO2QQL3MFSIvWKvGZPfRxckpq6IxGQekZjeJBITvkRiCpxILAoQiWUSIrFwRCSW0ojE4iKRWG4lEgvQRGJJnkz/pOBRA9oQLpB4VwbDb9Fs9nIVzT7MAAAAAElFTkSuQmCC","' />\n                <div class='ezv-sliding-select-content'>\n                    ").concat(this.items[this.selectedItemIndex].name,"\n                </div>\n                <img class='ezv-sliding-select-button' id='").concat(this.rightButtId,"' style='width: 12px;opacity: 0.5;' src='").concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAABACAYAAAB/e6WTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFuSURBVGhD5dorTANBFIXhTQMCg0LVIbHYajQaT1KJBo/H19fUVKOxWAypRKEwGBLgPySbQJ/7mJl7Ek7yNW3VSdrd3plpRa6xryfRecEMez+vAvOML8xxoDeiUheRexwiJL+LyAOOUDzLReQRQxTNuiLyhGMUy6YissAJimRbEdHlfYrs2VVEXjFC1jQpIm84Q7Y0LSLvOEeWtCkiH7hA8rQtIp+4RNJ0KVK7QrL0KSI3SJK+ReQWvZOiiNyhV1IVkQk6J2URmaLTtJe6iHSa9nIUkdbTXq4i0mray1lEGk97uYtIo2mvRBHZOe2VKiJbp72SRWTjtFe6iKyd9iKKyMq0F1VE/kx7kUVq4wEPNvn3H43Fl9Xi8rW4oVnc4i1+9CzGAIvByGJUtBieLZYTFgssiyWnxSLcYlvCYqMmfOvKYjPPYnvTYsPXYgvc4lDA4pjE4uDI4ijN4nDR4rjV4gA6/Eje5k8KBn/bqKpvynUSCcuTV0sAAAAASUVORK5CYII=","' />\n            </div>\n        ")}},{key:"prev",value:function(){this.selectedItemIndex&&--this.selectedItemIndex}},{key:"next",value:function(){this.selectedItemIndex<this.items.length-1&&++this.selectedItemIndex}}]),e}(),hl=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"40px",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"40px",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"20px",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"20px",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"2px";(0,r.Z)(this,e),this.color=t,this.gradientId=n,this.width=i,this.height=a,this.minHeight=s,this.minWidth=o,this.borderRadius=l}return(0,i.Z)(e,[{key:"render",value:function(e){var t=_s(this.color).toHexString(),n=_s(this.color).darken(20).desaturate(20).toHexString(),r=e?"box-shadow: 0 0 0 2px ".concat(n,";"):"box-shadow: none;",i="".concat(r,"\n                    border-radius: ").concat(this.borderRadius,";\n                    width: ").concat(this.width,";\n                    height: ").concat(this.height,";\n                    min-width: ").concat(this.minWidth,";\n                    min-height: ").concat(this.minHeight,";\n                    padding: 2px;\n                    margin: 2px;\n                ");return"\n                <svg class='ezv-part-icon' width='100%' height='100%' style='".concat(i,"'>\n                    <defs>\n                        <linearGradient id='").concat(this.gradientId,"' x1='0%' y1='0%' x2='100%' y2='100%'>\n                            <stop offset=\"20%\" style='stop-color: ").concat(t,"' />\n                            <stop offset=\"100%\" style='stop-color: ").concat(n,"' />\n                        </linearGradient>\n                    </defs>\n                    <rect width='100%' height='100%' fill='url(#").concat(this.gradientId,"' />\n                </svg>\n            ")}}]),e}(),dl=function(){function e(){var t=this;(0,r.Z)(this,e),this.elem=document.createElement("div"),ni.instance.subscribe(Ai,(function(){return t.build()})),ni.instance.subscribe(gi,(function(){return t.build()})),this.commands=new sl,this.build()}return(0,i.Z)(e,[{key:"getSelectedPartUI",value:function(){var e=ol();return e<0?null:this.uiModel.partUIs[e]}},{key:"getSelectedVariantUI",value:function(e){var t,n=(t=e.part).variants.findIndex((function(e){return t.selectedVariantId==e.id}));return n<0?null:e.variantUIs[n]}},{key:"getSelectedColorUI",value:function(e){var t,n=(t=e.variant).colors.findIndex((function(e){return t.selectedColorId==e.id}));return n<0?null:e.colorUIs[n]}},{key:"build",value:function(){var e=this;this.partSelector=new cl,this.uiModel={partUIs:[]};var t=Es.project.settings.state.configurator;t.parts.forEach((function(n){var r={name:n.name,variantUIs:[],part:n};e.uiModel.partUIs.push(r),n.variants.forEach((function(e){var n={butt:new hl(e.color,ul(),t.options.iconSize+"px",t.options.iconSize+"px",t.options.iconSize+"px",t.options.iconSize+"px",t.options.iconBorderRadius+"%"),variant:e,name:e.name,colorUIs:[]};r.variantUIs.push(n),e.colors.forEach((function(e){var r={butt:new hl(e.color,ul(),t.options.variantIconSize+"px",t.options.variantIconSize+"px",t.options.variantIconSize+"px",t.options.variantIconSize+"px",t.options.variantIconBorderRadius+"%"),color:e};n.colorUIs.push(r)}))}))})),this.partSelector.items=this.uiModel.partUIs,!t.selectedPartId&&t.parts.length&&(this.partSelector.selectedItemIndex=0,this.commands.selectPart(t.parts[0])),this.render()}},{key:"renderVariantButtons",value:function(e){var t=this.getSelectedVariantUI(e);if(e.variantUIs.length>1){var n=e.variantUIs.map((function(e){return"\n            <div>\n                <div class='ezv-configurator-variant' style='background-color: ".concat(e.variant.iconColor,"; border-color: ").concat(t===e?"black":"#888","'>\n                    ").concat(e.name,"\n                </div>\n            </div>\n        ")})).join("");return"\n            <div class='ezv-configurator-variant-icons-container'>\n                ".concat(n,"\n            </div>\n        ")}return""}},{key:"renderVariants",value:function(e){var t="";e.variantUIs.length&&(t+="<div class='ezv-configurator-panel-row'>\n                ".concat(this.renderVariantButtons(e),"\n            </div>"));var n=this.getSelectedVariantUI(e);if(n){t+="<div class='ezv-configurator-panel-row'>\n                ".concat(this.renderColorButtons(n),"\n            </div>");var r=this.getSelectedColorUI(n);r&&(t+="<div style='font-size: large;'>".concat(r.color.name,"</div>"))}return t}},{key:"renderColorButtons",value:function(e){var t=e.colorUIs.map((function(t){return"\n                <div>\n                    ".concat(t.butt.render(e.variant.selectedColorId==t.color.id),"\n                </div>\n            ")})).join("");return"\n            <div class='ezv-configurator-variant-icons-container'>\n                ".concat(t,"\n            </div>\n        ")}},{key:"render",value:function(){var e=this,t=Es.project.settings.state.configurator,n=t.parts.length>1;this.partSelector.selectedItemIndex=ol();var r=this.getSelectedPartUI(),i="\n            <div class='ezv-configurator-panel'>\n                <div class='ezv-configurator-panel-title' >".concat(t.options.titleText,"</div>\n                ").concat(n?this.partSelector.render():"","\n                ").concat(r?this.renderVariants(r):"","\n            </div>\n        ");this.elem.innerHTML=i,this.elem.querySelectorAll(".ezv-configurator-variant").forEach((function(t,n){t.addEventListener("click",(function(){var t=rl();t&&e.commands.selectVariant(t,t.variants[n]),e.render()}))})),this.elem.querySelectorAll(".ezv-part-icon").forEach((function(t,n){t.addEventListener("click",(function(){var t=rl(),r=il(t);t&&r&&e.commands.selectColor(t,r,r.colors[n]),e.render()}))})),n&&(this.elem.querySelector("#"+this.partSelector.leftButtId).addEventListener("click",(function(n){e.partSelector.prev(),e.commands.selectPart(t.parts[e.partSelector.selectedItemIndex]),e.render()})),this.elem.querySelector("#"+this.partSelector.rightButtId).addEventListener("click",(function(n){e.partSelector.next(),e.commands.selectPart(t.parts[e.partSelector.selectedItemIndex]),e.render()})));var a=rl();if(a){var o=il(a);if(o){this.commands.applyVariantToMaterials(a,o);var s=al(o);s&&this.commands.applyColorToMaterials(a,s)}}}}]),e}(),fl=44,pl=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.color,o=void 0===a?"primary":a,s=t.disableShrink,l=void 0!==s&&s,u=t.size,h=void 0===u?40:u,d=t.style,f=t.thickness,p=void 0===f?3.6:f,A=t.value,m=void 0===A?0:A,v=t.variant,g=void 0===v?"indeterminate":v,y=(0,Nt.Z)(t,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),x={},b={},w={};if("determinate"===g||"static"===g){var C=2*Math.PI*((fl-p)/2);x.strokeDasharray=C.toFixed(3),w["aria-valuenow"]=Math.round(m),x.strokeDashoffset="".concat(((100-m)/100*C).toFixed(3),"px"),b.transform="rotate(-90deg)"}return e.createElement("div",(0,c.Z)({className:(0,Ft.Z)(r.root,i,"inherit"!==o&&r["color".concat((0,on.Z)(o))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[g]),style:(0,c.Z)({width:h,height:h},b,d),ref:n,role:"progressbar"},w,y),e.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(fl," ").concat(fl)},e.createElement("circle",{className:(0,Ft.Z)(r.circle,l&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[g]),style:x,cx:fl,cy:fl,r:(fl-p)/2,fill:"none",strokeWidth:p})))})),Al=(0,Ut.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(pl),ml={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},vl=e.forwardRef((function(t,n){var r=t.align,i=void 0===r?"inherit":r,a=t.classes,o=t.className,s=t.color,l=void 0===s?"initial":s,u=t.component,h=t.display,d=void 0===h?"initial":h,f=t.gutterBottom,p=void 0!==f&&f,A=t.noWrap,m=void 0!==A&&A,v=t.paragraph,g=void 0!==v&&v,y=t.variant,x=void 0===y?"body1":y,b=t.variantMapping,w=void 0===b?ml:b,C=(0,Nt.Z)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),E=u||(g?"p":w[x]||ml[x])||"span";return e.createElement(E,(0,c.Z)({className:(0,Ft.Z)(a.root,o,"inherit"!==x&&a[x],"initial"!==l&&a["color".concat((0,on.Z)(l))],m&&a.noWrap,p&&a.gutterBottom,g&&a.paragraph,"inherit"!==i&&a["align".concat((0,on.Z)(i))],"initial"!==d&&a["display".concat((0,on.Z)(d))]),ref:n},C))})),gl=(0,Ut.Z)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(vl),yl=n(7166);function xl(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function bl(e){var t=function(t){var n=e(t);return t.css?(0,c.Z)({},(0,yl.Z)(n,e((0,c.Z)({theme:t.theme},t.css))),xl(t.css,[e.filterProps])):t.sx?(0,c.Z)({},(0,yl.Z)(n,e((0,c.Z)({theme:t.theme},t.sx))),xl(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,Ht.Z)(e.filterProps)),t}var wl=bl;var Cl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,yl.Z)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},El=n(2749);function Sl(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var Il=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=Sl(e.theme,i)||{};return(0,El.k)(e,n,(function(e){var t;return"function"===typeof o?t=o(e):Array.isArray(o)?t=o[e]||e:(t=Sl(o,e)||e,a&&(t=a(t))),!1===r?t:(0,cn.Z)({},r,t)}))};return o.propTypes={},o.filterProps=[t],o};function Ml(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var _l=Cl(Il({prop:"border",themeKey:"borders",transform:Ml}),Il({prop:"borderTop",themeKey:"borders",transform:Ml}),Il({prop:"borderRight",themeKey:"borders",transform:Ml}),Il({prop:"borderBottom",themeKey:"borders",transform:Ml}),Il({prop:"borderLeft",themeKey:"borders",transform:Ml}),Il({prop:"borderColor",themeKey:"palette"}),Il({prop:"borderRadius",themeKey:"shape"})),kl=Cl(Il({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Il({prop:"display"}),Il({prop:"overflow"}),Il({prop:"textOverflow"}),Il({prop:"visibility"}),Il({prop:"whiteSpace"})),Bl=Cl(Il({prop:"flexBasis"}),Il({prop:"flexDirection"}),Il({prop:"flexWrap"}),Il({prop:"justifyContent"}),Il({prop:"alignItems"}),Il({prop:"alignContent"}),Il({prop:"order"}),Il({prop:"flex"}),Il({prop:"flexGrow"}),Il({prop:"flexShrink"}),Il({prop:"alignSelf"}),Il({prop:"justifyItems"}),Il({prop:"justifySelf"})),Tl=Cl(Il({prop:"gridGap"}),Il({prop:"gridColumnGap"}),Il({prop:"gridRowGap"}),Il({prop:"gridColumn"}),Il({prop:"gridRow"}),Il({prop:"gridAutoFlow"}),Il({prop:"gridAutoColumns"}),Il({prop:"gridAutoRows"}),Il({prop:"gridTemplateColumns"}),Il({prop:"gridTemplateRows"}),Il({prop:"gridTemplateAreas"}),Il({prop:"gridArea"})),Rl=Cl(Il({prop:"position"}),Il({prop:"zIndex",themeKey:"zIndex"}),Il({prop:"top"}),Il({prop:"right"}),Il({prop:"bottom"}),Il({prop:"left"})),Dl=Cl(Il({prop:"color",themeKey:"palette"}),Il({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),Pl=Il({prop:"boxShadow",themeKey:"shadows"});function Ll(e){return e<=1?"".concat(100*e,"%"):e}var Ql=Il({prop:"width",transform:Ll}),jl=Il({prop:"maxWidth",transform:Ll}),Nl=Il({prop:"minWidth",transform:Ll}),Fl=Il({prop:"height",transform:Ll}),Ul=Il({prop:"maxHeight",transform:Ll}),Ol=Il({prop:"minHeight",transform:Ll}),Zl=(Il({prop:"size",cssProperty:"width",transform:Ll}),Il({prop:"size",cssProperty:"height",transform:Ll}),Cl(Ql,jl,Nl,Fl,Ul,Ol,Il({prop:"boxSizing"}))),zl=n(1349),Gl=Cl(Il({prop:"fontFamily",themeKey:"typography"}),Il({prop:"fontSize",themeKey:"typography"}),Il({prop:"fontStyle",themeKey:"typography"}),Il({prop:"fontWeight",themeKey:"typography"}),Il({prop:"letterSpacing"}),Il({prop:"lineHeight"}),Il({prop:"textAlign"})),Hl=n(5614);function Vl(t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.name,a=(0,Nt.Z)(r,["name"]);var o,s=i,l="function"===typeof n?function(e){return{root:function(t){return n((0,c.Z)({theme:e},t))}}}:{root:n},u=(0,Hl.Z)(l,(0,c.Z)({Component:t,name:i||t.displayName,classNamePrefix:s},a));n.filterProps&&(o=n.filterProps,delete n.filterProps),n.propTypes&&(n.propTypes,delete n.propTypes);var h=e.forwardRef((function(n,r){var i=n.children,a=n.className,s=n.clone,l=n.component,h=(0,Nt.Z)(n,["children","className","clone","component"]),d=u(n),f=(0,Ft.Z)(d.root,a),p=h;if(o&&(p=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(p,o)),s)return e.cloneElement(i,(0,c.Z)({className:(0,Ft.Z)(i.props.className,f)},p));if("function"===typeof i)return i((0,c.Z)({className:f},p));var A=l||t;return e.createElement(A,(0,c.Z)({ref:r,className:f},p),i)}));return O()(h,t),h}}var Wl=function(e){var t=Vl(e);return function(e,n){return t(e,(0,c.Z)({defaultTheme:Xn.Z},n))}},ql=wl(Cl(_l,kl,Bl,Tl,Rl,Dl,Pl,Zl,zl.Z,Gl)),Yl=Wl("div")(ql,{name:"MuiBox"});function Xl(e){return(0,xe.jsxs)(Yl,{position:"relative",display:"inline-flex",children:[(0,xe.jsx)(Al,(0,wa.Z)({},e)),"determinate"===e.variant&&(0,xe.jsx)(Yl,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:(0,xe.jsx)(gl,{variant:"caption",component:"div",color:"textSecondary",children:(0,xe.jsx)("span",{style:{fontSize:e.fontSize},children:"".concat(Math.round(e.value),"%")})})})]})}var Jl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Hl.Z)(e,(0,c.Z)({defaultTheme:Xn.Z},t))},Kl=Jl((function(){return{backdrop:{zIndex:1e4}}}));function $l(t){var n=Kl();return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)(Ni,{invisible:!0,className:n.backdrop,open:t.show,children:(0,xe.jsx)("div",{style:{textAlign:"center"},children:(0,xe.jsx)(Xl,{variant:t.variant,color:"primary",value:t.value,size:85,fontSize:"24px"})})}),t.children]})}$l.defaultProps={variant:"indeterminate",value:0};var eu=function(t){(0,a.Z)(l,t);var s=(0,o.Z)(l);function l(t){var n;return(0,r.Z)(this,l),(n=s.call(this,t)).state={responseDialogOpen:!1,responseDialogText:"",errorMsg:"",message:"",tabs:[],showConfigurator:!1,showOverlay:!1},n._initialized=!1,n.configuratorPanelRef=e.createRef(),ni.instance.subscribe(bi,(function(){n.setState({showOverlay:!0})})),ni.instance.subscribe(wi,(function(){n.setState({showOverlay:!1})})),n}return(0,i.Z)(l,[{key:"componentDidMount",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._initialized){e.next=6;break}return e.next=3,this.props.viewModel.initialize(this.props.canvasRef.current,this.props.containerRef.current);case 3:this._initialized=!0,this.configuratorUI=new dl,this.configuratorPanelRef.current.appendChild(this.configuratorUI.elem);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){}},{key:"renderCanvasContainer",value:function(t){return(0,xe.jsx)(e.Fragment,{children:(0,xe.jsxs)("div",{ref:this.props.containerRef,id:"editor-ezv-canvas-container",style:t,children:[(0,xe.jsx)("canvas",{ref:this.props.canvasRef,style:{cursor:"crosshair"}}),this.state.showVirtualJoystick&&(0,xe.jsx)(ki,{maxDistance:20,deadzone:2,onMove:this.props.viewModel.onJoystickMove,onTouch:this.props.viewModel.onJoystickTouch,onRelease:this.props.viewModel.onJoystickRelease,baseImageSrc:n(6317),stickImageSrc:n(7399)})]})})}},{key:"renderConfiguratorPanel",value:function(){if(!Es.project)return null;var e="fit-content",t=Es.project.settings.state.configurator;return t?(t.options.fixedPanelHeight&&(e=t.options.panelHeight+"px"),(0,xe.jsx)("div",{className:"ezv-configurator-position-bottom",children:(0,xe.jsx)("div",{ref:this.configuratorPanelRef,style:{height:e,display:this.state.showConfigurator?"block":"none"}})})):null}},{key:"renderMainContent",value:function(){return(0,xe.jsx)($l,{show:this.state.showOverlay,children:(0,xe.jsxs)("div",{className:"ezv-main-container",children:[this.renderCanvasContainer({width:"100%"}),this.renderConfiguratorPanel()]})})}},{key:"render",value:function(){if(this.props.viewModel)return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-app-bar",children:(0,xe.jsx)(_i,{fileCommands:this.state.fileCommands,addCommands:this.state.addCommands,editCommands:this.state.editCommands,viewCommands:this.state.viewCommands,editorViewModel:this.props.viewModel})}),(0,xe.jsxs)("div",{className:"editor-container",children:[(0,xe.jsx)("div",{className:"editor-main-container",children:this.renderMainContent()}),(0,xe.jsx)("div",{className:"editor-sidebar-container",children:(0,xe.jsx)(Yr,{tabs:this.state.tabs})})]}),(0,xe.jsx)(Wr,{severity:"error",message:this.state.errorMsg,open:this.state.errorMsg.length>0,onClose:this.props.viewModel.onErrorAlertClose}),(0,xe.jsx)(Wr,{severity:"success",message:this.state.message,open:this.state.message.length>0,onClose:this.props.viewModel.onMessageAlertClose}),(0,xe.jsx)(Wi,{open:Boolean(this.state.responseDialogOpen),message:this.state.responseDialogText,okText:"CONTINUE",onOk:this.props.viewModel.onResponseDialogOk,onCancel:this.props.viewModel.onResponseDialogCancel}),(0,xe.jsx)(X,{when:!0,message:"Are you sure you want to leave? Unsaved changes will be lost."})]})}}]),l}(e.Component),tu=function(){function e(){(0,r.Z)(this,e),this.pluginCallbacks=[],this.register((function(e){return new Tu(e)})),this.register((function(e){return new Ru(e)})),this.register((function(e){return new Lu(e)})),this.register((function(e){return new Qu(e)})),this.register((function(e){return new ju(e)})),this.register((function(e){return new Nu(e)})),this.register((function(e){return new Du(e)})),this.register((function(e){return new Pu(e)}))}return(0,i.Z)(e,[{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){for(var i=new Bu,a=[],o=0,s=this.pluginCallbacks.length;o<s;o++)a.push(this.pluginCallbacks[o](i));i.setPlugins(a),i.write(e,t,r).catch(n)}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,r,i,t)}))}}]),e}(),nu=0,ru=1,iu=2,au=3,ou=4,su=5121,lu=5123,uu=5126,cu=5125,hu=34962,du=34963,fu=9728,pu=9729,Au=9984,mu=9985,vu=9986,gu=9987,yu=33071,xu=33648,bu=10497,wu={};wu[Yi.TyD]=fu,wu[Yi.YLQ]=Au,wu[Yi.aH4]=vu,wu[Yi.wem]=pu,wu[Yi.qyh]=mu,wu[Yi.D1R]=gu,wu[Yi.uWy]=yu,wu[Yi.rpg]=bu,wu[Yi.OoA]=xu;var Cu={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},Eu=new Yi.Ilk;function Su(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function Iu(e){return 4*Math.ceil(e/4)}function Mu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Iu(e.byteLength);if(n!==e.byteLength){var r=new Uint8Array(n);if(r.set(new Uint8Array(e)),0!==t)for(var i=e.byteLength;i<n;i++)r[i]=t;return r.buffer}return e}function _u(){return"undefined"===typeof document&&"undefined"!==typeof OffscreenCanvas?new OffscreenCanvas(1,1):document.createElement("canvas")}function ku(e,t){return void 0!==e.toBlob?new Promise((function(n){return e.toBlob(n,t)})):("image/jpeg"===t?n=.92:"image/webp"===t&&(n=.8),e.convertToBlob({type:t,quality:n}));var n}var Bu=function(){function e(){(0,r.Z)(this,e),this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}return(0,i.Z)(e,[{key:"setPlugins",value:function(e){this.plugins=e}},{key:"write",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n){var r,i,a,o,s,l,u,c,h,d=arguments;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:{},this.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},r),this.options.animations.length>0&&(this.options.trs=!0),this.processInput(t),e.next=6,Promise.all(this.pending);case 6:a=(i=this).buffers,o=i.json,r=i.options,s=i.extensionsUsed,l=new Blob(a,{type:"application/octet-stream"}),(u=Object.keys(s)).length>0&&(o.extensionsUsed=u),o.buffers&&o.buffers.length>0&&(o.buffers[0].byteLength=l.size),!0===r.binary?((c=new FileReader).readAsArrayBuffer(l),c.onloadend=function(){var e=Mu(c.result),t=new DataView(new ArrayBuffer(8));t.setUint32(0,e.byteLength,!0),t.setUint32(4,5130562,!0);var r,i=Mu((r=JSON.stringify(o),(new TextEncoder).encode(r).buffer),32),a=new DataView(new ArrayBuffer(8));a.setUint32(0,i.byteLength,!0),a.setUint32(4,1313821514,!0);var s=new ArrayBuffer(12),l=new DataView(s);l.setUint32(0,1179937895,!0),l.setUint32(4,2,!0);var u=12+a.byteLength+i.byteLength+t.byteLength+e.byteLength;l.setUint32(8,u,!0);var h=new Blob([s,a,i,t,e],{type:"application/octet-stream"}),d=new FileReader;d.readAsArrayBuffer(h),d.onloadend=function(){n(d.result)}}):o.buffers&&o.buffers.length>0?((h=new FileReader).readAsDataURL(l),h.onloadend=function(){var e=h.result;o.buffers[0].uri=e,n(o)}):n(o);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"serializeUserData",value:function(e,t){if(0!==Object.keys(e.userData).length){var n=this.options,r=this.extensionsUsed;try{var i=JSON.parse(JSON.stringify(e.userData));if(n.includeCustomExtensions&&i.gltfExtensions){for(var a in void 0===t.extensions&&(t.extensions={}),i.gltfExtensions)t.extensions[a]=i.gltfExtensions[a],r[a]=!0;delete i.gltfExtensions}Object.keys(i).length>0&&(t.extras=i)}catch(o){console.warn("THREE.GLTFExporter: userData of '"+e.name+"' won't be serialized because of JSON.stringify error - "+o.message)}}}},{key:"getUID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!1===this.uids.has(e)){var n=new Map;n.set(!0,this.uid++),n.set(!1,this.uid++),this.uids.set(e,n)}return this.uids.get(e).get(t)}},{key:"isNormalizedNormalAttribute",value:function(e){if(this.cache.attributesNormalized.has(e))return!1;for(var t=new Yi.Pa4,n=0,r=e.count;n<r;n++)if(Math.abs(t.fromBufferAttribute(e,n).length()-1)>5e-4)return!1;return!0}},{key:"createNormalizedNormalAttribute",value:function(e){var t=this.cache;if(t.attributesNormalized.has(e))return t.attributesNormalized.get(e);for(var n=e.clone(),r=new Yi.Pa4,i=0,a=n.count;i<a;i++)r.fromBufferAttribute(n,i),0===r.x&&0===r.y&&0===r.z?r.setX(1):r.normalize(),n.setXYZ(i,r.x,r.y,r.z);return t.attributesNormalized.set(e,n),n}},{key:"applyTextureTransform",value:function(e,t){var n=!1,r={};0===t.offset.x&&0===t.offset.y||(r.offset=t.offset.toArray(),n=!0),0!==t.rotation&&(r.rotation=t.rotation,n=!0),1===t.repeat.x&&1===t.repeat.y||(r.scale=t.repeat.toArray(),n=!0),n&&(e.extensions=e.extensions||{},e.extensions.KHR_texture_transform=r,this.extensionsUsed.KHR_texture_transform=!0)}},{key:"buildMetalRoughTexture",value:function(e,t){if(e===t)return e;function n(e){return e.encoding===Yi.knz?function(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}:function(e){return e}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");var r=e?e.image:null,i=t?t.image:null,a=Math.max(r?r.width:0,i?i.width:0),o=Math.max(r?r.height:0,i?i.height:0),s=_u();s.width=a,s.height=o;var l=s.getContext("2d");l.fillStyle="#00ffff",l.fillRect(0,0,a,o);var u=l.getImageData(0,0,a,o);if(r){l.drawImage(r,0,0,a,o);for(var c=n(e),h=l.getImageData(0,0,a,o).data,d=2;d<h.length;d+=4)u.data[d]=256*c(h[d]/256)}if(i){l.drawImage(i,0,0,a,o);for(var f=n(t),p=l.getImageData(0,0,a,o).data,A=1;A<p.length;A+=4)u.data[A]=256*f(p[A]/256)}l.putImageData(u,0,0);var m=(e||t).clone();return m.source=new Yi.Hw6(s),m.encoding=Yi.rnI,m}},{key:"processBuffer",value:function(e){var t=this.json,n=this.buffers;return t.buffers||(t.buffers=[{byteLength:0}]),n.push(e),0}},{key:"processBufferView",value:function(e,t,n,r,i){var a,o=this.json;o.bufferViews||(o.bufferViews=[]),a=t===su?1:t===lu?2:4;for(var s=Iu(r*e.itemSize*a),l=new DataView(new ArrayBuffer(s)),u=0,c=n;c<n+r;c++)for(var h=0;h<e.itemSize;h++){var d=void 0;e.itemSize>4?d=e.array[c*e.itemSize+h]:(0===h?d=e.getX(c):1===h?d=e.getY(c):2===h?d=e.getZ(c):3===h&&(d=e.getW(c)),!0===e.normalized&&(d=Yi.M8C.normalize(d,e.array))),t===uu?l.setFloat32(u,d,!0):t===cu?l.setUint32(u,d,!0):t===lu?l.setUint16(u,d,!0):t===su&&l.setUint8(u,d),u+=a}var f={buffer:this.processBuffer(l.buffer),byteOffset:this.byteOffset,byteLength:s};return void 0!==i&&(f.target=i),i===hu&&(f.byteStride=e.itemSize*a),this.byteOffset+=s,o.bufferViews.push(f),{id:o.bufferViews.length-1,byteLength:0}}},{key:"processBufferViewImage",value:function(e){var t=this,n=t.json;return n.bufferViews||(n.bufferViews=[]),new Promise((function(r){var i=new FileReader;i.readAsArrayBuffer(e),i.onloadend=function(){var e=Mu(i.result),a={buffer:t.processBuffer(e),byteOffset:t.byteOffset,byteLength:e.byteLength};t.byteOffset+=e.byteLength,r(n.bufferViews.push(a)-1)}}))}},{key:"processAccessor",value:function(e,t,n,r){var i,a=this.json;if(e.array.constructor===Float32Array)i=uu;else if(e.array.constructor===Uint32Array)i=cu;else if(e.array.constructor===Uint16Array)i=lu;else{if(e.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");i=su}if(void 0===n&&(n=0),void 0===r&&(r=e.count),0===r)return null;var o,s=function(e,t,n){for(var r={min:new Array(e.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(e.itemSize).fill(Number.NEGATIVE_INFINITY)},i=t;i<t+n;i++)for(var a=0;a<e.itemSize;a++){var o=void 0;e.itemSize>4?o=e.array[i*e.itemSize+a]:(0===a?o=e.getX(i):1===a?o=e.getY(i):2===a?o=e.getZ(i):3===a&&(o=e.getW(i)),!0===e.normalized&&(o=Yi.M8C.normalize(o,e.array))),r.min[a]=Math.min(r.min[a],o),r.max[a]=Math.max(r.max[a],o)}return r}(e,n,r);void 0!==t&&(o=e===t.index?du:hu);var l=this.processBufferView(e,i,n,r,o),u={bufferView:l.id,byteOffset:l.byteOffset,componentType:i,count:r,max:s.max,min:s.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[e.itemSize]};return!0===e.normalized&&(u.normalized=!0),a.accessors||(a.accessors=[]),a.accessors.push(u)-1}},{key:"processImage",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"image/png";if(null!==e){var i=this,a=i.cache,o=i.json,s=i.options,l=i.pending;a.images.has(e)||a.images.set(e,{});var u=a.images.get(e),c=r+":flipY/"+n.toString();if(void 0!==u[c])return u[c];o.images||(o.images=[]);var h={mimeType:r},d=_u();d.width=Math.min(e.width,s.maxTextureSize),d.height=Math.min(e.height,s.maxTextureSize);var f=d.getContext("2d");if(!0===n&&(f.translate(0,d.height),f.scale(1,-1)),void 0!==e.data){t!==Yi.wk1&&console.error("GLTFExporter: Only RGBAFormat is supported."),(e.width>s.maxTextureSize||e.height>s.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",e);for(var p=new Uint8ClampedArray(e.height*e.width*4),A=0;A<p.length;A+=4)p[A+0]=e.data[A+0],p[A+1]=e.data[A+1],p[A+2]=e.data[A+2],p[A+3]=e.data[A+3];f.putImageData(new ImageData(p,e.width,e.height),0,0)}else f.drawImage(e,0,0,d.width,d.height);!0===s.binary?l.push(ku(d,r).then((function(e){return i.processBufferViewImage(e)})).then((function(e){h.bufferView=e}))):void 0!==d.toDataURL?h.uri=d.toDataURL(r):l.push(ku(d,r).then((function(e){return(new FileReader).readAsDataURL(e)})).then((function(e){h.uri=e})));var m=o.images.push(h)-1;return u[c]=m,m}throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}},{key:"processSampler",value:function(e){var t=this.json;t.samplers||(t.samplers=[]);var n={magFilter:wu[e.magFilter],minFilter:wu[e.minFilter],wrapS:wu[e.wrapS],wrapT:wu[e.wrapT]};return t.samplers.push(n)-1}},{key:"processTexture",value:function(e){var t=this.cache,n=this.json;if(t.textures.has(e))return t.textures.get(e);n.textures||(n.textures=[]);var r=e.userData.mimeType;"image/webp"===r&&(r="image/png");var i={sampler:this.processSampler(e),source:this.processImage(e.image,e.format,e.flipY,r)};e.name&&(i.name=e.name),this._invokeAll((function(t){t.writeTexture&&t.writeTexture(e,i)}));var a=n.textures.push(i)-1;return t.textures.set(e,a),a}},{key:"processMaterial",value:function(e){var t=this.cache,n=this.json;if(t.materials.has(e))return t.materials.get(e);if(e.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;n.materials||(n.materials=[]);var r={pbrMetallicRoughness:{}};!0!==e.isMeshStandardMaterial&&!0!==e.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var i=e.color.toArray().concat([e.opacity]);if(Su(i,[1,1,1,1])||(r.pbrMetallicRoughness.baseColorFactor=i),e.isMeshStandardMaterial?(r.pbrMetallicRoughness.metallicFactor=e.metalness,r.pbrMetallicRoughness.roughnessFactor=e.roughness):(r.pbrMetallicRoughness.metallicFactor=.5,r.pbrMetallicRoughness.roughnessFactor=.5),e.metalnessMap||e.roughnessMap){var a=this.buildMetalRoughTexture(e.metalnessMap,e.roughnessMap),o={index:this.processTexture(a)};this.applyTextureTransform(o,a),r.pbrMetallicRoughness.metallicRoughnessTexture=o}if(e.map){var s={index:this.processTexture(e.map)};this.applyTextureTransform(s,e.map),r.pbrMetallicRoughness.baseColorTexture=s}if(e.emissive){var l=e.emissive.clone().multiplyScalar(e.emissiveIntensity),u=Math.max(l.r,l.g,l.b);if(u>1&&(l.multiplyScalar(1/u),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),u>0&&(r.emissiveFactor=l.toArray()),e.emissiveMap){var c={index:this.processTexture(e.emissiveMap)};this.applyTextureTransform(c,e.emissiveMap),r.emissiveTexture=c}}if(e.normalMap){var h={index:this.processTexture(e.normalMap)};e.normalScale&&1!==e.normalScale.x&&(h.scale=e.normalScale.x),this.applyTextureTransform(h,e.normalMap),r.normalTexture=h}if(e.aoMap){var d={index:this.processTexture(e.aoMap),texCoord:1};1!==e.aoMapIntensity&&(d.strength=e.aoMapIntensity),this.applyTextureTransform(d,e.aoMap),r.occlusionTexture=d}e.transparent?r.alphaMode="BLEND":e.alphaTest>0&&(r.alphaMode="MASK",r.alphaCutoff=e.alphaTest),e.side===Yi.ehD&&(r.doubleSided=!0),""!==e.name&&(r.name=e.name),this.serializeUserData(e,r),this._invokeAll((function(t){t.writeMaterial&&t.writeMaterial(e,r)}));var f=n.materials.push(r)-1;return t.materials.set(e,f),f}},{key:"processMesh",value:function(e){var t=this.cache,n=this.json,r=[e.geometry.uuid];if(Array.isArray(e.material))for(var i=0,a=e.material.length;i<a;i++)r.push(e.material[i].uuid);else r.push(e.material.uuid);var o=r.join(":");if(t.meshes.has(o))return t.meshes.get(o);var s,l=e.geometry;s=e.isLineSegments?ru:e.isLineLoop?iu:e.isLine?au:e.isPoints?nu:e.material.wireframe?ru:ou;var u={},c={},h=[],d=[],f={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},p=l.getAttribute("normal");void 0===p||this.isNormalizedNormalAttribute(p)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),l.setAttribute("normal",this.createNormalizedNormalAttribute(p)));var A=null;for(var m in l.attributes)if("morph"!==m.slice(0,5)){var v=l.attributes[m];m=f[m]||m.toUpperCase();if(/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(m)||(m="_"+m),t.attributes.has(this.getUID(v)))c[m]=t.attributes.get(this.getUID(v));else{A=null;var g=v.array;"JOINTS_0"!==m||g instanceof Uint16Array||g instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),A=new Yi.TlE(new Uint16Array(g),v.itemSize,v.normalized));var y=this.processAccessor(A||v,l);null!==y&&(c[m]=y,t.attributes.set(this.getUID(v),y))}}if(void 0!==p&&l.setAttribute("normal",p),0===Object.keys(c).length)return null;if(void 0!==e.morphTargetInfluences&&e.morphTargetInfluences.length>0){var x=[],b=[],w={};if(void 0!==e.morphTargetDictionary)for(var C in e.morphTargetDictionary)w[e.morphTargetDictionary[C]]=C;for(var E=0;E<e.morphTargetInfluences.length;++E){var S={},I=!1;for(var M in l.morphAttributes)if("position"===M||"normal"===M){var _=l.morphAttributes[M][E],k=M.toUpperCase(),B=l.attributes[M];if(t.attributes.has(this.getUID(_,!0)))S[k]=t.attributes.get(this.getUID(_,!0));else{var T=_.clone();if(!l.morphTargetsRelative)for(var R=0,D=_.count;R<D;R++)for(var P=0;P<_.itemSize;P++)0===P&&T.setX(R,_.getX(R)-B.getX(R)),1===P&&T.setY(R,_.getY(R)-B.getY(R)),2===P&&T.setZ(R,_.getZ(R)-B.getZ(R)),3===P&&T.setW(R,_.getW(R)-B.getW(R));S[k]=this.processAccessor(T,l),t.attributes.set(this.getUID(B,!0),S[k])}}else I||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),I=!0);d.push(S),x.push(e.morphTargetInfluences[E]),void 0!==e.morphTargetDictionary&&b.push(w[E])}u.weights=x,b.length>0&&(u.extras={},u.extras.targetNames=b)}var L=Array.isArray(e.material);if(L&&0===l.groups.length)return null;for(var Q=L?e.material:[e.material],j=L?l.groups:[{materialIndex:0,start:void 0,count:void 0}],N=0,F=j.length;N<F;N++){var U={mode:s,attributes:c};if(this.serializeUserData(l,U),d.length>0&&(U.targets=d),null!==l.index){var O=this.getUID(l.index);void 0===j[N].start&&void 0===j[N].count||(O+=":"+j[N].start+":"+j[N].count),t.attributes.has(O)?U.indices=t.attributes.get(O):(U.indices=this.processAccessor(l.index,l,j[N].start,j[N].count),t.attributes.set(O,U.indices)),null===U.indices&&delete U.indices}var Z=this.processMaterial(Q[j[N].materialIndex]);null!==Z&&(U.material=Z),h.push(U)}u.primitives=h,n.meshes||(n.meshes=[]),this._invokeAll((function(t){t.writeMesh&&t.writeMesh(e,u)}));var z=n.meshes.push(u)-1;return t.meshes.set(o,z),z}},{key:"processCamera",value:function(e){var t=this.json;t.cameras||(t.cameras=[]);var n=e.isOrthographicCamera,r={type:n?"orthographic":"perspective"};return n?r.orthographic={xmag:2*e.right,ymag:2*e.top,zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near}:r.perspective={aspectRatio:e.aspect,yfov:Yi.M8C.degToRad(e.fov),zfar:e.far<=0?.001:e.far,znear:e.near<0?0:e.near},""!==e.name&&(r.name=e.type),t.cameras.push(r)-1}},{key:"processAnimation",value:function(e,t){var n=this.json,r=this.nodeMap;n.animations||(n.animations=[]);for(var i=(e=tu.Utils.mergeMorphTargetTracks(e.clone(),t)).tracks,a=[],o=[],s=0;s<i.length;++s){var l=i[s],u=Yi.iUV.parseTrackName(l.name),c=Yi.iUV.findNode(t,u.nodeName),h=Cu[u.propertyName];if("bones"===u.objectName&&(c=!0===c.isSkinnedMesh?c.skeleton.getBoneByName(u.objectIndex):void 0),!c||!h)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',l.name),null;var d=l.values.length/l.times.length;h===Cu.morphTargetInfluences&&(d/=c.morphTargetInfluences.length);var f=void 0;!0===l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(f="CUBICSPLINE",d/=3):f=l.getInterpolation()===Yi.Syv?"STEP":"LINEAR",o.push({input:this.processAccessor(new Yi.TlE(l.times,1)),output:this.processAccessor(new Yi.TlE(l.values,d)),interpolation:f}),a.push({sampler:o.length-1,target:{node:r.get(c),path:h}})}return n.animations.push({name:e.name||"clip_"+n.animations.length,samplers:o,channels:a}),n.animations.length-1}},{key:"processSkin",value:function(e){var t=this.json,n=this.nodeMap,r=t.nodes[n.get(e)],i=e.skeleton;if(void 0===i)return null;var a=e.skeleton.bones[0];if(void 0===a)return null;for(var o=[],s=new Float32Array(16*i.bones.length),l=new Yi.yGw,u=0;u<i.bones.length;++u)o.push(n.get(i.bones[u])),l.copy(i.boneInverses[u]),l.multiply(e.bindMatrix).toArray(s,16*u);return void 0===t.skins&&(t.skins=[]),t.skins.push({inverseBindMatrices:this.processAccessor(new Yi.TlE(s,16)),joints:o,skeleton:n.get(a)}),r.skin=t.skins.length-1}},{key:"processNode",value:function(e){var t=this.json,n=this.options,r=this.nodeMap;t.nodes||(t.nodes=[]);var i={};if(n.trs){var a=e.quaternion.toArray(),o=e.position.toArray(),s=e.scale.toArray();Su(a,[0,0,0,1])||(i.rotation=a),Su(o,[0,0,0])||(i.translation=o),Su(s,[1,1,1])||(i.scale=s)}else e.matrixAutoUpdate&&e.updateMatrix(),!1===Su(e.matrix.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])&&(i.matrix=e.matrix.elements);if(""!==e.name&&(i.name=String(e.name)),this.serializeUserData(e,i),e.isMesh||e.isLine||e.isPoints){var l=this.processMesh(e);null!==l&&(i.mesh=l)}else e.isCamera&&(i.camera=this.processCamera(e));if(e.isSkinnedMesh&&this.skins.push(e),e.children.length>0){for(var u=[],c=0,h=e.children.length;c<h;c++){var d=e.children[c];if(d.visible||!1===n.onlyVisible){var f=this.processNode(d);null!==f&&u.push(f)}}u.length>0&&(i.children=u)}this._invokeAll((function(t){t.writeNode&&t.writeNode(e,i)}));var p=t.nodes.push(i)-1;return r.set(e,p),p}},{key:"processScene",value:function(e){var t=this.json,n=this.options;t.scenes||(t.scenes=[],t.scene=0);var r={};""!==e.name&&(r.name=e.name),t.scenes.push(r);for(var i=[],a=0,o=e.children.length;a<o;a++){var s=e.children[a];if(s.visible||!1===n.onlyVisible){var l=this.processNode(s);null!==l&&i.push(l)}}i.length>0&&(r.nodes=i),this.serializeUserData(e,r)}},{key:"processObjects",value:function(e){var t=new Yi.xsS;t.name="AuxScene";for(var n=0;n<e.length;n++)t.children.push(e[n]);this.processScene(t)}},{key:"processInput",value:function(e){var t=this.options;e=e instanceof Array?e:[e],this._invokeAll((function(t){t.beforeParse&&t.beforeParse(e)}));for(var n=[],r=0;r<e.length;r++)e[r]instanceof Yi.xsS?this.processScene(e[r]):n.push(e[r]);n.length>0&&this.processObjects(n);for(var i=0;i<this.skins.length;++i)this.processSkin(this.skins[i]);for(var a=0;a<t.animations.length;++a)this.processAnimation(t.animations[a],e[0]);this._invokeAll((function(t){t.afterParse&&t.afterParse(e)}))}},{key:"_invokeAll",value:function(e){for(var t=0,n=this.plugins.length;t<n;t++)e(this.plugins[t])}}]),e}(),Tu=function(){function e(t){(0,r.Z)(this,e),this.writer=t,this.name="KHR_lights_punctual"}return(0,i.Z)(e,[{key:"writeNode",value:function(e,t){if(e.isLight)if(e.isDirectionalLight||e.isPointLight||e.isSpotLight){var n=this.writer,r=n.json,i=n.extensionsUsed,a={};e.name&&(a.name=e.name),a.color=e.color.toArray(),a.intensity=e.intensity,e.isDirectionalLight?a.type="directional":e.isPointLight?(a.type="point",e.distance>0&&(a.range=e.distance)):e.isSpotLight&&(a.type="spot",e.distance>0&&(a.range=e.distance),a.spot={},a.spot.innerConeAngle=(e.penumbra-1)*e.angle*-1,a.spot.outerConeAngle=e.angle),void 0!==e.decay&&2!==e.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!e.target||e.target.parent===e&&0===e.target.position.x&&0===e.target.position.y&&-1===e.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),i[this.name]||(r.extensions=r.extensions||{},r.extensions[this.name]={lights:[]},i[this.name]=!0);var o=r.extensions[this.name].lights;o.push(a),t.extensions=t.extensions||{},t.extensions[this.name]={light:o.length-1}}else console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",e)}}]),e}(),Ru=function(){function e(t){(0,r.Z)(this,e),this.writer=t,this.name="KHR_materials_unlit"}return(0,i.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshBasicMaterial){var n=this.writer.extensionsUsed;t.extensions=t.extensions||{},t.extensions[this.name]={},n[this.name]=!0,t.pbrMetallicRoughness.metallicFactor=0,t.pbrMetallicRoughness.roughnessFactor=.9}}}]),e}(),Du=function(){function e(t){(0,r.Z)(this,e),this.writer=t,this.name="KHR_materials_clearcoat"}return(0,i.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.clearcoat){var n=this.writer,r=n.extensionsUsed,i={};if(i.clearcoatFactor=e.clearcoat,e.clearcoatMap){var a={index:n.processTexture(e.clearcoatMap)};n.applyTextureTransform(a,e.clearcoatMap),i.clearcoatTexture=a}if(i.clearcoatRoughnessFactor=e.clearcoatRoughness,e.clearcoatRoughnessMap){var o={index:n.processTexture(e.clearcoatRoughnessMap)};n.applyTextureTransform(o,e.clearcoatRoughnessMap),i.clearcoatRoughnessTexture=o}if(e.clearcoatNormalMap){var s={index:n.processTexture(e.clearcoatNormalMap)};n.applyTextureTransform(s,e.clearcoatNormalMap),i.clearcoatNormalTexture=s}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),Pu=function(){function e(t){(0,r.Z)(this,e),this.writer=t,this.name="KHR_materials_iridescence"}return(0,i.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.iridescence){var n=this.writer,r=n.extensionsUsed,i={};if(i.iridescenceFactor=e.iridescence,e.iridescenceMap){var a={index:n.processTexture(e.iridescenceMap)};n.applyTextureTransform(a,e.iridescenceMap),i.iridescenceTexture=a}if(i.iridescenceIor=e.iridescenceIOR,i.iridescenceThicknessMinimum=e.iridescenceThicknessRange[0],i.iridescenceThicknessMaximum=e.iridescenceThicknessRange[1],e.iridescenceThicknessMap){var o={index:n.processTexture(e.iridescenceThicknessMap)};n.applyTextureTransform(o,e.iridescenceThicknessMap),i.iridescenceThicknessTexture=o}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),Lu=function(){function e(t){(0,r.Z)(this,e),this.writer=t,this.name="KHR_materials_transmission"}return(0,i.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.transmissionFactor=e.transmission,e.transmissionMap){var a={index:n.processTexture(e.transmissionMap)};n.applyTextureTransform(a,e.transmissionMap),i.transmissionTexture=a}t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),Qu=function(){function e(t){(0,r.Z)(this,e),this.writer=t,this.name="KHR_materials_volume"}return(0,i.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&0!==e.transmission){var n=this.writer,r=n.extensionsUsed,i={};if(i.thicknessFactor=e.thickness,e.thicknessMap){var a={index:n.processTexture(e.thicknessMap)};n.applyTextureTransform(a,e.thicknessMap),i.thicknessTexture=a}i.attenuationDistance=e.attenuationDistance,i.attenuationColor=e.attenuationColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}(),ju=function(){function e(t){(0,r.Z)(this,e),this.writer=t,this.name="KHR_materials_ior"}return(0,i.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&1.5!==e.ior){var n=this.writer.extensionsUsed,r={};r.ior=e.ior,t.extensions=t.extensions||{},t.extensions[this.name]=r,n[this.name]=!0}}}]),e}(),Nu=function(){function e(t){(0,r.Z)(this,e),this.writer=t,this.name="KHR_materials_specular"}return(0,i.Z)(e,[{key:"writeMaterial",value:function(e,t){if(e.isMeshPhysicalMaterial&&(1!==e.specularIntensity||!e.specularColor.equals(Eu)||e.specularIntensityMap||e.specularColorTexture)){var n=this.writer,r=n.extensionsUsed,i={};if(e.specularIntensityMap){var a={index:n.processTexture(e.specularIntensityMap)};n.applyTextureTransform(a,e.specularIntensityMap),i.specularTexture=a}if(e.specularColorMap){var o={index:n.processTexture(e.specularColorMap)};n.applyTextureTransform(o,e.specularColorMap),i.specularColorTexture=o}i.specularFactor=e.specularIntensity,i.specularColorFactor=e.specularColor.toArray(),t.extensions=t.extensions||{},t.extensions[this.name]=i,r[this.name]=!0}}}]),e}();tu.Utils={insertKeyframe:function(e,t){var n,r=.001,i=e.getValueSize(),a=new e.TimeBufferType(e.times.length+1),o=new e.ValueBufferType(e.values.length+i),s=e.createInterpolant(new e.ValueBufferType(i));if(0===e.times.length){a[0]=t;for(var l=0;l<i;l++)o[l]=0;n=0}else if(t<e.times[0]){if(Math.abs(e.times[0]-t)<r)return 0;a[0]=t,a.set(e.times,1),o.set(s.evaluate(t),0),o.set(e.values,i),n=0}else if(t>e.times[e.times.length-1]){if(Math.abs(e.times[e.times.length-1]-t)<r)return e.times.length-1;a[a.length-1]=t,a.set(e.times,0),o.set(e.values,0),o.set(s.evaluate(t),e.values.length),n=a.length-1}else for(var u=0;u<e.times.length;u++){if(Math.abs(e.times[u]-t)<r)return u;if(e.times[u]<t&&e.times[u+1]>t){a.set(e.times.slice(0,u+1),0),a[u+1]=t,a.set(e.times.slice(u+1),u+2),o.set(e.values.slice(0,(u+1)*i),0),o.set(s.evaluate(t),(u+1)*i),o.set(e.values.slice((u+1)*i),(u+2)*i),n=u+1;break}}return e.times=a,e.values=o,n},mergeMorphTargetTracks:function(e,t){for(var n=[],r={},i=e.tracks,a=0;a<i.length;++a){var o=i[a],s=Yi.iUV.parseTrackName(o.name),l=Yi.iUV.findNode(t,s.nodeName);if("morphTargetInfluences"===s.propertyName&&void 0!==s.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(Yi.NMF)}var u=l.morphTargetInfluences.length,c=l.morphTargetDictionary[s.propertyIndex];if(void 0===c)throw new Error("THREE.GLTFExporter: Morph target name not found: "+s.propertyIndex);var h=void 0;if(void 0!==r[l.uuid]){var d=o.createInterpolant(new o.ValueBufferType(1));h=r[l.uuid];for(var f=0;f<h.times.length;f++)h.values[f*u+c]=d.evaluate(h.times[f]);for(var p=0;p<o.times.length;p++){var A=this.insertKeyframe(h,o.times[p]);h.values[A*u+c]=o.values[p]}}else{for(var m=new((h=o.clone()).ValueBufferType)(u*h.times.length),v=0;v<h.times.length;v++)m[v*u+c]=h.values[v];h.name=(s.nodeName||"")+".morphTargetInfluences",h.values=m,r[l.uuid]=h,n.push(h)}}else n.push(o)}return e.tracks=n,e}};var Fu=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scene.glb";return(0,r.Z)(this,n),(e=t.call(this)).fn=i,e}return(0,i.Z)(n,[{key:"getAnimations",value:function(){var e=[];return Es.world.sceneRoot.traverse((function(t){e.push.apply(e,(0,Ht.Z)(t.animations))})),e}},{key:"save",value:function(e,t){var n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=t||"data.json",n.dispatchEvent(new MouseEvent("click"))}},{key:"execute",value:function(){var e=this;Es.deleteAllBakedShadowMeshes();var t=this.getAnimations();(new tu).parse(Es.world.sceneRoot,(function(t){e.save(new Blob([t],{type:"application/octet-stream"}),e.fn)}),void 0,{binary:!0,animations:t}),Es.createAllBakedShadows()}},{key:"undoable",get:function(){return!1}}]),n}(bo),Uu=n(2038),Ou=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"_save",value:function(e,t){var n=document.createElement("a");n.href=URL.createObjectURL(e),n.download=t||"data.json",n.dispatchEvent(new MouseEvent("click"))}},{key:"serializeAnimations",value:function(e){e.traverse((function(e){e.animations&&(e.userData.animations=[],e.animations.forEach((function(t){e.userData.animations.push(Yi.m7l.toJSON(t))})))}))}},{key:"removeLightChildNodes",value:function(e){e.traverse((function(e){e.isLight&&e.clear()}))}},{key:"zipProject",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n){var r,i,a,o,s,l,u,c,h,d,f,p,A,m,v,g;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},i=new tu,this.serializeAnimations(t.scene),this.removeLightChildNodes(t.scene),!n){e.next=8;break}return e.next=7,new Promise((function(e,n){i.parse(t.scene,(function(t){e(new Uint8Array(t))}),(function(e){n(e)}),{binary:!0})}));case 7:r["scene.glb"]=e.sent;case 8:a=0,o=Object.entries(t.cubeMaps);case 9:if(!(a<o.length)){e.next=27;break}s=(0,Un.Z)(o[a],2),l=s[0],u=s[1],c=0;case 12:if(!(c<u.images.length)){e.next=24;break}return e.next=15,fetch(u.images[c].src);case 15:return h=e.sent,e.t0=Uint8Array,e.next=19,h.arrayBuffer();case 19:e.t1=e.sent,r["cubeMaps/".concat(l,"/image").concat(c)]=new e.t0(e.t1);case 21:++c,e.next=12;break;case 24:a++,e.next=9;break;case 27:d=0,f=Object.entries(t.variantMaps);case 28:if(!(d<f.length)){e.next=41;break}return p=(0,Un.Z)(f[d],2),A=p[0],m=p[1],e.next=32,fetch(m.image.src);case 32:return v=e.sent,e.t2=Uint8Array,e.next=36,v.arrayBuffer();case 36:e.t3=e.sent,r["variantMaps/".concat(A)]=new e.t2(e.t3);case 38:d++,e.next=28;break;case 41:if(!t.envMap||!t.envMap.dataUrl){e.next=50;break}return e.next=44,fetch(t.envMap.dataUrl);case 44:return g=e.sent,e.t4=Uint8Array,e.next=48,g.arrayBuffer();case 48:e.t5=e.sent,r["envmap.hdr"]=new e.t4(e.t5);case 50:return r["settings.json"]=new Uint8Array((new TextEncoder).encode(JSON.stringify(t.settings.state)).buffer),e.abrupt("return",(0,Uu.Xo)(r,{level:6}));case 52:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"export",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n){var r,i,a=arguments;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(a.length>2&&void 0!==a[2])||a[2],ni.instance.notifyAll(new yi),e.next=4,this.zipProject(n,r);case 4:i=e.sent,this._save(new Blob([i],{type:"application/octet-stream"}),t),ni.instance.notifyAll(new xi);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Zu=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this)}return(0,i.Z)(n,[{key:"execute",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){var t,n,r,i;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Es.deleteAllBakedShadowMeshes(),t={types:[{description:"Zip Files",accept:{"application/zip":[".zip"]}}]},e.prev=2,e.next=5,window.showSaveFilePicker(t);case 5:return n=e.sent,ni.instance.notifyAll(new bi),e.next=9,(new Ou).zipProject(Es.project,!0);case 9:return r=e.sent,e.next=12,n.createWritable();case 12:return i=e.sent,e.next=15,i.write(r);case 15:return e.next=17,i.close();case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(2);case 21:return e.prev=21,ni.instance.notifyAll(new wi),e.finish(21);case 24:Es.createAllBakedShadows();case 25:case"end":return e.stop()}}),e,null,[[2,19,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"undoable",get:function(){return!1}}]),n}(bo),zu=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).message=e,i}return(0,i.Z)(n)}(ri),Gu=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).message=e,i}return(0,i.Z)(n)}(ri),Hu=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];t[r.name]=r}return t},Vu=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"parse",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var n,r,i,a,o,s,l,u,c,h,d,f,p,A,m=arguments;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=m.length>1&&void 0!==m[1]?m[1]:{},n=Object.assign({ar:{anchoring:{type:"plane"},planeAnchoring:{alignment:"horizontal"}}},n),(r={})[i="model.usda"]=null,a='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n',a+=Yu(n),o={},s={},t.traverseVisible((function(e){if(e.isMesh){var t=e.geometry,n=e.material;if(n.isMeshStandardMaterial){var i="geometries/Geometry_"+t.id+".usd";if(!(i in r)){var s=ec(t);r[i]=Xu(s)}n.uuid in o||(o[n.uuid]=n),a+=Ju(e,t,n)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",e)}else e.isCamera&&(a+=oc(e))})),a+="\n        }\n    }\n}\n\n",a+=nc(o,s),r[i]=Uu.TD(a),a=null,l=(0,Lt.Z)().mark((function e(){var t,n,i,a,o;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s[u],n=u.split("_")[1],i=1023===t.format,a=Wu(t.image,n),e.next=6,new Promise((function(e){return a.toBlob(e,i?"image/png":"image/jpeg",1)}));case 6:return o=e.sent,e.t0=Uint8Array,e.next=10,o.arrayBuffer();case 10:e.t1=e.sent,r["textures/Texture_".concat(u,".").concat(i?"png":"jpg")]=new e.t0(e.t1);case 12:case"end":return e.stop()}}),e)})),e.t0=(0,Lt.Z)().keys(s);case 16:if((e.t1=e.t0()).done){e.next=21;break}return u=e.t1.value,e.delegateYield(l(),"t2",19);case 19:e.next=16;break;case 21:for(h in c=0,r)d=r[h],f=34+h.length,4!==(p=63&(c+=f))&&(A=new Uint8Array(64-p),r[h]=[d,{extra:{12345:A}}]),c=d.length;return e.abrupt("return",Uu.Xo(r,{level:0}));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Wu(e,t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var n=1024/Math.max(e.width,e.height),r=document.createElement("canvas");r.width=e.width*Math.min(1,n),r.height=e.height*Math.min(1,n);var i=r.getContext("2d");if(i.drawImage(e,0,0,r.width,r.height),void 0!==t){for(var a=parseInt(t,16),o=(a>>16&255)/255,s=(a>>8&255)/255,l=(255&a)/255,u=i.getImageData(0,0,r.width,r.height),c=u.data,h=0;h<c.length;h+=4)c[h+0]=c[h+0]*o,c[h+1]=c[h+1]*s,c[h+2]=c[h+2]*l;i.putImageData(u,0,0)}return r}throw new Error("THREE.USDZExporter: No valid image data found. Unable to process texture.")}var qu=7;function Yu(e){return'def Xform "Root"\n{\n    def Scope "Scenes" (\n        kind = "sceneLibrary"\n    )\n    {\n        def Xform "Scene" (\n            customData = {\n                bool preliminary_collidesWithEnvironment = 0\n                string sceneName = "Scene"\n            }\n            sceneName = "Scene"\n        )\n        {\n        token preliminary:anchoring:type = "'.concat(e.ar.anchoring.type,'"\n        token preliminary:planeAnchoring:alignment = "').concat(e.ar.planeAnchoring.alignment,'"\n\n')}function Xu(e){var t='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n';return t+=e,Uu.TD(t)}function Ju(e,t,n){var r="Object_"+e.id,i=Ku(e.matrixWorld);return e.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",e),'def Xform "'.concat(r,'" (\n    prepend references = @./geometries/Geometry_').concat(t.id,".usd@</Geometry>\n)\n{\n    matrix4d xformOp:transform = ").concat(i,'\n    uniform token[] xformOpOrder = ["xformOp:transform"]\n\n    rel material:binding = </Materials/Material_').concat(n.id,">\n}\n\n")}function Ku(e){var t=e.elements;return"( ".concat($u(t,0),", ").concat($u(t,4),", ").concat($u(t,8),", ").concat($u(t,12)," )")}function $u(e,t){return"(".concat(e[t+0],", ").concat(e[t+1],", ").concat(e[t+2],", ").concat(e[t+3],")")}function ec(e){var t=function(e){var t="Geometry",n=e.attributes,r=n.position.count;return'\n    def Mesh "'.concat(t,'"\n    {\n        int[] faceVertexCounts = [').concat(function(e){var t=null!==e.index?e.index.count:e.attributes.position.count;return Array(t/3).fill(3).join(", ")}(e),"]\n        int[] faceVertexIndices = [").concat(function(e){var t=e.index,n=[];if(null!==t)for(var r=0;r<t.count;r++)n.push(t.getX(r));else for(var i=e.attributes.position.count,a=0;a<i;a++)n.push(a);return n.join(", ")}(e),"]\n        normal3f[] normals = [").concat(tc(n.normal,r),'] (\n            interpolation = "vertex"\n        )\n        point3f[] points = [').concat(tc(n.position,r),"]\n        float2[] primvars:st = [").concat(function(e,t){if(void 0===e)return console.warn("USDZExporter: UVs missing."),Array(t).fill("(0, 0)").join(", ");for(var n=[],r=0;r<e.count;r++){var i=e.getX(r),a=e.getY(r);n.push("(".concat(i.toPrecision(qu),", ").concat(1-a.toPrecision(qu),")"))}return n.join(", ")}(n.uv,r),'] (\n            interpolation = "vertex"\n        )\n        uniform token subdivisionScheme = "none"\n    }\n')}(e);return'\ndef "Geometry"\n{\n  '.concat(t,"\n}\n")}function tc(e,t){if(void 0===e)return console.warn("USDZExporter: Normals missing."),Array(t).fill("(0, 0, 0)").join(", ");for(var n=[],r=0;r<e.count;r++){var i=e.getX(r),a=e.getY(r),o=e.getZ(r);n.push("(".concat(i.toPrecision(qu),", ").concat(a.toPrecision(qu),", ").concat(o.toPrecision(qu),")"))}return n.join(", ")}function nc(e,t){var n=[];for(var r in e){var i=e[r];n.push(rc(i,t))}return'def "Materials"\n{\n'.concat(n.join(""),"\n}\n\n")}function rc(e,t){var n="            ",r=[],i=[];function a(n,r,i){var a=n.id+(i?"_"+i.getHexString():""),o=1023===n.format;return t[a]=n,'\n        def Shader "Transform2d_'.concat(r,'" (\n            sdrMetadata = {\n                string role = "math"\n            }\n        )\n        {\n            uniform token info:id = "UsdTransform2d"\n            float2 inputs:in.connect = </Materials/Material_').concat(e.id,"/uvReader_st.outputs:result>\n            float2 inputs:scale = ").concat(ac(n.repeat),"\n            float2 inputs:translation = ").concat(ac(n.offset),'\n            float2 outputs:result\n        }\n\n        def Shader "Texture_').concat(n.id,"_").concat(r,'"\n        {\n            uniform token info:id = "UsdUVTexture"\n            asset inputs:file = @textures/Texture_').concat(a,".").concat(o?"png":"jpg","@\n            float2 inputs:st.connect = </Materials/Material_").concat(e.id,"/Transform2d_").concat(r,'.outputs:result>\n            token inputs:wrapS = "repeat"\n            token inputs:wrapT = "repeat"\n            float outputs:r\n            float outputs:g\n            float outputs:b\n            float3 outputs:rgb\n            ').concat(e.transparent||e.alphaTest>0?"float outputs:a":"","\n        }")}return e.side===Yi.ehD&&console.warn("THREE.USDZExporter: USDZ does not support double sided materials",e),null!==e.map?(r.push("".concat(n,"color3f inputs:diffuseColor.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:rgb>")),e.transparent?r.push("".concat(n,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:a>")):e.alphaTest>0&&(r.push("".concat(n,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.map.id,"_diffuse.outputs:a>")),r.push("".concat(n,"float inputs:opacityThreshold = ").concat(e.alphaTest))),i.push(a(e.map,"diffuse",e.color))):r.push("".concat(n,"color3f inputs:diffuseColor = ").concat(ic(e.color))),null!==e.emissiveMap?(r.push("".concat(n,"color3f inputs:emissiveColor.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.emissiveMap.id,"_emissive.outputs:rgb>")),i.push(a(e.emissiveMap,"emissive"))):e.emissive.getHex()>0&&r.push("".concat(n,"color3f inputs:emissiveColor = ").concat(ic(e.emissive))),null!==e.normalMap&&(r.push("".concat(n,"normal3f inputs:normal.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.normalMap.id,"_normal.outputs:rgb>")),i.push(a(e.normalMap,"normal"))),null!==e.aoMap&&(r.push("".concat(n,"float inputs:occlusion.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.aoMap.id,"_occlusion.outputs:r>")),i.push(a(e.aoMap,"occlusion"))),null!==e.roughnessMap&&1===e.roughness?(r.push("".concat(n,"float inputs:roughness.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.roughnessMap.id,"_roughness.outputs:g>")),i.push(a(e.roughnessMap,"roughness"))):r.push("".concat(n,"float inputs:roughness = ").concat(e.roughness)),null!==e.metalnessMap&&1===e.metalness?(r.push("".concat(n,"float inputs:metallic.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.metalnessMap.id,"_metallic.outputs:b>")),i.push(a(e.metalnessMap,"metallic"))):r.push("".concat(n,"float inputs:metallic = ").concat(e.metalness)),null!==e.alphaMap?(r.push("".concat(n,"float inputs:opacity.connect = </Materials/Material_").concat(e.id,"/Texture_").concat(e.alphaMap.id,"_opacity.outputs:r>")),r.push("".concat(n,"float inputs:opacityThreshold = 0.0001")),i.push(a(e.alphaMap,"opacity"))):r.push("".concat(n,"float inputs:opacity = ").concat(e.opacity)),e.isMeshPhysicalMaterial&&(r.push("".concat(n,"float inputs:clearcoat = ").concat(e.clearcoat)),r.push("".concat(n,"float inputs:clearcoatRoughness = ").concat(e.clearcoatRoughness)),r.push("".concat(n,"float inputs:ior = ").concat(e.ior))),'\n    def Material "Material_'.concat(e.id,'"\n    {\n        def Shader "PreviewSurface"\n        {\n            uniform token info:id = "UsdPreviewSurface"\n').concat(r.join("\n"),"\n            int inputs:useSpecularWorkflow = 0\n            token outputs:surface\n        }\n\n        token outputs:surface.connect = </Materials/Material_").concat(e.id,'/PreviewSurface.outputs:surface>\n        token inputs:frame:stPrimvarName = "st"\n\n        def Shader "uvReader_st"\n        {\n            uniform token info:id = "UsdPrimvarReader_float2"\n            token inputs:varname.connect = </Materials/Material_').concat(e.id,".inputs:frame:stPrimvarName>\n            float2 inputs:fallback = (0.0, 0.0)\n            float2 outputs:result\n        }\n\n").concat(i.join("\n"),"\n\n    }\n")}function ic(e){return"(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")}function ac(e){return"(".concat(e.x,", ").concat(e.y,")")}function oc(e){var t=e.name?e.name:"Camera_"+e.id,n=Ku(e.matrixWorld);return e.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",e),e.isOrthographicCamera?'def Camera "'.concat(t,'"\n\t\t{\n\t\t\tmatrix4d xformOp:transform = ').concat(n,'\n\t\t\tuniform token[] xformOpOrder = ["xformOp:transform"]\n\t\n\t\t\tfloat2 clippingRange = (').concat(e.near.toPrecision(qu),", ").concat(e.far.toPrecision(qu),")\n\t\t\tfloat horizontalAperture = ").concat((10*(Math.abs(e.left)+Math.abs(e.right))).toPrecision(qu),"\n\t\t\tfloat verticalAperture = ").concat((10*(Math.abs(e.top)+Math.abs(e.bottom))).toPrecision(qu),'\n\t\t\ttoken projection = "orthographic"\n\t\t}\n\t\n\t'):'def Camera "'.concat(t,'"\n\t\t{\n\t\t\tmatrix4d xformOp:transform = ').concat(n,'\n\t\t\tuniform token[] xformOpOrder = ["xformOp:transform"]\n\t\n\t\t\tfloat2 clippingRange = (').concat(e.near.toPrecision(qu),", ").concat(e.far.toPrecision(qu),")\n\t\t\tfloat focalLength = ").concat(e.getFocalLength().toPrecision(qu),"\n\t\t\tfloat focusDistance = ").concat(e.focus.toPrecision(qu),"\n\t\t\tfloat horizontalAperture = ").concat(e.getFilmWidth().toPrecision(qu),'\n\t\t\ttoken projection = "perspective"\n\t\t\tfloat verticalAperture = ').concat(e.getFilmHeight().toPrecision(qu),"\n\t\t}\n\t\n\t")}function sc(e){return new Promise((function(t){return setTimeout(t,e)}))}var lc=function(){function e(t){(0,r.Z)(this,e),this.onLoad=t}return(0,i.Z)(e,[{key:"convertToGLB",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n,r){var i,a,o,s=this;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Yi.lLk(void 0,void 0,r),e.next=3,new Promise((function(e){s.loadFiles(i,t,n,(function(t){e(t)}),(function(e){return r&&r(e)}))}));case 3:return a=e.sent,e.next=6,sc(5e3);case 6:return e.next=8,new Promise((function(e){(new tu).parse(a,(function(t){e(t)}),(function(e){throw e}),{binary:!0,animations:a.animations})}));case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"exportAsGLB",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var n;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){(new tu).parse(t,(function(t){e(t)}),(function(e){throw e}),{binary:!0,animations:t.animations})}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"exportSceneAsUSDZ",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(new Vu).parse(t,{}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadFiles",value:function(e,t,n,r,i){if(t.length>0){n=n||Hu(t),e.setURLModifier((function(e){e=e.replace(/^(\.?\/)/,"");var t=n[e];return t?(console.log("Loading",e),URL.createObjectURL(t)):e})),e.addHandler(/\.tga$/i,new rs.U);for(var a=0;a<t.length;a++)this.loadModelFile(e,t[a],n,r,(function(e){i&&i(e)}))}}},{key:"loadModelFile",value:function(e,t,r,i,a){var o=t.name,s=o.split(".").pop().toLowerCase(),l=new FileReader;switch(s){case"3dm":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,o,s,l;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.result,e.next=3,n.e(547).then(n.bind(n,9205));case 3:o=e.sent,s=o.Rhino3dmLoader,(l=new s).setLibraryPath("/libs/rhino3dm/"),l.parse(r,(function(e){i(e)}),(function(e){a&&a(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"3ds":l.addEventListener("load",function(){var t=(0,Qt.Z)((0,Lt.Z)().mark((function t(r){var o,s,l,u;return(0,Lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.e(394).then(n.bind(n,4394));case 3:o=t.sent,s=o.TDSLoader,l=new s(e),u=l.parse(r.target.result),i(u),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a&&a(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"3mf":l.addEventListener("load",function(){var t=(0,Qt.Z)((0,Lt.Z)().mark((function t(r){var o,s,l,u;return(0,Lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.e(137).then(n.bind(n,3137));case 3:o=t.sent,s=o.ThreeMFLoader,l=new s(e),u=l.parse(r.target.result),i(u),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),a&&a(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"amf":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,o,s,l;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(748).then(n.bind(n,5748));case 3:r=e.sent,o=r.AMFLoader,s=new o,l=s.parse(t.target.result),i(l),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a&&a(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"dae":l.addEventListener("load",function(){var t=(0,Qt.Z)((0,Lt.Z)().mark((function t(r){var s,l,u,c,h;return(0,Lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s=r.target.result,t.next=4,n.e(810).then(n.bind(n,810));case 4:l=t.sent,u=l.ColladaLoader,c=new u(e),(h=c.parse(s)).scene.name=o,i(h.scene),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a&&a(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}(),!1),l.readAsText(t);break;case"drc":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.result,e.next=3,Promise.resolve().then(n.bind(n,7531));case 3:s=e.sent,l=s.DRACOLoader,(u=new l).setDecoderPath("/libs/draco/"),u.parse(r,(function(e){var t;if(null!==e.index){var n=new Yi.Wid;(t=new Yi.Kj0(e,n)).name=o}else{var r=new Yi.UY4({size:.01});r.vertexColors=e.hasAttribute("color"),(t=new Yi.woe(e,r)).name=o}u.dispose(),i(t)}),(function(e){a&&a(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"fbx":l.addEventListener("load",function(){var t=(0,Qt.Z)((0,Lt.Z)().mark((function t(r){var o,s,l,u,c;return(0,Lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=r.target.result,t.next=4,n.e(775).then(n.bind(n,9775));case 4:s=t.sent,l=s.FBXLoader,u=new l(e),c=u.parse(o),i(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a&&a(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"gltf":l.addEventListener("load",function(){var t=(0,Qt.Z)((0,Lt.Z)().mark((function t(r){var s,l,u,c,h,d,f;return(0,Lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.target.result,t.next=3,Promise.resolve().then(n.bind(n,7531));case 3:return l=t.sent,u=l.DRACOLoader,t.next=7,Promise.resolve().then(n.bind(n,2605));case 7:c=t.sent,h=c.GLTFLoader,(d=new u).setDecoderPath("/libs/draco/gltf"),(f=new h(e)).setDRACOLoader(d),f.parse(s,"",(function(e){var t,n=e.scene;n.name=o,(t=n.animations).push.apply(t,(0,Ht.Z)(e.animations)),i(n),d.dispose()}),(function(e){a&&a(e)}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"glb":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u,c,h,d,f,p,A,m,v;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.result,e.next=3,Promise.resolve().then(n.bind(n,2605));case 3:return s=e.sent,l=s.GLTFLoader,e.next=7,Promise.resolve().then(n.bind(n,7531));case 7:return u=e.sent,c=u.DRACOLoader,e.next=11,Promise.resolve().then(n.bind(n,4362));case 11:return h=e.sent,d=h.KTX2Loader,e.next=15,n.e(242).then(n.bind(n,3242));case 15:f=e.sent,p=f.MeshoptDecoder,(A=new c).setDecoderPath("/libs/draco/"),(m=new d).setTranscoderPath("/libs/basis/"),(v=new l).setDRACOLoader(A),v.setKTX2Loader(m),v.setMeshoptDecoder(p),v.parse(r,"",(function(e){var t,n=e.scene;n.name=o,(t=n.animations).push.apply(t,(0,Ht.Z)(e.animations)),i(n),A.dispose()}),(function(e){a&&a(e)}));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"ifc":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(290).then(n.bind(n,9290));case 3:return r=e.sent,s=r.IFCLoader,(l=new s).ifcManager.setWasmPath("/libs/ifc"),e.next=9,l.parse(t.target.result);case 9:(u=e.sent).mesh.name=o,i(u.mesh),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a&&a(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"kmz":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([n.e(810),n.e(40)]).then(n.bind(n,6040));case 3:r=e.sent,s=r.KMZLoader,l=new s,(u=l.parse(t.target.result)).scene.name=o,i(u.scene),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a&&a(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"ldr":case"mpd":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(58).then(n.bind(n,6951));case 2:r=e.sent,s=r.LDrawLoader,(l=new s).setPath("../../examples/models/ldraw/officialLibrary/"),l.parse(t.target.result,(function(e){e.name=o,e.rotation.x=Math.PI,i(e)}),(function(e){a&&a(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsText(t);break;case"obj":var u=function(r){l.addEventListener("load",function(){var t=(0,Qt.Z)((0,Lt.Z)().mark((function t(s){var l,u,c,h,d;return(0,Lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l=s.target.result,t.next=4,n.e(631).then(n.bind(n,6631));case 4:u=t.sent,c=u.OBJLoader,h=new c(e),r&&h.setMaterials(r),(d=h.parse(l)).name=o,i(d),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a&&a(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),!1),l.readAsText(t)},c=new FileReader(e);c.addEventListener("load",function(){var t=(0,Qt.Z)((0,Lt.Z)().mark((function t(r){var i,o,s;return(0,Lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.e(727).then(n.bind(n,3727));case 3:i=t.sent,o=i.MTLLoader,s=new o(e).parse(r.target.result),u(s),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a&&a(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}());var h=o.split(".");h.pop();var d=r[h.join(".")+".mtl"];d?c.readAsText(d):u();break;case"pcd":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.result,e.next=4,n.e(97).then(n.bind(n,4097));case 4:s=e.sent,l=s.PCDLoader,(u=(new l).parse(r)).name=o,i(u),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a&&a(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"ply":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u,c,h,d;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.result,e.next=4,n.e(791).then(n.bind(n,791));case 4:s=e.sent,l=s.PLYLoader,null!==(u=(new l).parse(r)).index?(h=new Yi.Wid,(c=new Yi.Kj0(u,h)).name=o):((d=new Yi.UY4({size:.01})).vertexColors=u.hasAttribute("color"),(c=new Yi.woe(u,d)).name=o),i(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a&&a(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"stl":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u,c,h;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.result,e.next=4,n.e(158).then(n.bind(n,7158));case 4:s=e.sent,l=s.STLLoader,u=(new l).parse(r),c=new Yi.Wid,(h=new Yi.Kj0(u,c)).name=o,i(h),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a&&a(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),!1),void 0!==l.readAsBinaryString?l.readAsBinaryString(t):l.readAsArrayBuffer(t);break;case"svg":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,o,s,l,u,c,h,d,f,p,A,m,v,g;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.result,e.next=4,n.e(884).then(n.bind(n,884));case 4:for(o=e.sent,s=o.SVGLoader,l=new s,u=l.parse(r).paths,(c=new Yi.ZAu).scale.multiplyScalar(.1),c.scale.y*=-1,h=0;h<u.length;h++)for(d=u[h],f=new Yi.vBJ({color:d.color,depthWrite:!1}),p=s.createShapes(d),A=0;A<p.length;A++)m=p[A],v=new Yi.oa8(m),g=new Yi.Kj0(v,f),c.add(g);i(c),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),a&&a(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsText(t);break;case"usdz":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.result,e.next=4,n.e(581).then(n.bind(n,7581));case 4:s=e.sent,l=s.USDZLoader,(u=(new l).parse(r)).name=o,i(u),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a&&a(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"vox":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u,c;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.result,e.next=4,n.e(696).then(n.bind(n,696));case 4:s=e.sent,l=s.VOXLoader,u=s.VOXMesh,c=(new l).parse(r),setTimeout((function(){var e=new Yi.ZAu;e.name=o;for(var t=0;t<c.length;t++){var n=c[t],r=new u(n);e.add(r)}i(e)}),100),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a&&a(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"vtk":case"vtp":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u,c,h;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.result,e.next=4,n.e(205).then(n.bind(n,8205));case 4:s=e.sent,l=s.VTKLoader,u=(new l).parse(r),c=new Yi.Wid,(h=new Yi.Kj0(u,c)).name=o,i(h),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),a&&a(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsArrayBuffer(t);break;case"wrl":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,o,s,l;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.result,e.next=4,n.e(613).then(n.bind(n,1613));case 4:o=e.sent,s=o.VRMLLoader,l=(new s).parse(r),i(l),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a&&a(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsText(t);break;case"xyz":l.addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r,s,l,u,c,h;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.target.result,e.next=4,n.e(362).then(n.bind(n,9362));case 4:s=e.sent,l=s.XYZLoader,u=(new l).parse(r),(c=new Yi.UY4).vertexColors=u.hasAttribute("color"),(h=new Yi.woe(u,c)).name=o,i(h),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a&&a(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),!1),l.readAsText(t)}}}]),e}(),uc=[".gltf",".obj",".glb",".fbx",".dae",".stl",".wrl",".xyz",".vtk",".vdp",".pcd",".ply",".svg",".usdz",".vox",".mpd",".ldr",".kmz",".drc",".3dm",".3mf",".amf",".3ds"],cc=([].concat(uc,[".mtl",".jpg",".jpeg",".jpe",".jif",".jfif",".png",".tga",".gif",".tiff",".tif",".bmp",".bin"]),n(2605)),hc=n(7531),dc=n(4362),fc=function(){function e(t){(0,r.Z)(this,e),this.loadingManager=new Yi.lLk;var n=new cc.GLTFLoader(this.loadingManager);n.setCrossOrigin("anonymous");var i=new hc.DRACOLoader(this.loadingManager);i.setDecoderPath("/libs/draco/"),i.preload(),n.setDRACOLoader(i);var a=new dc.KTX2Loader;a.detectSupport(t),a.setTranscoderPath("/libs/basis/"),n.setKTX2Loader(a),this.loader=n}return(0,i.Z)(e,[{key:"revokeTextures",value:function(e){(0,cc.revokeTextureUrls)(e)}},{key:"loadFile",value:function(e,t,n){var r=this;return new Promise((function(i,a){r.loader.load(e,(function(e){i(e)}),(function(e){t&&t(parseInt(100*e.loaded/e.total))}),(function(e){console.log("error loading gltf: ".concat(e)),n&&n(e),a()}))}))}},{key:"parse",value:function(e,t){var n=this;return new Promise((function(r,i){n.loader.parse(e,"",(function(e){r(e)}),(function(e){console.log("error parsing gltf: ".concat(e)),t&&t(e),i()}))}))}}]),e}();function pc(e){return e.find((function(e){return uc.includes("."+e.name.split(".").pop().toLowerCase())}))}function Ac(e,t,n,r){return mc.apply(this,arguments)}function mc(){return mc=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n,r,i){var a,o,s,l,u,c;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=pc(n)){e.next=3;break}throw new Error("no valid model file found");case 3:if("glb"!==a.name.split(".").pop().toLowerCase()){e.next=9;break}(o=new FileReader).addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(n){var a,o,s;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.target.result,o=new fc(t),e.next=4,o.parse(a,i);case 4:(s=e.sent).scene.animations=s.animations,r(s.scene);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.readAsArrayBuffer(a),e.next=19;break;case 9:return s=new lc,e.next=12,s.convertToGLB(n,void 0,(function(e){throw new Error("Failed to convert file, error: ".concat(e,". Contact support if this error persists"))}));case 12:return l=e.sent,u=new fc(t),e.next=16,u.parse(l,i);case 16:(c=e.sent).scene.animations=c.animations,r(c.scene);case 19:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}var vc=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).files=Array.from(e),i}return(0,i.Z)(n,[{key:"name",get:function(){return"Import Folder"}},{key:"execute",value:function(){Ac(Es.world.renderer.renderer,this.files,(function(e){e.name="Root Node",Es.addObject(e)}),(function(e){ni.instance.notifyAll(new Gu("Error importing file - ".concat(e)))}))}},{key:"undoable",get:function(){return!1}}]),n}(bo),gc=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).object=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Add Object"}},{key:"execute",value:function(){this.sphere=Es.addObject(this.object)}},{key:"undo",value:function(){Es.removeObject(this.object)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),yc=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).files=Array.from(e),i}return(0,i.Z)(n,[{key:"name",get:function(){return"Import File"}},{key:"assignMatertialUUIDs",value:function(e){e.traverse((function(e){e instanceof Yi.Kj0&&(e.material.userData.uuid||(e.material.userData.uuid=e.material.uuid))}))}},{key:"execute",value:function(){var e=this;ni.instance.notifyAll(new bi),Ac(Es.world.renderer.renderer,this.files,(function(t){e.assignMatertialUUIDs(t),new gc(t).execute(),Es.cameraController.object.position.set(1,1,1),Es.cameraController.target.set(0,0,0),Es.cameraController.update(.1),Es.frameScene(),ni.instance.notifyAll(new wi)}),(function(e){ni.instance.notifyAll(new wi),ni.instance.notifyAll(new Gu("Error importing file - ".concat(e)))}))}},{key:"undoable",get:function(){return!1}}]),n}(bo),xc=Uint8Array,bc=Uint16Array,wc=Int32Array,Cc=new xc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ec=new xc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Sc=new xc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ic=function(e,t){for(var n=new bc(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new wc(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},Mc=Ic(Cc,2),_c=Mc.b,kc=Mc.r;_c[28]=258,kc[258]=28;for(var Bc=Ic(Ec,0),Tc=Bc.b,Rc=(Bc.r,new bc(32768)),Dc=0;Dc<32768;++Dc){var Pc=(43690&Dc)>>1|(21845&Dc)<<1;Pc=(61680&(Pc=(52428&Pc)>>2|(13107&Pc)<<2))>>4|(3855&Pc)<<4,Rc[Dc]=((65280&Pc)>>8|(255&Pc)<<8)>>1}var Lc=function(e,t,n){for(var r=e.length,i=0,a=new bc(t);i<r;++i)e[i]&&++a[e[i]-1];var o,s=new bc(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(n){o=new bc(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],h=s[e[i]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)o[Rc[h]>>l]=u}else for(o=new bc(r),i=0;i<r;++i)e[i]&&(o[i]=Rc[s[e[i]-1]++]>>15-e[i]);return o},Qc=new xc(288);for(Dc=0;Dc<144;++Dc)Qc[Dc]=8;for(Dc=144;Dc<256;++Dc)Qc[Dc]=9;for(Dc=256;Dc<280;++Dc)Qc[Dc]=7;for(Dc=280;Dc<288;++Dc)Qc[Dc]=8;var jc=new xc(32);for(Dc=0;Dc<32;++Dc)jc[Dc]=5;var Nc=Lc(Qc,9,1),Fc=Lc(jc,5,1),Uc=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Oc=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},Zc=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},zc=function(e){return(e+7)/8|0},Gc=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new xc(n-t);return r.set(e.subarray(t,n)),r},Hc=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Vc=function e(t,n,r){var i=new Error(n||Hc[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,e),!r)throw i;return i},Wc=function(e,t,n,r){var i=e.length,a=r?r.length:0;if(!i||t.f&&!t.l)return n||new xc(0);var o=!n||2!=t.i,s=t.i;n||(n=new xc(3*i));var l=function(e){var t=n.length;if(e>t){var r=new xc(Math.max(2*t,e));r.set(n),n=r}},u=t.f||0,c=t.p||0,h=t.b||0,d=t.l,f=t.d,p=t.m,A=t.n,m=8*i;do{if(!d){u=Oc(e,c,1);var v=Oc(e,c+1,3);if(c+=3,!v){var g=e[(k=zc(c)+4)-4]|e[k-3]<<8,y=k+g;if(y>i){s&&Vc(0);break}o&&l(h+g),n.set(e.subarray(k,y),h),t.b=h+=g,t.p=c=8*y,t.f=u;continue}if(1==v)d=Nc,f=Fc,p=9,A=5;else if(2==v){var x=Oc(e,c,31)+257,b=Oc(e,c+10,15)+4,w=x+Oc(e,c+5,31)+1;c+=14;for(var C=new xc(w),E=new xc(19),S=0;S<b;++S)E[Sc[S]]=Oc(e,c+3*S,7);c+=3*b;var I=Uc(E),M=(1<<I)-1,_=Lc(E,I,1);for(S=0;S<w;){var k,B=_[Oc(e,c,M)];if(c+=15&B,(k=B>>4)<16)C[S++]=k;else{var T=0,R=0;for(16==k?(R=3+Oc(e,c,3),c+=2,T=C[S-1]):17==k?(R=3+Oc(e,c,7),c+=3):18==k&&(R=11+Oc(e,c,127),c+=7);R--;)C[S++]=T}}var D=C.subarray(0,x),P=C.subarray(x);p=Uc(D),A=Uc(P),d=Lc(D,p,1),f=Lc(P,A,1)}else Vc(1);if(c>m){s&&Vc(0);break}}o&&l(h+131072);for(var L=(1<<p)-1,Q=(1<<A)-1,j=c;;j=c){var N=(T=d[Zc(e,c)&L])>>4;if((c+=15&T)>m){s&&Vc(0);break}if(T||Vc(2),N<256)n[h++]=N;else{if(256==N){j=c,d=null;break}var F=N-254;if(N>264){var U=Cc[S=N-257];F=Oc(e,c,(1<<U)-1)+_c[S],c+=U}var O=f[Zc(e,c)&Q],Z=O>>4;O||Vc(3),c+=15&O;P=Tc[Z];if(Z>3){U=Ec[Z];P+=Zc(e,c)&(1<<U)-1,c+=U}if(c>m){s&&Vc(0);break}o&&l(h+131072);var z=h+F;if(h<P){var G=a-P,H=Math.min(P,z);for(G+h<0&&Vc(3);h<H;++h)n[h]=r[G+h]}for(;h<z;h+=4)n[h]=n[h-P],n[h+1]=n[h+1-P],n[h+2]=n[h+2-P],n[h+3]=n[h+3-P];h=z}}t.l=d,t.p=j,t.b=h,t.f=u,d&&(u=1,t.m=p,t.d=f,t.n=A)}while(!u);return h==n.length?n:Gc(n,0,h)},qc=new xc(0),Yc=function(e,t){return e[t]|e[t+1]<<8},Xc=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},Jc=function(e,t){return Xc(e,t)+4294967296*Xc(e,t+4)};function Kc(e,t){return Wc(e,{i:2},t&&t.out,t&&t.dictionary)}var $c="undefined"!=typeof TextDecoder&&new TextDecoder;try{$c.decode(qc,{stream:!0}),1}catch(Nm){}var eh=function(e){for(var t="",n=0;;){var r=e[n++],i=(r>127)+(r>223)+(r>239);if(n+i>e.length)return{s:t,r:Gc(e,n-1)};i?3==i?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=1&i?String.fromCharCode((31&r)<<6|63&e[n++]):String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}};function th(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if($c)return $c.decode(e);var i=eh(e),a=i.s;return(n=i.r).length&&Vc(8),a}var nh=function(e,t){return t+30+Yc(e,t+26)+Yc(e,t+28)},rh=function(e,t,n){var r=Yc(e,t+28),i=th(e.subarray(t+46,t+46+r),!(2048&Yc(e,t+8))),a=t+46+r,o=Xc(e,t+20),s=n&&4294967295==o?ih(e,a):[o,Xc(e,t+24),Xc(e,t+42)],l=s[0],u=s[1],c=s[2];return[Yc(e,t+10),l,u,i,a+Yc(e,t+30)+Yc(e,t+32),c]},ih=function(e,t){for(;1!=Yc(e,t);t+=4+Yc(e,t+2));return[Jc(e,t+12),Jc(e,t+4),Jc(e,t+20)]};"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function ah(e,t){for(var n={},r=e.length-22;101010256!=Xc(e,r);--r)(!r||e.length-r>65558)&&Vc(13);var i=Yc(e,r+8);if(!i)return{};var a=Xc(e,r+16),o=4294967295==a||65535==i;if(o){var s=Xc(e,r-12);(o=101075792==Xc(e,s))&&(i=Xc(e,s+32),a=Xc(e,s+48))}for(var l=t&&t.filter,u=0;u<i;++u){var c=rh(e,a,o),h=c[0],d=c[1],f=c[2],p=c[3],A=c[4],m=c[5],v=nh(e,m);a=A,l&&!l({name:p,size:d,originalSize:f,compression:h})||(h?8==h?n[p]=Kc(e.subarray(v,v+d),{out:new xc(f)}):Vc(14,"unknown compression type "+h):n[p]=Gc(e,v,v+d))}return n}function oh(){return oh=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n){var r;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=ah(new Uint8Array(t.target.result)),n(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.readAsArrayBuffer(t);case 3:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}var sh=new Yi.FM8;function lh(e){return new Promise((function(t){var n=URL.createObjectURL(e),r=new Image;r.onload=function(){t(r)},r.src=n}))}function uh(e){var t=1920,n=1080;e.renderer.renderer.getSize(sh),e.camera&&(e.camera.aspect=t/n,e.camera.updateProjectionMatrix()),e.renderer.renderer.setSize(t,n),e.composer.setSize(t,n),e.renderScene(),e.camera&&(e.camera.aspect=sh.x/sh.y,e.camera.updateProjectionMatrix());var r=e.renderer.canvas.toDataURL("image/jpeg",.5);return e.composer.setSize(sh.x,sh.y),e.renderer.renderer.setSize(sh.x,sh.y),e.renderScene(),r}function ch(e){return e.isScene?"Scene":e.isCamera?"Camera":e.isLight?"Light":e.isMesh?"Mesh":e.isLine?"Line":e.isPoints?"Points":"Node"}function hh(e){e&&e.userData.copy&&(e.userData.copy.color instanceof Yi.Ilk?e.color=e.userData.copy.color.clone():e.color=new Yi.Ilk(e.userData.copy.color),e.opacity=e.userData.copy.opacity,e.roughness=e.userData.copy.roughness,e.metalness=e.userData.copy.metalness,e.transparent=e.userData.copy.transparent,e.needsUpdate=!0)}var dh,fh=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"deserializeAnimations",value:function(e){e.traverse((function(e){e.userData.animations&&(e.animations=[],e.userData.animations.forEach((function(t){e.animations.push(Yi.m7l.parse(t))})))}))}},{key:"getSceneRoot",value:function(e){return e.name.startsWith("AuxScene")&&1==e.children.length?this.getSceneRoot(e.children[0]):e}},{key:"load",value:function(e,t,n){var r=this;try{var i,a,o,s=[],l=[];!function(e,t){oh.apply(this,arguments)}(e,function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(u){var c,h,d,f,p,A,m,v,g,y,x,b;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=(0,Lt.Z)().keys(u);case 1:if((e.t1=e.t0()).done){e.next=59;break}if(c=e.t1.value,!Object.hasOwnProperty.call(u,c)){e.next=57;break}if(h=u[c],"scene.glb"!==c){e.next=17;break}return d=new fc(Es.world.renderer.renderer),e.next=9,d.parse(h.buffer,n);case 9:for(f=e.sent,(a=f.scene).traverse((function(e){e instanceof Yi.Kj0&&!e.material.userData.uuid&&(e.material.userData.uuid=e.material.uuid)}));a.name.startsWith("AuxScene")&&1===a.children.length;)a=a.children[0];a.parent&&a.removeFromParent(),r.deserializeAnimations(a),e.next=57;break;case 17:if("envmap.hdr"!==c){e.next=26;break}return p=new Blob([h.buffer]),e.next=21,ps(p);case 21:(o=e.sent).dataUrl=URL.createObjectURL(p),o.mapping=Yi.dSO,e.next=57;break;case 26:if(!c.startsWith("cubeMaps/gemstoneMap")){e.next=40;break}return e.prev=27,A=new Blob([h.buffer]),e.next=31,lh(A);case 31:m=e.sent,s.push({name:"gemStoneMap",images:[m]}),e.next=38;break;case 35:e.prev=35,e.t2=e.catch(27),console.log("failed create cubemap ".concat(c," from zip"));case 38:e.next=57;break;case 40:if(!c.startsWith("variantMaps/")){e.next=50;break}return v=c.split("/").pop(),g=new Blob([h.buffer]),e.next=45,ms(g);case 45:(y=e.sent).flipY=!1,l.push({fn:v,tex:y}),e.next=57;break;case 50:if("settings.json"!==c){e.next=57;break}return x=new Blob([h.buffer]),e.next=54,os(x);case 54:b=e.sent,(i=new Xo).set(JSON.parse(b));case 57:e.next=1;break;case 59:a||(a=new Yi.Tme),i||(i=new Xo),t({scene:a,settings:i,envMap:o,cubeMaps:s,variantMaps:l});case 62:case"end":return e.stop()}}),e,null,[[27,35]])})));return function(t){return e.apply(this,arguments)}}())}catch(Nm){n&&n("An error occured loading the project file")}}}]),e}(),ph=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).file=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Import Project"}},{key:"execute",value:function(){var e=this;ni.instance.notifyAll(new bi);try{(new fh).load(this.file,(function(t){var n=new qo(t.scene,t.settings,e.file.name.split(".").slice(0,-1).join("."));if(Es.world.setEnvironmentMap(t.envMap),n.envMap=t.envMap,Es.project=n,t.cubeMaps[0]&&t.cubeMaps[0].images[0]){var r=t.cubeMaps[0].images[0],i=[r,r,r,r,r,r];Es.project.addCubeMap("gemstoneMap",[r]);var a=new Yi.BtG(i,Yi.fY$);a.needsUpdate=!0,Es.applyCubeMapToMaterials(a,(function(e){return e.name.toLowerCase().includes("gemstone")}))}t.variantMaps.forEach((function(e){n.setVariantMap(e.fn,e.tex)})),ni.instance.notifyAll(new Ai),Es.frameScene()}),(function(e){ni.instance.notifyAll(new Gu(e)),ni.instance.notifyAll(new wi)}))}catch(Nm){ni.instance.notifyAll(new Gu("An error occured loading the project file"))}finally{ni.instance.notifyAll(new wi)}}},{key:"undoable",get:function(){return!1}}]),n}(bo),Ah=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this)}return(0,i.Z)(n,[{key:"name",get:function(){return"New Project"}},{key:"undoable",get:function(){return!1}},{key:"execute",value:function(){window.location.reload()}}]),n}(bo),mh=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).fn=e,i}return(0,i.Z)(n,[{key:"execute",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Ou).export(this.fn,Es.project,!1);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"undoable",get:function(){return!1}}]),n}(bo),vh=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"execute",value:function(e){var t;switch(e){case"new project":t=new Ah;break;case"import file":t=new yc(arguments.length<=1?void 0:arguments[1]);break;case"import dir":t=new vc(arguments.length<=1?void 0:arguments[1]);break;case"import project":t=new ph(arguments.length<=1?void 0:arguments[1]);break;case"export glb":t=new Fu("scene.glb");break;case"export project":t=new Zu(arguments.length<=1?void 0:arguments[1]);break;case"publish":var n=Es.project.name||"project";return new mh("".concat(n,".zip")).execute(),void new Fu("".concat(n,".glb")).execute()}t&&Ei.execute(t)}}]),e}(),gh=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this)}return(0,i.Z)(n,[{key:"name",get:function(){return"Delete Object"}},{key:"execute",value:function(){this.object=Es.selectedObject,this.object&&Es.removeObject(this.object)}},{key:"undo",value:function(){this.object&&Es.addObject(this.object)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),yh=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).originalMode=Es.getObjectTransformMode(),i.mode=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Select Transform Mode"}},{key:"execute",value:function(){Es.setObjectTransformMode(this.mode)}},{key:"undoable",get:function(){return!1}}]),n}(bo),xh=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"execute",value:function(e){var t;switch(e){case"undo":Ei.undo();break;case"redo":Ei.redo();break;case"translate":t=new yh("translate");break;case"rotate":t=new yh("rotate");break;case"scale":t=new yh("scale");break;case"delete":t=new gh}t&&Ei.execute(t)}}]),e}(),bh=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).type=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Add "+this.type}},{key:"execute",value:function(){switch(this.type){case"DirectionalLight":this.light=Es.addDirectionalLight();break;case"PointLight":this.light=Es.addPointLight();break;case"SpotLight":this.light=Es.addSpotLight();break;case"HemisphereLight":this.light=Es.addHemisphereLight()}this.light&&Es.selectObject(this.light)}},{key:"undo",value:function(){Es.removeObject(this.object)}},{key:"redo",value:function(){Es.addObject(this.object)}}]),n}(bo),wh=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).type=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Add "+this.type}},{key:"execute",value:function(){switch(this.type){case"Sphere":this.object=function(){var e=new Yi.xo$(1,32,32),t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Box":this.object=Wo();break;case"Cylinder":this.object=function(){var e=new Yi.fHI,t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Torus":this.object=function(){var e=new Yi.XvJ(1,.4,24,48),t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Capsule":this.object=function(){var e=new Yi.BVQ(1,1,10,20),t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Tetrahedron":this.object=function(){var e=new Yi.H$k,t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Icosahedron":this.object=function(){var e=new Yi.cJO,t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Dodecahedron":this.object=function(){var e=new Yi.Kgo,t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Lathe":this.object=function(){var e=new Yi.p7y(void 0,32),t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Plane":this.object=function(){var e=new Yi._12,t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Circle":this.object=function(){var e=new Yi.zf8(1,64),t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Ring":this.object=function(){var e=new Yi.o8S(.5,1,64,1),t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}();break;case"Tube":this.object=function(){var e=new Yi.WXh(void 0,64,1,24,!0),t=new Yi.Wid;return t.userData.uuid=t.uuid,new Yi.Kj0(e,t)}()}this.object&&(Es.addObject(this.object),Es.selectObject(this.object))}},{key:"undo",value:function(){Es.removeObject(this.object)}},{key:"redo",value:function(){Es.addObject(this.object)}}]),n}(bo),Ch=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"execute",value:function(e){var t,n=e.split(".")[0],r=e.split(".")[1];switch(n){case"primitive":t=new wh(r);break;case"light":t=new bh(r)}t&&Ei.execute(t)}}]),e}(),Eh=function(){function e(t){(0,r.Z)(this,e),this._id=t}return(0,i.Z)(e,[{key:"renderButton",value:function(e,t,n){return(0,xe.jsx)("button",{className:e?"active":"",onClick:function(){return t&&t()},children:this.renderButtonIcon()},n)}},{key:"id",get:function(){return this._id}},{key:"renderContent",value:function(){return null}}]),e}(),Sh=n(835),Ih=["title","titleId"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mh.apply(this,arguments)}function _h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kh(t,n){var r=t.title,i=t.titleId,a=_h(t,Ih);return e.createElement("svg",Mh({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 122.88 122.25",style:{enableBackground:"new 0 0 122.88 122.25"},xmlSpace:"preserve",ref:n,"aria-labelledby":i},a),r?e.createElement("title",{id:i},r):null,dh||(dh=e.createElement("g",null,e.createElement("path",{d:"M122.57,29.25l0.31,62.88c0.01,3.28-2.05,6.1-5,7.29l0.01,0.01l-54.64,22.09c-0.99,0.4-2.05,0.6-3.12,0.6 c-0.11,0-0.22,0-0.33-0.01c-0.47,0.08-0.95,0.13-1.42,0.13c-1.06,0-2.11-0.21-3.08-0.62L4.94,100.46l0-0.01 C2.03,99.22-0.01,96.32,0,92.94l0.3-62.08c-0.04-0.66,0-1.33,0.12-1.99c0.02-0.95,0.22-1.88,0.58-2.76 c0.84-2.04,2.47-3.55,4.42-4.33l0-0.01L57.98,0.6c2.14-0.86,4.44-0.77,6.4,0.07l52.47,18.97c3.14,1.13,5.13,3.96,5.27,7.01 C122.41,27.49,122.57,28.37,122.57,29.25L122.57,29.25z M51.51,108.46l0.39-54.77L9.82,35.5L8.93,90.49L51.51,108.46L51.51,108.46 L51.51,108.46z M113.58,35.5L66.55,53.7l0.37,54.71l46.94-17.54L113.58,35.5L113.58,35.5L113.58,35.5z"}))))}var Bh=e.forwardRef(kh),Th=(n.p,n(803));function Rh(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var Dh=e.createContext();var Ph=Dh;function Lh(e,t){return parseInt(e[t],10)||0}var Qh="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,jh={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Nh=e.forwardRef((function(t,n){var r=t.onChange,i=t.rows,a=t.rowsMax,o=t.rowsMin,s=t.maxRows,l=t.minRows,u=void 0===l?1:l,h=t.style,d=t.value,f=(0,Nt.Z)(t,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),p=s||a,A=i||o||u,m=e.useRef(null!=d).current,v=e.useRef(null),g=(0,Zt.Z)(n,v),y=e.useRef(null),x=e.useRef(0),b=e.useState({}),w=b[0],C=b[1],E=e.useCallback((function(){var e=v.current,n=window.getComputedStyle(e),r=y.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=Lh(n,"padding-bottom")+Lh(n,"padding-top"),o=Lh(n,"border-bottom-width")+Lh(n,"border-top-width"),s=r.scrollHeight-a;r.value="x";var l=r.scrollHeight-a,u=s;A&&(u=Math.max(Number(A)*l,u)),p&&(u=Math.min(Number(p)*l,u));var c=(u=Math.max(u,l))+("border-box"===i?a+o:0),h=Math.abs(u-s)<=1;C((function(e){return x.current<20&&(c>0&&Math.abs((e.outerHeightStyle||0)-c)>1||e.overflow!==h)?(x.current+=1,{overflow:h,outerHeightStyle:c}):e}))}),[p,A,t.placeholder]);e.useEffect((function(){var e=(0,gn.Z)((function(){x.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),Qh((function(){E()})),e.useEffect((function(){x.current=0}),[d]);return e.createElement(e.Fragment,null,e.createElement("textarea",(0,c.Z)({value:d,onChange:function(e){x.current=0,m||E(),r&&r(e)},ref:g,rows:A,style:(0,c.Z)({height:w.outerHeightStyle,overflow:w.overflow?"hidden":null},h)},f)),e.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:y,tabIndex:-1,style:(0,c.Z)({},jh,h)}))})),Fh=Nh;function Uh(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Oh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Uh(e.value)&&""!==e.value||t&&Uh(e.defaultValue)&&""!==e.defaultValue)}var Zh="undefined"===typeof window?e.useEffect:e.useLayoutEffect,zh=e.forwardRef((function(t,n){var r=t["aria-describedby"],i=t.autoComplete,a=t.autoFocus,o=t.classes,s=t.className,l=(t.color,t.defaultValue),u=t.disabled,h=t.endAdornment,d=(t.error,t.fullWidth),f=void 0!==d&&d,p=t.id,A=t.inputComponent,m=void 0===A?"input":A,v=t.inputProps,g=void 0===v?{}:v,y=t.inputRef,x=(t.margin,t.multiline),b=void 0!==x&&x,w=t.name,C=t.onBlur,E=t.onChange,S=t.onClick,I=t.onFocus,M=t.onKeyDown,_=t.onKeyUp,k=t.placeholder,B=t.readOnly,T=t.renderSuffix,R=t.rows,D=t.rowsMax,P=t.rowsMin,L=t.maxRows,Q=t.minRows,j=t.startAdornment,N=t.type,F=void 0===N?"text":N,U=t.value,O=(0,Nt.Z)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),Z=null!=g.value?g.value:U,z=e.useRef(null!=Z).current,G=e.useRef(),H=e.useCallback((function(e){0}),[]),V=(0,Zt.Z)(g.ref,H),W=(0,Zt.Z)(y,V),q=(0,Zt.Z)(G,W),Y=e.useState(!1),X=Y[0],J=Y[1],K=e.useContext(Dh);var $=Rh({props:t,muiFormControl:K,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});$.focused=K?K.focused:X,e.useEffect((function(){!K&&u&&X&&(J(!1),C&&C())}),[K,u,X,C]);var ee=K&&K.onFilled,te=K&&K.onEmpty,ne=e.useCallback((function(e){Oh(e)?ee&&ee():te&&te()}),[ee,te]);Zh((function(){z&&ne({value:Z})}),[Z,ne,z]);e.useEffect((function(){ne(G.current)}),[]);var re=m,ie=(0,c.Z)({},g,{ref:q});"string"!==typeof re?ie=(0,c.Z)({inputRef:q,type:F},ie,{ref:null}):b?!R||L||Q||D||P?(ie=(0,c.Z)({minRows:R||Q,rowsMax:D,maxRows:L},ie),re=Fh):re="textarea":ie=(0,c.Z)({type:F},ie);return e.useEffect((function(){K&&K.setAdornedStart(Boolean(j))}),[K,j]),e.createElement("div",(0,c.Z)({className:(0,Ft.Z)(o.root,o["color".concat((0,on.Z)($.color||"primary"))],s,$.disabled&&o.disabled,$.error&&o.error,f&&o.fullWidth,$.focused&&o.focused,K&&o.formControl,b&&o.multiline,j&&o.adornedStart,h&&o.adornedEnd,"dense"===$.margin&&o.marginDense),onClick:function(e){G.current&&e.currentTarget===e.target&&G.current.focus(),S&&S(e)},ref:n},O),j,e.createElement(Ph.Provider,{value:null},e.createElement(re,(0,c.Z)({"aria-invalid":$.error,"aria-describedby":r,autoComplete:i,autoFocus:a,defaultValue:l,disabled:$.disabled,id:p,onAnimationStart:function(e){ne("mui-auto-fill-cancel"===e.animationName?G.current:{value:"x"})},name:w,placeholder:k,readOnly:B,required:$.required,rows:R,value:Z,onKeyDown:M,onKeyUp:_},ie,{className:(0,Ft.Z)(o.input,g.className,$.disabled&&o.disabled,b&&o.inputMultiline,$.hiddenLabel&&o.inputHiddenLabel,j&&o.inputAdornedStart,h&&o.inputAdornedEnd,"search"===F&&o.inputTypeSearch,"dense"===$.margin&&o.inputMarginDense),onBlur:function(e){C&&C(e),g.onBlur&&g.onBlur(e),K&&K.onBlur?K.onBlur(e):J(!1)},onChange:function(e){if(!z){var t=e.target||G.current;if(null==t)throw new Error((0,Th.Z)(1));ne({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];g.onChange&&g.onChange.apply(g,[e].concat(r)),E&&E.apply(void 0,[e].concat(r))},onFocus:function(e){$.disabled?e.stopPropagation():(I&&I(e),g.onFocus&&g.onFocus(e),K&&K.onFocus?K.onFocus(e):J(!0))}}))),h,T?T((0,c.Z)({},$,{startAdornment:j})):null)})),Gh=(0,Ut.Z)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,c.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(zh),Hh=e.forwardRef((function(t,n){var r=t.disableUnderline,i=t.classes,a=t.fullWidth,o=void 0!==a&&a,s=t.inputComponent,l=void 0===s?"input":s,u=t.multiline,h=void 0!==u&&u,d=t.type,f=void 0===d?"text":d,p=(0,Nt.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(Gh,(0,c.Z)({classes:(0,c.Z)({},i,{root:(0,Ft.Z)(i.root,!r&&i.underline),underline:null}),fullWidth:o,inputComponent:l,multiline:h,ref:n,type:f},p))}));Hh.muiName="Input";var Vh=(0,Ut.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(Hh),Wh=e.forwardRef((function(t,n){var r=t.disableUnderline,i=t.classes,a=t.fullWidth,o=void 0!==a&&a,s=t.inputComponent,l=void 0===s?"input":s,u=t.multiline,h=void 0!==u&&u,d=t.type,f=void 0===d?"text":d,p=(0,Nt.Z)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return e.createElement(Gh,(0,c.Z)({classes:(0,c.Z)({},i,{root:(0,Ft.Z)(i.root,!r&&i.underline),underline:null}),fullWidth:o,inputComponent:l,multiline:h,ref:n,type:f},p))}));Wh.muiName="Input";var qh=(0,Ut.Z)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(Wh),Yh=e.forwardRef((function(t,n){t.children;var r=t.classes,i=t.className,a=t.label,o=t.labelWidth,s=t.notched,l=t.style,u=(0,Nt.Z)(t,["children","classes","className","label","labelWidth","notched","style"]),h="rtl"===Jn().direction?"right":"left";if(void 0!==a)return e.createElement("fieldset",(0,c.Z)({"aria-hidden":!0,className:(0,Ft.Z)(r.root,i),ref:n,style:l},u),e.createElement("legend",{className:(0,Ft.Z)(r.legendLabelled,s&&r.legendNotched)},a?e.createElement("span",null,a):e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var d=o>0?.75*o+8:.01;return e.createElement("fieldset",(0,c.Z)({"aria-hidden":!0,style:(0,c.Z)((0,cn.Z)({},"padding".concat((0,on.Z)(h)),8),l),className:(0,Ft.Z)(r.root,i),ref:n},u),e.createElement("legend",{className:r.legend,style:{width:s?d:.01}},e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),Xh=(0,Ut.Z)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(Yh),Jh=e.forwardRef((function(t,n){var r=t.classes,i=t.fullWidth,a=void 0!==i&&i,o=t.inputComponent,s=void 0===o?"input":o,l=t.label,u=t.labelWidth,h=void 0===u?0:u,d=t.multiline,f=void 0!==d&&d,p=t.notched,A=t.type,m=void 0===A?"text":A,v=(0,Nt.Z)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return e.createElement(Gh,(0,c.Z)({renderSuffix:function(t){return e.createElement(Xh,{className:r.notchedOutline,label:l,labelWidth:h,notched:"undefined"!==typeof p?p:Boolean(t.startAdornment||t.filled||t.focused)})},classes:(0,c.Z)({},r,{root:(0,Ft.Z)(r.root,r.underline),notchedOutline:null}),fullWidth:a,inputComponent:s,multiline:f,ref:n,type:m},v))}));Jh.muiName="Input";var Kh=(0,Ut.Z)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(Jh);function $h(){return e.useContext(Ph)}var ed=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=(t.color,t.component),s=void 0===o?"label":o,l=(t.disabled,t.error,t.filled,t.focused,t.required,(0,Nt.Z)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),u=Rh({props:t,muiFormControl:$h(),states:["color","required","focused","disabled","error","filled"]});return e.createElement(s,(0,c.Z)({className:(0,Ft.Z)(i.root,i["color".concat((0,on.Z)(u.color||"primary"))],a,u.disabled&&i.disabled,u.error&&i.error,u.filled&&i.filled,u.focused&&i.focused,u.required&&i.required),ref:n},l),r,u.required&&e.createElement("span",{"aria-hidden":!0,className:(0,Ft.Z)(i.asterisk,u.error&&i.error)},"\u2009","*"))})),td=(0,Ut.Z)((function(e){return{root:(0,c.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(ed),nd=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.disableAnimation,o=void 0!==a&&a,s=(t.margin,t.shrink),l=(t.variant,(0,Nt.Z)(t,["classes","className","disableAnimation","margin","shrink","variant"])),u=$h(),h=s;"undefined"===typeof h&&u&&(h=u.filled||u.focused||u.adornedStart);var d=Rh({props:t,muiFormControl:u,states:["margin","variant"]});return e.createElement(td,(0,c.Z)({"data-shrink":h,className:(0,Ft.Z)(r.root,i,u&&r.formControl,!o&&r.animated,h&&r.shrink,"dense"===d.margin&&r.marginDense,{filled:r.filled,outlined:r.outlined}[d.variant]),classes:{focused:r.focused,disabled:r.disabled,error:r.error,required:r.required,asterisk:r.asterisk},ref:n},l))})),rd=(0,Ut.Z)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(nd),id=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.color,s=void 0===o?"primary":o,l=t.component,u=void 0===l?"div":l,h=t.disabled,d=void 0!==h&&h,f=t.error,p=void 0!==f&&f,A=t.fullWidth,m=void 0!==A&&A,v=t.focused,g=t.hiddenLabel,y=void 0!==g&&g,x=t.margin,b=void 0===x?"none":x,w=t.required,C=void 0!==w&&w,E=t.size,S=t.variant,I=void 0===S?"standard":S,M=(0,Nt.Z)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),_=e.useState((function(){var t=!1;return r&&e.Children.forEach(r,(function(e){if((0,hn.Z)(e,["Input","Select"])){var n=(0,hn.Z)(e,["Select"])?e.props.input:e;n&&n.props.startAdornment&&(t=!0)}})),t})),k=_[0],B=_[1],T=e.useState((function(){var t=!1;return r&&e.Children.forEach(r,(function(e){(0,hn.Z)(e,["Input","Select"])&&Oh(e.props,!0)&&(t=!0)})),t})),R=T[0],D=T[1],P=e.useState(!1),L=P[0],Q=P[1],j=void 0!==v?v:L;d&&j&&Q(!1);var N=e.useCallback((function(){D(!0)}),[]),F={adornedStart:k,setAdornedStart:B,color:s,disabled:d,error:p,filled:R,focused:j,fullWidth:m,hiddenLabel:y,margin:("small"===E?"dense":void 0)||b,onBlur:function(){Q(!1)},onEmpty:e.useCallback((function(){D(!1)}),[]),onFilled:N,onFocus:function(){Q(!0)},registerEffect:undefined,required:C,variant:I};return e.createElement(Ph.Provider,{value:F},e.createElement(u,(0,c.Z)({className:(0,Ft.Z)(i.root,a,"none"!==b&&i["margin".concat((0,on.Z)(b))],m&&i.fullWidth),ref:n},M),r))})),ad=(0,Ut.Z)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(id),od=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.component,s=void 0===o?"p":o,l=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,(0,Nt.Z)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),u=Rh({props:t,muiFormControl:$h(),states:["variant","margin","disabled","error","filled","focused","required"]});return e.createElement(s,(0,c.Z)({className:(0,Ft.Z)(i.root,("filled"===u.variant||"outlined"===u.variant)&&i.contained,a,u.disabled&&i.disabled,u.error&&i.error,u.filled&&i.filled,u.focused&&i.focused,u.required&&i.required,"dense"===u.margin&&i.marginDense),ref:n},l)," "===r?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):r)})),sd=(0,Ut.Z)((function(e){return{root:(0,c.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(od),ld=n(8427),ud=n(1002),cd=n(794);function hd(e,t){return"object"===(0,ud.Z)(t)&&null!==t?e===t:String(e)===String(t)}var dd=e.forwardRef((function(t,n){var r=t["aria-label"],i=t.autoFocus,a=t.autoWidth,o=t.children,s=t.classes,l=t.className,u=t.defaultValue,h=t.disabled,d=t.displayEmpty,f=t.IconComponent,p=t.inputRef,A=t.labelId,m=t.MenuProps,v=void 0===m?{}:m,g=t.multiple,y=t.name,x=t.onBlur,b=t.onChange,w=t.onClose,C=t.onFocus,E=t.onOpen,S=t.open,I=t.readOnly,M=t.renderValue,_=t.SelectDisplayProps,k=void 0===_?{}:_,B=t.tabIndex,T=(t.type,t.value),R=t.variant,D=void 0===R?"standard":R,P=(0,Nt.Z)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),L=(0,cd.Z)({controlled:T,default:u,name:"Select"}),Q=(0,Un.Z)(L,2),j=Q[0],N=Q[1],F=e.useRef(null),U=e.useState(null),O=U[0],Z=U[1],z=e.useRef(null!=S).current,G=e.useState(),H=G[0],V=G[1],W=e.useState(!1),q=W[0],Y=W[1],X=(0,Zt.Z)(n,p);e.useImperativeHandle(X,(function(){return{focus:function(){O.focus()},node:F.current,value:j}}),[O,j]),e.useEffect((function(){i&&O&&O.focus()}),[i,O]),e.useEffect((function(){if(O){var e=(0,yn.Z)(O).getElementById(A);if(e){var t=function(){getSelection().isCollapsed&&O.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[A,O]);var J,K,$=function(e,t){e?E&&E(t):w&&w(t),z||(V(a?null:O.clientWidth),Y(e))},ee=e.Children.toArray(o),te=function(e){return function(t){var n;if(g||$(!1,t),g){n=Array.isArray(j)?j.slice():[];var r=j.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),j!==n&&(N(n),b&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:y}}),b(t,e)))}},ne=null!==O&&(z?S:q);delete P["aria-invalid"];var re=[],ie=!1;(Oh({value:j})||d)&&(M?J=M(j):ie=!0);var ae=ee.map((function(t){if(!e.isValidElement(t))return null;var n;if(g){if(!Array.isArray(j))throw new Error((0,Th.Z)(2));n=j.some((function(e){return hd(e,t.props.value)})),n&&ie&&re.push(t.props.children)}else(n=hd(j,t.props.value))&&ie&&(K=t.props.children);return n&&!0,e.cloneElement(t,{"aria-selected":n?"true":void 0,onClick:te(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:n,value:void 0,"data-value":t.props.value})}));ie&&(J=g?re.join(", "):K);var oe,se=H;!a&&z&&O&&(se=O.clientWidth),oe="undefined"!==typeof B?B:h?null:0;var le=k.id||(y?"mui-component-select-".concat(y):void 0);return e.createElement(e.Fragment,null,e.createElement("div",(0,c.Z)({className:(0,Ft.Z)(s.root,s.select,s.selectMenu,s[D],l,h&&s.disabled),ref:Z,tabIndex:oe,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":ne?"true":void 0,"aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[A,le].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!I){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),$(!0,e))}},onMouseDown:h||I?null:function(e){0===e.button&&(e.preventDefault(),O.focus(),$(!0,e))},onBlur:function(e){!ne&&x&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:j,name:y}}),x(e))},onFocus:C},k,{id:le}),function(e){return null==e||"string"===typeof e&&!e.trim()}(J)?e.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):J),e.createElement("input",(0,c.Z)({value:Array.isArray(j)?j.join(","):j,name:y,ref:F,"aria-hidden":!0,onChange:function(e){var t=ee.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ee[t];N(n.props.value),b&&b(e,n)}},tabIndex:-1,className:s.nativeInput,autoFocus:i},P)),e.createElement(f,{className:(0,Ft.Z)(s.icon,s["icon".concat((0,on.Z)(D))],ne&&s.iconOpen,h&&s.disabled)}),e.createElement(Er,(0,c.Z)({id:"menu-".concat(y||""),anchorEl:O,open:ne,onClose:function(e){$(!1,e)}},v,{MenuListProps:(0,c.Z)({"aria-labelledby":A,role:"listbox",disableListWrap:!0},v.MenuListProps),PaperProps:(0,c.Z)({},v.PaperProps,{style:(0,c.Z)({minWidth:se},null!=v.PaperProps?v.PaperProps.style:null)})}),ae))})),fd=dd,pd=(0,jr.Z)(e.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ad=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=t.disabled,o=t.IconComponent,s=t.inputRef,l=t.variant,u=void 0===l?"standard":l,h=(0,Nt.Z)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return e.createElement(e.Fragment,null,e.createElement("select",(0,c.Z)({className:(0,Ft.Z)(r.root,r.select,r[u],i,a&&r.disabled),disabled:a,ref:s||n},h)),t.multiple?null:e.createElement(o,{className:(0,Ft.Z)(r.icon,r["icon".concat((0,on.Z)(u))],a&&r.disabled)}))})),md=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},vd=e.createElement(Vh,null),gd=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.IconComponent,o=void 0===a?pd:a,s=t.input,l=void 0===s?vd:s,u=t.inputProps,h=(t.variant,(0,Nt.Z)(t,["children","classes","IconComponent","input","inputProps","variant"])),d=Rh({props:t,muiFormControl:$h(),states:["variant"]});return e.cloneElement(l,(0,c.Z)({inputComponent:Ad,inputProps:(0,c.Z)({children:r,classes:i,IconComponent:o,variant:d.variant,type:void 0},u,l?l.props.inputProps:{}),ref:n},h))}));gd.muiName="Select";(0,Ut.Z)(md,{name:"MuiNativeSelect"})(gd);var yd=md,xd=e.createElement(Vh,null),bd=e.createElement(qh,null),wd=e.forwardRef((function t(n,r){var i=n.autoWidth,a=void 0!==i&&i,o=n.children,s=n.classes,l=n.displayEmpty,u=void 0!==l&&l,h=n.IconComponent,d=void 0===h?pd:h,f=n.id,p=n.input,A=n.inputProps,m=n.label,v=n.labelId,g=n.labelWidth,y=void 0===g?0:g,x=n.MenuProps,b=n.multiple,w=void 0!==b&&b,C=n.native,E=void 0!==C&&C,S=n.onClose,I=n.onOpen,M=n.open,_=n.renderValue,k=n.SelectDisplayProps,B=n.variant,T=void 0===B?"standard":B,R=(0,Nt.Z)(n,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),D=E?Ad:fd,P=Rh({props:n,muiFormControl:$h(),states:["variant"]}).variant||T,L=p||{standard:xd,outlined:e.createElement(Kh,{label:m,labelWidth:y}),filled:bd}[P];return e.cloneElement(L,(0,c.Z)({inputComponent:D,inputProps:(0,c.Z)({children:o,IconComponent:d,variant:P,type:void 0,multiple:w},E?{id:f}:{autoWidth:a,displayEmpty:u,labelId:v,MenuProps:x,onClose:S,onOpen:I,open:M,renderValue:_,SelectDisplayProps:(0,c.Z)({id:f},k)},A,{classes:A?(0,ld.Z)({baseClasses:s,newClasses:A.classes,Component:t}):s},p?p.props.inputProps:{}),ref:r},R))}));wd.muiName="Select";var Cd=(0,Ut.Z)(yd,{name:"MuiSelect"})(wd),Ed={standard:Vh,filled:qh,outlined:Kh},Sd=e.forwardRef((function(t,n){var r=t.autoComplete,i=t.autoFocus,a=void 0!==i&&i,o=t.children,s=t.classes,l=t.className,u=t.color,h=void 0===u?"primary":u,d=t.defaultValue,f=t.disabled,p=void 0!==f&&f,A=t.error,m=void 0!==A&&A,v=t.FormHelperTextProps,g=t.fullWidth,y=void 0!==g&&g,x=t.helperText,b=t.hiddenLabel,w=t.id,C=t.InputLabelProps,E=t.inputProps,S=t.InputProps,I=t.inputRef,M=t.label,_=t.multiline,k=void 0!==_&&_,B=t.name,T=t.onBlur,R=t.onChange,D=t.onFocus,P=t.placeholder,L=t.required,Q=void 0!==L&&L,j=t.rows,N=t.rowsMax,F=t.maxRows,U=t.minRows,O=t.select,Z=void 0!==O&&O,z=t.SelectProps,G=t.type,H=t.value,V=t.variant,W=void 0===V?"standard":V,q=(0,Nt.Z)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var Y={};if("outlined"===W&&(C&&"undefined"!==typeof C.shrink&&(Y.notched=C.shrink),M)){var X,J=null!==(X=null===C||void 0===C?void 0:C.required)&&void 0!==X?X:Q;Y.label=e.createElement(e.Fragment,null,M,J&&"\xa0*")}Z&&(z&&z.native||(Y.id=void 0),Y["aria-describedby"]=void 0);var K=x&&w?"".concat(w,"-helper-text"):void 0,$=M&&w?"".concat(w,"-label"):void 0,ee=Ed[W],te=e.createElement(ee,(0,c.Z)({"aria-describedby":K,autoComplete:r,autoFocus:a,defaultValue:d,fullWidth:y,multiline:k,name:B,rows:j,rowsMax:N,maxRows:F,minRows:U,type:G,value:H,id:w,inputRef:I,onBlur:T,onChange:R,onFocus:D,placeholder:P,inputProps:E},Y,S));return e.createElement(ad,(0,c.Z)({className:(0,Ft.Z)(s.root,l),disabled:p,error:m,fullWidth:y,hiddenLabel:b,ref:n,required:Q,color:h,variant:W},q),M&&e.createElement(rd,(0,c.Z)({htmlFor:w,id:$},C),M),Z?e.createElement(Cd,(0,c.Z)({"aria-describedby":K,id:w,labelId:$,value:H,input:te},z),o):te,x&&e.createElement(sd,(0,c.Z)({id:K},v),x))})),Id=(0,Ut.Z)({root:{}},{name:"MuiTextField"})(Sd),Md=n(8272),_d="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,kd=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(_d&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var Bd=_d&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),kd))}};function Td(e){return e&&"[object Function]"==={}.toString.call(e)}function Rd(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function Dd(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Pd(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Rd(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:Pd(Dd(e))}function Ld(e){return e&&e.referenceNode?e.referenceNode:e}var Qd=_d&&!(!window.MSInputMethodContext||!document.documentMode),jd=_d&&/MSIE 10/.test(navigator.userAgent);function Nd(e){return 11===e?Qd:10===e?jd:Qd||jd}function Fd(e){if(!e)return document.documentElement;for(var t=Nd(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Rd(n,"position")?Fd(n):n:e?e.ownerDocument.documentElement:document.documentElement}function Ud(e){return null!==e.parentNode?Ud(e.parentNode):e}function Od(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||Fd(e.firstElementChild)===e)}(o)?o:Fd(o);var s=Ud(e);return s.host?Od(s.host,t):Od(e,Ud(t).host)}function Zd(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function zd(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function Gd(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Nd(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function Hd(e){var t=e.body,n=e.documentElement,r=Nd(10)&&getComputedStyle(n);return{height:Gd("Height",t,n,r),width:Gd("Width",t,n,r)}}var Vd=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Wd=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Yd(e){return qd({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Xd(e){var t={};try{if(Nd(10)){t=e.getBoundingClientRect();var n=Zd(e,"top"),r=Zd(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(Nm){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?Hd(e.ownerDocument):{},o=a.width||e.clientWidth||i.width,s=a.height||e.clientHeight||i.height,l=e.offsetWidth-o,u=e.offsetHeight-s;if(l||u){var c=Rd(e);l-=zd(c,"x"),u-=zd(c,"y"),i.width-=l,i.height-=u}return Yd(i)}function Jd(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Nd(10),i="HTML"===t.nodeName,a=Xd(e),o=Xd(t),s=Pd(e),l=Rd(t),u=parseFloat(l.borderTopWidth),c=parseFloat(l.borderLeftWidth);n&&i&&(o.top=Math.max(o.top,0),o.left=Math.max(o.left,0));var h=Yd({top:a.top-o.top-u,left:a.left-o.left-c,width:a.width,height:a.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var d=parseFloat(l.marginTop),f=parseFloat(l.marginLeft);h.top-=u-d,h.bottom-=u-d,h.left-=c-f,h.right-=c-f,h.marginTop=d,h.marginLeft=f}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Zd(t,"top"),i=Zd(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}(h,t)),h}function Kd(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===Rd(e,"position"))return!0;var n=Dd(e);return!!n&&Kd(n)}function $d(e){if(!e||!e.parentElement||Nd())return document.documentElement;for(var t=e.parentElement;t&&"none"===Rd(t,"transform");)t=t.parentElement;return t||document.documentElement}function ef(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?$d(e):Od(e,Ld(t));if("viewport"===r)a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=Jd(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:Zd(n),s=t?0:Zd(n,"left");return Yd({top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a})}(o,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=Pd(Dd(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=Jd(s,o,i);if("HTML"!==s.nodeName||Kd(o))a=l;else{var u=Hd(e.ownerDocument),c=u.height,h=u.width;a.top+=l.top-l.marginTop,a.bottom=c+l.top,a.left+=l.left-l.marginLeft,a.right=h+l.left}}var d="number"===typeof(n=n||0);return a.left+=d?n:n.left||0,a.top+=d?n:n.top||0,a.right-=d?n:n.right||0,a.bottom-=d?n:n.bottom||0,a}function tf(e){return e.width*e.height}function nf(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=ef(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map((function(e){return qd({key:e},s[e],{area:tf(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,h=e.split("-")[1];return c+(h?"-"+h:"")}function rf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Jd(n,r?$d(t):Od(t,Ld(n)),r)}function af(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function of(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function sf(e,t,n){n=n.split("-")[0];var r=af(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",u=a?"width":"height";return i[o]=t[o]+t[l]/2-r[l]/2,i[s]=n===s?t[s]-r[u]:t[of(s)],i}function lf(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function uf(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=lf(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&Td(n)&&(t.offsets.popper=Yd(t.offsets.popper),t.offsets.reference=Yd(t.offsets.reference),t=n(t,e))})),t}function cf(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=rf(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=nf(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=sf(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=uf(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function hf(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function df(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function ff(){return this.state.isDestroyed=!0,hf(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[df("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function pf(e){var t=e.ownerDocument;return t?t.defaultView:window}function Af(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||Af(Pd(a.parentNode),t,n,r),r.push(a)}function mf(e,t,n,r){n.updateBound=r,pf(e).addEventListener("resize",n.updateBound,{passive:!0});var i=Pd(e);return Af(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function vf(){this.state.eventsEnabled||(this.state=mf(this.reference,this.options,this.state,this.scheduleUpdate))}function gf(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,pf(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function yf(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function xf(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&yf(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var bf=_d&&/Firefox/i.test(navigator.userAgent);function wf(e,t,n){var r=lf(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var Cf=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ef=Cf.slice(3);function Sf(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ef.indexOf(e),r=Ef.slice(n+1).concat(Ef.slice(0,n));return t?r.reverse():r}var If="flip",Mf="clockwise",_f="counterclockwise";function kf(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(lf(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return u=u.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){return Yd("%p"===o?n:r)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))})),u.forEach((function(e,t){e.forEach((function(n,r){yf(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var Bf={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:Wd({},l,a[l]),end:Wd({},l,a[l]+a[u]-o[u])};e.offsets.popper=qd({},o,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],l=void 0;return l=yf(+n)?[+n,0]:kf(n,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||Fd(e.instance.popper);e.instance.reference===n&&(n=Fd(n));var r=df("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var l=ef(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,h={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),Wd({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),Wd({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=qd({},c,h[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return n[s]<a(r[l])&&(e.offsets.popper[l]=a(r[l])-n[u]),n[l]>a(r[s])&&(e.offsets.popper[l]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!wf(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,o=a.popper,s=a.reference,l=-1!==["left","right"].indexOf(i),u=l?"height":"width",c=l?"Top":"Left",h=c.toLowerCase(),d=l?"left":"top",f=l?"bottom":"right",p=af(r)[u];s[f]-p<o[h]&&(e.offsets.popper[h]-=o[h]-(s[f]-p)),s[h]+p>o[f]&&(e.offsets.popper[h]+=s[h]+p-o[f]),e.offsets.popper=Yd(e.offsets.popper);var A=s[h]+s[u]/2-p/2,m=Rd(e.instance.popper),v=parseFloat(m["margin"+c]),g=parseFloat(m["border"+c+"Width"]),y=A-e.offsets.popper[h]-v-g;return y=Math.max(Math.min(o[u]-p,y),0),e.arrowElement=r,e.offsets.arrow=(Wd(n={},h,Math.round(y)),Wd(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(hf(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=ef(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=of(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case If:o=[r,i];break;case Mf:o=Sf(r);break;case _f:o=Sf(r,!0);break;default:o=t.behavior}return o.forEach((function(s,l){if(r!==s||o.length===l+1)return e;r=e.placement.split("-")[0],i=of(r);var u=e.offsets.popper,c=e.offsets.reference,h=Math.floor,d="left"===r&&h(u.right)>h(c.left)||"right"===r&&h(u.left)<h(c.right)||"top"===r&&h(u.bottom)>h(c.top)||"bottom"===r&&h(u.top)<h(c.bottom),f=h(u.left)<h(n.left),p=h(u.right)>h(n.right),A=h(u.top)<h(n.top),m=h(u.bottom)>h(n.bottom),v="left"===r&&f||"right"===r&&p||"top"===r&&A||"bottom"===r&&m,g=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(g&&"start"===a&&f||g&&"end"===a&&p||!g&&"start"===a&&A||!g&&"end"===a&&m),x=!!t.flipVariationsByContent&&(g&&"start"===a&&p||g&&"end"===a&&f||!g&&"start"===a&&m||!g&&"end"===a&&A),b=y||x;(d||v||b)&&(e.flipped=!0,(d||v)&&(r=o[l+1]),b&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=qd({},e.offsets.popper,sf(e.instance.popper,e.offsets.reference,e.placement)),e=uf(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=of(t),e.offsets.popper=Yd(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!wf(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=lf(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=lf(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=Fd(e.instance.popper),l=Xd(s),u={position:i.position},c=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},l=a(i.width),u=a(r.width),c=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),d=t?c||h||l%2===u%2?a:o:s,f=t?a:s;return{left:d(l%2===1&&u%2===1&&!h&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!bf),h="bottom"===n?"top":"bottom",d="right"===r?"left":"right",f=df("transform"),p=void 0,A=void 0;if(A="bottom"===h?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,p="right"===d?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,o&&f)u[f]="translate3d("+p+"px, "+A+"px, 0)",u[h]=0,u[d]=0,u.willChange="transform";else{var m="bottom"===h?-1:1,v="right"===d?-1:1;u[h]=A*m,u[d]=p*v,u.willChange=h+", "+d}var g={"x-placement":e.placement};return e.attributes=qd({},g,e.attributes),e.styles=qd({},u,e.styles),e.arrowStyles=qd({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return xf(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&xf(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=rf(i,t,e,n.positionFixed),o=nf(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),xf(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Tf={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Bf},Rf=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=Bd(this.update.bind(this)),this.options=qd({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(qd({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=qd({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return qd({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&Td(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return Vd(e,[{key:"update",value:function(){return cf.call(this)}},{key:"destroy",value:function(){return ff.call(this)}},{key:"enableEventListeners",value:function(){return vf.call(this)}},{key:"disableEventListeners",value:function(){return gf.call(this)}}]),e}();Rf.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,Rf.placements=Cf,Rf.Defaults=Tf;var Df=Rf;function Pf(e){return"function"===typeof e?e():e}var Lf="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,Qf={},jf=e.forwardRef((function(t,n){var r=t.anchorEl,i=t.children,a=t.container,o=t.disablePortal,s=void 0!==o&&o,l=t.keepMounted,u=void 0!==l&&l,h=t.modifiers,d=t.open,f=t.placement,p=void 0===f?"bottom":f,A=t.popperOptions,m=void 0===A?Qf:A,v=t.popperRef,g=t.style,y=t.transition,x=void 0!==y&&y,b=(0,Nt.Z)(t,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),w=e.useRef(null),C=(0,Zt.Z)(w,n),E=e.useRef(null),S=(0,Zt.Z)(E,v),I=e.useRef(S);Lf((function(){I.current=S}),[S]),e.useImperativeHandle(v,(function(){return E.current}),[]);var M=e.useState(!0),_=M[0],k=M[1],B=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,(0,Ce.Z)()),T=e.useState(B),R=T[0],D=T[1];e.useEffect((function(){E.current&&E.current.update()}));var P=e.useCallback((function(){if(w.current&&r&&d){E.current&&(E.current.destroy(),I.current(null));var e=function(e){D(e.placement)},t=(Pf(r),new Df(Pf(r),w.current,(0,c.Z)({placement:B},m,{modifiers:(0,c.Z)({},s?{}:{preventOverflow:{boundariesElement:"window"}},h,m.modifiers),onCreate:(0,bn.Z)(e,m.onCreate),onUpdate:(0,bn.Z)(e,m.onUpdate)})));I.current(t)}}),[r,s,h,d,B,m]),L=e.useCallback((function(e){(0,Cn.Z)(C,e),P()}),[C,P]),Q=function(){E.current&&(E.current.destroy(),I.current(null))};if(e.useEffect((function(){return function(){Q()}}),[]),e.useEffect((function(){d||x||Q()}),[d,x]),!u&&!d&&(!x||_))return null;var j={placement:R};return x&&(j.TransitionProps={in:d,onEnter:function(){k(!1)},onExited:function(){k(!0),Q()}}),e.createElement(Sn,{disablePortal:s,container:a},e.createElement("div",(0,c.Z)({ref:L,role:"tooltip"},b,{style:(0,c.Z)({position:"fixed",top:0,left:0,display:d||!u||x?null:"none"},g)}),"function"===typeof i?i(j):i))})),Nf=jf,Ff=n(2531);function Uf(e){return Math.round(1e5*e)/1e5}var Of=!1,Zf=null;var zf=e.forwardRef((function(n,r){var i=n.arrow,a=void 0!==i&&i,o=n.children,s=n.classes,l=n.disableFocusListener,u=void 0!==l&&l,h=n.disableHoverListener,d=void 0!==h&&h,f=n.disableTouchListener,p=void 0!==f&&f,A=n.enterDelay,m=void 0===A?100:A,v=n.enterNextDelay,g=void 0===v?0:v,y=n.enterTouchDelay,x=void 0===y?700:y,b=n.id,w=n.interactive,C=void 0!==w&&w,E=n.leaveDelay,S=void 0===E?0:E,I=n.leaveTouchDelay,M=void 0===I?1500:I,_=n.onClose,k=n.onOpen,B=n.open,T=n.placement,R=void 0===T?"bottom":T,D=n.PopperComponent,P=void 0===D?Nf:D,L=n.PopperProps,Q=n.title,j=n.TransitionComponent,N=void 0===j?rr:j,F=n.TransitionProps,U=(0,Nt.Z)(n,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),O=Jn(),Z=e.useState(),z=Z[0],G=Z[1],H=e.useState(null),V=H[0],W=H[1],q=e.useRef(!1),Y=e.useRef(),X=e.useRef(),J=e.useRef(),K=e.useRef(),$=(0,cd.Z)({controlled:B,default:!1,name:"Tooltip",state:"open"}),ee=(0,Un.Z)($,2),te=ee[0],ne=ee[1],re=te,ie=(0,Ff.Z)(b);e.useEffect((function(){return function(){clearTimeout(Y.current),clearTimeout(X.current),clearTimeout(J.current),clearTimeout(K.current)}}),[]);var ae=function(e){clearTimeout(Zf),Of=!0,ne(!0),k&&k(e)},oe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=o.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),q.current&&"touchstart"!==t.type||(z&&z.removeAttribute("title"),clearTimeout(X.current),clearTimeout(J.current),m||Of&&g?(t.persist(),X.current=setTimeout((function(){ae(t)}),Of?g:m)):ae(t))}},se=(0,Gt.Z)(),le=se.isFocusVisible,ue=se.onBlurVisible,ce=se.ref,he=e.useState(!1),de=he[0],fe=he[1],pe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){z||G(t.currentTarget),le(t)&&(fe(!0),oe()(t));var n=o.props;n.onFocus&&e&&n.onFocus(t)}},Ae=function(e){clearTimeout(Zf),Zf=setTimeout((function(){Of=!1}),800+S),ne(!1),_&&_(e),clearTimeout(Y.current),Y.current=setTimeout((function(){q.current=!1}),O.transitions.duration.shortest)},me=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=o.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),de&&(fe(!1),ue())),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===z&&n.onMouseLeave(t),clearTimeout(X.current),clearTimeout(J.current),t.persist(),J.current=setTimeout((function(){Ae(t)}),S)}},ve=function(e){q.current=!0;var t=o.props;t.onTouchStart&&t.onTouchStart(e)},ge=(0,Zt.Z)(G,r),ye=(0,Zt.Z)(ce,ge),xe=e.useCallback((function(e){(0,Cn.Z)(ye,t.findDOMNode(e))}),[ye]),be=(0,Zt.Z)(o.ref,xe);""===Q&&(re=!1);var we=!re&&!d,Ce=(0,c.Z)({"aria-describedby":re?ie:null,title:we&&"string"===typeof Q?Q:null},U,o.props,{className:(0,Ft.Z)(U.className,o.props.className),onTouchStart:ve,ref:be}),Ee={};p||(Ce.onTouchStart=function(e){ve(e),clearTimeout(J.current),clearTimeout(Y.current),clearTimeout(K.current),e.persist(),K.current=setTimeout((function(){oe()(e)}),x)},Ce.onTouchEnd=function(e){o.props.onTouchEnd&&o.props.onTouchEnd(e),clearTimeout(K.current),clearTimeout(J.current),e.persist(),J.current=setTimeout((function(){Ae(e)}),M)}),d||(Ce.onMouseOver=oe(),Ce.onMouseLeave=me(),C&&(Ee.onMouseOver=oe(!1),Ee.onMouseLeave=me(!1))),u||(Ce.onFocus=pe(),Ce.onBlur=me(),C&&(Ee.onFocus=pe(!1),Ee.onBlur=me(!1)));var Se=e.useMemo((function(){return(0,Md.Z)({popperOptions:{modifiers:{arrow:{enabled:Boolean(V),element:V}}}},L)}),[V,L]);return e.createElement(e.Fragment,null,e.cloneElement(o,Ce),e.createElement(P,(0,c.Z)({className:(0,Ft.Z)(s.popper,C&&s.popperInteractive,a&&s.popperArrow),placement:R,anchorEl:z,open:!!z&&re,id:Ce["aria-describedby"],transition:!0},Ee,Se),(function(t){var n=t.placement,r=t.TransitionProps;return e.createElement(N,(0,c.Z)({timeout:O.transitions.duration.shorter},r,F),e.createElement("div",{className:(0,Ft.Z)(s.tooltip,s["tooltipPlacement".concat((0,on.Z)(n.split("-")[0]))],q.current&&s.touch,a&&s.tooltipArrow)},Q,a?e.createElement("span",{className:s.arrow,ref:W}):null))})))})),Gf=(0,Ut.Z)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,Ot.Fq)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(Uf(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,Ot.Fq)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(Uf(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,cn.Z)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,cn.Z)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,cn.Z)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,cn.Z)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(zf);var Hf=(0,Ut.Z)((function(e){return{thumb:{"&$open":{"& $offset":{transform:"scale(1) translateY(-10px)"}}},open:{},offset:(0,c.Z)({zIndex:1},e.typography.body2,{fontSize:e.typography.pxToRem(12),lineHeight:1.2,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),top:-34,transformOrigin:"bottom center",transform:"scale(0)",position:"absolute"}),circle:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"currentColor",transform:"rotate(-45deg)"},label:{color:e.palette.primary.contrastText,transform:"rotate(45deg)"}}}),{name:"PrivateValueLabel"})((function(t){var n=t.children,r=t.classes,i=t.className,a=t.open,o=t.value,s=t.valueLabelDisplay;return"off"===s?n:e.cloneElement(n,{className:(0,Ft.Z)(n.props.className,(a||"on"===s)&&r.open,r.thumb)},e.createElement("span",{className:(0,Ft.Z)(r.offset,i)},e.createElement("span",{className:r.circle},e.createElement("span",{className:r.label},o))))}));function Vf(e,t){return e-t}function Wf(e,t,n){return Math.min(Math.max(t,e),n)}function qf(e,t){return e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null).index}function Yf(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=0;n<e.changedTouches.length;n+=1){var r=e.changedTouches[n];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Xf(e,t,n){return 100*(e-t)/(n-t)}function Jf(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function Kf(e){var t=e.values,n=e.source,r=e.newValue,i=e.index;if(t[i]===r)return n;var a=t.slice();return a[i]=r,a}function $f(e){var t=e.sliderRef,n=e.activeIndex,r=e.setActive;t.current.contains(document.activeElement)&&Number(document.activeElement.getAttribute("data-index"))===n||t.current.querySelector('[role="slider"][data-index="'.concat(n,'"]')).focus(),r&&r(n)}var ep={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},tp=function(e){return e},np=e.forwardRef((function(t,n){var r=t["aria-label"],i=t["aria-labelledby"],a=t["aria-valuetext"],o=t.classes,s=t.className,l=t.color,u=void 0===l?"primary":l,h=t.component,d=void 0===h?"span":h,f=t.defaultValue,p=t.disabled,A=void 0!==p&&p,m=t.getAriaLabel,v=t.getAriaValueText,g=t.marks,y=void 0!==g&&g,x=t.max,b=void 0===x?100:x,w=t.min,C=void 0===w?0:w,E=t.name,S=t.onChange,I=t.onChangeCommitted,M=t.onMouseDown,_=t.orientation,k=void 0===_?"horizontal":_,B=t.scale,T=void 0===B?tp:B,R=t.step,D=void 0===R?1:R,P=t.ThumbComponent,L=void 0===P?"span":P,Q=t.track,j=void 0===Q?"normal":Q,N=t.value,F=t.ValueLabelComponent,U=void 0===F?Hf:F,O=t.valueLabelDisplay,Z=void 0===O?"off":O,z=t.valueLabelFormat,G=void 0===z?tp:z,H=(0,Nt.Z)(t,["aria-label","aria-labelledby","aria-valuetext","classes","className","color","component","defaultValue","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","ThumbComponent","track","value","ValueLabelComponent","valueLabelDisplay","valueLabelFormat"]),V=Jn(),W=e.useRef(),q=e.useState(-1),Y=q[0],X=q[1],J=e.useState(-1),K=J[0],$=J[1],ee=(0,cd.Z)({controlled:N,default:f,name:"Slider"}),te=(0,Un.Z)(ee,2),ne=te[0],re=te[1],ie=Array.isArray(ne),ae=ie?ne.slice().sort(Vf):[ne];ae=ae.map((function(e){return Wf(e,C,b)}));var oe=!0===y&&null!==D?(0,Ht.Z)(Array(Math.floor((b-C)/D)+1)).map((function(e,t){return{value:C+D*t}})):y||[],se=(0,Gt.Z)(),le=se.isFocusVisible,ue=se.onBlurVisible,ce=se.ref,he=e.useState(-1),de=he[0],fe=he[1],pe=e.useRef(),Ae=(0,Zt.Z)(ce,pe),me=(0,Zt.Z)(n,Ae),ve=(0,zt.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));le(e)&&fe(t),$(t)})),ge=(0,zt.Z)((function(){-1!==de&&(fe(-1),ue()),$(-1)})),ye=(0,zt.Z)((function(e){var t=Number(e.currentTarget.getAttribute("data-index"));$(t)})),xe=(0,zt.Z)((function(){$(-1)})),be="rtl"===V.direction,we=(0,zt.Z)((function(e){var t,n=Number(e.currentTarget.getAttribute("data-index")),r=ae[n],i=(b-C)/10,a=oe.map((function(e){return e.value})),o=a.indexOf(r),s=be?"ArrowLeft":"ArrowRight",l=be?"ArrowRight":"ArrowLeft";switch(e.key){case"Home":t=C;break;case"End":t=b;break;case"PageUp":D&&(t=r+i);break;case"PageDown":D&&(t=r-i);break;case s:case"ArrowUp":t=D?r+D:a[o+1]||a[a.length-1];break;case l:case"ArrowDown":t=D?r-D:a[o-1]||a[0];break;default:return}if(e.preventDefault(),D&&(t=Jf(t,D,C)),t=Wf(t,C,b),ie){var u=t;t=Kf({values:ae,source:ne,newValue:t,index:n}).sort(Vf),$f({sliderRef:pe,activeIndex:t.indexOf(u)})}re(t),fe(n),S&&S(e,t),I&&I(e,t)})),Ce=e.useRef(),Ee=k;be&&"vertical"!==k&&(Ee+="-reverse");var Se=function(e){var t,n,r=e.finger,i=e.move,a=void 0!==i&&i,o=e.values,s=e.source,l=pe.current.getBoundingClientRect(),u=l.width,c=l.height,h=l.bottom,d=l.left;if(t=0===Ee.indexOf("vertical")?(h-r.y)/c:(r.x-d)/u,-1!==Ee.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,C,b),D)n=Jf(n,D,C);else{var f=oe.map((function(e){return e.value}));n=f[qf(f,n)]}n=Wf(n,C,b);var p=0;if(ie){var A=n;p=(n=Kf({values:o,source:s,newValue:n,index:p=a?Ce.current:qf(o,n)}).sort(Vf)).indexOf(A),Ce.current=p}return{newValue:n,activeIndex:p}},Ie=(0,zt.Z)((function(e){var t=Yf(e,W);if(t){var n=Se({finger:t,move:!0,values:ae,source:ne}),r=n.newValue,i=n.activeIndex;$f({sliderRef:pe,activeIndex:i,setActive:X}),re(r),S&&S(e,r)}})),Me=(0,zt.Z)((function(e){var t=Yf(e,W);if(t){var n=Se({finger:t,values:ae,source:ne}).newValue;X(-1),"touchend"===e.type&&$(-1),I&&I(e,n),W.current=void 0;var r=(0,yn.Z)(pe.current);r.removeEventListener("mousemove",Ie),r.removeEventListener("mouseup",Me),r.removeEventListener("touchmove",Ie),r.removeEventListener("touchend",Me)}})),_e=(0,zt.Z)((function(e){e.preventDefault();var t=e.changedTouches[0];null!=t&&(W.current=t.identifier);var n=Yf(e,W),r=Se({finger:n,values:ae,source:ne}),i=r.newValue,a=r.activeIndex;$f({sliderRef:pe,activeIndex:a,setActive:X}),re(i),S&&S(e,i);var o=(0,yn.Z)(pe.current);o.addEventListener("touchmove",Ie),o.addEventListener("touchend",Me)}));e.useEffect((function(){var e=pe.current;e.addEventListener("touchstart",_e);var t=(0,yn.Z)(e);return function(){e.removeEventListener("touchstart",_e),t.removeEventListener("mousemove",Ie),t.removeEventListener("mouseup",Me),t.removeEventListener("touchmove",Ie),t.removeEventListener("touchend",Me)}}),[Me,Ie,_e]);var ke=(0,zt.Z)((function(e){M&&M(e),e.preventDefault();var t=Yf(e,W),n=Se({finger:t,values:ae,source:ne}),r=n.newValue,i=n.activeIndex;$f({sliderRef:pe,activeIndex:i,setActive:X}),re(r),S&&S(e,r);var a=(0,yn.Z)(pe.current);a.addEventListener("mousemove",Ie),a.addEventListener("mouseup",Me)})),Be=Xf(ie?ae[0]:C,C,b),Te=Xf(ae[ae.length-1],C,b)-Be,Re=(0,c.Z)({},ep[Ee].offset(Be),ep[Ee].leap(Te));return e.createElement(d,(0,c.Z)({ref:me,className:(0,Ft.Z)(o.root,o["color".concat((0,on.Z)(u))],s,A&&o.disabled,oe.length>0&&oe.some((function(e){return e.label}))&&o.marked,!1===j&&o.trackFalse,"vertical"===k&&o.vertical,"inverted"===j&&o.trackInverted),onMouseDown:ke},H),e.createElement("span",{className:o.rail}),e.createElement("span",{className:o.track,style:Re}),e.createElement("input",{value:ae.join(","),name:E,type:"hidden"}),oe.map((function(t,n){var r,i=Xf(t.value,C,b),a=ep[Ee].offset(i);return r=!1===j?-1!==ae.indexOf(t.value):"normal"===j&&(ie?t.value>=ae[0]&&t.value<=ae[ae.length-1]:t.value<=ae[0])||"inverted"===j&&(ie?t.value<=ae[0]||t.value>=ae[ae.length-1]:t.value>=ae[0]),e.createElement(e.Fragment,{key:t.value},e.createElement("span",{style:a,"data-index":n,className:(0,Ft.Z)(o.mark,r&&o.markActive)}),null!=t.label?e.createElement("span",{"aria-hidden":!0,"data-index":n,style:a,className:(0,Ft.Z)(o.markLabel,r&&o.markLabelActive)},t.label):null)})),ae.map((function(t,n){var s=Xf(t,C,b),l=ep[Ee].offset(s);return e.createElement(U,{key:n,valueLabelFormat:G,valueLabelDisplay:Z,className:o.valueLabel,value:"function"===typeof G?G(T(t),n):G,index:n,open:K===n||Y===n||"on"===Z,disabled:A},e.createElement(L,{className:(0,Ft.Z)(o.thumb,o["thumbColor".concat((0,on.Z)(u))],Y===n&&o.active,A&&o.disabled,de===n&&o.focusVisible),tabIndex:A?null:0,role:"slider",style:l,"data-index":n,"aria-label":m?m(n):r,"aria-labelledby":i,"aria-orientation":k,"aria-valuemax":T(b),"aria-valuemin":T(C),"aria-valuenow":T(t),"aria-valuetext":v?v(T(t),n):a,onKeyDown:we,onFocus:ve,onBlur:ge,onMouseOver:ye,onMouseLeave:xe}))})))})),rp=(0,Ut.Z)((function(e){return{root:{height:2,width:"100%",boxSizing:"content-box",padding:"13px 0",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:e.palette.primary.main,WebkitTapHighlightColor:"transparent","&$disabled":{pointerEvents:"none",cursor:"default",color:e.palette.grey[400]},"&$vertical":{width:2,height:"100%",padding:"0 13px"},"@media (pointer: coarse)":{padding:"20px 0","&$vertical":{padding:"0 20px"}},"@media print":{colorAdjust:"exact"}},colorPrimary:{},colorSecondary:{color:e.palette.secondary.main},marked:{marginBottom:20,"&$vertical":{marginBottom:"auto",marginRight:20}},vertical:{},disabled:{},rail:{display:"block",position:"absolute",width:"100%",height:2,borderRadius:1,backgroundColor:"currentColor",opacity:.38,"$vertical &":{height:"100%",width:2}},track:{display:"block",position:"absolute",height:2,borderRadius:1,backgroundColor:"currentColor","$vertical &":{width:2}},trackFalse:{"& $track":{display:"none"}},trackInverted:{"& $track":{backgroundColor:"light"===e.palette.type?(0,Ot.$n)(e.palette.primary.main,.62):(0,Ot._j)(e.palette.primary.main,.5)},"& $rail":{opacity:1}},thumb:{position:"absolute",width:12,height:12,marginLeft:-6,marginTop:-5,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow"],{duration:e.transitions.duration.shortest}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",left:-15,top:-15,right:-15,bottom:-15},"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,Ot.Fq)(e.palette.primary.main,.16)),"@media (hover: none)":{boxShadow:"none"}},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,Ot.Fq)(e.palette.primary.main,.16))},"&$disabled":{width:8,height:8,marginLeft:-4,marginTop:-3,"&:hover":{boxShadow:"none"}},"$vertical &":{marginLeft:-5,marginBottom:-6},"$vertical &$disabled":{marginLeft:-3,marginBottom:-4}},thumbColorPrimary:{},thumbColorSecondary:{"&$focusVisible,&:hover":{boxShadow:"0px 0px 0px 8px ".concat((0,Ot.Fq)(e.palette.secondary.main,.16))},"&$active":{boxShadow:"0px 0px 0px 14px ".concat((0,Ot.Fq)(e.palette.secondary.main,.16))}},active:{},focusVisible:{},valueLabel:{left:"calc(-50% - 4px)"},mark:{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},markActive:{backgroundColor:e.palette.background.paper,opacity:.8},markLabel:(0,c.Z)({},e.typography.body2,{color:e.palette.text.secondary,position:"absolute",top:26,transform:"translateX(-50%)",whiteSpace:"nowrap","$vertical &":{top:"auto",left:26,transform:"translateY(50%)"},"@media (pointer: coarse)":{top:40,"$vertical &":{left:31}}}),markLabelActive:{color:e.palette.text.primary}}}),{name:"MuiSlider"})(np),ip=e.forwardRef((function(t,n){var r=t.autoFocus,i=t.checked,a=t.checkedIcon,o=t.classes,s=t.className,l=t.defaultChecked,u=t.disabled,h=t.icon,d=t.id,f=t.inputProps,p=t.inputRef,A=t.name,m=t.onBlur,v=t.onChange,g=t.onFocus,y=t.readOnly,x=t.required,b=t.tabIndex,w=t.type,C=t.value,E=(0,Nt.Z)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),S=(0,cd.Z)({controlled:i,default:Boolean(l),name:"SwitchBase",state:"checked"}),I=(0,Un.Z)(S,2),M=I[0],_=I[1],k=$h(),B=u;k&&"undefined"===typeof B&&(B=k.disabled);var T="checkbox"===w||"radio"===w;return e.createElement(ln,(0,c.Z)({component:"span",className:(0,Ft.Z)(o.root,s,M&&o.checked,B&&o.disabled),disabled:B,tabIndex:null,role:void 0,onFocus:function(e){g&&g(e),k&&k.onFocus&&k.onFocus(e)},onBlur:function(e){m&&m(e),k&&k.onBlur&&k.onBlur(e)},ref:n},E),e.createElement("input",(0,c.Z)({autoFocus:r,checked:i,defaultChecked:l,className:o.input,disabled:B,id:T&&d,name:A,onChange:function(e){var t=e.target.checked;_(t),v&&v(e,t)},readOnly:y,ref:p,required:x,tabIndex:b,type:w,value:C},f)),M?a:h)})),ap=(0,Ut.Z)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(ip),op=(0,jr.Z)(e.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),sp=(0,jr.Z)(e.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),lp=(0,jr.Z)(e.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),up=e.createElement(sp,null),cp=e.createElement(op,null),hp=e.createElement(lp,null),dp=e.forwardRef((function(t,n){var r=t.checkedIcon,i=void 0===r?up:r,a=t.classes,o=t.color,s=void 0===o?"secondary":o,l=t.icon,u=void 0===l?cp:l,h=t.indeterminate,d=void 0!==h&&h,f=t.indeterminateIcon,p=void 0===f?hp:f,A=t.inputProps,m=t.size,v=void 0===m?"medium":m,g=(0,Nt.Z)(t,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),y=d?p:u,x=d?p:i;return e.createElement(ap,(0,c.Z)({type:"checkbox",classes:{root:(0,Ft.Z)(a.root,a["color".concat((0,on.Z)(s))],d&&a.indeterminate),checked:a.checked,disabled:a.disabled},color:s,inputProps:(0,c.Z)({"data-indeterminate":d},A),icon:e.cloneElement(y,{fontSize:void 0===y.props.fontSize&&"small"===v?v:y.props.fontSize}),checkedIcon:e.cloneElement(x,{fontSize:void 0===x.props.fontSize&&"small"===v?v:x.props.fontSize}),ref:n},g))})),fp=(0,Ut.Z)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,Ot.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,Ot.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(dp),pp=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var t;return(0,r.Z)(this,s),(t=n.call(this)).canvasRef=e.createRef(),t}return(0,i.Z)(s,[{key:"componentDidUpdate",value:function(e){this.props.texture!==e.texture&&this.canvasRef.current&&this.drawImage(this.props.texture)}},{key:"componentDidMount",value:function(){this.props.texture&&this.drawImage(this.props.texture)}},{key:"renderToCanvas",value:function(e){var t=new Yi.CP7;t.setSize(e.image.width,e.image.height,!1);var n=new Yi.xsS,r=new Yi.iKG(-1,1,1,-1,0,1),i=new Yi.vBJ({map:e}),a=new Yi._12(2,2),o=new Yi.Kj0(a,i);return n.add(o),t.render(n,r),t.domElement}},{key:"drawImage",value:function(e){this.texture=e;var t=this.canvasRef.current.getContext("2d");if(t&&(t.clearRect(0,0,this.canvasRef.current.width,this.canvasRef.current.height),e)){var n=e.image;if(n&&n.width>0){var r=this.canvasRef.current.width/n.width;if(void 0===n.data)t.drawImage(n,0,0,n.width*r,n.height*r);else{var i=this.renderToCanvas(e);t.drawImage(i,0,0,n.width*r,n.height*r)}}}}},{key:"render",value:function(){return(0,xe.jsx)("canvas",{ref:this.canvasRef,onClick:this.props.onClick,style:{width:"50px",height:"50px",border:"1px solid #000",margin:"2px",display:"block"}})}}]),s}(e.Component),Ap=n(4058),mp=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var t;return(0,r.Z)(this,s),(t=n.call(this)).inputRef=e.createRef(),t.onfileSelected=t.onfileSelected.bind((0,jt.Z)(t)),t}return(0,i.Z)(s,[{key:"onfileSelected",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var n;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files.length){e.next=6;break}return e.next=3,gs(t.target.files[0]);case 3:(n=e.sent).filename=t.target.files[0].name,this.props.onChange(n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return(0,xe.jsxs)("div",{onClick:function(){return e.inputRef.current.click()},style:{display:"flex"},children:[(0,xe.jsx)(pp,{texture:this.props.texture}),(0,xe.jsx)(Ap.Z,{style:{fontSize:"14px"},onClick:function(t){e.props.onDelete(),t.stopPropagation()}}),(0,xe.jsx)("input",{ref:this.inputRef,type:"file",style:{display:"none"},onChange:this.onfileSelected,accept:this.props.accept})]})}}]),s}(e.Component),vp=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).state={},e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this;if(this.props.viewModel&&0!==Object.keys(this.state).length)return(0,xe.jsxs)("div",{className:"material-pane",children:[(0,xe.jsx)("div",{className:"flexrow",children:"Name"}),(0,xe.jsx)(Id,{value:this.state.name,style:{width:"250px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onNameChanged(t)}}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Color"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(Gf,{title:"Select Color",children:(0,xe.jsx)("input",{type:"color",value:this.state.color,onChange:this.props.viewModel.onColorChanged})})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Color Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(Gf,{title:"Select Emissive Color",children:(0,xe.jsx)("input",{type:"color",value:this.state.emissive,onChange:this.props.viewModel.onEmissiveChanged})})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Roughness"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(rp,{value:this.state.roughness,onChange:function(t,n){return e.props.viewModel.onRoughnessChanged(n)}})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Metalness"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(rp,{value:this.state.metalness,onChange:function(t,n){return e.props.viewModel.onMetalnessChanged(n)}})})]}),(0,xe.jsxs)("div",{style:{display:"flex",justifyContent:"left",alignItems:"center"},children:[(0,xe.jsx)("div",{className:"flexcol",children:"Transparent"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(fp,{checked:this.state.transparent,onChange:function(t,n){return e.props.viewModel.onTransparentChanged(n)}})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Opacity"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(rp,{value:this.state.opacity,onChange:function(t,n){return e.props.viewModel.onOpacityChanged(n)}})})]}),(0,xe.jsxs)("div",{style:{display:"flex",justifyContent:"left",alignItems:"center"},children:[(0,xe.jsx)("div",{className:"flexcol",children:"Depth Test"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(fp,{checked:this.state.depthTest,onChange:function(t,n){return e.props.viewModel.onDepthTestChanged(n)}})})]}),(0,xe.jsxs)("div",{style:{display:"flex",justifyContent:"left",alignItems:"center"},children:[(0,xe.jsx)("div",{className:"flexcol",children:"Depth Write"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(fp,{checked:this.state.depthWrite,onChange:function(t,n){return e.props.viewModel.onDepthWriteChanged(n)}})})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Material Maps"}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.map,onChange:function(t){return e.props.viewModel.onMapChanged(t,"map")},onDelete:function(){return e.props.viewModel.onMapDelete("map")},accept:"image/*"})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Bump Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.bumpMap,onChange:function(t){return e.props.viewModel.onMapChanged(t,"bumpMap")},onDelete:function(){return e.props.viewModel.onMapDelete("bumpMap")},accept:"image/*"})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Displacement Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.displacementMap,onChange:function(t){return e.props.viewModel.onMapChanged(t,"displacementMap")},onDelete:function(){return e.props.viewModel.onMapDelete("displacementMap")},accept:"image/*"})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"AO Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.aoMap,onChange:function(t){return e.props.viewModel.onMapChanged(t,"aoMap")},onDelete:function(){return e.props.viewModel.onMapDelete("aoMap")},accept:"image/*"})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Emissive Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.emissiveMap,onChange:function(t){return e.props.viewModel.onMapChanged(t,"emissiveMap")},onDelete:function(){return e.props.viewModel.onMapDelete("emissiveMap")},accept:"image/*"})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Environment Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.envMap,onChange:function(t){return e.props.viewModel.onMapChanged(t,"envMap")},onDelete:function(){return e.props.viewModel.onMapDelete("envMap")},accept:"image/*"})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Metalness Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.metalnessMap,onChange:function(t){return e.props.viewModel.onMapChanged(t,"metalnessMap")},onDelete:function(){return e.props.viewModel.onMapDelete("metalnessMap")},accept:"image/*"})})]})," ",(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Normal Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.normalMap,onChange:function(t){return e.props.viewModel.onMapChanged(t,"normalMap")},onDelete:function(){return e.props.viewModel.onMapDelete("normalMap")},accept:"image/*"})})]})," ",(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Roughness Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.roughnessMap,onChange:function(t){return e.props.viewModel.onMapChanged(t,"roughnessMap")},onDelete:function(){return e.props.viewModel.onMapDelete("roughnessMap")},accept:"image/*"})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Light Map"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(mp,{texture:this.state.lightMap,onChange:function(t){return e.props.viewModel.onMapChanged(t,"lightMap")},onDelete:function(){return e.props.viewModel.onMapDelete("lightMap")},accept:"image/*"})})]}),(0,xe.jsx)("br",{})]})}}]),n}(e.Component),gp=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={},e}return(0,i.Z)(s,[{key:"render",value:function(){if(this.props.viewModel&&0!==Object.keys(this.state).length)return(0,xe.jsx)(e.Fragment,{children:(0,xe.jsxs)("div",{className:"editor-pane",children:[(0,xe.jsx)(Id,{label:"Field of View",value:this.state.fov,name:"fov",style:{maxWidth:"200px"},inputProps:{min:20,max:90},onKeyUp:this.props.viewModel.onPropertyBlur,onBlur:this.props.viewModel.onPropertyBlur,onChange:this.props.viewModel.onPropertyChanged}),(0,xe.jsx)(Id,{label:"Near Plane",value:this.state.near,name:"near",style:{maxWidth:"200px"},onKeyUp:this.props.viewModel.onPropertyBlur,onBlur:this.props.viewModel.onPropertyBlur,onChange:this.props.viewModel.onPropertyChanged}),(0,xe.jsx)(Id,{label:"Far Plane",value:this.state.far,name:"far",style:{maxWidth:"200px"},onKeyUp:this.props.viewModel.onPropertyBlur,onBlur:this.props.viewModel.onPropertyBlur,onChange:this.props.viewModel.onPropertyChanged})]})})}}]),s}(e.Component),yp=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={},e}return(0,i.Z)(s,[{key:"render",value:function(){var t=this;if(this.props.viewModel&&0!==Object.keys(this.state).length)return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsxs)("div",{children:["Button Text\xa0",(0,xe.jsx)(Id,{value:this.state.buttonText,style:{width:"100px",marginRight:"2px"},onChange:function(e){return t.props.viewModel.onPropertyChanged("buttonText",e.target.value)}})]}),(0,xe.jsxs)("div",{className:"editor-pane",children:["Label Text",(0,xe.jsx)("textarea",{className:"annotation-box-textinput",multiline:!0,rows:"3",value:this.state.labelText,onChange:function(e){return t.props.viewModel.onPropertyChanged("labelText",e.target.value)}})]})]})}}]),s}(e.Component),xp=n(495),bp=n(4682),wp=n(240),Cp=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={},e}return(0,i.Z)(s,[{key:"render",value:function(){var t,n,r,i=this;return null!==(t=this.state)&&void 0!==t&&null!==(n=t.clipsState)&&void 0!==n&&null!==(r=n.clips)&&void 0!==r&&r.length&&this.props.viewModel?(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Animations"}),(0,xe.jsx)("table",{className:"animations-table",children:this.state.clipsState.clips.map((function(e,t){return(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:e.name}),(0,xe.jsxs)("td",{children:[e.duration.toFixed(2),"s"]}),(0,xe.jsx)("td",{children:e.playing?(0,xe.jsx)(bp.Z,{onClick:function(){return i.props.viewModel.stopClip(t)},size:"small"}):(0,xe.jsx)(xp.Z,{onClick:function(){return i.props.viewModel.playClip(t)},size:"small"})}),(0,xe.jsx)("td",{children:(0,xe.jsx)(wp.Z,{style:{opacity:e.loop?"1.0":"0.5"},onClick:function(){return i.props.viewModel.toggleLoop(t)}})})]},t)}))})]}):null}}]),s}(e.Component),Ep=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={},e}return(0,i.Z)(s,[{key:"render",value:function(){if(this.props.viewModel&&0!==Object.keys(this.state).length&&this.props.viewModel.light)return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Color"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(Gf,{title:"Select Color",children:(0,xe.jsx)("input",{type:"color",name:"color",value:this.state.color,onChange:this.props.viewModel.onPropChanged})})})]}),(0,xe.jsxs)("div",{children:["Intensity\xa0",(0,xe.jsx)(Id,{value:this.state.intensity,name:"intensity",type:"number",style:{width:"100px",marginRight:"2px"},onChange:this.props.viewModel.onPropChanged})]}),this.state.isSpotlight&&(0,xe.jsxs)("div",{children:["Spot Angle\xa0",(0,xe.jsx)(Id,{value:this.state.angle,name:"angle",type:"number",style:{width:"100px",marginRight:"2px"},onChange:this.props.viewModel.onPropChanged})]})]})}}]),s}(e.Component),Sp=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).state={},e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this;if(this.props.viewModel&&0!==Object.keys(this.state).length)return this.props.viewModel.object?(0,xe.jsx)("div",{children:(0,xe.jsxs)("div",{className:"editor-pane",children:[(0,xe.jsxs)("div",{className:"editor-sidebar-heading",children:[this.state.name+" "," Properties"]}),(0,xe.jsx)("div",{className:"flexrow",children:"Name"}),(0,xe.jsx)(Id,{value:this.state.name,style:{width:"250px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onNameChanged(t)}}),(0,xe.jsx)("div",{className:"flexrow",children:"Position"}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsxs)("div",{children:["x\xa0",(0,xe.jsx)(Id,{value:this.state.xPos,type:"number",style:{width:"100px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onPositionChanged(t,"x")},onBlur:function(t){return e.props.viewModel.onPositionBlur(t,"x")},onKeyUp:function(t){return e.props.viewModel.onPositionBlur(t,"x")}})]}),(0,xe.jsxs)("div",{children:["y\xa0",(0,xe.jsx)(Id,{value:this.state.yPos,type:"number",style:{width:"100px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onPositionChanged(t,"y")},onBlur:function(t){return e.props.viewModel.onPositionBlur(t,"y")},onKeyUp:function(t){return e.props.viewModel.onPositionBlur(t,"y")}})]}),(0,xe.jsxs)("div",{children:["z\xa0",(0,xe.jsx)(Id,{value:this.state.zPos,type:"number",style:{width:"100px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onPositionChanged(t,"z")},onBlur:function(t){return e.props.viewModel.onPositionBlur(t,"z")},onKeyUp:function(t){return e.props.viewModel.onPositionBlur(t,"z")}})]})]}),(0,xe.jsx)("div",{className:"flexrow",children:"Rotation"}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsxs)("div",{children:["x\xa0",(0,xe.jsx)(Id,{value:this.state.xRot,type:"number",style:{width:"100px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onRotationChanged(t,"x")},onBlur:function(t){return e.props.viewModel.onRotationBlur(t,"x")},onKeyUp:function(t){return e.props.viewModel.onRotationBlur(t,"x")}})]}),(0,xe.jsxs)("div",{children:["y\xa0",(0,xe.jsx)(Id,{value:this.state.yRot,type:"number",style:{width:"100px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onRotationChanged(t,"y")},onBlur:function(t){return e.props.viewModel.onRotationBlur(t,"y")},onKeyUp:function(t){return e.props.viewModel.onRotationBlur(t,"y")}})]}),(0,xe.jsxs)("div",{children:["z\xa0",(0,xe.jsx)(Id,{value:this.state.zRot,type:"number",style:{width:"100px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onRotationChanged(t,"z")},onBlur:function(t){return e.props.viewModel.onRotationBlur(t,"z")},onKeyUp:function(t){return e.props.viewModel.onRotationBlur(t,"z")}})]})]}),(0,xe.jsx)("div",{className:"flexrow",children:"Scale"}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsxs)("div",{children:["x\xa0",(0,xe.jsx)(Id,{value:this.state.xScale,type:"number",style:{width:"100px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onScaleChanged(t,"x")},onBlur:function(t){return e.props.viewModel.onScaleBlur(t,"x")},onKeyUp:function(t){return e.props.viewModel.onScaleBlur(t,"x")}})]}),(0,xe.jsxs)("div",{children:["y\xa0",(0,xe.jsx)(Id,{value:this.state.yScale,type:"number",style:{width:"100px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onScaleChanged(t,"y")},onBlur:function(t){return e.props.viewModel.onScaleBlur(t,"y")},onKeyUp:function(t){return e.props.viewModel.onScaleBlur(t,"y")}})]}),(0,xe.jsxs)("div",{children:["z\xa0",(0,xe.jsx)(Id,{value:this.state.zScale,type:"number",style:{width:"100px",marginRight:"2px"},onChange:function(t){return e.props.viewModel.onScaleChanged(t,"z")},onBlur:function(t){return e.props.viewModel.onScaleBlur(t,"z")},onKeyUp:function(t){return e.props.viewModel.onScaleBlur(t,"z")}})]})]}),(0,xe.jsx)("div",{className:"flexrow",children:"UUID"}),(0,xe.jsx)("div",{className:"flexrow",children:(0,xe.jsx)(Id,{disabled:!0,value:this.state.uuid,style:{width:"98%"}})}),(0,xe.jsx)("div",{className:"flexrow",children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Casts a shadow",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.castShadow,onChange:this.props.viewModel.onCastShadowChanged}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),(0,xe.jsx)("div",{className:"flexrow",children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Recieves shadows",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.receiveShadow,onChange:this.props.viewModel.onReceiveShadowChanged}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),(0,xe.jsx)(Jr,{}),(0,xe.jsx)("br",{}),"Mesh"===this.state.type&&this.props.viewModel.materialViewModel&&(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Material"}),(0,xe.jsx)(vp,{ref:this.props.viewModel.materialViewModel.updateViewState,viewModel:this.props.viewModel.materialViewModel})]}),"Camera"===this.state.type&&(0,xe.jsx)(gp,{ref:this.props.viewModel.cameraViewModel.updateViewState,viewModel:this.props.viewModel.cameraViewModel}),"Points"===this.state.type&&(0,xe.jsx)(yp,{ref:this.props.viewModel.annotationViewModel.updateViewState,viewModel:this.props.viewModel.annotationViewModel}),"Light"===this.state.type&&(0,xe.jsx)(Ep,{ref:this.props.viewModel.lightViewModel.updateViewState,viewModel:this.props.viewModel.lightViewModel}),(0,xe.jsx)(Cp,{ref:this.props.viewModel.animationsViewModel.updateViewState,viewModel:this.props.viewModel.animationsViewModel})]})}):(0,xe.jsx)("span",{children:"Select an object to view properties"})}}]),n}(e.Component),Ip=function(){function e(){(0,r.Z)(this,e),this.updateViewState=this.updateViewState.bind(this),this.onColorChanged=this.onColorChanged.bind(this),this.onEmissiveChanged=this.onEmissiveChanged.bind(this),this.onRoughnessChanged=this.onRoughnessChanged.bind(this),this.onMetalnessChanged=this.onMetalnessChanged.bind(this),this.onOpacityChanged=this.onOpacityChanged.bind(this),this.onTransparentChanged=this.onTransparentChanged.bind(this),this.onDepthTestChanged=this.onDepthTestChanged.bind(this),this.onDepthWriteChanged=this.onDepthWriteChanged.bind(this),this.onMapChanged=this.onMapChanged.bind(this),this.onMapDelete=this.onMapDelete.bind(this),this.onNameChanged=this.onNameChanged.bind(this)}return(0,i.Z)(e,[{key:"setMaterial",value:function(e){this.material=e,this.view&&this.setStateFromMaterial()}},{key:"setStateFromMaterial",value:function(){this.material instanceof Yi.Wid&&this.view.setState({color:"#"+this.material.color.getHexString(),emissive:"#"+this.material.emissive.getHexString(),roughness:100*this.material.roughness,metalness:100*this.material.metalness,transparent:this.material.transparent,opacity:100*this.material.opacity,depthTest:this.material.depthTest,depthWrite:this.material.depthWrite,map:this.material.map,aoMap:this.material.aoMap,bumpMap:this.material.bumpMap,displacementMap:this.material.displacementMap,emissiveMap:this.material.emissiveMap,envMap:this.material.envMap,lightMap:this.material.lightMap,metalnessMap:this.material.metalnessMap,normalMap:this.material.normalMap,roughnessMap:this.material.roughnessMap,name:this.material.name})}},{key:"onMaterialPropertyChanged",value:function(e,t){this.material[e]=t,this.material.needsUpdate=!0,ni.instance.notifyAll(new ui(this.material)),this.updateViewState()}},{key:"onColorChanged",value:function(e){this.onMaterialPropertyChanged("color",new Yi.Ilk(e.target.value))}},{key:"onNameChanged",value:function(e){this.onMaterialPropertyChanged("name",e.target.value)}},{key:"onEmissiveChanged",value:function(e){this.onMaterialPropertyChanged("emissive",new Yi.Ilk(e.target.value))}},{key:"onRoughnessChanged",value:function(e){this.onMaterialPropertyChanged("roughness",e/100)}},{key:"onMetalnessChanged",value:function(e){this.onMaterialPropertyChanged("metalness",e/100)}},{key:"onTransparentChanged",value:function(e){this.onMaterialPropertyChanged("transparent",e)}},{key:"onOpacityChanged",value:function(e){this.onMaterialPropertyChanged("opacity",e/100)}},{key:"onDepthWriteChanged",value:function(e){this.onMaterialPropertyChanged("depthWrite",e)}},{key:"onDepthTestChanged",value:function(e){this.onMaterialPropertyChanged("depthTest",e)}},{key:"onMapChanged",value:function(e,t){this.onMaterialPropertyChanged(t,e),"envMap"===t&&(e.mapping=Yi.dSO)}},{key:"onMapDelete",value:function(e){this.onMaterialPropertyChanged(e,null)}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.material&&this.setStateFromMaterial()}}]),e}(),Mp=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;return(0,r.Z)(this,n),(o=t.call(this)).object=e,o.propName=i,o.value=a,o.prevValue=e[i],o}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Property"}},{key:"setValue",value:function(e){this.setObjectValue(this.object,this.propName,e)}},{key:"execute",value:function(){this.setValue(this.value),ni.instance.notifyAll(new gi)}},{key:"undo",value:function(){this.setValue(this.prevValue),ni.instance.notifyAll(new gi)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),_p=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){return(0,r.Z)(this,n),t.call(this,e,i,a)}return(0,i.Z)(n,[{key:"execute",value:function(){(0,va.Z)((0,ga.Z)(n.prototype),"execute",this).call(this),this.object.updateProjectionMatrix()}},{key:"undo",value:function(){(0,va.Z)((0,ga.Z)(n.prototype),"undo",this).call(this),this.object.updateProjectionMatrix()}}]),n}(Mp),kp=function(){function e(){var t=this;(0,r.Z)(this,e),this.settings={},this.updateViewState=this.updateViewState.bind(this),this.onPropertyChanged=this.onPropertyChanged.bind(this),this.onPropertyBlur=this.onPropertyBlur.bind(this),ni.instance.subscribe(ii,(function(){t.camera&&t.setCamera(t.camera)}))}return(0,i.Z)(e,[{key:"setCamera",value:function(e){this.camera=e,this.settings={fov:e.fov,near:e.near,far:e.far},this.updateViewState()}},{key:"onPropertyChanged",value:function(e){this.settings[e.target.name]=e.target.value,this.updateViewState()}},{key:"onPropertyBlur",value:function(e){if(!e.key||"Enter"===e.key){this.settings[e.target.name]=Number(e.target.value);var t=new _p(this.camera,e.target.name,Number(e.target.value));Ei.execute(t),this.updateViewState()}}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.camera&&this.view.setState((0,wa.Z)({},this.settings))}}]),e}(),Bp=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;return(0,r.Z)(this,n),(o=t.call(this)).object=e,o.prevUserData=(0,Yo.cloneDeep)(e.userData),o.userData=(0,Yo.cloneDeep)(e.userData),o.userData[i]=a,o}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Annotation Property"}},{key:"execute",value:function(){(0,Yo.merge)(this.object.userData,this.userData),Es.updateAnnotations()}},{key:"undo",value:function(){(0,Yo.merge)(this.object.userData,this.prevUserData),Es.updateAnnotations()}},{key:"redo",value:function(){this.execute()}}]),n}(bo),Tp=function(){function e(){var t=this;(0,r.Z)(this,e),this.settings={},this.updateViewState=this.updateViewState.bind(this),this.onPropertyChanged=this.onPropertyChanged.bind(this),ni.instance.subscribe(ii,(function(){t.updateViewState()}))}return(0,i.Z)(e,[{key:"setAnnotation",value:function(e){this.object=e,this.updateViewState()}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.object&&this.view.setState((0,wa.Z)({},this.object.userData))}},{key:"onPropertyChanged",value:function(e,t){var n=new Bp(this.object,e,t);Ei.execute(n),this.updateViewState()}}]),e}(),Rp=function(){function e(){(0,r.Z)(this,e),this.clipsModel={clips:[]},this.playingCount=0,this.updateViewState=this.updateViewState.bind(this),this.playClip=this.playClip.bind(this),this.stopClip=this.stopClip.bind(this)}return(0,i.Z)(e,[{key:"setObject",value:function(e){this.object=e,this.clipsModel.clips=[],e.animationPlayer&&(this.clips=e.animations,this.clips&&this.clips.length&&(this.currentClip=this.clips[0],this.clipsModel={clips:this.clips.map((function(e){return{name:e.name,duration:e.duration,playing:!1}}))})),this.updateViewState()}},{key:"update",value:function(e){this.object.animationPlayer.update(e)}},{key:"playClip",value:function(e){this.stopAll(),this.object.animationPlayer.playClip(this.clips[e],this.clipsModel.clips[e].loop),this.clipsModel.clips[e].playing=!0,++this.playingCount,this.updateViewState()}},{key:"playClipByName",value:function(e){this.stopAll();var t=this.clips.findIndex((function(t){return t.name===e}));-1!==t&&this.playClip(t)}},{key:"stopAll",value:function(){var e=this;this.clips.forEach((function(t,n){e.stopClip(n)}))}},{key:"stopClip",value:function(e){this.object.animationPlayer.stopClip(this.clips[e]),this.clipsModel.clips[e].playing=!1,--this.playingCount,this.updateViewState()}},{key:"toggleLoop",value:function(e){this.clipsModel.clips[e].loop=!this.clipsModel.clips[e].loop,this.updateViewState()}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.view.setState({clipsState:(0,wa.Z)({},this.clipsModel)})}}]),e}(),Dp=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){return(0,r.Z)(this,n),t.call(this,e,i,a)}return(0,i.Z)(n,[{key:"execute",value:function(){(0,va.Z)((0,ga.Z)(n.prototype),"execute",this).call(this),this.object.helper&&this.object.helper.update()}},{key:"undo",value:function(){(0,va.Z)((0,ga.Z)(n.prototype),"undo",this).call(this),Es.updateLightHelper(this.object.constructor.name)}}]),n}(Mp),Pp=function(){function e(){var t=this;(0,r.Z)(this,e),this.settings={},this.updateViewState=this.updateViewState.bind(this),this.onPropChanged=this.onPropChanged.bind(this),ni.instance.subscribe(ii,(function(){t.light&&t.setLight(t.light)}))}return(0,i.Z)(e,[{key:"setLight",value:function(e){this.light=e,this.settings={color:"#"+e.color.getHexString(),intensity:e.intensity,power:e.power,angle:e instanceof Yi.PMe?e.angle:0,isSpotlight:e instanceof Yi.PMe},this.updateViewState()}},{key:"onPropChanged",value:function(e){var t=new Dp(this.light,e.target.name,e.target.value);Ei.execute(t),this.settings[e.target.name]=e.target.value,this.updateViewState()}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.light&&this.view.setState((0,wa.Z)({},this.settings))}}]),e}(),Lp=function(){function e(){var t=this;(0,r.Z)(this,e),this.updateViewState=this.updateViewState.bind(this),this.onRotationChanged=this.onRotationChanged.bind(this),this.onRotationBlur=this.onRotationBlur.bind(this),this.onPositionChanged=this.onPositionChanged.bind(this),this.onPositionBlur=this.onPositionBlur.bind(this),this.onReceiveShadowChanged=this.onReceiveShadowChanged.bind(this),this.onCastShadowChanged=this.onCastShadowChanged.bind(this),this.visible=!1,this.objectType="Node",this.materialViewModel=new Ip,this.cameraViewModel=new kp,this.annotationViewModel=new Tp,this.animationsViewModel=new Rp,this.lightViewModel=new Pp,ni.instance.subscribe(ci,(function(e){t.object=e.object,t.objectType=ch(t.object),t.object.isMesh?t.materialViewModel.setMaterial(t.object.material):t.object.isCamera?t.cameraViewModel.setCamera(t.object):t.object.isPoints?t.annotationViewModel.setAnnotation(t.object):t.object.isLight&&t.lightViewModel.setLight(t.object),t.animationsViewModel.setObject(t.object),t.visible=!0,t.updateViewState()})),ni.instance.subscribe(hi,(function(){t.visible=!1,t.updateViewState(),t.object=null})),ni.instance.subscribe(di,(function(e){t.object=e.object,t.updateViewState()})),ni.instance.subscribe(fi,(function(e){t.object=e.object,t.updateViewState()})),ni.instance.subscribe(pi,(function(e){t.object=e.object,t.updateViewState()}))}return(0,i.Z)(e,[{key:"getType",value:function(){return this.object instanceof Yi.Kj0?"Mesh":"Object"}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&(this.view.setState({visible:this.visible}),this.object&&this.view.setState({xPos:this.object.position.x.toFixed(4),yPos:this.object.position.y.toFixed(4),zPos:this.object.position.z.toFixed(4),xRot:Yi.M8C.radToDeg(this.object.rotation.x).toFixed(1),yRot:Yi.M8C.radToDeg(this.object.rotation.y).toFixed(1),zRot:Yi.M8C.radToDeg(this.object.rotation.z).toFixed(1),xScale:this.object.scale.x.toFixed(4),yScale:this.object.scale.y.toFixed(4),zScale:this.object.scale.z.toFixed(4),castShadow:this.object.castShadow,receiveShadow:this.object.receiveShadow,uuid:this.object.uuid,type:this.objectType,name:this.object.name})),this.materialViewModel&&this.materialViewModel.updateViewState()}},{key:"onRotationChanged",value:function(e,t){this.view.setState((0,cn.Z)({},t+"Rot",e.target.value))}},{key:"onRotationBlur",value:function(e,t){if("Enter"===e.key&&this.object){var n=this.object.rotation.clone();n[t]=Yi.M8C.degToRad(Number(e.target.value));var r=new Co(this.object,n,this.object.rotation);Ei.execute(r),this.updateViewState()}}},{key:"onPositionChanged",value:function(e,t){this.view.setState((0,cn.Z)({},t+"Pos",e.target.value))}},{key:"onPositionBlur",value:function(e,t){if("Enter"===e.key&&this.object){var n=this.object.position.clone();n[t]=Number(e.target.value);var r=new wo(this.object,n,this.object.position);Ei.execute(r),this.updateViewState()}}},{key:"onScaleChanged",value:function(e,t){this.view.setState((0,cn.Z)({},t+"Scale",e.target.value))}},{key:"onScaleBlur",value:function(e,t){if("Enter"===e.key&&this.object){var n=this.object.scale.clone();n[t]=Number(e.target.value);var r=new Eo(this.object,n,this.object.scale);Ei.execute(r),this.updateViewState()}}},{key:"onCastShadowChanged",value:function(e){this.object.castShadow=e.target.checked,this.updateViewState()}},{key:"onReceiveShadowChanged",value:function(e){this.object.receiveShadow=e.target.checked,this.updateViewState()}},{key:"onNameChanged",value:function(e){this.object&&(this.object.name=e.target.value,this.view.setState({name:e.target.value}))}}]),e}(),Qp=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).viewModel=new Lp,e}return(0,i.Z)(s,[{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(Sh.Z,{component:Bh,viewBox:"0 0 121.48 122.88",style:{width:"24px"}})}},{key:"renderContent",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Object Properties"}),(0,xe.jsx)(Sp,{ref:this.viewModel.updateViewState,viewModel:this.viewModel})]})}}]),s}(Eh);var jp=e.createContext({});var Np=function(e,t,n){for(var r=t;r<e.length;r+=1)if(n===e[r])return r;return-1},Fp=[],Up=[],Op=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.defaultCollapseIcon,s=t.defaultEndIcon,l=t.defaultExpanded,u=void 0===l?Fp:l,h=t.defaultExpandIcon,d=t.defaultParentIcon,f=t.defaultSelected,p=void 0===f?Up:f,A=t.disableSelection,m=void 0!==A&&A,v=t.multiSelect,g=void 0!==v&&v,y=t.expanded,x=t.onNodeSelect,b=t.onNodeToggle,w=t.selected,C=(0,Nt.Z)(t,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),E=e.useState(null),S=E[0],I=E[1],M=e.useState(null),_=M[0],k=M[1],B=e.useRef({}),T=e.useRef({}),R=e.useRef([]),D=(0,cd.Z)({controlled:y,default:u,name:"TreeView",state:"expanded"}),P=(0,Un.Z)(D,2),L=P[0],Q=P[1],j=(0,cd.Z)({controlled:w,default:p,name:"TreeView",state:"selected"}),N=(0,Un.Z)(j,2),F=N[0],U=N[1],O=e.useCallback((function(e){return!!Array.isArray(L)&&-1!==L.indexOf(e)}),[L]),Z=e.useCallback((function(e){return Array.isArray(F)?-1!==F.indexOf(e):F===e}),[F]),z=function(e){var t=R.current.indexOf(e);return-1!==t&&t+1<R.current.length?R.current[t+1]:null},G=function(e){var t=R.current.indexOf(e);return-1!==t&&t-1>=0?R.current[t-1]:null},H=function(){return R.current[R.current.length-1]},V=function(){return R.current[0]},W=function(e){e&&(I(e),k(e))},q=e.useRef(null),Y=e.useRef(!1),X=e.useRef([]),J=function(e,t){var n=F,r=t.start,i=t.end;Y.current&&(n=F.filter((function(e){return-1===X.current.indexOf(e)})));var a=function(e,t){var n=R.current.indexOf(e),r=R.current.indexOf(t),i=Math.min(n,r),a=Math.max(n,r);return R.current.slice(i,a+1)}(r,i);X.current=a;var o=n.concat(a);o=o.filter((function(e,t){return o.indexOf(e)===t})),x&&x(e,o),U(o)},K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.start,i=void 0===r?q.current:r,a=t.end,o=t.current;return n?function(e,t){var n=F,r=t.start,i=t.next,a=t.current;i&&a&&(-1===X.current.indexOf(a)&&(X.current=[]),Y.current?-1!==X.current.indexOf(i)?(n=n.filter((function(e){return e===r||e!==a})),X.current=X.current.filter((function(e){return e===r||e!==a}))):(n.push(i),X.current.push(i)):(n.push(i),X.current.push(a,i)),x&&x(e,n),U(n))}(e,{start:i,next:a,current:o}):J(e,{start:i,end:a}),Y.current=!0,!0},$=e.useCallback((function(e){var t=B.current[e],n=[];return t&&(n.push(e),t.children&&(n.concat(t.children),t.children.forEach((function(e){n.concat($(e))})))),n}),[]),ee=e.useCallback((function(e){var t=(0,c.Z)({},T.current);e.forEach((function(e){t[e]&&delete t[e]})),T.current=t}),[]),te=e.useCallback((function(e){var t=$(e);ee(t);var n=(0,c.Z)({},B.current);t.forEach((function(e){var t=n[e];if(t){if(t.parent){var r=n[t.parent];if(r&&r.children){var i=r.children.filter((function(t){return t!==e}));n[t.parent]=(0,c.Z)({},r,{children:i})}}delete n[e]}})),B.current=n,k((function(t){return t===e?null:t}))}),[$,ee]),ne=e.useRef([]),re=e.useState(!1),ie=re[0],ae=re[1];e.useEffect((function(){var t=[];e.Children.forEach(r,(function(n){e.isValidElement(n)&&n.props.nodeId&&t.push(n.props.nodeId)})),function(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!0;return!1}(ne.current,t)&&(B.current[-1]={parent:null,children:t},t.forEach((function(e,t){0===t&&I(e)})),R.current=B.current[-1].children,ne.current=t,ae(!0))}),[r]),e.useEffect((function(){ie&&(R.current=function e(t){for(var n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i);var a=B.current[i].children;O(i)&&a&&(n=n.concat(e(a)))}return n}(B.current[-1].children))}),[L,ie,O,r]);var oe=function(){return!1};return e.createElement(jp.Provider,{value:{icons:{defaultCollapseIcon:o,defaultExpandIcon:h,defaultParentIcon:d,defaultEndIcon:s},focus:W,focusFirstNode:function(){return W(V())},focusLastNode:function(){return W(H())},focusNextNode:function(e){return W(z(e))},focusPreviousNode:function(e){return W(G(e))},focusByFirstCharacter:function(e,t){var n,r,i=t.toLowerCase(),a=[],o=[];Object.keys(T.current).forEach((function(e){var t=T.current[e],n=B.current[e];(!n.parent||O(n.parent))&&(a.push(e),o.push(t))})),(n=a.indexOf(e)+1)===B.current.length&&(n=0),-1===(r=Np(o,n,i))&&(r=Np(o,0,i)),r>-1&&W(a[r])},expandAllSiblings:function(e,t){var n,r=B.current[t],i=B.current[r.parent];i?n=i.children.filter((function(e){return!O(e)})):n=B.current[-1].children.filter((function(e){return!O(e)}));var a=L.concat(n);n.length>0&&(Q(a),b&&b(e,a))},toggleExpansion:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;-1!==L.indexOf(n)?(t=L.filter((function(e){return e!==n})),I((function(e){var t=B.current[e];return e&&(t&&t.parent?t.parent.id:null)===n?n:e}))):t=[n].concat(L),b&&b(e,t),Q(t)},isExpanded:O,isFocused:function(e){return _===e},isSelected:Z,selectNode:m?oe:function(e,t){return!!t&&(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?function(e,t){var n=[];n=-1!==F.indexOf(t)?F.filter((function(e){return e!==t})):[t].concat(F),x&&x(e,n),U(n)}(e,t):function(e,t){var n=g?[t]:t;x&&x(e,n),U(n)}(e,t),q.current=t,Y.current=!1,X.current=[],!0)},selectRange:m?oe:K,selectNextNode:m?oe:function(e,t){return K(e,{end:z(t),current:t},!0)},selectPreviousNode:m?oe:function(e,t){return K(e,{end:G(t),current:t},!0)},rangeSelectToFirst:m?oe:function(e,t){q.current||(q.current=t);var n=Y.current?q.current:t;return K(e,{start:n,end:V()})},rangeSelectToLast:m?oe:function(e,t){q.current||(q.current=t);var n=Y.current?q.current:t;return K(e,{start:n,end:H()})},selectAllNodes:m?oe:function(e){return K(e,{start:V(),end:H()})},isTabbable:function(e){return S===e},multiSelect:g,getParent:function(e){return B.current[e].parent},mapFirstChar:function(e,t){T.current[e]=t},addNodeToNodeMap:function(e,t){var n=B.current[e];B.current[e]=(0,c.Z)({},n,{children:t,id:e}),t.forEach((function(t){var n=B.current[t];B.current[t]=(0,c.Z)({},n,{parent:e,id:t})}))},removeNodeFromNodeMap:te}},e.createElement("ul",(0,c.Z)({role:"tree","aria-multiselectable":g,className:(0,Ft.Z)(i.root,a),ref:n},C),r))})),Zp=(0,Ut.Z)({root:{padding:0,margin:0,listStyle:"none"}},{name:"MuiTreeView"})(Op),zp=n(6108),Gp=n(9184),Hp=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.collapsedHeight,s=t.collapsedSize,l=void 0===s?"0px":s,u=t.component,h=void 0===u?"div":u,d=t.disableStrictModeCompat,f=void 0!==d&&d,p=t.in,A=t.onEnter,m=t.onEntered,v=t.onEntering,g=t.onExit,y=t.onExited,x=t.onExiting,b=t.style,w=t.timeout,C=void 0===w?Ri.x9.standard:w,E=t.TransitionComponent,S=void 0===E?Yn:E,I=(0,Nt.Z)(t,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),M=Jn(),_=e.useRef(),k=e.useRef(null),B=e.useRef(),T="number"===typeof(o||l)?"".concat(o||l,"px"):o||l;e.useEffect((function(){return function(){clearTimeout(_.current)}}),[]);var R=M.unstable_strictMode&&!f,D=e.useRef(null),P=(0,Zt.Z)(n,R?D:void 0),L=function(e){return function(t,n){if(e){var r=R?[D.current,t]:[t,n],i=(0,Un.Z)(r,2),a=i[0],o=i[1];void 0===o?e(a):e(a,o)}}},Q=L((function(e,t){e.style.height=T,A&&A(e,t)})),j=L((function(e,t){var n=k.current?k.current.clientHeight:0,r=$n({style:b,timeout:C},{mode:"enter"}).duration;if("auto"===C){var i=M.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),B.current=i}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),v&&v(e,t)})),N=L((function(e,t){e.style.height="auto",m&&m(e,t)})),F=L((function(e){var t=k.current?k.current.clientHeight:0;e.style.height="".concat(t,"px"),g&&g(e)})),U=L(y),O=L((function(e){var t=k.current?k.current.clientHeight:0,n=$n({style:b,timeout:C},{mode:"exit"}).duration;if("auto"===C){var r=M.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),B.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=T,x&&x(e)}));return e.createElement(S,(0,c.Z)({in:p,onEnter:Q,onEntered:N,onEntering:j,onExit:F,onExited:U,onExiting:O,addEndListener:function(e,t){var n=R?e:t;"auto"===C&&(_.current=setTimeout(n,B.current||0))},nodeRef:R?D:void 0,timeout:"auto"===C?null:C},I),(function(t,n){return e.createElement(h,(0,c.Z)({className:(0,Ft.Z)(i.root,i.container,a,{entered:i.entered,exited:!p&&"0px"===T&&i.hidden}[t]),style:(0,c.Z)({minHeight:T},b),ref:P},n),e.createElement("div",{className:i.wrapper,ref:k},e.createElement("div",{className:i.wrapperInner},r)))}))}));Hp.muiSupportAuto=!0;var Vp=(0,Ut.Z)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(Hp),Wp=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.collapseIcon,s=t.endIcon,l=t.expandIcon,u=t.icon,h=t.label,d=t.nodeId,f=t.onClick,p=t.onLabelClick,A=t.onIconClick,m=t.onFocus,v=t.onKeyDown,g=t.onMouseDown,y=t.TransitionComponent,x=void 0===y?Vp:y,b=t.TransitionProps,w=(0,Nt.Z)(t,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),C=e.useContext(jp),E=C.icons,S=C.focus,I=C.focusFirstNode,M=C.focusLastNode,_=C.focusNextNode,k=C.focusPreviousNode,B=C.focusByFirstCharacter,T=C.selectNode,R=C.selectRange,D=C.selectNextNode,P=C.selectPreviousNode,L=C.rangeSelectToFirst,Q=C.rangeSelectToLast,j=C.selectAllNodes,N=C.expandAllSiblings,F=C.toggleExpansion,U=C.isExpanded,O=C.isFocused,Z=C.isSelected,z=C.isTabbable,G=C.multiSelect,H=C.getParent,V=C.mapFirstChar,W=C.addNodeToNodeMap,q=C.removeNodeFromNodeMap,Y=e.useRef(null),X=e.useRef(null),J=(0,Zt.Z)(Y,n),K=u,$=Boolean(Array.isArray(r)?r.length:r),ee=!!U&&U(d),te=!!O&&O(d),ne=!!z&&z(d),re=!!Z&&Z(d),ie=E||{},ae=Jn();K||($?(K=ee?o||ie.defaultCollapseIcon:l||ie.defaultExpandIcon)||(K=ie.defaultParentIcon):K=s||ie.defaultEndIcon);var oe,se=function(e){return $&&(ee?_(d):F(e)),!0},le=function(e){if(ee)return F(e,d),!0;var t=H(d);return!!t&&(S(t),!0)};return e.useEffect((function(){if(W){var t=[];e.Children.forEach(r,(function(n){e.isValidElement(n)&&n.props.nodeId&&t.push(n.props.nodeId)})),W(d,t)}}),[r,d,W]),e.useEffect((function(){if(q)return function(){q(d)}}),[d,q]),e.useEffect((function(){V&&h&&V(d,X.current.textContent.substring(0,1).toLowerCase())}),[V,d,h]),e.useEffect((function(){te&&Y.current.focus()}),[te]),G?oe=re:re&&(oe=!0),e.createElement("li",(0,c.Z)({className:(0,Ft.Z)(i.root,a,ee&&i.expanded,re&&i.selected),role:"treeitem",onKeyDown:function(e){var t=!1,n=e.key;if(!e.altKey&&e.currentTarget===e.target){var r,i=e.ctrlKey||e.metaKey;switch(n){case" ":Y.current===e.currentTarget&&(t=G&&e.shiftKey?R(e,{end:d}):G?T(e,d,!0):T(e,d)),e.stopPropagation();break;case"Enter":Y.current===e.currentTarget&&$&&(F(e),t=!0),e.stopPropagation();break;case"ArrowDown":G&&e.shiftKey&&D(e,d),_(d),t=!0;break;case"ArrowUp":G&&e.shiftKey&&P(e,d),k(d),t=!0;break;case"ArrowRight":t="rtl"===ae.direction?le(e):se(e);break;case"ArrowLeft":t="rtl"===ae.direction?se(e):le(e);break;case"Home":G&&i&&e.shiftKey&&L(e,d),I(),t=!0;break;case"End":G&&i&&e.shiftKey&&Q(e,d),M(),t=!0;break;default:"*"===n?(N(e,d),t=!0):G&&i&&"a"===n.toLowerCase()?t=j(e):!i&&!e.shiftKey&&((r=n)&&1===r.length&&r.match(/\S/))&&(B(d,n),t=!0)}t&&(e.preventDefault(),e.stopPropagation()),v&&v(e)}},onFocus:function(e){te||e.currentTarget!==e.target||S(d),m&&m(e)},"aria-expanded":$?ee:null,"aria-selected":oe,ref:J,tabIndex:ne?0:-1},w),e.createElement("div",{className:i.content,onClick:function(e){te||S(d);var t=G&&(e.shiftKey||e.ctrlKey||e.metaKey);!$||e.defaultPrevented||t&&U(d)||F(e,d),t?e.shiftKey?R(e,{end:d}):T(e,d,!0):T(e,d),f&&f(e)},onMouseDown:function(e){(e.shiftKey||e.ctrlKey||e.metaKey)&&e.preventDefault(),g&&g(e)},ref:X},e.createElement("div",{onClick:A,className:i.iconContainer},K),e.createElement(gl,{onClick:p,component:"div",className:i.label},h)),r&&e.createElement(x,(0,c.Z)({unmountOnExit:!0,className:i.group,in:ee,component:"ul",role:"group"},b),r))})),qp=(0,Ut.Z)((function(e){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:e.palette.action.hover},"&$selected > $content $label":{backgroundColor:(0,Ot.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:(0,Ot.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{name:"MuiTreeItem"})(Wp),Yp=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={tree:null,expandedNodeIds:[],selectedNodeIds:[]},e}return(0,i.Z)(s,[{key:"render",value:function(){return this.state.tree?(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Scene Graph"}),(0,xe.jsx)(Zp,{defaultCollapseIcon:(0,xe.jsx)(zp.Z,{}),defaultExpandIcon:(0,xe.jsx)(Gp.Z,{}),defaultExpanded:this.state.expandedNodeIds,defaultSelected:this.state.selectedNodeIds,onNodeToggle:this.props.viewModel.onNodeToggle,onNodeSelect:this.props.viewModel.onNodeSelected,children:this.renderTree(this.state.tree)})]}):null}},{key:"renderTree",value:function(e){var t=this;return(0,xe.jsx)(qp,{nodeId:e.id,label:e.object.name?e.object.name:ch(e.object),onClick:function(){return t.props.viewModel.onObjectClicked(e.object)},children:Array.isArray(e.children)?e.children.map((function(e){return t.renderTree(e)})):null},e.id)}}]),s}(e.Component),Xp=function(){function e(){var t=this;(0,r.Z)(this,e),this.updateViewState=this.updateViewState.bind(this),this.onObjectClicked=this.onObjectClicked.bind(this),this.onNodeToggle=this.onNodeToggle.bind(this),this.onNodeSelected=this.onNodeSelected.bind(this),this.expandedNodeIds=[],this.selectedNodeIds=[],ni.instance.subscribe(ai,(function(){t.createTree()})),this.createTree()}return(0,i.Z)(e,[{key:"createTree",value:function(){this.tree=this.buildTree(Es.world.sceneRoot),this.updateViewState()}},{key:"buildTree",value:function(e){var t=this,n={name:e.name,id:e.uuid,children:[],object:e};return this.expandedNodeIds.push(n.id),e.children.forEach((function(e){n.children.push(t.buildTree(e))})),n}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.view.setState({tree:this.tree,expandedNodeIds:this.expandedNodeIds,selectedNodeIds:this.selectedNodeIds})}},{key:"onNodeToggle",value:function(e,t){this.expandedNodeIds=(0,Ht.Z)(t),this.updateViewState()}},{key:"onNodeSelected",value:function(e,t){this.selectedNodeIds=[t],this.updateViewState()}},{key:"onObjectClicked",value:function(e){Ei.execute(new Io(e))}}]),e}(),Jp=n(9504),Kp=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={},e}return(0,i.Z)(s,[{key:"render",value:function(){var t=this;if(this.props.viewModel&&0!==Object.keys(this.state).length)return(0,xe.jsxs)("div",{className:"editor-pane",children:[(0,xe.jsx)(Jr,{}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Preview scene",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.viewState.preview,onChange:function(e){return t.props.viewModel.onViewStateChanged("preview",e.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Environment Map"}),(0,xe.jsx)("div",{className:"flexrow",children:(0,xe.jsx)(mp,{texture:this.state.envMap,onChange:this.props.viewModel.onEnvMapChanged,onDelete:this.props.viewModel.onEnvMapDelete,accept:".hdr"})}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Background"}),(0,xe.jsx)("div",{style:{display:"flex"},children:(0,xe.jsxs)(Cd,{native:!0,value:this.state.settings.backgroundType,onChange:function(e){return t.props.viewModel.setProperty("backgroundType",e.target.value)},style:{minWidth:"200px",marginBottom:"10px"},children:[(0,xe.jsx)("option",{value:"transparent",children:"Transparent"}),(0,xe.jsx)("option",{value:"gradient",children:"Gradient"}),(0,xe.jsx)("option",{value:"color",children:"Color"})]})}),"color"===this.state.settings.backgroundType&&(0,xe.jsxs)("div",{className:"flexrow-la",children:[(0,xe.jsx)("div",{className:"ctl-label",children:"Background Color\xa0"}),(0,xe.jsx)("input",{type:"color",value:this.state.settings.backgroundColor,onChange:function(e){return t.props.viewModel.setProperty("backgroundColor",e.target.value)}})]}),"gradient"===this.state.settings.backgroundType&&(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{className:"ctl-label",children:"Background Gradient"}),(0,xe.jsx)("input",{type:"color",value:this.state.settings.backgroundGradientColor1,onChange:function(e){return t.props.viewModel.setProperty("backgroundGradientColor1",e.target.value)}}),(0,xe.jsx)("input",{type:"color",value:this.state.settings.backgroundGradientColor2,onChange:function(e){return t.props.viewModel.setProperty("backgroundGradientColor2",e.target.value)}})]}),"transparent"===this.state.settings.backgroundType&&(0,xe.jsx)("div",{}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Reflection Plane"}),(0,xe.jsxs)("div",{children:[(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Enable Reflection",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.enableReflection,onChange:function(e){return t.props.viewModel.setProperty("enableReflection",e.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),this.state.settings.enableReflection&&(0,xe.jsx)("div",{children:(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)(Id,{label:"Fade Depth",type:"number",value:this.state.settings.reflectionFadeScale,style:{minWidth:"100px"},inputProps:{min:0},onChange:function(e){return t.props.viewModel.setProperty("reflectionFadeScale",e.target.value)}}),(0,xe.jsxs)("div",{className:"flexrow-la",children:[(0,xe.jsx)("div",{className:"ctl-label",children:"Color\xa0"}),(0,xe.jsx)("input",{type:"color",value:this.state.settings.reflectionColor,onChange:function(e){return t.props.viewModel.setProperty("reflectionColor",e.target.value)}})]}),(0,xe.jsx)("div",{className:"ctl-label",children:"Opacity"}),(0,xe.jsx)(rp,{style:{width:"200px"},value:100*this.state.settings.reflectionOpacity,onChange:function(e,n){return t.props.viewModel.setProperty("reflectionOpacity",n/100)}}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Blur Reflection",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.blurReflection,onChange:function(e){return t.props.viewModel.setProperty("blurReflection",e.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})]})})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Fog"}),(0,xe.jsx)("div",{children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Fog",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.fog,onChange:function(e){return t.props.viewModel.setProperty("fog",e.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),this.state.settings.fog&&(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsxs)("div",{className:"flexrow-la",children:[(0,xe.jsxs)("label",{className:"radioContainer",style:{marginLeft:"5px"},onChange:function(){return t.props.viewModel.setProperty("fogType","exponential")},children:["Exponential",(0,xe.jsx)("input",{type:"radio",checked:"exponential"===this.state.settings.fogType}),(0,xe.jsx)("span",{className:"radioCheckmark"})]}),(0,xe.jsxs)("label",{className:"radioContainer",style:{marginLeft:"5px"},onChange:function(){return t.props.viewModel.setProperty("fogType","linear")},children:["Linear",(0,xe.jsx)("input",{type:"radio",checked:"linear"===this.state.settings.fogType}),(0,xe.jsx)("span",{className:"radioCheckmark"})]})]}),"linear"===this.state.settings.fogType&&(0,xe.jsxs)("div",{children:[(0,xe.jsx)(Id,{label:"Fog Near",type:"number",value:this.state.settings.fogNear,onChange:function(e){return t.props.viewModel.setProperty("fogNear",e.target.value)}}),(0,xe.jsx)("br",{}),(0,xe.jsx)(Id,{label:"Fog Far",type:"number",value:this.state.settings.fogFar,onChange:function(e){return t.props.viewModel.setProperty("fogFar",e.target.value)}}),(0,xe.jsx)("br",{})]}),"exponential"===this.state.settings.fogType&&(0,xe.jsx)(Id,{label:"Density",type:"number",value:this.state.settings.fogDensity,onChange:function(e){return t.props.viewModel.setProperty("fogDensity",e.target.value)}}),(0,xe.jsxs)("div",{className:"flexrow-la",children:[(0,xe.jsx)("div",{className:"ctl-label",children:"Color"}),(0,xe.jsx)("input",{type:"color",value:this.state.settings.fogColor,onChange:function(e){return t.props.viewModel.setProperty("fogColor",e.target.value)}})]}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]})]})}}]),s}(e.Component),$p=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).settings=(0,Yo.cloneDeep)(e),a.prevSettings=(0,Yo.cloneDeep)(i),a}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Environment Property"}},{key:"execute",value:function(){Es.project.settings.setValue("environment",this.settings),Es.setEnvironment()}},{key:"undo",value:function(){Es.project.settings.setValue("environment",this.prevSettings),Es.setEnvironment()}},{key:"redo",value:function(){this.execute()}}]),n}(bo),eA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).prevTexture=Es.world.scene.environment,i.texture=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Environment Map"}},{key:"execute",value:function(){this.texture&&(this.texture.mapping=Yi.dSO),Es.project.envMap=this.texture,Es.world.setEnvironmentMap(this.texture)}},{key:"undo",value:function(){Es.project.envMap=this.prevTexture,Es.world.setEnvironmentMap(this.prevTexture)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),tA=function(){function e(){var t=this;(0,r.Z)(this,e),this.onEnvMapChanged=this.onEnvMapChanged.bind(this),this.onEnvMapDelete=this.onEnvMapDelete.bind(this),this.updateViewState=this.updateViewState.bind(this),this.setProperty=this.setProperty.bind(this),this.onViewStateChanged=this.onViewStateChanged.bind(this),ni.instance.subscribe(mi,(function(){t.updateViewState()})),ni.instance.subscribe(Ai,(function(){t.updateViewState()})),this.setFromSettings(),this.viewState={preview:!1}}return(0,i.Z)(e,[{key:"setFromSettings",value:function(){Es.setEnvironment(Es.project.settings.state.environment)}},{key:"onEnvMapChanged",value:function(e){Ei.execute(new eA(e)),this.updateViewState()}},{key:"onEnvMapDelete",value:function(){Ei.execute(new eA(null)),this.updateViewState()}},{key:"setProperty",value:function(e,t){var n=(0,Yo.cloneDeep)(Es.project.settings.state.environment);n[e]=t;var r=new $p(n,Es.project.settings.state.environment);Ei.execute(r),this.updateViewState()}},{key:"onViewStateChanged",value:function(e,t){this.viewState[e]=t,Es.envPreviewMode=this.viewState.preview,this.updateViewState()}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.view.setState({envMap:Es.world.scene.environment,settings:Es.project.settings.state.environment,viewState:this.viewState})}}]),e}(),nA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).onClick=e.onClick.bind((0,jt.Z)(e)),e.viewModel=new Xp,e.environmentSettingsViewModel=new tA,e.environmentSettingsViewModel.updateViewState(),e}return(0,i.Z)(s,[{key:"onClick",value:function(){this.environmentSettingsViewModel.updateViewState()}},{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(Jp.Z,{})}},{key:"renderContent",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Scene Properties"}),(0,xe.jsx)(Yp,{viewModel:this.viewModel,ref:this.viewModel.updateViewState}),(0,xe.jsx)(Kp,{ref:this.environmentSettingsViewModel.updateViewState,viewModel:this.environmentSettingsViewModel})]})}}]),s}(Eh),rA=n(3380),iA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).settings=(0,Yo.cloneDeep)(e),a.prevSettings=(0,Yo.cloneDeep)(i),a}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Lighting Property"}},{key:"execute",value:function(){Es.project.settings.setValue("lighting",this.settings),Es.setLighting()}},{key:"undo",value:function(){Es.project.settings.setValue("lighting",this.prevSettings),Es.setLighting()}},{key:"redo",value:function(){this.execute()}}]),n}(bo),aA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).object=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Add Baked Shadow"}},{key:"execute",value:function(){Es.renderBakedShadow(this.object),Es.setBakedShadowProperties(this.object,{bakedShadowBlur:.7,bakedShadowLightness:.7,bakedShadowFalloff:0})}},{key:"undo",value:function(){Es.removeBakedShadowFromObject(this.object)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),oA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).object=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Remove Baked Shadow"}},{key:"execute",value:function(){Es.removeBakedShadowFromObject(this.object)}},{key:"undo",value:function(){Es.renderBakedShadow(this.object)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),sA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).object=e,a.props=i,a}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Baked Shadow"}},{key:"execute",value:function(){Es.setBakedShadowProperties(this.object,this.props)}},{key:"undo",value:function(){}},{key:"redo",value:function(){this.execute()}}]),n}(bo),lA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).object=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Refresh Baked Shadow"}},{key:"execute",value:function(){Es.removeBakedShadowFromObject(this.object),Es.renderBakedShadow(this.object)}},{key:"undoable",get:function(){return!1}}]),n}(bo),uA=function(){function e(){var t=this;(0,r.Z)(this,e),this.savedProps={},this.bakedShadowProps={},this.updateViewState=this.updateViewState.bind(this),this.setProperty=this.setProperty.bind(this),this.onSliderChange=this.onSliderChange.bind(this),this.onSliderEnd=this.onSliderEnd.bind(this),this.onAddBakedShadowClicked=this.onAddBakedShadowClicked.bind(this),this.onRemoveBakedShadowClicked=this.onRemoveBakedShadowClicked.bind(this),this.onBakedShadowPropertyChanged=this.onBakedShadowPropertyChanged.bind(this),this.onRefreshBakedShadowClicked=this.onRefreshBakedShadowClicked.bind(this),ni.instance.subscribe(ci,(function(e){t.selectedObject=e.object,t.bakedShadowProps=Es.getBakedShadowProperties(t.selectedObject),t.updateViewState()})),ni.instance.subscribe(hi,(function(){t.selectedObject=null,t.updateViewState()}))}return(0,i.Z)(e,[{key:"setProperty",value:function(e,t){var n=(0,Yo.cloneDeep)(Es.project.settings.state.lighting);n[e]=t;var r=new iA(n,Es.project.settings.state.lighting);Ei.execute(r),this.updateViewState()}},{key:"onSliderChange",value:function(e,t){this.savedSettings||(this.savedSettings=(0,Yo.cloneDeep)(Es.project.settings.state.lighting)),this.setProperty(e,t,!1)}},{key:"onAddBakedShadowClicked",value:function(){if(Es.selectedObject){var e=new aA(Es.selectedObject);Ei.execute(e),this.updateViewState()}}},{key:"onRemoveBakedShadowClicked",value:function(){if(Es.selectedObject){var e=new oA(Es.selectedObject);Ei.execute(e),this.updateViewState()}}},{key:"onRefreshBakedShadowClicked",value:function(){if(Es.selectedObject){var e=new lA(Es.selectedObject);Ei.execute(e),this.updateViewState()}}},{key:"onSliderEnd",value:function(){var e=new iA(Es.project.settings.state.lighting,this.savedSettings);Ei.execute(e),this.updateViewState(),this.savedSettings=null}},{key:"onBakedShadowPropertyChanged",value:function(e,t){if(this.selectedObject){this.bakedShadowProps[e]=t;var n=new sA(this.selectedObject,this.bakedShadowProps);Ei.execute(n),this.updateViewState()}}},{key:"updateViewState",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(n&&(this.view=n),this.view)&&this.view.setState({showControls:null!=this.selectedObject,showAddButton:null==(null===(e=this.selectedObject)||void 0===e?void 0:e.bakedShadow),showRefreshBakedShadowButton:null!=(null===(t=this.selectedObject)||void 0===t?void 0:t.bakedShadow),bakedShadowBlur:this.bakedShadowProps.bakedShadowBlur,bakedShadowLightness:this.bakedShadowProps.bakedShadowLightness,bakedShadowFalloff:this.bakedShadowProps.bakedShadowFalloff,settings:Es.project.settings.state.lighting})}}]),e}(),cA=n(4197),hA=n(6038),dA=n(522),fA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).state={},e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this;if(this.props.viewModel&&0!==Object.keys(this.state).length)return(0,xe.jsxs)("div",{className:"editor-pane",children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Shadows"}),(0,xe.jsx)("div",{children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Enabled",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.shadowsEnabled,onChange:function(t){return e.props.viewModel.setProperty("shadowsEnabled",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{label:"Shadow Bias",type:"number",InputLabelProps:{shrink:!0},value:this.state.settings.shadowBias,onChange:function(t){return e.props.viewModel.setProperty("shadowBias",t.target.value)}})}),this.state.settings.shadowsEnabled&&(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Shadow Plane",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.shadowPlaneVisible,onChange:function(t){return e.props.viewModel.setProperty("shadowPlaneVisible",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),this.state.settings.shadowPlaneVisible&&(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Lightness\xa0"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(rp,{style:{width:"200px",marginRight:"8px"},value:100*this.state.settings.shadowPlaneLightness,onChange:function(t,n){return e.props.viewModel.onSliderChange("shadowPlaneLightness",n/100)},onChangeCommitted:function(t,n){return e.props.viewModel.onSliderEnd("shadowPlaneLightness",100*n)}})})]}),(0,xe.jsx)("div",{className:"ctl-label",children:"Shadow Light"}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Rotation"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(rp,{style:{width:"200px",marginRight:"8px"},value:this.state.settings.shadowLightRotation/(2*Math.PI)*100,onChange:function(t,n){return e.props.viewModel.onSliderChange("shadowLightRotation",n/100*2*Math.PI)},onChangeCommitted:function(t,n){return e.props.viewModel.onSliderEnd("shadowLightRotation",n/100*2*Math.PI)}})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Elevation"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(rp,{style:{width:"200px",marginRight:"8px"},value:this.state.settings.shadowLightElevation/(2*Math.PI)*100,onChange:function(t,n){return e.props.viewModel.onSliderChange("shadowLightElevation",n/100*2*Math.PI)},onChangeCommitted:function(t,n){return e.props.viewModel.onSliderEnd("shadowLightElevation",n/100*2*Math.PI)}})})]})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Baked Shadow"}),this.state.showControls?(0,xe.jsxs)("div",{children:[(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)(ln,{disabled:!this.state.showRefreshBakedShadowButton,onClick:this.props.viewModel.onRefreshBakedShadowClicked,children:(0,xe.jsx)(cA.Z,{})}),(0,xe.jsx)(ln,{disabled:!this.state.showAddButton,onClick:this.props.viewModel.onAddBakedShadowClicked,children:(0,xe.jsx)(hA.Z,{})}),(0,xe.jsx)(ln,{disabled:this.state.showAddButton,onClick:this.props.viewModel.onRemoveBakedShadowClicked,children:(0,xe.jsx)(dA.Z,{})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Softness"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(rp,{style:{width:"200px",marginRight:"8px"},value:100*this.state.bakedShadowBlur,onChange:function(t,n){return e.props.viewModel.onBakedShadowPropertyChanged("bakedShadowBlur",n/100)}})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Lightness"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(rp,{style:{width:"200px",marginRight:"8px"},value:100*this.state.bakedShadowLightness,onChange:function(t,n){return e.props.viewModel.onBakedShadowPropertyChanged("bakedShadowLightness",n/100)}})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Depth"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(rp,{style:{width:"200px",marginRight:"8px"},value:100*this.state.bakedShadowFalloff,onChange:function(t,n){return e.props.viewModel.onBakedShadowPropertyChanged("bakedShadowFalloff",n/100)}})})]})]}):(0,xe.jsx)("div",{children:"Select an object to edit"}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Ambient Light"}),(0,xe.jsx)(rd,{children:"Brightness"}),(0,xe.jsx)(rp,{style:{width:"200px"},value:100*this.state.settings.ambientLightIntensity,onChange:function(t,n){return e.props.viewModel.setProperty("ambientLightIntensity",n/100)}}),(0,xe.jsx)(rd,{children:"Color"}),(0,xe.jsx)("input",{type:"color",value:this.state.settings.ambientLightColor,onChange:function(t){return e.props.viewModel.setProperty("ambientLightColor",t.target.value)}})]})}}]),n}(e.Component),pA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).viewModel=new uA,e}return(0,i.Z)(s,[{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(rA.Z,{})}},{key:"renderContent",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Lighting Properties"}),(0,xe.jsx)(fA,{viewModel:this.viewModel,ref:this.viewModel.updateViewState})]})}}]),s}(Eh),AA=n(9985),mA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={},e}return(0,i.Z)(s,[{key:"render",value:function(){if(this.props.viewModel&&0!==Object.keys(this.state).length)return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsxs)("div",{className:"editor-pane",children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Controller Type"}),(0,xe.jsx)("div",{className:"flexrow-la",children:(0,xe.jsxs)(Cd,{native:!0,name:"controllerType",value:this.state.settings.controllerType,style:{width:"200px"},onChange:this.props.viewModel.onPropertyChanged,children:[(0,xe.jsx)("option",{value:"orbit",children:"Orbit"}),(0,xe.jsx)("option",{value:"fp",children:"First Person"})]})}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Camera Target"}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{value:this.state.targetName,style:{maxWidth:"200px"},disabled:!0,inputProps:{min:0}})}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Properties"}),"orbit"===this.state.settings.controllerType&&(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)(Id,{label:"Minimum Distance",type:"number",name:"orbitController.minZoom",value:this.state.settings.orbitController.minZoom,style:{maxWidth:"200px"},inputProps:{min:0},onBlur:this.props.viewModel.onPropertyBlur,onKeyUp:this.props.viewModel.onPropertyBlur,onChange:this.props.viewModel.onPropertyChanged}),(0,xe.jsx)(Id,{label:"Maximum Distance",type:"number",name:"orbitController.maxZoom",value:this.state.settings.orbitController.maxZoom,style:{maxWidth:"200px"},inputProps:{min:0},onBlur:this.props.viewModel.onPropertyBlur,onKeyUp:this.props.viewModel.onPropertyBlur,onChange:this.props.viewModel.onPropertyChanged}),(0,xe.jsx)(Id,{label:"Minimum Angle",type:"number",name:"orbitController.minElevation",value:this.state.settings.orbitController.minElevation,style:{maxWidth:"200px"},inputProps:{min:0,max:180},onBlur:this.props.viewModel.onPropertyBlur,onKeyUp:this.props.viewModel.onPropertyBlur,onChange:this.props.viewModel.onPropertyChanged}),(0,xe.jsx)(Id,{label:"Maximum Angle",type:"number",name:"orbitController.maxElevation",value:this.state.settings.orbitController.maxElevation,style:{maxWidth:"200px"},inputProps:{min:0,max:180},onBlur:this.props.viewModel.onPropertyBlur,onKeyUp:this.props.viewModel.onPropertyBlur,onChange:this.props.viewModel.onPropertyChanged})]}),"fp"==this.state.settings.controllerType&&(0,xe.jsx)(e.Fragment,{children:(0,xe.jsx)(Id,{label:"Move Speed",type:"number",name:"firstPersonController.moveSpeed",value:this.state.settings.firstPersonController.moveSpeed,style:{maxWidth:"200px"},inputProps:{min:0},onBlur:this.props.viewModel.onPropertyBlur,onKeyUp:this.props.viewModel.onPropertyBlur,onChange:this.props.viewModel.onPropertyChanged})})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Viewer Start Camera Position"}),(0,xe.jsx)(Ti,{variant:"contained",color:"primary",onClick:this.props.viewModel.onSetCameraState,children:"Set Position"}),(0,xe.jsx)(Ti,{variant:"contained",color:"primary",onClick:this.props.viewModel.onViewCameraState,children:"View"}),(0,xe.jsx)("span",{children:this.state.camStateMsg}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Controls"}),"fp"===this.state.settings.controllerType&&(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsxs)("div",{className:"flexcol",children:["Look around",(0,xe.jsx)("br",{}),"Foward/back",(0,xe.jsx)("br",{}),"Left/right",(0,xe.jsx)("br",{}),"Up/down",(0,xe.jsx)("br",{})]}),(0,xe.jsxs)("div",{className:"flexcol",children:["Mouse",(0,xe.jsx)("br",{}),"W/S or virtual joystick",(0,xe.jsx)("br",{}),"A/D or virtual joystick",(0,xe.jsx)("br",{}),"R/F"]})]}),"orbit"==this.state.settings.controllerType&&(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsxs)("div",{className:"flexcol",children:["Orbit around",(0,xe.jsx)("br",{}),"Zoom",(0,xe.jsx)("br",{}),"Pan",(0,xe.jsx)("br",{})]}),(0,xe.jsxs)("div",{className:"flexcol",children:["Mouse",(0,xe.jsx)("br",{}),"Mouse wheel",(0,xe.jsx)("br",{}),"Mouse + CTRL",(0,xe.jsx)("br",{})]})]})]})}}]),s}(e.Component),vA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).settings=(0,Yo.cloneDeep)(e),a.prevSettings=(0,Yo.cloneDeep)(i),a}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Controller Property"}},{key:"execute",value:function(){Es.project.settings.setValue("cameraController",this.settings),Es.setCameraController()}},{key:"undo",value:function(){Es.project.settings.setValue("cameraController",this.prevSettings),Es.setCameraController()}},{key:"redo",value:function(){this.execute()}}]),n}(bo),gA=function(){function e(){var t=this;(0,r.Z)(this,e),this.updateViewState=this.updateViewState.bind(this),this.onPropertyChanged=this.onPropertyChanged.bind(this),this.onSetCameraState=this.onSetCameraState.bind(this),this.onViewCameraState=this.onViewCameraState.bind(this),ni.instance.subscribe(ii,(function(){return t.updateViewState()})),this.updateViewState(),this.camStateMsg=""}return(0,i.Z)(e,[{key:"setProperty",value:function(e,t){"controllerType"===e&&ni.instance.notifyAll(new vi(t));var n=(0,Yo.cloneDeep)(Es.project.settings.state.cameraController);(0,Yo.set)(n,e,t);var r=new vA(n,Es.project.settings.state.cameraController);Ei.execute(r),this.updateViewState()}},{key:"onPropertyChanged",value:function(e){this.setProperty(e.target.name,e.target.value)}},{key:"onSetCameraState",value:function(){var e=this;this.camStateMsg="Camera State Set!","orbit"===Es.project.settings.state.cameraController.controllerType?this.setProperty("orbitCameraState",Es.orbitCameraController.getState()):this.setProperty("firstPersonCameraState",Es.firstPersonCameraController.getState()),setTimeout((function(){e.camStateMsg="",e.updateViewState()}),3e3)}},{key:"onViewCameraState",value:function(){var e=Es.project.settings.state.cameraController;"orbit"===e.controllerType?e.orbitCameraState&&Es.orbitCameraController.setState(e.orbitCameraState):e.firstPersonCameraState&&Es.firstPersonCameraController.setState(e.firstPersonCameraState)}},{key:"updateViewState",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(r&&(this.view=r),this.view)&&this.view.setState({targetName:null!==(e=null===(t=Es.world.cameraController)||void 0===t||null===(n=t.object)||void 0===n?void 0:n.name)&&void 0!==e?e:"",settings:Es.project.settings.state.cameraController,camStateMsg:this.camStateMsg})}}]),e}(),yA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).viewModel=new gA,e}return(0,i.Z)(s,[{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(AA.Z,{})}},{key:"renderContent",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Camera Controller Properties"}),(0,xe.jsx)(mA,{viewModel:this.viewModel,ref:this.viewModel.updateViewState})]})}}]),s}(Eh),xA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={},e}return(0,i.Z)(s,[{key:"render",value:function(){var t=this;if(this.props.viewModel&&0!==Object.keys(this.state).length)return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{style:{width:"250px"},children:"Occlusion Test"}),(0,xe.jsx)("div",{children:(0,xe.jsx)(fp,{checked:this.state.modelState.visibilityTest,onChange:function(e,n){return t.props.viewModel.onCommitProperty("visibilityTest",n)}})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{style:{width:"250px"},children:"Show Nav Buttons"}),(0,xe.jsx)("div",{children:(0,xe.jsx)(fp,{checked:this.state.modelState.showNavButtons,onChange:function(e,n){return t.props.viewModel.onCommitProperty("showNavButtons",n)}})})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Button Properties"}),(0,xe.jsxs)("div",{children:["Size\xa0",(0,xe.jsx)(Id,{value:this.state.modelState.size,name:"size",type:"number",style:{width:"60px",marginRight:"2px"},onBlur:this.props.viewModel.onPropertyBlur,onKeyUp:this.props.viewModel.onPropertyBlur,onChange:this.props.viewModel.onPropertyChanged})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Text Color"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(Gf,{title:"Select Color",children:(0,xe.jsx)("input",{type:"color",value:this.state.modelState.textColor,onChange:function(e){return t.props.viewModel.onCommitProperty("textColor",e.target.value)}})})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Fill Color"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(Gf,{title:"Select Color",children:(0,xe.jsx)("input",{type:"color",value:this.state.modelState.fillColor,name:"backgroundColor",onChange:function(e){return t.props.viewModel.onCommitProperty("fillColor",e.target.value)}})})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Border Color"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(Gf,{title:"Select Color",children:(0,xe.jsx)("input",{type:"color",value:this.state.modelState.borderColor,name:"borderColor",onChange:function(e){return t.props.viewModel.onCommitProperty("borderColor",e.target.value)}})})})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Add Annotation"}),(0,xe.jsxs)("div",{children:["Button Text\xa0",(0,xe.jsx)(Id,{value:this.state.viewState.buttonText,style:{width:"100px",marginRight:"2px"},onChange:function(e){return t.props.viewModel.onViewStatePropertyChanged("buttonText",e.target.value)}})]}),(0,xe.jsxs)("div",{children:["Label Text",(0,xe.jsx)("textarea",{className:"annotation-box-textinput",multiline:!0,rows:"3",value:this.state.viewState.labelText,onChange:function(e){return t.props.viewModel.onViewStatePropertyChanged("labelText",e.target.value)}}),"add"===this.state.viewState.editMode?(0,xe.jsx)("div",{children:(0,xe.jsx)("div",{children:"Rotate, zoom and pan the camera to adjust the view then click on the model to position the label."})}):(0,xe.jsx)(Ti,{variant:"contained",color:"primary",size:"small",disabled:this.state.viewState.addButtonDisabled,onClick:this.props.viewModel.onAddAnnotation,children:"Add"})]})]})}}]),s}(e.Component),bA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o,s){var l;return(0,r.Z)(this,n),(l=t.call(this)).object=s,l.settings=e,l.position=i.clone(),l.buttonText=a,l.labelText=o,l}return(0,i.Z)(n,[{key:"name",get:function(){return"Add Annotation"}},{key:"execute",value:function(){return this.annot=function(e,t,n,r,i,a,o){var s=new Yi.u9r;s.setAttribute("position",new Yi.a$l([0,0,0],3));var l=ts(t,r,i,a),u=new Yi.UY4({color:4294967295,size:e,sizeAttenuation:!1,depthTest:!1,transparent:!0,map:l}),c=new Yi.woe(s,u);return c.renderOrder=Number.POSITIVE_INFINITY,c.userData={buttonText:t,labelText:n,size:e,fillColor:r,textColor:i,borderColor:a,cameraState:o},c}(this.settings.size,this.buttonText,this.labelText,this.settings.fillColor,this.settings.textColor,this.settings.borderColor,Es.world.cameraController.getState()),this.object.worldToLocal(this.position),this.annot.position.copy(this.position),Es.addAnnotation(this.annot,this.object),this.annot}},{key:"undo",value:function(){Es.removeAnnotation(this.annot)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),wA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).settings=(0,Yo.cloneDeep)(e),a.prevSettings=(0,Yo.cloneDeep)(i),a}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Environment Property"}},{key:"execute",value:function(){Es.project.settings.setValue("annotations",this.settings),Es.updateAnnotations()}},{key:"undo",value:function(){Es.project.settings.setValue("annotations",this.prevSettings),Es.updateAnnotations()}},{key:"redo",value:function(){this.execute()}}]),n}(bo),CA=function(){function e(){var t=this;(0,r.Z)(this,e),this.viewState={editMode:"select",addButtonDisabled:!1,labelText:"Enter description",buttonText:"1"},this.updateViewState=this.updateViewState.bind(this),this.onEditModeOk=this.onEditModeOk.bind(this),this.onPropertyChanged=this.onPropertyChanged.bind(this),this.onPropertyBlur=this.onPropertyBlur.bind(this),this.onAddAnnotation=this.onAddAnnotation.bind(this),ni.instance.subscribe(mi,(function(){t.updateViewState()})),ni.instance.subscribe(li,(function(e){if("add"===t.viewState.editMode){var n=new bA(Es.project.settings.state.annotations,e.intersect.point,t.viewState.buttonText,t.viewState.labelText,e.intersect.object);Ei.execute(n),t.viewState.editMode="select",t.updateViewState()}}))}return(0,i.Z)(e,[{key:"onCommitProperty",value:function(e,t){var n=(0,Yo.cloneDeep)(Es.project.settings.state.annotations);n[e]=t;var r=new wA(n,Es.project.settings.state.annotations);Ei.execute(r),this.updateViewState()}},{key:"onPropertyChanged",value:function(e){Es.project.settings.setValue("annotations.".concat(e.target.name),e.target.value),this.updateViewState()}},{key:"onPropertyBlur",value:function(e){e.key&&"Enter"!==e.key||this.onCommitProperty(e.target.name,e.target.value)}},{key:"onViewStatePropertyChanged",value:function(e,t){this.viewState[e]=t,this.updateViewState()}},{key:"onEditModeOk",value:function(){this.viewState.editMode="select",this.updateViewState()}},{key:"onAddAnnotation",value:function(){this.viewState.editMode="add",this.updateViewState()}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.view.setState({viewState:this.viewState,modelState:Es.project.settings.state.annotations})}}]),e}(),EA=n(9229),SA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).viewModel=new CA,e}return(0,i.Z)(s,[{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(EA.Z,{})}},{key:"renderContent",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Annotation Properties"}),(0,xe.jsx)(xA,{viewModel:this.viewModel,ref:this.viewModel.updateViewState})]})}}]),s}(Eh),IA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).state={},e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this;return 0!==!Object.keys(this.state).length&&this.props.viewModel&&this.state.viewState?(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Project Settings"}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{InputLabelProps:{shrink:!0},label:"Title",value:this.state.settings.project.title,style:{width:"98%"},inputProps:{min:0},onChange:function(t){return e.props.viewModel.onPropertyChanged("project.title",t.target.value)}})}),(0,xe.jsxs)("div",{children:["Description",(0,xe.jsx)("textarea",{className:"annotation-box-textinput",multiline:!0,rows:"3",value:this.state.settings.project.description,onChange:function(t){return e.props.viewModel.onPropertyChanged("project.description",t.target.value)}})]}),"Project Image",(0,xe.jsx)("img",{className:"image-thumb",src:this.state.viewState.loadingImage}),(0,xe.jsx)(Ti,{style:{width:"120px"},variant:"contained",color:"primary",onClick:this.props.viewModel.onCaptureScreen,children:"Capture Image"}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Viewer settings"}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Auto-rotate"}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Enable",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.autoRotate.enabled,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.autoRotate.enabled",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{InputLabelProps:{shrink:!0},label:"Auto Rotate Speed",type:"number",value:this.state.settings.viewer.autoRotate.speed,style:{width:"150px"},inputProps:{min:0},onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.autoRotate.speed",t.target.value)}})}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Menus"}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Show Options",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.menu.showOptions,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.menu.showOptions",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Show Help",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.menu.showHelp,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.menu.showHelp",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Show Info",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.menu.showInfo,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.menu.showInfo",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"AR Settings"}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Enable AR",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.ar.enabled,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.ar.enabled",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Use WebAR",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.ar.webAr,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.ar.webAr",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)(Id,{label:"Model root node",InputLabelProps:{shrink:!0},value:this.state.settings.viewer.ar.arModelRootNodeName,style:{width:"150px"},onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.ar.arModelRootNodeName",t.target.value)}}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"VR Settings"}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Enable VR",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.vr.enabled,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.vr.enabled",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)(Id,{label:"Walk speed",type:"number",InputLabelProps:{shrink:!0},value:this.state.settings.viewer.vr.walkSpeed,style:{width:"150px"},onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.vr.walkSpeed",t.target.value)}}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Stop walking when outside floor geometry",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.vr.rayGeometryTest,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.vr.rayGeometryTest",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Dimensions Tool"}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Show Dimensions Tool",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.dimensionsTool.show,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.dimensionsTool.show",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Animations"}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{InputLabelProps:{shrink:!0},label:"Start Animation",value:this.state.settings.viewer.animations.startAnimation,style:{width:"250px"},onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.animations.startAnimation",t.target.value)}})}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Loop Start Animation",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.viewer.animations.loopStartAnimation,onChange:function(t){return e.props.viewModel.onPropertyChanged("viewer.animations.loopStartAnimation",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]}):null}}]),n}(e.Component),MA=function(){function e(){var t=this;(0,r.Z)(this,e),this.viewState={imageSrc:null},this.updateViewState=this.updateViewState.bind(this),this.onCaptureScreen=this.onCaptureScreen.bind(this),this.onSetVRPosition=this.onSetVRPosition.bind(this),this.onClearVRPosition=this.onClearVRPosition.bind(this),this.onPropertyChanged=this.onPropertyChanged.bind(this),ni.instance.subscribe(mi,(function(){return t.updateViewState()})),ni.instance.subscribe(oi,(function(){Es.project.loadingImage&&(t.viewState.loadingImage=Es.project.loadingImage),t.updateViewState()}))}return(0,i.Z)(e,[{key:"onSetVRPosition",value:function(){var e=function(e,t){var n=new Yi.iMs(e.position,new Yi.Pa4(0,-1,0),0,1e3).intersectObjects(t,!0);return n.length?n[0].point:null}(this.world.camera,this.scene);this.model.initialVrPosition=[this.world.camera.position.x,e?e.y:0,this.world.camera.position.z],this.model.initialVrRotation=[this.world.camera.rotation.x,this.world.camera.rotation.y,this.world.camera.rotation.z],this.updateViewState(),ni.instance.notifyAll(new zu("Initial VR position set. Save the scene to save settings."))}},{key:"onClearVRPosition",value:function(){this.model.initialVrPosition=null,this.model.initialVrRotation=null,this.updateViewState(),ni.instance.notifyAll(new zu("Initial VR position cleared. Save the scene."))}},{key:"onPropertyChanged",value:function(e,t){Es.project.settings.setValue(e,t),this.updateViewState()}},{key:"onCaptureScreen",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){var t;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=uh(Es.world),this.viewState.loadingImage=t,Es.project.loadingImage=t,this.updateViewState();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.view.setState({settings:Es.project.settings.state,viewState:(0,wa.Z)({},this.viewState)})}}]),e}(),_A=n(5821),kA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).viewModel=new MA,e}return(0,i.Z)(s,[{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(_A.Z,{})}},{key:"renderContent",value:function(){return(0,xe.jsx)(e.Fragment,{children:(0,xe.jsx)(IA,{viewModel:this.viewModel,ref:this.viewModel.updateViewState})})}}]),s}(Eh),BA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this)}return(0,i.Z)(n,[{key:"name",get:function(){return"Frame All"}},{key:"undoable",get:function(){return!1}},{key:"execute",value:function(){Es.frameScene()}}]),n}(bo),TA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.call(this)}return(0,i.Z)(n,[{key:"name",get:function(){return"Frame Selection"}},{key:"undoable",get:function(){return!1}},{key:"execute",value:function(){Es.selectedObject&&Es.frameObject(Es.selectedObject)}}]),n}(bo),RA=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"execute",value:function(e){var t;switch(e){case"frame selection":t=new TA;break;case"frame scene":t=new BA}t&&Ei.execute(t)}}]),e}(),DA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).image=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Add CubeMap Image"}},{key:"execute",value:function(){var e=[this.image,this.image,this.image,this.image,this.image,this.image];Es.project.addCubeMap("gemstoneMap",[this.image]);var t=new Yi.BtG(e,Yi.fY$);t.needsUpdate=!0,Es.applyCubeMapToMaterials(t,(function(e){return e.name.toLowerCase().includes("gemstone")}))}},{key:"undo",value:function(){Es.project.removeCubeMap(this.name),Es.project.scene.traverse((function(e){e instanceof Yi.Kj0&&e.material.name.toLowerCase().includes("gemstone")&&(e.material.envMap&&e.material.envMap.dispose(),e.material.envMap=null)}))}},{key:"redo",value:function(){this.execute()}}]),n}(bo),PA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).prevValue=(0,Yo.get)(Es.project.settings.state.effects,e),a.propName=e,a.value=i,a}return(0,i.Z)(n,[{key:"name",get:function(){return"Set Effects Property"}},{key:"setValue",value:function(e){Es.project.settings.setValue("effects.".concat(this.propName),e),Es.setEffects()}},{key:"execute",value:function(){this.setValue(this.value)}},{key:"undo",value:function(){this.setValue(this.prevValue)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),LA=function(){function e(){var t=this;(0,r.Z)(this,e),this.updateViewState=this.updateViewState.bind(this),this.onGemstoneMapChanged=this.onGemstoneMapChanged.bind(this),this.onGemstoneMapDelete=this.onGemstoneMapDelete.bind(this),this.onRefeshGemstoneEffect=this.onRefeshGemstoneEffect.bind(this),this.viewState={preview:!1},ni.instance.subscribe(Ai,(function(){t.gemstoneMap=null;var e=Es.project.cubeMaps.gemstoneMap;e&&e.images&&(t.gemstoneMap=new Yi.xEZ(e.images[0])),t.updateViewState()}))}return(0,i.Z)(e,[{key:"onPropertyChanged",value:function(e,t){var n=new PA(e,t);Ei.execute(n),this.updateViewState()}},{key:"onViewStateChanged",value:function(e,t){this.viewState[e]=t,Es.effectsPreviewMode=this.viewState.preview,this.updateViewState()}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e);var t=Es.project.settings.state.effects;this.view&&this.view.setState({settings:t,viewState:this.viewState,gemstoneMap:this.gemstoneMap})}},{key:"onGemstoneMapChanged",value:function(e){this.gemstoneMap=e,Ei.execute(new DA(e.image)),this.updateViewState()}},{key:"onRefeshGemstoneEffect",value:function(){Ei.execute(new DA(this.gemstoneMap.image),!1)}},{key:"onGemstoneMapDelete",value:function(){this.updateViewState()}}]),e}(),QA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).state={},e}return(0,i.Z)(s,[{key:"render",value:function(){var t=this;return this.props.viewModel&&0!==Object.keys(this.state).length?(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Bloom Effect"}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Enabled",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.bloom.enabled,onChange:function(e){return t.props.viewModel.onPropertyChanged("bloom.enabled",e.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)(rd,{children:"Strength"}),(0,xe.jsx)(rp,{style:{width:"200px"},value:100*this.state.settings.bloom.strength,onChange:function(e,n){return t.props.viewModel.onPropertyChanged("bloom.strength",n/100)}}),(0,xe.jsx)(rd,{children:"Threshold"}),(0,xe.jsx)(rp,{style:{width:"200px"},value:100*this.state.settings.bloom.threshold,onChange:function(e,n){return t.props.viewModel.onPropertyChanged("bloom.threshold",n/100)}}),(0,xe.jsx)(rd,{children:"Radius"}),(0,xe.jsx)(rp,{style:{width:"200px"},value:100*this.state.settings.bloom.radius,onChange:function(e,n){return t.props.viewModel.onPropertyChanged("bloom.radius",n/100)}}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Depth of Field"}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Enabled",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.settings.dof.enabled,onChange:function(e){return t.props.viewModel.onPropertyChanged("dof.enabled",e.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]}),(0,xe.jsx)(rd,{children:"Focus"}),(0,xe.jsx)(rp,{style:{width:"200px"},value:100*this.state.settings.dof.focus,onChange:function(e,n){return t.props.viewModel.onPropertyChanged("dof.focus",n/100)}}),(0,xe.jsx)(rd,{children:"Focal Length"}),(0,xe.jsx)(rp,{style:{width:"200px"},value:100*this.state.settings.dof.focalLength,onChange:function(e,n){return t.props.viewModel.onPropertyChanged("dof.focalLength",n/100)}}),(0,xe.jsx)(rd,{children:"Blur"}),(0,xe.jsx)(rp,{style:{width:"200px"},value:100*this.state.settings.dof.blur,onChange:function(e,n){return t.props.viewModel.onPropertyChanged("dof.blur",n/100)}}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Gemstone Effect"}),(0,xe.jsx)(rd,{children:"Environment Map"}),(0,xe.jsx)(mp,{texture:this.state.gemstoneMap,onChange:this.props.viewModel.onGemstoneMapChanged,onDelete:this.props.viewModel.onGemstoneMapDelete}),(0,xe.jsx)(Ti,{variant:"contained",startIcon:(0,xe.jsx)(cA.Z,{}),color:"primary",onClick:this.props.viewModel.onRefeshGemstoneEffect,children:"Refresh"}),(0,xe.jsx)("br",{}),(0,xe.jsx)(Jr,{}),(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Preview Effects",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.viewState.preview,onChange:function(e){return t.props.viewModel.onViewStateChanged("preview",e.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})]}):null}}]),s}(e.Component),jA=n(7201),NA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).viewModel=new LA,e}return(0,i.Z)(s,[{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(jA.Z,{})}},{key:"renderContent",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Effects Properties"}),(0,xe.jsx)(QA,{viewModel:this.viewModel,ref:this.viewModel.updateViewState})]})}}]),s}(Eh),FA=n(7341),UA=function(){function e(){(0,r.Z)(this,e),this.onPropertyChanged=this.onPropertyChanged.bind(this),this.updateViewState=this.updateViewState.bind(this),this.viewState={gridOn:!0,gridSize:100,gridDivisions:40,gridCenterColor:"#402020",gridColor:"#202020"};var t=localStorage.getItem("editor-prefs");t&&(this.viewState=JSON.parse(t)),this.setGrid()}return(0,i.Z)(e,[{key:"onPropertyChanged",value:function(e,t){this.viewState[e]=t,this.updateViewState(),this.setGrid(),localStorage.setItem("editor-prefs",JSON.stringify(this.viewState))}},{key:"setGrid",value:function(){Es.setGrid(this.viewState.gridSize,this.viewState.gridDivisions,new Yi.Ilk(this.viewState.gridColor),new Yi.Ilk(this.viewState.gridCenterColor),this.viewState.gridOn)}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.view.setState({viewState:(0,wa.Z)({},this.viewState)})}}]),e}(),OA=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).state={},e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this;return this.props.viewModel&&0!==Object.keys(this.state).length?(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Grid"}),(0,xe.jsx)("div",{children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Show",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.viewState.gridOn,onChange:function(t){return e.props.viewModel.onPropertyChanged("gridOn",t.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{label:"Size",InputLabelProps:{shrink:!0},value:this.state.viewState.gridSize,style:{width:"200px"},onChange:function(t){return e.props.viewModel.onPropertyChanged("gridSize",t.target.value)}})}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{label:"Divisions",InputLabelProps:{shrink:!0},value:this.state.viewState.gridDivisions,style:{width:"200px"},onChange:function(t){return e.props.viewModel.onPropertyChanged("gridDivisions",t.target.value)}})}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Line Color"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(Gf,{title:"Select Color",children:(0,xe.jsx)("input",{type:"color",value:this.state.viewState.gridColor,onChange:function(t){return e.props.viewModel.onPropertyChanged("gridColor",t.target.value)}})})})]}),(0,xe.jsxs)("div",{className:"flexrow",children:[(0,xe.jsx)("div",{className:"flexcol",children:"Center Line Color"}),(0,xe.jsx)("div",{className:"flexcol",children:(0,xe.jsx)(Gf,{title:"Select Color",children:(0,xe.jsx)("input",{type:"color",value:this.state.viewState.gridCenterColor,onChange:function(t){return e.props.viewModel.onPropertyChanged("gridCenterColor",t.target.value)}})})})]})]}):null}}]),n}(e.Component),ZA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).viewModel=new UA,e}return(0,i.Z)(s,[{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(FA.Z,{})}},{key:"renderContent",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Preferences"}),(0,xe.jsx)(OA,{viewModel:this.viewModel,ref:this.viewModel.updateViewState})]})}}]),s}(Eh),zA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(e){var t;return(0,r.Z)(this,s),(t=n.call(this,e)).state={wrapperWidth:100,wrapperWidthUnits:"%",wrapperAspect:"80",scriptCode:"",wrapperPre:"",wrapperPost:"",includeWrapperCode:!1,projectUrl:"",sceneFile:"",licenseKey:"",startButton:!0,animateStartButton:!0,loadingImage:""},t}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateScriptCode();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateScriptCode",value:function(){var e="".concat(ye.viewerUrl,"?projectFile=").concat(this.state.projectUrl,"&sceneFile=").concat(this.state.sceneFile).concat(this.state.licenseKey?"&licenseKey="+this.state.licenseKey:"").concat(this.state.loadingImage?"&loadingImage="+this.state.loadingImage:"").concat(this.state.startButton?"&showStartButton":"").concat(this.state.animateStartButton?"&animateStartButton":"");this.setState({wrapperPre:'<div style="width:'.concat(this.state.wrapperWidth+this.state.wrapperWidthUnits,'">\n    <div style="position: relative;padding-top:').concat(this.state.wrapperAspect,'%">\n        <div style="position:absolute;left:0;right:0;top:0;bottom:0">\n            '),wrapperPost:"\n        </div>\n    </div>\n</div>",scriptCode:'<iframe id="ezyview-viewer" src="'.concat(e,'" width="100%" height="100%" style="border:none; "frameborder="0" xr-spatial-tracking="true" autoplay allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="fullscreen"></iframe>')})}},{key:"setUrlOption",value:function(e,t){var n=this;this.setState((0,cn.Z)({},e,t),(function(){n.updateScriptCode()}))}},{key:"onCopyClick",value:function(){var e=document.getElementById("script-text");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}},{key:"onCopyArButtonScriptClick",value:function(){var e=document.getElementById("ar-html-text");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}},{key:"render",value:function(){var t=this;return(0,xe.jsx)("div",{children:(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{label:"Project file URL",InputLabelProps:{shrink:!0},value:this.state.projectUrl,style:{width:"98%"},onChange:function(e){t.setState({projectUrl:e.target.value},(function(){t.updateScriptCode()}))}})}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{label:"Scene file URL (glb)",InputLabelProps:{shrink:!0},value:this.state.sceneFile,style:{width:"98%"},onChange:function(e){t.setState({sceneFile:e.target.value},(function(){t.updateScriptCode()}))}})}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{label:"Loading image URL",InputLabelProps:{shrink:!0},value:this.state.loadingImage,style:{width:"98%"},onChange:function(e){t.setState({loadingImage:e.target.value},(function(){t.updateScriptCode()}))}})}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Id,{label:"License key",InputLabelProps:{shrink:!0},value:this.state.licenseKey,style:{width:"98%"},onChange:function(e){t.setState({licenseKey:e.target.value},(function(){t.updateScriptCode()}))}})}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Show start button",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.startButton,onChange:function(e){t.setState({startButton:e.target.checked})}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),(0,xe.jsx)("div",{children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Animate start button",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.animateStartButton,onChange:function(e){t.setState({animateStartButton:e.target.checked})}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),(0,xe.jsx)("div",{children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Include wrapper code",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.includeWrapperCode,onChange:function(e){t.setState({includeWrapperCode:e.target.checked})}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),(0,xe.jsx)("br",{}),this.state.includeWrapperCode&&(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsxs)("div",{className:"flexrow",style:{marginBottom:"5px"},children:[(0,xe.jsx)("div",{style:{width:"100px"},children:"Width\xa0"}),(0,xe.jsx)("input",{value:this.state.wrapperWidth,style:{width:"60px"},onChange:function(e){t.setState({wrapperWidth:e.target.value},(function(){t.updateScriptCode()}))}}),"\xa0",(0,xe.jsxs)(Cd,{value:this.state.wrapperWidthUnits,style:{height:"30px"},onChange:function(e){t.setState({wrapperWidthUnits:e.target.value},(function(){t.updateScriptCode()}))},children:[(0,xe.jsx)("option",{value:"%",children:"%"}),(0,xe.jsx)("option",{value:"px",children:"px"})]})]}),(0,xe.jsxs)("div",{className:"flexrow",style:{marginBottom:"5px"},children:[(0,xe.jsx)("div",{style:{width:"100px"},children:"Aspect Ratio\xa0"}),(0,xe.jsxs)(Cd,{value:this.state.wrapperAspect,style:{height:"30px"},onChange:function(e){t.setState({wrapperAspect:e.target.value},(function(){t.updateScriptCode()}))},children:[(0,xe.jsx)("option",{value:"100",children:"1 : 1"}),(0,xe.jsx)("option",{value:"80",children:"5 : 4"}),(0,xe.jsx)("option",{value:"75",children:"4 : 3"}),(0,xe.jsx)("option",{value:"66.67",children:"3 : 2"}),(0,xe.jsx)("option",{value:"56",children:"16 : 9"}),(0,xe.jsx)("option",{value:"50",children:"2 : 1"}),(0,xe.jsx)("option",{value:"33.33",children:"3 : 1"}),(0,xe.jsx)("option",{value:"133",children:"3 : 4"}),(0,xe.jsx)("option",{value:"150",children:"2 : 3"}),(0,xe.jsx)("option",{value:"200",children:"1 : 2"}),(0,xe.jsx)("option",{value:"300",children:"1 : 3"})]}),(0,xe.jsx)("div",{style:{width:"50px",height:parseFloat(this.state.wrapperAspect)/100*50+"px",backgroundColor:"#888",marginLeft:"10px",border:"1px solid black"}})]})]}),(0,xe.jsx)("div",{className:"flexrow",children:(0,xe.jsx)("textarea",{style:{width:"98%"},rows:"15",id:"script-text",value:this.state.includeWrapperCode?this.state.wrapperPre+this.state.scriptCode+this.state.wrapperPost:this.state.scriptCode})}),(0,xe.jsx)("div",{className:"flexrow",children:(0,xe.jsx)(Ti,{size:"small",onClick:this.onCopyClick,color:"primary",children:"copy"})})]})]})})}}]),s}(e.Component),GA=n(265),HA=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),n.call(this)}return(0,i.Z)(s,[{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(GA.Z,{})}},{key:"renderContent",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Embed Viewer"}),(0,xe.jsx)(zA,{})]})}}]),s}(Eh),VA=n(3878),WA=n(9199),qA=n(181),YA=n(5267);var XA=e.createContext({}),JA=e.forwardRef((function(t,n){var r,i=t.children,a=t.classes,o=t.className,s=t.defaultExpanded,l=void 0!==s&&s,u=t.disabled,h=void 0!==u&&u,d=t.expanded,f=t.onChange,p=t.square,A=void 0!==p&&p,m=t.TransitionComponent,v=void 0===m?Vp:m,g=t.TransitionProps,y=(0,Nt.Z)(t,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),x=(0,cd.Z)({controlled:d,default:l,name:"Accordion",state:"expanded"}),b=(0,Un.Z)(x,2),w=b[0],C=b[1],E=e.useCallback((function(e){C(!w),f&&f(e,!w)}),[w,f,C]),S=e.Children.toArray(i),I=(r=S,(0,VA.Z)(r)||(0,WA.Z)(r)||(0,qA.Z)(r)||(0,YA.Z)()),M=I[0],_=I.slice(1),k=e.useMemo((function(){return{expanded:w,disabled:h,toggle:E}}),[w,h,E]);return e.createElement(ar,(0,c.Z)({className:(0,Ft.Z)(a.root,o,w&&a.expanded,h&&a.disabled,!A&&a.rounded),ref:n,square:A},y),e.createElement(XA.Provider,{value:k},M),e.createElement(v,(0,c.Z)({in:w,timeout:"auto"},g),e.createElement("div",{"aria-labelledby":M.props.id,id:M.props["aria-controls"],role:"region"},_)))})),KA=(0,Ut.Z)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(JA),$A=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.expandIcon,s=t.focusVisibleClassName,l=t.IconButtonProps,u=void 0===l?{}:l,h=t.onClick,d=(0,Nt.Z)(t,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),f=e.useContext(XA),p=f.disabled,A=void 0!==p&&p,m=f.expanded,v=f.toggle;return e.createElement(an,(0,c.Z)({focusRipple:!1,disableRipple:!0,disabled:A,component:"div","aria-expanded":m,className:(0,Ft.Z)(i.root,a,A&&i.disabled,m&&i.expanded),focusVisibleClassName:(0,Ft.Z)(i.focusVisible,i.focused,s),onClick:function(e){v&&v(e),h&&h(e)},ref:n},d),e.createElement("div",{className:(0,Ft.Z)(i.content,m&&i.expanded)},r),o&&e.createElement(ln,(0,c.Z)({className:(0,Ft.Z)(i.expandIcon,m&&i.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},u),o))})),em=(0,Ut.Z)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})($A),tm=e.forwardRef((function(t,n){var r=t.classes,i=t.className,a=(0,Nt.Z)(t,["classes","className"]);return e.createElement("div",(0,c.Z)({className:(0,Ft.Z)(r.root,i),ref:n},a))})),nm=(0,Ut.Z)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(tm),rm=n(867),im=n(1254);function am(e){return(0,xe.jsxs)("div",{className:"tool-heading",children:[e.showCloseIcon&&(0,xe.jsx)(Ap.Z,{style:{alignSelf:"center",fontSize:"medium",textAlign:"left"},onClick:e.onClose}),(0,xe.jsx)("div",{className:"tool-heading-title",children:e.title})]})}var om=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,xe.jsxs)(Oi,{fullWidth:this.props.fullWidth,fullScreen:this.props.fullScreen,maxWidth:this.props.maxWidth,open:this.props.open,onClose:this.props.handleCancel,"aria-labelledby":"responsive-dialog-title",children:[this.props.showHeader&&(0,xe.jsx)(am,{title:this.props.title}),(0,xe.jsx)(Hi,{children:this.props.renderContent&&this.props.renderContent()}),(0,xe.jsx)("div",{children:this.props.renderFixedContent&&this.props.renderFixedContent()}),(0,xe.jsxs)(zi,{children:[(0,xe.jsx)(Ti,{autoFocus:!0,disabled:this.props.okButtonDisabled,onClick:this.props.handleOk,color:"primary",children:this.props.okButtonName}),this.props.showCancelButton&&(0,xe.jsx)(Ti,{onClick:this.props.handleCancel,color:"primary",autoFocus:!0,children:this.props.cancelButtonName})]})]})}}]),n}(e.Component);om.defaultProps={fullScreen:!1,fullWidth:!1,title:"",open:!1,okButtonName:"Ok",okButtonDisabled:!1,cancelButtonName:"Cancel",maxWidth:"md",showCancelButton:!0,showHeader:!0};var sm,lm=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).renderList=e.renderList.bind((0,jt.Z)(e)),e.handleChangeMultiple=e.handleChangeMultiple.bind((0,jt.Z)(e)),e}return(0,i.Z)(n,[{key:"handleChangeMultiple",value:function(e){for(var t=e.target.options,n=[],r=0;r<t.length;r++)t[r].selected&&n.push({name:t[r].text,value:t[r].value});this.props.onListChanged&&this.props.onListChanged(n)}},{key:"renderList",value:function(){return(0,xe.jsx)(Cd,{native:!0,multiple:!0,onChange:this.handleChangeMultiple,style:{minWidth:"400px",marginBottom:"10px"},children:this.props.items.map((function(e,t){return(0,xe.jsx)("option",{value:e.value,children:e.name},t)}))})}},{key:"render",value:function(){return(0,xe.jsx)(om,(0,wa.Z)({renderContent:this.renderList},this.props))}}]),n}(e.Component),um=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).state={materialDlgOpen:!1},i.selectedMats=[],i.onMaterialDlgCancel=i.onMaterialDlgCancel.bind((0,jt.Z)(i)),i.onAddMaterialClick=i.onAddMaterialClick.bind((0,jt.Z)(i)),i}return(0,i.Z)(n,[{key:"onMaterialDlgCancel",value:function(){this.setState({materialDlgOpen:!1})}},{key:"onAddMaterialClick",value:function(){this.setState({materialDlgOpen:!0})}},{key:"renderVariant",value:function(e,t){var n,r,i,a,o,s,l,u,c,h=this;return e.map&&(a=Es.project.variantMaps[e.map]),e.normalMap&&(o=Es.project.variantMaps[e.normalMap]),e.aoMap&&(s=Es.project.variantMaps[e.aoMap]),e.displacementMap&&(l=Es.project.variantMaps[e.displacementMap]),e.roughnessMap&&(u=Es.project.variantMaps[e.roughnessMap]),e.metalnessMap&&(c=Es.project.variantMaps[e.metalnessMap]),(0,xe.jsx)("div",{className:"flexrow",children:(0,xe.jsxs)(KA,{style:{width:"99%"},expanded:this.state.variantExpanded,onChange:function(){h.setState({variantExpanded:!h.state.variantExpanded})},children:[(0,xe.jsx)(em,{expandIcon:(0,xe.jsx)(zp.Z,{}),children:(0,xe.jsx)("span",{style:{width:"100%"},children:e.name})}),(0,xe.jsx)(nm,{children:(0,xe.jsxs)("div",{className:"material-pane",children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Properties"}),(0,xe.jsx)("table",{className:"editor-table",children:(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:(0,xe.jsx)("div",{className:"ctl-label",children:"Name\xa0"})}),(0,xe.jsx)("td",{children:(0,xe.jsx)("input",{label:"Name",style:{width:"200px"},value:e.name,onChange:function(t){return h.props.viewModel.onVariantPropertyChange(e,"name",t.target.value)}})}),(0,xe.jsx)("td",{children:(0,xe.jsx)(Gf,{title:"Icon color",children:(0,xe.jsx)("input",{type:"color",value:e.iconColor||"#ffffff",onChange:function(t){return h.props.viewModel.onVariantPropertyChange(e,"iconColor",t.target.value)}})})}),(0,xe.jsx)("td",{style:{textAlign:"right"},children:(0,xe.jsx)(Gf,{title:"Delete",children:(0,xe.jsx)("div",{style:{marginLeft:"auto"},children:(0,xe.jsx)(rm.Z,{size:"small",onClick:function(){return h.props.viewModel.onDeleteVariant(e)}})})})})]})}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Material Properties"}),(0,xe.jsxs)("table",{className:"editor-table",children:[(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Diffuse\xa0color"}),(0,xe.jsx)("td",{children:(0,xe.jsx)("input",{type:"color",value:e.color,onChange:function(t){return h.props.viewModel.onVariantPropertyChange(e,"color",t.target.value)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Emissive\xa0Color"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(Gf,{title:"Select Color",children:(0,xe.jsx)("input",{type:"color",value:e.emissive,onChange:function(t){return h.props.viewModel.onVariantPropertyChange(e,"emissive",t.target.value)}})})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Transparent"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(fp,{checked:e.transparent,onChange:function(t,n){return h.props.viewModel.onVariantPropertyChange(e,"transparent",n)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Opacity"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(rp,{value:100*e.opacity,onChange:function(t,n){return h.props.viewModel.onVariantPropertyChange(e,"opacity",n/100)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Roughness"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(rp,{value:100*e.roughness,onChange:function(t,n){return h.props.viewModel.onVariantPropertyChange(e,"roughness",n/100)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Metalness"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(rp,{value:100*e.metalness,onChange:function(t,n){return h.props.viewModel.onVariantPropertyChange(e,"metalness",n/100)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Diffuse Map"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(mp,{texture:a,onChange:function(t){return h.props.viewModel.onVariantMapChange(e,"map",t)},onDelete:function(){return h.props.viewModel.onVariantMapDelete(e,"map")},accept:"image/*"})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Normal Map"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(mp,{texture:o,onChange:function(t){return h.props.viewModel.onVariantMapChange(e,"normalMap",t)},onDelete:function(){return h.props.viewModel.onVariantMapDelete(e,"normalMap")},accept:"image/*"})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"AO Map"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(mp,{texture:s,onChange:function(t){return h.props.viewModel.onVariantMapChange(e,"aoMap",t)},onDelete:function(){return h.props.viewModel.onVariantMapDelete(e,"aoMap")},accept:"image/*"})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Displacement Map"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(mp,{texture:l,onChange:function(t){return h.props.viewModel.onVariantMapChange(e,"displacementMap",t)},onDelete:function(){return h.props.viewModel.onVariantMapDelete(e,"displacementMap")},accept:"image/*"})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Displacement Map Scale"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(rp,{value:100*(null!==(n=e.displacementMapScale)&&void 0!==n?n:1),onChange:function(t,n){return h.props.viewModel.onVariantPropertyChange(e,"displacementMapScale",n/100)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Roughness Map"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(mp,{texture:u,onChange:function(t){return h.props.viewModel.onVariantMapChange(e,"roughnessMap",t)},onDelete:function(){return h.props.viewModel.onVariantMapDelete(e,"roughnessMap")},accept:"image/*"})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Metalness Map"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(mp,{texture:c,onChange:function(t){return h.props.viewModel.onVariantMapChange(e,"metalnessMap",t)},onDelete:function(){return h.props.viewModel.onVariantMapDelete(e,"metalnessMap")},accept:"image/*"})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"U Repeat"}),(0,xe.jsx)("td",{children:(0,xe.jsx)("input",{value:null!==(r=e.texURepeat)&&void 0!==r?r:1,style:{width:"50px"},onChange:function(t){return h.props.viewModel.onVariantPropertyChange(e,"texURepeat",t.target.value)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"V Repeat"}),(0,xe.jsx)("td",{children:(0,xe.jsx)("input",{value:null!==(i=e.texVRepeat)&&void 0!==i?i:1,style:{width:"50px"},onChange:function(t){return h.props.viewModel.onVariantPropertyChange(e,"texVRepeat",t.target.value)}})})]})]}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Colors"}),(0,xe.jsx)("table",{className:"editor-table",children:e.colors.map((function(t,n){return(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:(0,xe.jsx)(Gf,{title:"Select Color",children:(0,xe.jsx)("input",{type:"color",value:t.color,onChange:function(e){return h.props.viewModel.onVariantColorPropertyChange(t,"color",e.target.value)}})})}),(0,xe.jsx)("td",{children:(0,xe.jsx)("div",{className:"ctl-label",children:"Name\xa0"})}),(0,xe.jsx)("td",{children:(0,xe.jsx)("input",{label:"Name",style:{width:"200px"},value:t.name,onChange:function(e){return h.props.viewModel.onVariantColorPropertyChange(t,"name",e.target.value)}})}),(0,xe.jsx)("td",{style:{textAlign:"right"},children:(0,xe.jsx)(Gf,{title:"Delete",children:(0,xe.jsx)("div",{style:{marginLeft:"auto"},children:(0,xe.jsx)(rm.Z,{size:"small",onClick:function(){return h.props.viewModel.onDeleteVariantColor(e,t)}})})})})]},n)}))}),(0,xe.jsx)(Ti,{variant:"contained",color:"primary",size:"medium",onClick:function(){return h.props.viewModel.onAddVariantColor(e)},children:"Add Color"})]})})]})})}},{key:"render",value:function(){var e=this;return this.props.viewModel&&this.state.modelState?(0,xe.jsxs)("div",{children:[(0,xe.jsx)("table",{className:"editor-table",children:(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:(0,xe.jsx)("div",{className:"ctl-label",children:"Name\xa0"})}),(0,xe.jsx)("td",{children:(0,xe.jsx)("input",{label:"Name",style:{width:"250px"},value:this.state.modelState.part.name,onChange:function(t){return e.props.viewModel.onNameChanged(t.target.value)}})})]})}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Materials"}),(0,xe.jsx)("table",{className:"editor-table",children:this.state.modelState.part.materials.map((function(t,n){return(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:t.name||"<< Unnamed >>"}),(0,xe.jsx)("td",{style:{textAlign:"right"},children:(0,xe.jsx)(Gf,{title:"Remove Material",children:(0,xe.jsx)("div",{children:(0,xe.jsx)(rm.Z,{size:"small",onClick:function(){return e.props.viewModel.onRemoveMaterial(n)}})})})})]},n)}))}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Ti,{variant:"contained",color:"primary",size:"medium",onClick:this.onAddMaterialClick,children:"Add Materials"})}),(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Variants"}),this.state.modelState.part.variants.map((function(t,n){return e.renderVariant(t)})),(0,xe.jsx)(Ti,{variant:"contained",color:"primary",size:"medium",onClick:this.props.viewModel.onAddVariantClick,children:"Add Variant"}),(0,xe.jsx)("div",{children:(0,xe.jsx)(Ti,{variant:"contained",color:"primary",size:"medium",onClick:this.props.viewModel.onClose,children:"OK"})}),(0,xe.jsx)(lm,{title:"Select Materials",items:this.state.modelState.meshMaterials.map((function(e){return{name:e.name||"<< Unnamed >>",value:e.userData.uuid}})),open:this.state.materialDlgOpen,handleOk:this.props.viewModel.onMaterialDlgOk,handleCancel:this.onMaterialDlgCancel,onListChanged:this.props.viewModel.onMaterialsSelected})]}):null}}]),n}(e.Component),cm=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(e){var t;return(0,r.Z)(this,s),(t=n.call(this,e)).state={expandedPanel:-1,optionsExpanded:!1,deleteDialogOpen:!1},t.onPanelClick=t.onPanelClick.bind((0,jt.Z)(t)),t}return(0,i.Z)(s,[{key:"onPanelClick",value:function(e){e===this.state.expandedPanel&&(e=-1),this.setState({expandedPanel:e})}},{key:"renderSettings",value:function(){var t,n,r=this;return(0,xe.jsx)(e.Fragment,{children:(0,xe.jsxs)(KA,{expanded:this.state.optionsExpanded,onChange:function(){r.setState({optionsExpanded:!r.state.optionsExpanded})},children:[(0,xe.jsx)(em,{expandIcon:(0,xe.jsx)(zp.Z,{}),children:(0,xe.jsx)("span",{style:{fontWeight:"800"},children:"Settings"})}),(0,xe.jsx)(nm,{children:(0,xe.jsxs)("table",{className:"editor-table",children:[(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{style:{width:"100%"},children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Show control",(0,xe.jsx)("input",{type:"checkbox",checked:null!==(t=this.state.modelState.options.show)&&void 0!==t&&t,onChange:function(e){return r.props.viewModel.onOptionsPropertyChanged("show",e.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),(0,xe.jsx)("td",{})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{style:{width:"100%"},children:(0,xe.jsxs)("label",{className:"checkboxLabel",children:["Fixed panel height",(0,xe.jsx)("input",{type:"checkbox",checked:this.state.modelState.options.fixedPanelHeight,onChange:function(e){return r.props.viewModel.onOptionsPropertyChanged("fixedPanelHeight",e.target.checked)}}),(0,xe.jsx)("span",{className:"checkboxCheckmark"})]})}),(0,xe.jsx)("td",{})]}),this.state.modelState.options.fixedPanelHeight&&(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Panel height\xa0"}),(0,xe.jsx)("td",{children:(0,xe.jsx)("input",{label:"Name",type:"number",style:{width:"80px",marginTop:"10px"},value:null!==(n=this.state.modelState.options.panelHeight)&&void 0!==n?n:0,onChange:function(e){return r.props.viewModel.onOptionsPropertyChanged("panelHeight",e.target.value)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Icon size\xa0"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(rp,{value:2.5*(this.state.modelState.options.variantIconSize-20),style:{width:"150px"},onChange:function(e,t){return r.props.viewModel.onOptionsPropertyChanged("variantIconSize",t/2.5+20)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Icon roundness\xa0"}),(0,xe.jsx)("td",{children:(0,xe.jsx)(rp,{value:2*this.state.modelState.options.variantIconBorderRadius,style:{width:"150px"},onChange:function(e,t){return r.props.viewModel.onOptionsPropertyChanged("variantIconBorderRadius",t/2)}})})]}),(0,xe.jsxs)("tr",{children:[(0,xe.jsx)("td",{children:"Title\xa0"}),(0,xe.jsx)("td",{children:(0,xe.jsx)("input",{label:"Name",style:{width:"98%",marginTop:"10px"},value:this.state.modelState.options.titleText,onChange:function(e){return r.props.viewModel.onOptionsPropertyChanged("titleText",e.target.value)}})})]})]})})]})})}},{key:"renderParts",value:function(){var t=this;return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",children:"Parts"}),this.props.viewModel.parts.map((function(e,n){return(0,xe.jsxs)("div",{className:"material-textures-pane",children:[(0,xe.jsx)("div",{children:e.name||"untitled"}),(0,xe.jsxs)("div",{style:{marginLeft:"auto"},children:[(0,xe.jsx)(Gf,{title:"Edit Part",children:(0,xe.jsx)(im.Z,{size:"small",onClick:function(){return t.props.viewModel.onEditPartClick(n)}})}),(0,xe.jsx)(Gf,{title:"Delete Part",children:(0,xe.jsx)(rm.Z,{size:"small",onClick:function(){return t.setState({deleteDialogOpen:!0,partToDelete:n})}})})]})]},n)})),(0,xe.jsx)(Ti,{variant:"contained",color:"primary",size:"medium",onClick:this.props.viewModel.onAddPartClick,children:"Add Part"})]})}},{key:"renderPartEditor",value:function(){return this.props.viewModel.partEditorVM?(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"18px"},children:"PART EDITOR"}),(0,xe.jsx)(um,{viewModel:this.props.viewModel.partEditorVM,ref:this.props.viewModel.partEditorVM.updateViewState}),(0,xe.jsx)(Jr,{style:{marginLeft:"-5px"}})]}):null}},{key:"render",value:function(){var t=this;return this.props.viewModel&&this.state.modelState?this.props.viewModel.partEditorVM?this.renderPartEditor():(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsxs)("div",{className:"material-editor-container",children:[this.renderSettings(),this.renderParts()]}),(0,xe.jsx)(Wi,{open:Boolean(this.state.deleteDialogOpen),message:"Are you sure you want to delete this part?",okText:"DELETE",onOk:function(){t.props.viewModel.onDeletePartClick(t.state.partToDelete),t.setState({deleteDialogOpen:!1})},onCancel:function(){t.setState({deleteDialogOpen:!1})}})]}):null}}]),s}(e.Component),hm=new Uint8Array(16);function dm(){if(!sm&&!(sm="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sm(hm)}var fm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var pm=function(e){return"string"===typeof e&&fm.test(e)},Am=[],mm=0;mm<256;++mm)Am.push((mm+256).toString(16).substr(1));var vm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Am[e[t+0]]+Am[e[t+1]]+Am[e[t+2]]+Am[e[t+3]]+"-"+Am[e[t+4]]+Am[e[t+5]]+"-"+Am[e[t+6]]+Am[e[t+7]]+"-"+Am[e[t+8]]+Am[e[t+9]]+"-"+Am[e[t+10]]+Am[e[t+11]]+Am[e[t+12]]+Am[e[t+13]]+Am[e[t+14]]+Am[e[t+15]]).toLowerCase();if(!pm(n))throw TypeError("Stringified UUID is invalid");return n};var gm,ym=function(e,t,n){var r=(e=e||{}).random||(e.rng||dm)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return vm(r)},xm=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"name",get:function(){return"Add Part"}},{key:"execute",value:function(){this.part={name:"Untitled",id:ym(),materials:[],variants:[]};var e=Es.project.settings.state.configurator;this.selectedPartId=e.selectedPartId,e.parts.push(this.part),1===e.parts.length&&(e.selectedPartId=this.part.id),ni.instance.notifyAll(new gi)}},{key:"undo",value:function(){var e=this,t=Es.project.settings.state.configurator;t.parts=t.parts.filter((function(t){return t.id!==e.part.id})),t.selectedPartId=this.selectedPartId,ni.instance.notifyAll(new gi)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),bm=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).part=e,i.selectedPartId=Es.project.settings.state.configurator.selectedPartId,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Delete Part"}},{key:"execute",value:function(){var e=this,t=Es.project.settings.state.configurator;t.parts=t.parts.filter((function(t){return t.id!==e.part.id})),t.selectedPartId===this.part.id&&(t.selectedPartId=t.parts.length?t.parts[0].id:null),this.part.materials.forEach((function(e){var t=Es.getMaterialByUUID(e.uuid);t&&hh(t)})),ni.instance.notifyAll(new gi)}},{key:"undo",value:function(){var e=Es.project.settings.state.configurator;e.parts.push(this.part),e.selectedPartId=this.selectedPartId,ni.instance.notifyAll(new gi)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),wm=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).part=e,a.partMats=(0,Ht.Z)(a.part.materials),a.materials=i,a}return(0,i.Z)(n,[{key:"name",get:function(){return"Add Materials To Part"}},{key:"execute",value:function(){var e=this;this.materials.forEach((function(t){if(!e.part.materials.find((function(e){return e.uuid===t.value}))){e.part.materials.push({name:t.name,uuid:t.value});var n=Es.getMaterialByUUID(t.value);n&&function(e){e&&(e.userData.copy={color:e.color.clone(),roughness:e.roughness,metalness:e.metalness,opacity:e.opacity,transparent:e.transparent})}(n)}})),ni.instance.notifyAll(new gi)}},{key:"undo",value:function(){this.part.materials=(0,Ht.Z)(this.partMats),ni.instance.notifyAll(new gi)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),Cm=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).part=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Add Variant"}},{key:"execute",value:function(){this.variant={name:"Untitled",id:ym(),color:"#ffffff",roughness:1,metalness:0,transparent:!1,opacity:1,colors:[]},this.selectedVariantId=this.part.selectedVariantId,this.part.variants.push(this.variant),1===this.part.variants.length&&(this.part.selectedVariantId=this.variant.id),ni.instance.notifyAll(new gi)}},{key:"undo",value:function(){var e=this;this.part.variants=this.part.variants.filter((function(t){return t.id!==e.variant.id})),this.part.selectedVariantId=this.selectedVariantId,ni.instance.notifyAll(new gi)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),Em=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).variant=e,i}return(0,i.Z)(n,[{key:"name",get:function(){return"Add Variant Color"}},{key:"execute",value:function(){this.color={name:"",iconColor:"#ffffff",color:"#ffffff",id:ym()},this.selectedColorId=this.variant.selectedColorId,this.variant.colors.push(this.color),1===this.variant.colors.length&&(this.variant.selectedColorId=this.color.id),ni.instance.notifyAll(new gi)}},{key:"undo",value:function(){var e=this;this.variant.colors=this.variant.colors.filter((function(t){return t.id!==e.color.id})),ni.instance.notifyAll(new gi)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),Sm=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).part=e,a.variant=i,a.selectedVariantId=a.part.selectedVariantId,a}return(0,i.Z)(n,[{key:"execute",value:function(){var e=this;this.part.variants=this.part.variants.filter((function(t){return t.id!==e.variant.id})),this.part.selectedVariantId===this.variant.id&&(this.part.selectedVariantId=this.part.variants.length?this.part.variants[0].id:null),ni.instance.notifyAll(new gi)}},{key:"undo",value:function(){this.part.variants.push(this.variant),this.part.selectedVariantId=this.selectedVariantId,ni.instance.notifyAll(new gi)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),Im=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).variant=e,a.color=i,a.selectedColorId=a.variant.selectedColorId,a}return(0,i.Z)(n,[{key:"name",get:function(){return"Delete Variant Color"}},{key:"execute",value:function(){var e=this;this.variant.colors=this.variant.colors.filter((function(t){return t.id!==e.color.id})),this.variant.selectedColorId===this.color.id&&(this.variant.selectedColorId=this.variant.colors.length?this.variant.colors[0].id:null),ni.instance.notifyAll(new gi)}},{key:"undo",value:function(){this.variant.colors.push(this.color),this.variant.selectedColorId=this.selectedColorId,ni.instance.notifyAll(new gi)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),Mm=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){var s;return(0,r.Z)(this,n),(s=t.call(this,i,a,"")).part=e,s.variant=i,s.fn=o,s.orgTex=Es.project.variantMaps[s.prevValue],s}return(0,i.Z)(n,[{key:"execute",value:function(){var e=this,t=0;this.part.variants.forEach((function(n){n[e.propName]===e.fn&&t++})),t<=1&&Es.project.deleteVariantMap(this.prevValue),(0,va.Z)((0,ga.Z)(n.prototype),"execute",this).call(this)}},{key:"undo",value:function(){Es.project.setVariantMap(this.prevValue,this.orgTex),(0,va.Z)((0,ga.Z)(n.prototype),"undo",this).call(this)}}]),n}(Mp),_m=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).part=e,a.partMats=(0,Ht.Z)(a.part.materials),a.index=i,a}return(0,i.Z)(n,[{key:"name",get:function(){return"Remove Material From Part"}},{key:"execute",value:function(){var e=Es.getMaterialByUUID(this.part.materials[this.index].uuid);e&&hh(e),this.part.materials.splice(this.index,1),ni.instance.notifyAll(new gi)}},{key:"undo",value:function(){this.part.materials=(0,Ht.Z)(this.partMats),ni.instance.notifyAll(new gi)}},{key:"redo",value:function(){this.execute()}}]),n}(bo),km=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){var s;return(0,r.Z)(this,n),(s=t.call(this,e,i,a)).variant=e,s.fn=a,s.tex=o,s.orgTex=Es.project.variantMaps[a],s}return(0,i.Z)(n,[{key:"execute",value:function(){Es.project.setVariantMap(this.fn,this.tex),(0,va.Z)((0,ga.Z)(n.prototype),"execute",this).call(this)}},{key:"undo",value:function(){Es.project.setVariantMap(this.fn,this.orgTex),(0,va.Z)((0,ga.Z)(n.prototype),"undo",this).call(this)}}]),n}(Mp),Bm=function(){function e(t,n){var i=this;(0,r.Z)(this,e),this.part=t,this.editorVM=n,this.selectedMats=[],this.onNameChanged=this.onNameChanged.bind(this),this.updateViewState=this.updateViewState.bind(this),this.onClose=this.onClose.bind(this),this.onMaterialsSelected=this.onMaterialsSelected.bind(this),this.onMaterialDlgOk=this.onMaterialDlgOk.bind(this),this.onAddVariantClick=this.onAddVariantClick.bind(this),this.onVariantPropertyChange=this.onVariantPropertyChange.bind(this),this.onAddVariantColor=this.onAddVariantColor.bind(this),this.onDeleteVariantColor=this.onDeleteVariantColor.bind(this),this.onVariantColorPropertyChange=this.onVariantColorPropertyChange.bind(this),this.onVariantMapChange=this.onVariantMapChange.bind(this),this.onVariantMapDelete=this.onVariantMapDelete.bind(this),this.meshMaterials=Es.getSceneMaterials(),ni.instance.subscribe(ai,(function(){i.meshMaterials=Es.getSceneMaterials(),i.removeDeletedMaterials(),i.updateViewState()})),ni.instance.subscribe(ui,(function(e){i.part.materials.forEach((function(t){t.uuid===e.material.uuid&&(t.name=e.material.name)})),i.updateViewState()})),ni.instance.subscribe(gi,(function(){i.updateViewState()}))}return(0,i.Z)(e,[{key:"removeDeletedMaterials",value:function(){var e=this;this.part.materials=this.part.materials.filter((function(t){return!!e.meshMaterials.find((function(e){return e.userData.uuid===t.uuid}))}))}},{key:"onClose",value:function(){this.editorVM.onPartEditorClose&&this.editorVM.onPartEditorClose()}},{key:"onNameChanged",value:function(e){this.part.name=e,ni.instance.notifyAll(new gi),this.updateViewState()}},{key:"onMaterialsSelected",value:function(e){this.selectedMats=(0,Ht.Z)(e)}},{key:"onMaterialDlgOk",value:function(){var e=new wm(this.part,this.selectedMats);Ei.execute(e),this.view.setState({materialDlgOpen:!1})}},{key:"onRemoveMaterial",value:function(e){var t=new _m(this.part,e);Ei.execute(t),this.updateViewState()}},{key:"onAddVariantClick",value:function(){var e=new Cm(this.part);Ei.execute(e),this.updateViewState()}},{key:"onDeleteVariant",value:function(e){var t=new Sm(this.part,e);Ei.execute(t),this.updateViewState()}},{key:"onVariantPropertyChange",value:function(e,t,n){var r=new Mp(e,t,n);Ei.execute(r),this.updateViewState()}},{key:"onAddVariantColor",value:function(e){var t=new Em(e);Ei.execute(t),this.updateViewState()}},{key:"onDeleteVariantColor",value:function(e,t){var n=new Im(e,t);Ei.execute(n),this.updateViewState()}},{key:"onVariantColorPropertyChange",value:function(e,t,n){var r=new Mp(e,t,n);Ei.execute(r),this.updateViewState()}},{key:"onVariantMapChange",value:function(e,t,n){var r=new km(e,t,n.filename,n);Ei.execute(r),this.updateViewState()}},{key:"onVariantMapDelete",value:function(e,t){if(e[t]){var n=new Mm(this.part,e,t,e.map);Ei.execute(n),this.updateViewState()}}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.view.setState({modelState:{part:this.part,meshMaterials:this.meshMaterials}})}}]),e}(),Tm=function(){function e(){var t=this;(0,r.Z)(this,e),this.updateViewState=this.updateViewState.bind(this),this.onAddPartClick=this.onAddPartClick.bind(this),this.updateViewState=this.updateViewState.bind(this),this.onDeletePartClick=this.onDeletePartClick.bind(this),this.onEditPartClick=this.onEditPartClick.bind(this),this.onOptionsPropertyChanged=this.onOptionsPropertyChanged.bind(this),this.onPartEditorClose=this.onPartEditorClose.bind(this),this.initializeFromSettings(),ni.instance.subscribe(Ai,(function(){t.initializeFromSettings()}))}return(0,i.Z)(e,[{key:"initializeFromSettings",value:function(){Es.project.settings.state.configurator||(Es.project.settings.state.configurator={options:{show:!1,iconSize:50,iconBorderRadius:10,variantIconSize:50,variantIconBorderRadius:10},parts:[]}),this.updateViewState()}},{key:"parts",get:function(){return Es.project.settings.state.configurator.parts}},{key:"onAddPartClick",value:function(){var e=new xm(this);Ei.execute(e),this.updateViewState()}},{key:"onDeletePartClick",value:function(e){var t=new bm(this.parts[e]);Ei.execute(t)}},{key:"onEditPartClick",value:function(e){this.partEditorVM=new Bm(this.parts[e],this),this.updateViewState()}},{key:"onPartEditorClose",value:function(){this.partEditorVM=null,this.updateViewState()}},{key:"onOptionsPropertyChanged",value:function(e,t){var n=new Mp(Es.project.settings.state.configurator.options,e,t);Ei.execute(n,!1),this.updateViewState(),ni.instance.notifyAll(new gi)}},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.view.setState({modelState:Es.project.settings.state.configurator})}}]),e}(),Rm=n(4664),Dm=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=n.call(this)).viewModel=new Tm,e}return(0,i.Z)(s,[{key:"renderButtonIcon",value:function(){return(0,xe.jsx)(Rm.Z,{})}},{key:"renderContent",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)("div",{className:"editor-sidebar-heading",style:{fontSize:"large"},children:"Product Configurator"}),(0,xe.jsx)(cm,{viewModel:this.viewModel,ref:this.viewModel.updateViewState})]})}}]),s}(Eh),Pm=function(){function e(){var t=this;(0,r.Z)(this,e),this.viewState={errorMsg:"",message:"",tabs:[],showVirtualJoystick:!1,responseDialogOpen:!1,showConfigurator:!1},this.updateViewState=this.updateViewState.bind(this),this.onJoystickMove=this.onJoystickMove.bind(this),this.onJoystickRelease=this.onJoystickRelease.bind(this),this.onJoystickTouch=this.onJoystickTouch.bind(this),this.onResponseDialogOk=this.onResponseDialogOk.bind(this),this.onResponseDialogCancel=this.onResponseDialogCancel.bind(this),this.getUserResponse=this.getUserResponse.bind(this),this.onErrorAlertClose=this.onErrorAlertClose.bind(this),this.onMessageAlertClose=this.onMessageAlertClose.bind(this),ni.instance.subscribe(Gu,(function(e){t.viewState.errorMsg=e.message,t.updateViewState()})),ni.instance.subscribe(vi,(function(e){t.viewState.showVirtualJoystick="fp"===e.type,t.updateViewState()})),ni.instance.subscribe(gi,(function(){var e=Es.project.settings.state.configurator;t.viewState.showConfigurator=!!e&&e.options.show,t.updateViewState()})),ni.instance.subscribe(mi,(function(){var e=Es.project.settings.state.configurator;t.viewState.showConfigurator=!!e&&e.options.show,t.updateViewState()}))}return(0,i.Z)(e,[{key:"initialize",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Es.initialize(t,n);case 2:t.tabIndex=0,this.fileCommands=new vh,this.editCommands=new xh,this.addCommands=new Ch,this.viewCommands=new RA,this.viewState.fileCommands=this.fileCommands,this.viewState.editCommands=this.editCommands,this.viewState.addCommands=this.addCommands,this.viewState.viewCommands=this.viewCommands,this.createTabs(),this.updateViewState(),t.addEventListener("mouseenter",(function(e){t.focus({preventScroll:!0}),Es.firstPersonCameraController.setFocus(!0)})),t.addEventListener("mouseleave",(function(e){t.blur({preventScroll:!0}),Es.firstPersonCameraController.setFocus(!1)})),t.addEventListener("keyup",(function(e){var t;switch(e.code){case"Delete":Es.selectObject&&(t=new gh);break;case"KeyZ":e.ctrlKey&&Ei.undo();break;case"KeyY":e.ctrlKey&&Ei.redo();break;case"Digit1":Es.selectObject&&(t=new yh("translate"));break;case"Digit2":Es.selectObject&&(t=new yh("rotate"));break;case"Digit3":Es.selectObject&&(t=new yh("scale"))}t&&Ei.execute(t)}));case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateViewState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&(this.view=e),this.view&&this.view.setState((0,wa.Z)({},this.viewState))}},{key:"onKeyUp",value:function(e){alert(e.code)}},{key:"onJoystickMove",value:function(e,t){Es.firstPersonCameraController&&Es.firstPersonCameraController.onVirtualJoyStickMove(e,t)}},{key:"onJoystickTouch",value:function(){Es.firstPersonCameraController&&Es.firstPersonCameraController.onVirtualJoyStickTouch()}},{key:"onJoystickRelease",value:function(){Es.firstPersonCameraController&&Es.firstPersonCameraController.onVirtualJoyStickRelease()}},{key:"createTabs",value:function(){this.viewState.tabs.push(new Qp),this.viewState.tabs.push(new nA),this.viewState.tabs.push(new pA),this.viewState.tabs.push(new yA),this.viewState.tabs.push(new SA),this.viewState.tabs.push(new NA),ye.configuratorEnabled&&this.viewState.tabs.push(new Dm),this.viewState.tabs.push(new kA),this.viewState.tabs.push(new ZA),this.viewState.tabs.push(new HA),this.updateViewState()}},{key:"onResponseDialogOk",value:function(){this.responseCallback(),this.viewState.responseDialogOpen=!1,this.updateViewState()}},{key:"onResponseDialogCancel",value:function(){this.viewState.responseDialogOpen=!1,this.updateViewState()}},{key:"onErrorAlertClose",value:function(){this.viewState.errorMsg="",this.updateViewState()}},{key:"onMessageAlertClose",value:function(){this.viewState.message="",this.updateViewState()}},{key:"getUserResponse",value:function(e,t){this.viewState.responseDialogOpen=!0,this.viewState.responseDialogText=e,this.responseCallback=function(){return t()},this.updateViewState()}}]),e}(),Lm=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(t){var i;return(0,r.Z)(this,s),(i=n.call(this,t)).canvasContainerRef=e.createRef(),i.canvasRef=e.createRef(),i.tabs=[],i}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){this.viewModel=new Pm,this.viewModel.updateViewState(),this.forceUpdate()}},{key:"render",value:function(){return this.viewModel?(0,xe.jsx)(eu,{ref:this.viewModel.updateViewState,viewModel:this.viewModel,containerRef:this.canvasContainerRef,canvasRef:this.canvasRef,tabs:this.tabs}):null}}]),s}(e.Component),Qm=function(e){(0,a.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){return(0,xe.jsxs)("div",{className:"page center center-page-x",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"Ezyview online 3D model and scene editor"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net/editorIntro"})]}),(0,xe.jsxs)("div",{className:"page-section",children:[(0,xe.jsx)("h1",{className:"page-setion-heading",children:"EzyView 3D Editor"}),(0,xe.jsx)("h2",{children:"EzyView online 3D model and scene editor"}),(0,xe.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,xe.jsx)("p",{style:{fontSize:"larger"},children:"With the 3D editor, you can create realistic 3D scenes for rendering in the 3D Viewer."}),(0,xe.jsx)("p",{children:(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Upload and view 3D model files online."}),(0,xe.jsx)("li",{children:"Publish and display them on your website."}),(0,xe.jsx)("li",{children:"Enhance your scene with shadow mapping, ground shadows, effects, HDR environment maps, custom backgrounds, reflections and fog."}),(0,xe.jsx)("li",{children:"Export as binary glTF format."}),(0,xe.jsx)("li",{children:"Play animations."}),(0,xe.jsx)("li",{children:"Add 3D primitives, lights and text annotations to the scene."}),(0,xe.jsx)("li",{children:"Edit mesh materials."}),(0,xe.jsx)("li",{children:"Create product variants with selectable PBR materials and colors."}),(0,xe.jsx)("li",{children:"Support for 20 common 3D file formats."}),(0,xe.jsx)("li",{children:"Use the project files for your own development projects."})]})}),(0,xe.jsx)("br",{}),(0,xe.jsx)(pe,{to:"/editor",className:"medium-button",style:{margin:"auto"},children:"Open the editor"}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),(0,xe.jsx)("div",{style:{margin:"auto"},children:(0,xe.jsx)("img",{alt:"",src:n(5719),style:{borderRadius:"20px",maxWidth:"1400px",width:"100%"}})}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]})]})]})}}]),s}(e.Component),jm=n(2963),Nm="149",Fm=0,Um=1,Om=2,Zm=1,zm=2,Gm=3,Hm=0,Vm=1,Wm=2,qm=0,Ym=1,Xm=2,Jm=3,Km=4,$m=5,ev=100,tv=101,nv=102,rv=103,iv=104,av=200,ov=201,sv=202,lv=203,uv=204,cv=205,hv=206,dv=207,fv=208,pv=209,Av=210,mv=0,vv=1,gv=2,yv=3,xv=4,bv=5,wv=6,Cv=7,Ev=0,Sv=1,Iv=2,Mv=0,_v=1,kv=2,Bv=3,Tv=4,Rv=5,Dv=301,Pv=302,Lv=303,Qv=304,jv=306,Nv=1e3,Fv=1001,Uv=1002,Ov=1003,Zv=1004,zv=1005,Gv=1006,Hv=1007,Vv=1008,Wv=1009,qv=1010,Yv=1011,Xv=1012,Jv=1013,Kv=1014,$v=1015,eg=1016,tg=1017,ng=1018,rg=1020,ig=1021,ag=1023,og=1024,sg=1025,lg=1026,ug=1027,cg=1028,hg=1029,dg=1030,fg=1031,pg=1033,Ag=33776,mg=33777,vg=33778,gg=33779,yg=35840,xg=35841,bg=35842,wg=35843,Cg=36196,Eg=37492,Sg=37496,Ig=37808,Mg=37809,_g=37810,kg=37811,Bg=37812,Tg=37813,Rg=37814,Dg=37815,Pg=37816,Lg=37817,Qg=37818,jg=37819,Ng=37820,Fg=37821,Ug=36492,Og=36283,Zg=36284,zg=36285,Gg=36286,Hg=2300,Vg=2301,Wg=2302,qg=2400,Yg=2401,Xg=2402,Jg=3e3,Kg=3001,$g=3201,ey=0,ty=1,ny="srgb",ry="srgb-linear",iy=7680,ay=35044,oy="300 es",sy=1035,ly=window,uy=ly.XRWebGLLayer,cy=ly.XRWebGLBinding,hy=ly.__THREE_DEVTOOLS__,dy=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),fy=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],py=1234567,Ay=Math.PI/180,my=180/Math.PI;function vy(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(fy[255&e]+fy[e>>8&255]+fy[e>>16&255]+fy[e>>24&255]+"-"+fy[255&t]+fy[t>>8&255]+"-"+fy[t>>16&15|64]+fy[t>>24&255]+"-"+fy[63&n|128]+fy[n>>8&255]+"-"+fy[n>>16&255]+fy[n>>24&255]+fy[255&r]+fy[r>>8&255]+fy[r>>16&255]+fy[r>>24&255]).toLowerCase()}function gy(e,t,n){return Math.max(t,Math.min(n,e))}function yy(e,t){return(e%t+t)%t}function xy(e,t,n){return(1-n)*e+n*t}function by(e){return 0==(e&e-1)&&0!==e}function wy(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function Cy(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Ey(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Sy(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Iy=Object.freeze({__proto__:null,DEG2RAD:Ay,RAD2DEG:my,ceilPowerOfTwo:wy,clamp:gy,damp:function(e,t,n,r){return xy(e,t,1-Math.exp(-n*r))},degToRad:function(e){return e*Ay},denormalize:Ey,euclideanModulo:yy,floorPowerOfTwo:Cy,generateUUID:vy,inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},isPowerOfTwo:by,lerp:xy,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},normalize:Sy,pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(yy(e,2*t)-t)},radToDeg:function(e){return e*my},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},seededRandom:function(e){void 0!==e&&(py=e);var t=py+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((t+r)/2),c=o((t+r)/2),h=a((t-r)/2),d=o((t-r)/2),f=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(s*c,l*h,l*d,s*u);break;case"YZY":e.set(l*d,s*c,l*h,s*u);break;case"ZXZ":e.set(l*h,l*d,s*c,s*u);break;case"XZX":e.set(s*c,l*p,l*f,s*u);break;case"YXY":e.set(l*f,s*c,l*p,s*u);break;case"ZYZ":e.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)}}),My=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,r.Z)(this,t),t.prototype.isVector2=!0,this.x=e,this.y=n}return(0,i.Z)(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:e,value:(0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),_y=function(){function e(){(0,r.Z)(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}return(0,i.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],f=n[8],p=r[0],A=r[3],m=r[6],v=r[1],g=r[4],y=r[7],x=r[2],b=r[5],w=r[8];return i[0]=a*p+o*v+s*x,i[3]=a*A+o*g+s*b,i[6]=a*m+o*y+s*w,i[1]=l*p+u*v+c*x,i[4]=l*A+u*g+c*b,i[7]=l*m+u*y+c*w,i[2]=h*p+d*v+f*x,i[5]=h*A+d*g+f*b,i[8]=h*m+d*y+f*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*i,d=l*i-a*s,f=t*c+n*h+r*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=d*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(ky.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(ky.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(ky.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}(),ky=new _y;function By(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}function Ty(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Ry(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Dy(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Py=(gm={},(0,cn.Z)(gm,ny,(0,cn.Z)({},ry,Ry)),(0,cn.Z)(gm,ry,(0,cn.Z)({},ny,Dy)),gm),Ly={legacyMode:!0,get workingColorSpace(){return ry},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(Py[t]&&void 0!==Py[t][n]){var r=Py[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},Qy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jy={r:0,g:0,b:0},Ny={h:0,s:0,l:0},Fy={h:0,s:0,l:0};function Uy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Oy(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var Zy,zy=function(e){function t(e,n,i){return(0,r.Z)(this,t),this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===i?this.set(e):this.setRGB(e,n,i)}return(0,i.Z)(t,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ny;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Ly.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ly.workingColorSpace;return this.r=e,this.g=t,this.b=n,Ly.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ly.workingColorSpace;if(e=yy(e,1),t=gy(t,0,1),n=gy(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Uy(a,i,e+1/3),this.g=Uy(a,i,e),this.b=Uy(a,i,e-1/3)}return Ly.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ny;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,Ly.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,Ly.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var s=parseFloat(i[1])/360,l=parseFloat(i[2])/100,u=parseFloat(i[3])/100;return r(i[4]),this.setHSL(s,l,u,n)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,Ly.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,Ly.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ny,n=Qy[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=Ry(e.r),this.g=Ry(e.g),this.b=Ry(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Dy(e.r),this.g=Dy(e.g),this.b=Dy(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ny;return Ly.fromWorkingColorSpace(Oy(this,jy),e),gy(255*jy.r,0,255)<<16^gy(255*jy.g,0,255)<<8^gy(255*jy.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ny;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ly.workingColorSpace;Ly.fromWorkingColorSpace(Oy(this,jy),t);var n,r,i=jy.r,a=jy.g,o=jy.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ly.workingColorSpace;return Ly.fromWorkingColorSpace(Oy(this,jy),t),e.r=jy.r,e.g=jy.g,e.b=jy.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ny;return Ly.fromWorkingColorSpace(Oy(this,jy),e),e!==ny?"color(".concat(e," ").concat(jy.r," ").concat(jy.g," ").concat(jy.b,")"):"rgb(".concat(255*jy.r|0,",").concat(255*jy.g|0,",").concat(255*jy.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(Ny),Ny.h+=e,Ny.s+=t,Ny.l+=n,this.setHSL(Ny.h,Ny.s,Ny.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(Ny),e.getHSL(Fy);var n=xy(Ny.h,Fy.h,t),r=xy(Ny.s,Fy.s,t),i=xy(Ny.l,Fy.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:e,value:(0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);zy.NAMES=Qy;var Gy=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Zy&&(Zy=Ty("canvas")),Zy.width=e.width,Zy.height=e.height;var n=Zy.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Zy}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var t=Ty("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*Ry(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*Ry(o[s]/255)):o[s]=Ry(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Hy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,r.Z)(this,e),this.isSource=!0,this.uuid=vy(),this.data=t,this.version=0}return(0,i.Z)(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(Vy(r[a].image)):i.push(Vy(r[a]))}else i=Vy(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function Vy(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Gy.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var Wy=0,qy=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fv,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fv,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gv,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Vv,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ag,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Wv,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:n.DEFAULT_ANISOTROPY,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Jg;return(0,r.Z)(this,n),(e=t.call(this)).isTexture=!0,Object.defineProperty((0,jt.Z)(e),"id",{value:Wy++}),e.uuid=vy(),e.name="",e.source=new Hy(i),e.mipmaps=[],e.mapping=a,e.wrapS=o,e.wrapT=s,e.magFilter=l,e.minFilter=u,e.anisotropy=d,e.format=c,e.internalFormat=null,e.type=h,e.offset=new My(0,0),e.repeat=new My(1,1),e.center=new My(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new _y,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=f,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return(0,i.Z)(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Nv:e.x=e.x-Math.floor(e.x);break;case Fv:e.x=e.x<0?0:1;break;case Uv:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Nv:e.y=e.y-Math.floor(e.y);break;case Fv:e.y=e.y<0?0:1;break;case Uv:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(dy);qy.DEFAULT_IMAGE=null,qy.DEFAULT_MAPPING=300,qy.DEFAULT_ANISOTROPY=1;var Yy=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,r.Z)(this,t),t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=a}return(0,i.Z)(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],d=s[5],f=s[9],p=s[2],A=s[6],m=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(f-A)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(f+A)<o&&Math.abs(l+d+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var v=(l+1)/2,g=(d+1)/2,y=(m+1)/2,x=(u+h)/4,b=(c+p)/4,w=(f+A)/4;return v>g&&v>y?v<a?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(v)),i=b/n):g>y?g<a?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(g)),i=w/r):y<a?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(y)),r=w/i),this.set(n,r,i,t),this}var C=Math.sqrt((A-f)*(A-f)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(C)<.001&&(C=1),this.x=(A-f)/C,this.y=(c-p)/C,this.z=(h-u)/C,this.w=Math.acos((l+d+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:e,value:(0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),Xy=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,r.Z)(this,n),(e=t.call(this)).isWebGLRenderTarget=!0,e.width=i,e.height=a,e.depth=1,e.scissor=new Yy(0,0,i,a),e.scissorTest=!1,e.viewport=new Yy(0,0,i,a);var s={width:i,height:a,depth:1};return e.texture=new qy(s,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=void 0!==o.generateMipmaps&&o.generateMipmaps,e.texture.internalFormat=void 0!==o.internalFormat?o.internalFormat:null,e.texture.minFilter=void 0!==o.minFilter?o.minFilter:Gv,e.depthBuffer=void 0===o.depthBuffer||o.depthBuffer,e.stencilBuffer=void 0!==o.stencilBuffer&&o.stencilBuffer,e.depthTexture=void 0!==o.depthTexture?o.depthTexture:null,e.samples=void 0!==o.samples?o.samples:0,e}return(0,i.Z)(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new Hy(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(dy),Jy=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,r.Z)(this,n),(e=t.call(this,null)).isDataArrayTexture=!0,e.image={data:i,width:a,height:o,depth:s},e.magFilter=Ov,e.minFilter=Ov,e.wrapR=Fv,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,i.Z)(n)}(qy),Ky=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,r.Z)(this,n),(e=t.call(this,null)).isData3DTexture=!0,e.image={data:i,width:a,height:o,depth:s},e.magFilter=Ov,e.minFilter=Ov,e.wrapR=Fv,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,i.Z)(n)}(qy),$y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,r.Z)(this,t),this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=a}return(0,i.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),h=s(n/2),d=s(r/2),f=s(i/2);switch(a){case"XYZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"YXZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"ZXY":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"ZYX":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"YZX":this._x=h*u*c+l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c-h*d*f;break;case"XZY":this._x=h*u*c-l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-s)*d,this._y=(i-l)*d,this._z=(a-r)*d}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(i+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var A=2*Math.sqrt(1+c-n-o);this._w=(a-r)/A,this._x=(i+l)/A,this._y=(s+u)/A,this._z=.25*A}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(gy(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,d=Math.sin(t*c)/u;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=r*h+this._y*d,this._z=i*h+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[a+0],d=i[a+1],f=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=d,e[t+2]=f,void(e[t+3]=p);if(c!==p||s!==h||l!==d||u!==f){var A=1-o,m=s*h+l*d+u*f+c*p,v=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){var y=Math.sqrt(g),x=Math.atan2(y,m*v);A=Math.sin(A*x)/y,o=Math.sin(o*x)/y}var b=o*v;if(s=s*A+h*b,l=l*A+d*b,u=u*A+f*b,c=c*A+p*b,A===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],h=i[a+1],d=i[a+2],f=i[a+3];return e[t]=o*f+u*c+s*d-l*h,e[t+1]=s*f+u*h+l*c-o*d,e[t+2]=l*f+u*d+o*h-s*c,e[t+3]=u*f-o*c-s*h-l*d,e}}]),t}(Symbol.iterator),ex=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,r.Z)(this,t),t.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}return(0,i.Z)(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(nx.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(nx.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*r-o*n,u=s*n+o*t-i*r,c=s*r+i*n-a*t,h=-i*t-a*n-o*r;return this.x=l*s+h*-i+u*-o-c*-a,this.y=u*s+h*-a+c*-i-l*-o,this.z=c*s+h*-o+l*-a-u*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return tx.copy(this).projectOnVector(e),this.sub(tx)}},{key:"reflect",value:function(e){return this.sub(tx.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(gy(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:e,value:(0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator),tx=new ex,nx=new $y,rx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ex(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ex(-1/0,-1/0,-1/0);(0,r.Z)(this,e),this.isBox3=!0,this.min=t,this.max=n}return(0,i.Z)(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=ax.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)ax.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(ax);else null===n.boundingBox&&n.computeBoundingBox(),ox.copy(n.boundingBox),ox.applyMatrix4(e.matrixWorld),this.union(ox);for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,ax),ax.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(fx),px.subVectors(this.max,fx),sx.subVectors(e.a,fx),lx.subVectors(e.b,fx),ux.subVectors(e.c,fx),cx.subVectors(lx,sx),hx.subVectors(ux,lx),dx.subVectors(sx,ux);var t=[0,-cx.z,cx.y,0,-hx.z,hx.y,0,-dx.z,dx.y,cx.z,0,-cx.x,hx.z,0,-hx.x,dx.z,0,-dx.x,-cx.y,cx.x,0,-hx.y,hx.x,0,-dx.y,dx.x,0];return!!vx(t,sx,lx,ux,px)&&(!!vx(t=[1,0,0,0,1,0,0,0,1],sx,lx,ux,px)&&(Ax.crossVectors(cx,hx),vx(t=[Ax.x,Ax.y,Ax.z],sx,lx,ux,px)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return ax.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(ax).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(ix[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ix[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ix[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ix[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ix[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ix[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ix[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ix[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ix)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}(),ix=[new ex,new ex,new ex,new ex,new ex,new ex,new ex,new ex],ax=new ex,ox=new rx,sx=new ex,lx=new ex,ux=new ex,cx=new ex,hx=new ex,dx=new ex,fx=new ex,px=new ex,Ax=new ex,mx=new ex;function vx(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){mx.fromArray(e,a);var s=i.x*Math.abs(mx.x)+i.y*Math.abs(mx.y)+i.z*Math.abs(mx.z),l=t.dot(mx),u=n.dot(mx),c=r.dot(mx);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var gx=new rx,yx=new ex,xx=new ex,bx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ex,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;(0,r.Z)(this,e),this.center=t,this.radius=n}return(0,i.Z)(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):gx.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;yx.subVectors(e,this.center);var t=yx.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(yx,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(xx.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(yx.copy(e.center).add(xx)),this.expandByPoint(yx.copy(e.center).sub(xx))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),wx=new ex,Cx=new ex,Ex=new ex,Sx=new ex,Ix=new ex,Mx=new ex,_x=new ex,kx=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ex,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ex(0,0,-1);(0,r.Z)(this,e),this.origin=t,this.direction=n}return(0,i.Z)(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,wx)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=wx.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wx.copy(this.direction).multiplyScalar(t).add(this.origin),wx.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Cx.copy(e).add(t).multiplyScalar(.5),Ex.copy(t).sub(e).normalize(),Sx.copy(this.origin).sub(Cx);var i,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Ex),c=Sx.dot(this.direction),h=-Sx.dot(Ex),d=Sx.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*c-h,s=l*f,(i=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(i*=p)*(i+u*(a*=p)+2*c)+a*(u*i+a+2*h)+d}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+d;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+d;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+d):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Ex).multiplyScalar(a).add(Cx),o}},{key:"intersectSphere",value:function(e,t){wx.subVectors(e.center,this.origin);var n=wx.dot(this.direction),r=wx.dot(wx)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(i=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(i=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,wx)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Ix.subVectors(t,e),Mx.subVectors(n,e),_x.crossVectors(Ix,Mx);var a,o=this.direction.dot(_x);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Sx.subVectors(this.origin,e);var s=a*this.direction.dot(Mx.crossVectors(Sx,Mx));if(s<0)return null;var l=a*this.direction.dot(Ix.cross(Sx));if(l<0)return null;if(s+l>o)return null;var u=-a*Sx.dot(_x);return u<0?null:this.at(u/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Bx=function(){function e(){(0,r.Z)(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}return(0,i.Z)(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,h,d,f,p,A){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=d,m[7]=f,m[11]=p,m[15]=A,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/Tx.setFromMatrixColumn(e,0).length(),i=1/Tx.setFromMatrixColumn(e,1).length(),a=1/Tx.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*u,d=a*c,f=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=d+f*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=f+d*l,t[10]=a*s}else if("YXZ"===e.order){var A=s*u,m=s*c,v=l*u,g=l*c;t[0]=A+g*o,t[4]=v*o-m,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=m*o-v,t[6]=g+A*o,t[10]=a*s}else if("ZXY"===e.order){var y=s*u,x=s*c,b=l*u,w=l*c;t[0]=y-w*o,t[4]=-a*c,t[8]=b+x*o,t[1]=x+b*o,t[5]=a*u,t[9]=w-y*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var C=a*u,E=a*c,S=o*u,I=o*c;t[0]=s*u,t[4]=S*l-E,t[8]=C*l+I,t[1]=s*c,t[5]=I*l+C,t[9]=E*l-S,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var M=a*s,_=a*l,k=o*s,B=o*l;t[0]=s*u,t[4]=B-M*c,t[8]=k*c+_,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=_*c+k,t[10]=M-B*c}else if("XZY"===e.order){var T=a*s,R=a*l,D=o*s,P=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=T*c+P,t[5]=a*u,t[9]=R*c-D,t[2]=D*c-R,t[6]=o*u,t[10]=P*c+T}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Dx,e,Px)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return jx.subVectors(e,t),0===jx.lengthSq()&&(jx.z=1),jx.normalize(),Lx.crossVectors(n,jx),0===Lx.lengthSq()&&(1===Math.abs(n.z)?jx.x+=1e-4:jx.z+=1e-4,jx.normalize(),Lx.crossVectors(n,jx)),Lx.normalize(),Qx.crossVectors(jx,Lx),r[0]=Lx.x,r[4]=Qx.x,r[8]=jx.x,r[1]=Lx.y,r[5]=Qx.y,r[9]=jx.y,r[2]=Lx.z,r[6]=Qx.z,r[10]=jx.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],A=n[10],m=n[14],v=n[3],g=n[7],y=n[11],x=n[15],b=r[0],w=r[4],C=r[8],E=r[12],S=r[1],I=r[5],M=r[9],_=r[13],k=r[2],B=r[6],T=r[10],R=r[14],D=r[3],P=r[7],L=r[11],Q=r[15];return i[0]=a*b+o*S+s*k+l*D,i[4]=a*w+o*I+s*B+l*P,i[8]=a*C+o*M+s*T+l*L,i[12]=a*E+o*_+s*R+l*Q,i[1]=u*b+c*S+h*k+d*D,i[5]=u*w+c*I+h*B+d*P,i[9]=u*C+c*M+h*T+d*L,i[13]=u*E+c*_+h*R+d*Q,i[2]=f*b+p*S+A*k+m*D,i[6]=f*w+p*I+A*B+m*P,i[10]=f*C+p*M+A*T+m*L,i[14]=f*E+p*_+A*R+m*Q,i[3]=v*b+g*S+y*k+x*D,i[7]=v*w+g*I+y*B+x*P,i[11]=v*C+g*M+y*T+x*L,i[15]=v*E+g*_+y*R+x*Q,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*a*h-r*a*d+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*d-i*a*c+n*a*d+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*h+r*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],d=e[11],f=e[12],p=e[13],A=e[14],m=e[15],v=c*A*l-p*h*l+p*s*d-o*A*d-c*s*m+o*h*m,g=f*h*l-u*A*l-f*s*d+a*A*d+u*s*m-a*h*m,y=u*p*l-f*c*l+f*o*d-a*p*d-u*o*m+a*c*m,x=f*c*s-u*p*s-f*o*h+a*p*h+u*o*A-a*c*A,b=t*v+n*g+r*y+i*x;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/b;return e[0]=v*w,e[1]=(p*h*i-c*A*i-p*r*d+n*A*d+c*r*m-n*h*m)*w,e[2]=(o*A*i-p*s*i+p*r*l-n*A*l-o*r*m+n*s*m)*w,e[3]=(c*s*i-o*h*i-c*r*l+n*h*l+o*r*d-n*s*d)*w,e[4]=g*w,e[5]=(u*A*i-f*h*i+f*r*d-t*A*d-u*r*m+t*h*m)*w,e[6]=(f*s*i-a*A*i-f*r*l+t*A*l+a*r*m-t*s*m)*w,e[7]=(a*h*i-u*s*i+u*r*l-t*h*l-a*r*d+t*s*d)*w,e[8]=y*w,e[9]=(f*c*i-u*p*i-f*n*d+t*p*d+u*n*m-t*c*m)*w,e[10]=(a*p*i-f*o*i+f*n*l-t*p*l-a*n*m+t*o*m)*w,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*d-t*o*d)*w,e[12]=x*w,e[13]=(u*p*r-f*c*r+f*n*h-t*p*h-u*n*A+t*c*A)*w,e[14]=(f*o*r-a*p*r-f*n*s+t*p*s+a*n*A-t*o*A)*w,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,h=i*l,d=i*u,f=i*c,p=a*u,A=a*c,m=o*c,v=s*l,g=s*u,y=s*c,x=n.x,b=n.y,w=n.z;return r[0]=(1-(p+m))*x,r[1]=(d+y)*x,r[2]=(f-g)*x,r[3]=0,r[4]=(d-y)*b,r[5]=(1-(h+m))*b,r[6]=(A+v)*b,r[7]=0,r[8]=(f+g)*w,r[9]=(A-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=Tx.set(r[0],r[1],r[2]).length(),a=Tx.set(r[4],r[5],r[6]).length(),o=Tx.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Rx.copy(this);var s=1/i,l=1/a,u=1/o;return Rx.elements[0]*=s,Rx.elements[1]*=s,Rx.elements[2]*=s,Rx.elements[4]*=l,Rx.elements[5]*=l,Rx.elements[6]*=l,Rx.elements[8]*=u,Rx.elements[9]*=u,Rx.elements[10]*=u,t.setFromRotationMatrix(Rx),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o=this.elements,s=2*i/(t-e),l=2*i/(n-r),u=(t+e)/(t-e),c=(n+r)/(n-r),h=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(a-i),c=(t+e)*s,h=(n+r)*l,d=(a+i)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}(),Tx=new ex,Rx=new Bx,Dx=new ex(0,0,0),Px=new ex(1,1,1),Lx=new ex,Qx=new ex,jx=new ex,Nx=new Bx,Fx=new $y,Ux=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DEFAULT_ORDER;(0,r.Z)(this,t),this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=a}return(0,i.Z)(t,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],d=r[10];switch(t){case"XYZ":this._y=Math.asin(gy(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-gy(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(gy(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-gy(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(gy(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-gy(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Nx.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Nx,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Fx.setFromEuler(this),this.setFromQuaternion(Fx,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:e,value:(0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);Ux.DEFAULT_ORDER="XYZ";var Ox=function(){function e(){(0,r.Z)(this,e),this.mask=1}return(0,i.Z)(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!=(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!=(this.mask&(1<<e|0))}}]),e}(),Zx=0,zx=new ex,Gx=new $y,Hx=new Bx,Vx=new ex,Wx=new ex,qx=new ex,Yx=new $y,Xx=new ex(1,0,0),Jx=new ex(0,1,0),Kx=new ex(0,0,1),$x={type:"added"},eb={type:"removed"},tb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n),(e=t.call(this)).isObject3D=!0,Object.defineProperty((0,jt.Z)(e),"id",{value:Zx++}),e.uuid=vy(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DEFAULT_UP.clone();var i=new ex,a=new Ux,o=new $y,s=new ex(1,1,1);return a._onChange((function(){o.setFromEuler(a,!1)})),o._onChange((function(){a.setFromQuaternion(o,void 0,!1)})),Object.defineProperties((0,jt.Z)(e),{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:a},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Bx},normalMatrix:{value:new _y}}),e.matrix=new Bx,e.matrixWorld=new Bx,e.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.layers=new Ox,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return(0,i.Z)(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Gx.setFromAxisAngle(e,t),this.quaternion.multiply(Gx),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Gx.setFromAxisAngle(e,t),this.quaternion.premultiply(Gx),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Xx,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(Jx,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Kx,e)}},{key:"translateOnAxis",value:function(e,t){return zx.copy(e).applyQuaternion(this.quaternion),this.position.add(zx.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Xx,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(Jx,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Kx,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Hx.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Vx.copy(e):Vx.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),Wx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hx.lookAt(Wx,Vx,this.up):Hx.lookAt(Vx,Wx,this.up),this.quaternion.setFromRotationMatrix(Hx),r&&(Hx.extractRotation(r.matrixWorld),Gx.setFromRotationMatrix(Hx),this.quaternion.premultiply(Gx.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent($x)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(eb)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(eb)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Hx.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Hx.multiply(e.parent.matrixWorld)),e.applyMatrix4(Hx),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=[];this[e]===t&&n.push(this);for(var r=0,i=this.children.length;r<i;r++){var a=this.children[r].getObjectsByProperty(e,t);a.length>0&&(n=n.concat(a))}return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wx,e,qx),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wx,Yx,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,d=this.material.length;h<d;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var A=this.animations[p];r.animations.push(i(e.animations,A))}}if(t){var m=E(e.geometries),v=E(e.materials),g=E(e.textures),y=E(e.images),x=E(e.shapes),b=E(e.skeletons),w=E(e.animations),C=E(e.nodes);m.length>0&&(n.geometries=m),v.length>0&&(n.materials=v),g.length>0&&(n.textures=g),y.length>0&&(n.images=y),x.length>0&&(n.shapes=x),b.length>0&&(n.skeletons=b),w.length>0&&(n.animations=w),C.length>0&&(n.nodes=C)}return n.object=r,n;function E(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(dy);tb.DEFAULT_UP=new ex(0,1,0),tb.DEFAULT_MATRIX_AUTO_UPDATE=!0,tb.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var nb=new ex,rb=new ex,ib=new ex,ab=new ex,ob=new ex,sb=new ex,lb=new ex,ub=new ex,cb=new ex,hb=new ex,db=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ex,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ex,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ex;(0,r.Z)(this,e),this.a=t,this.b=n,this.c=i}return(0,i.Z)(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return nb.subVectors(this.c,this.b),rb.subVectors(this.a,this.b),.5*nb.cross(rb).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;ob.subVectors(a,i),sb.subVectors(o,i),ub.subVectors(e,i);var s=ob.dot(ub),l=sb.dot(ub);if(s<=0&&l<=0)return t.copy(i);cb.subVectors(e,a);var u=ob.dot(cb),c=sb.dot(cb);if(u>=0&&c<=u)return t.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(ob,n);hb.subVectors(e,o);var d=ob.dot(hb),f=sb.dot(hb);if(f>=0&&d<=f)return t.copy(o);var p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return r=l/(l-f),t.copy(i).addScaledVector(sb,r);var A=u*f-d*c;if(A<=0&&c-u>=0&&d-f>=0)return lb.subVectors(o,a),r=(c-u)/(c-u+(d-f)),t.copy(a).addScaledVector(lb,r);var m=1/(A+p+h);return n=p*m,r=h*m,t.copy(i).addScaledVector(ob,n).addScaledVector(sb,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),nb.subVectors(e,t),r.cross(nb);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){nb.subVectors(r,t),rb.subVectors(n,t),ib.subVectors(e,t);var a=nb.dot(nb),o=nb.dot(rb),s=nb.dot(ib),l=rb.dot(rb),u=rb.dot(ib),c=a*l-o*o;if(0===c)return i.set(-2,-1,-1);var h=1/c,d=(l*s-o*u)*h,f=(a*u-o*s)*h;return i.set(1-d-f,f,d)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,ab),ab.x>=0&&ab.y>=0&&ab.x+ab.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,s){return this.getBarycoord(e,t,n,r,ab),s.set(0,0),s.addScaledVector(i,ab.x),s.addScaledVector(a,ab.y),s.addScaledVector(o,ab.z),s}},{key:"isFrontFacing",value:function(e,t,n,r){return nb.subVectors(n,t),rb.subVectors(e,t),nb.cross(rb).dot(r)<0}}]),e}(),fb=0,pb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).isMaterial=!0,Object.defineProperty((0,jt.Z)(e),"id",{value:fb++}),e.uuid=vy(),e.name="",e.type="Material",e.blending=Ym,e.side=Hm,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=uv,e.blendDst=cv,e.blendEquation=ev,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=yv,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=iy,e.stencilZFail=iy,e.stencilZPass=iy,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return(0,i.Z)(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Ym&&(n.blending=this.blending),this.side!==Hm&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(dy),Ab=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).isMeshBasicMaterial=!0,i.type="MeshBasicMaterial",i.color=new zy(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=Ev,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.fog=!0,i.setValues(e),i}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}]),n}(pb),mb=new ex,vb=new My,gb=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.Z)(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=i,this.usage=ay,this.updateRange={offset:0,count:-1},this.version=0}return(0,i.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)vb.fromBufferAttribute(this,t),vb.applyMatrix3(e),this.setXY(t,vb.x,vb.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)mb.fromBufferAttribute(this,r),mb.applyMatrix3(e),this.setXYZ(r,mb.x,mb.y,mb.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)mb.fromBufferAttribute(this,t),mb.applyMatrix4(e),this.setXYZ(t,mb.x,mb.y,mb.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)mb.fromBufferAttribute(this,t),mb.applyNormalMatrix(e),this.setXYZ(t,mb.x,mb.y,mb.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)mb.fromBufferAttribute(this,t),mb.transformDirection(e),this.setXYZ(t,mb.x,mb.y,mb.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=Ey(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Sy(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ey(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Sy(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ey(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Sy(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ey(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Sy(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Sy(t,this.array),n=Sy(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Sy(t,this.array),n=Sy(n,this.array),r=Sy(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Sy(t,this.array),n=Sy(n,this.array),r=Sy(r,this.array),i=Sy(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==ay&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}},{key:"copyColorsArray",value:function(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}},{key:"copyVector2sArray",value:function(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}},{key:"copyVector3sArray",value:function(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}},{key:"copyVector4sArray",value:function(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}]),e}(),yb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){return(0,r.Z)(this,n),t.call(this,new Uint16Array(e),i,a)}return(0,i.Z)(n)}(gb),xb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){return(0,r.Z)(this,n),t.call(this,new Uint32Array(e),i,a)}return(0,i.Z)(n)}(gb),bb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){return(0,r.Z)(this,n),t.call(this,new Float32Array(e),i,a)}return(0,i.Z)(n)}(gb),wb=0,Cb=new Bx,Eb=new tb,Sb=new ex,Ib=new rx,Mb=new rx,_b=new ex,kb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).isBufferGeometry=!0,Object.defineProperty((0,jt.Z)(e),"id",{value:wb++}),e.uuid=vy(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return(0,i.Z)(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(By(e)?xb:yb)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new _y).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Cb.makeRotationFromQuaternion(e),this.applyMatrix4(Cb),this}},{key:"rotateX",value:function(e){return Cb.makeRotationX(e),this.applyMatrix4(Cb),this}},{key:"rotateY",value:function(e){return Cb.makeRotationY(e),this.applyMatrix4(Cb),this}},{key:"rotateZ",value:function(e){return Cb.makeRotationZ(e),this.applyMatrix4(Cb),this}},{key:"translate",value:function(e,t,n){return Cb.makeTranslation(e,t,n),this.applyMatrix4(Cb),this}},{key:"scale",value:function(e,t,n){return Cb.makeScale(e,t,n),this.applyMatrix4(Cb),this}},{key:"lookAt",value:function(e){return Eb.lookAt(e),Eb.updateMatrix(),this.applyMatrix4(Eb.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Sb).negate(),this.translate(Sb.x,Sb.y,Sb.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new bb(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new rx);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ex(-1/0,-1/0,-1/0),new ex(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Ib.setFromBufferAttribute(i),this.morphTargetsRelative?(_b.addVectors(this.boundingBox.min,Ib.min),this.boundingBox.expandByPoint(_b),_b.addVectors(this.boundingBox.max,Ib.max),this.boundingBox.expandByPoint(_b)):(this.boundingBox.expandByPoint(Ib.min),this.boundingBox.expandByPoint(Ib.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new bx);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ex,1/0);if(e){var n=this.boundingSphere.center;if(Ib.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Mb.setFromBufferAttribute(a),this.morphTargetsRelative?(_b.addVectors(Ib.min,Mb.min),Ib.expandByPoint(_b),_b.addVectors(Ib.max,Mb.max),Ib.expandByPoint(_b)):(Ib.expandByPoint(Mb.min),Ib.expandByPoint(Mb.max))}Ib.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)_b.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(_b));if(t)for(var u=0,c=t.length;u<c;u++)for(var h=t[u],d=this.morphTargetsRelative,f=0,p=h.count;f<p;f++)_b.fromBufferAttribute(h,f),d&&(Sb.fromBufferAttribute(e,f),_b.add(Sb)),o=Math.max(o,n.distanceToSquared(_b));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new gb(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new ex,u[c]=new ex;var h=new ex,d=new ex,f=new ex,p=new My,A=new My,m=new My,v=new ex,g=new ex,y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(var x=0,b=y.length;x<b;++x)for(var w=y[x],C=w.start,E=C,S=C+w.count;E<S;E+=3)Q(n[E+0],n[E+1],n[E+2]);for(var I=new ex,M=new ex,_=new ex,k=new ex,B=0,T=y.length;B<T;++B)for(var R=y[B],D=R.start,P=D,L=D+R.count;P<L;P+=3)j(n[P+0]),j(n[P+1]),j(n[P+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function Q(e,t,n){h.fromArray(r,3*e),d.fromArray(r,3*t),f.fromArray(r,3*n),p.fromArray(a,2*e),A.fromArray(a,2*t),m.fromArray(a,2*n),d.sub(h),f.sub(h),A.sub(p),m.sub(p);var i=1/(A.x*m.y-m.x*A.y);isFinite(i)&&(v.copy(d).multiplyScalar(m.y).addScaledVector(f,-A.y).multiplyScalar(i),g.copy(f).multiplyScalar(A.x).addScaledVector(d,-m.x).multiplyScalar(i),l[e].add(v),l[t].add(v),l[n].add(v),u[e].add(g),u[t].add(g),u[n].add(g))}function j(e){_.fromArray(i,3*e),k.copy(_);var t=l[e];I.copy(t),I.sub(_.multiplyScalar(_.dot(t))).normalize(),M.crossVectors(k,t);var n=M.dot(u[e])<0?-1:1;s[4*e]=I.x,s[4*e+1]=I.y,s[4*e+2]=I.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new gb(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new ex,o=new ex,s=new ex,l=new ex,u=new ex,c=new ex,h=new ex,d=new ex;if(e)for(var f=0,p=e.count;f<p;f+=3){var A=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);a.fromBufferAttribute(t,A),o.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),l.fromBufferAttribute(n,A),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,v),l.add(h),u.add(h),c.add(h),n.setXYZ(A,l.x,l.y,l.z),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(v,c.x,c.y,c.z)}else for(var g=0,y=t.count;g<y;g+=3)a.fromBufferAttribute(t,g+0),o.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(g+0,h.x,h.y,h.z),n.setXYZ(g+1,h.x,h.y,h.z),n.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)_b.fromBufferAttribute(e,t),_b.normalize(),e.setXYZ(t,_b.x,_b.y,_b.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new gb(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,d=c.length;h<d;h++){var f=e(c[h],r);u.push(f)}t.morphAttributes[l]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,A=0,m=p.length;A<m;A++){var v=p[A];t.addGroup(v.start,v.count,v.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],d=0,f=c.length;d<f;d++){var p=c[d];h.push(p.toJSON(e.data))}h.length>0&&(s[u]=h,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var A=this.groups;A.length>0&&(e.data.groups=JSON.parse(JSON.stringify(A)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var d=e.groups,f=0,p=d.length;f<p;f++){var A=d[f];this.addGroup(A.start,A.count,A.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var v=e.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(dy),Bb=new Bx,Tb=new kx,Rb=new bx,Db=new ex,Pb=new ex,Lb=new ex,Qb=new ex,jb=new ex,Nb=new My,Fb=new My,Ub=new My,Ob=new ex,Zb=new ex,zb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new kb,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ab;return(0,r.Z)(this,n),(e=t.call(this)).isMesh=!0,e.type="Mesh",e.geometry=i,e.material=a,e.updateMorphTargets(),e}return(0,i.Z)(n,[{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){jb.set(0,0,0);for(var s=0,l=i.length;s<l;s++){var u=o[s],c=i[s];0!==u&&(Qb.fromBufferAttribute(c,e),a?jb.addScaledVector(Qb,u):jb.addScaledVector(Qb.sub(t),u))}t.add(jb)}return this.isSkinnedMesh&&this.boneTransform(e,t),t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),Rb.copy(n.boundingSphere),Rb.applyMatrix4(i),!1!==e.ray.intersectsSphere(Rb)&&(Bb.copy(i).invert(),Tb.copy(e.ray).applyMatrix4(Bb),null===n.boundingBox||!1!==Tb.intersectsBox(n.boundingBox)))){var a,o=n.index,s=n.attributes.position,l=n.attributes.uv,u=n.attributes.uv2,c=n.groups,h=n.drawRange;if(null!==o)if(Array.isArray(r))for(var d=0,f=c.length;d<f;d++)for(var p=c[d],A=r[p.materialIndex],m=Math.max(p.start,h.start),v=Math.min(o.count,Math.min(p.start+p.count,h.start+h.count));m<v;m+=3){var g=o.getX(m),y=o.getX(m+1),x=o.getX(m+2);(a=Gb(this,A,e,Tb,l,u,g,y,x))&&(a.faceIndex=Math.floor(m/3),a.face.materialIndex=p.materialIndex,t.push(a))}else for(var b=Math.max(0,h.start),w=Math.min(o.count,h.start+h.count);b<w;b+=3){var C=o.getX(b),E=o.getX(b+1),S=o.getX(b+2);(a=Gb(this,r,e,Tb,l,u,C,E,S))&&(a.faceIndex=Math.floor(b/3),t.push(a))}else if(void 0!==s)if(Array.isArray(r))for(var I=0,M=c.length;I<M;I++)for(var _=c[I],k=r[_.materialIndex],B=Math.max(_.start,h.start),T=Math.min(s.count,Math.min(_.start+_.count,h.start+h.count));B<T;B+=3)(a=Gb(this,k,e,Tb,l,u,B,B+1,B+2))&&(a.faceIndex=Math.floor(B/3),a.face.materialIndex=_.materialIndex,t.push(a));else for(var R=Math.max(0,h.start),D=Math.min(s.count,h.start+h.count);R<D;R+=3)(a=Gb(this,r,e,Tb,l,u,R,R+1,R+2))&&(a.faceIndex=Math.floor(R/3),t.push(a))}}}]),n}(tb);function Gb(e,t,n,r,i,a,o,s,l){e.getVertexPosition(o,Db),e.getVertexPosition(s,Pb),e.getVertexPosition(l,Lb);var u=function(e,t,n,r,i,a,o,s){if(null===(t.side===Vm?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===Hm,s)))return null;Zb.copy(s),Zb.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(Zb);return l<n.near||l>n.far?null:{distance:l,point:Zb.clone(),object:e}}(e,t,n,r,Db,Pb,Lb,Ob);if(u){i&&(Nb.fromBufferAttribute(i,o),Fb.fromBufferAttribute(i,s),Ub.fromBufferAttribute(i,l),u.uv=db.getUV(Ob,Db,Pb,Lb,Nb,Fb,Ub,new My)),a&&(Nb.fromBufferAttribute(a,o),Fb.fromBufferAttribute(a,s),Ub.fromBufferAttribute(a,l),u.uv2=db.getUV(Ob,Db,Pb,Lb,Nb,Fb,Ub,new My));var c={a:o,b:s,c:l,normal:new ex,materialIndex:0};db.getNormal(Db,Pb,Lb,c.normal),u.face=c}return u}var Hb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;(0,r.Z)(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:i,height:a,depth:o,widthSegments:s,heightSegments:l,depthSegments:u};var c=(0,jt.Z)(e);s=Math.floor(s),l=Math.floor(l),u=Math.floor(u);var h=[],d=[],f=[],p=[],A=0,m=0;function v(e,t,n,r,i,a,o,s,l,u,v){for(var g=a/l,y=o/u,x=a/2,b=o/2,w=s/2,C=l+1,E=u+1,S=0,I=0,M=new ex,_=0;_<E;_++)for(var k=_*y-b,B=0;B<C;B++){var T=B*g-x;M[e]=T*r,M[t]=k*i,M[n]=w,d.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=s>0?1:-1,f.push(M.x,M.y,M.z),p.push(B/l),p.push(1-_/u),S+=1}for(var R=0;R<u;R++)for(var D=0;D<l;D++){var P=A+D+C*R,L=A+D+C*(R+1),Q=A+(D+1)+C*(R+1),j=A+(D+1)+C*R;h.push(P,L,j),h.push(L,Q,j),I+=6}c.addGroup(m,I,v),m+=I,A+=S}return v("z","y","x",-1,-1,o,a,i,u,l,0),v("z","y","x",1,-1,o,a,-i,u,l,1),v("x","z","y",1,1,i,o,a,s,u,2),v("x","z","y",1,-1,i,o,-a,s,u,3),v("x","y","z",1,-1,i,a,o,s,l,4),v("x","y","z",-1,-1,i,a,-o,s,l,5),e.setIndex(h),e.setAttribute("position",new bb(d,3)),e.setAttribute("normal",new bb(f,3)),e.setAttribute("uv",new bb(p,2)),e}return(0,i.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(kb);function Vb(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Wb(e){for(var t={},n=0;n<e.length;n++){var r=Vb(e[n]);for(var i in r)t[i]=r[i]}return t}function qb(e){return null===e.getRenderTarget()&&e.outputEncoding===Kg?ny:ry}var Yb={clone:Vb,merge:Wb},Xb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).isShaderMaterial=!0,i.type="ShaderMaterial",i.defines={},i.uniforms={},i.uniformsGroups=[],i.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",i.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",i.linewidth=1,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.lights=!1,i.clipping=!1,i.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},i.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},i.index0AttributeName=void 0,i.uniformsNeedUpdate=!1,i.glslVersion=null,void 0!==e&&i.setValues(e),i}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vb(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=(0,va.Z)((0,ga.Z)(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(pb),Jb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new Bx,e.projectionMatrix=new Bx,e.projectionMatrixInverse=new Bx,e}return(0,i.Z)(n,[{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){(0,va.Z)((0,ga.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){(0,va.Z)((0,ga.Z)(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(tb),Kb=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return(0,r.Z)(this,n),(e=t.call(this)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=i,e.zoom=1,e.near=o,e.far=s,e.focus=10,e.aspect=a,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return(0,i.Z)(n,[{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*my*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Ay*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*my*Math.atan(Math.tan(.5*Ay*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Ay*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,va.Z)((0,ga.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Jb),$b=-90,ew=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;(0,r.Z)(this,n),(o=t.call(this)).type="CubeCamera",o.renderTarget=a;var s=new Kb($b,1,e,i);s.layers=o.layers,s.up.set(0,1,0),s.lookAt(1,0,0),o.add(s);var l=new Kb($b,1,e,i);l.layers=o.layers,l.up.set(0,1,0),l.lookAt(-1,0,0),o.add(l);var u=new Kb($b,1,e,i);u.layers=o.layers,u.up.set(0,0,-1),u.lookAt(0,1,0),o.add(u);var c=new Kb($b,1,e,i);c.layers=o.layers,c.up.set(0,0,1),c.lookAt(0,-1,0),o.add(c);var h=new Kb($b,1,e,i);h.layers=o.layers,h.up.set(0,1,0),h.lookAt(0,0,1),o.add(h);var d=new Kb($b,1,e,i);return d.layers=o.layers,d.up.set(0,1,0),d.lookAt(0,0,-1),o.add(d),o}return(0,i.Z)(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=(0,Un.Z)(this.children,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=e.getRenderTarget(),h=e.toneMapping,d=e.xr.enabled;e.toneMapping=Mv,e.xr.enabled=!1;var f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,s),e.setRenderTarget(n,4),e.render(t,l),n.texture.generateMipmaps=f,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}]),n}(tb),tw=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o,s,l,u,c,h,d){var f;return(0,r.Z)(this,n),(f=t.call(this,e=void 0!==e?e:[],i=void 0!==i?i:Dv,a,o,s,l,u,c,h,d)).isCubeTexture=!0,f.flipY=!1,f}return(0,i.Z)(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(qy),nw=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,n),(e=t.call(this,i,i,a)).isWebGLCubeRenderTarget=!0;var o={width:i,height:i,depth:1},s=[o,o,o,o,o,o];return e.texture=new tw(s,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,e.texture.minFilter=void 0!==a.minFilter?a.minFilter:Gv,e}return(0,i.Z)(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Hb(5,5,5),o=new Xb({name:"CubemapFromEquirect",uniforms:Vb(n),vertexShader:r,fragmentShader:i,side:Vm,blending:qm});o.uniforms.tEquirect.value=t;var s=new zb(a,o),l=t.minFilter;return t.minFilter===Vv&&(t.minFilter=Gv),new ew(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Xy),rw=new ex,iw=new ex,aw=new _y,ow=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ex(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,r.Z)(this,e),this.isPlane=!0,this.normal=t,this.constant=n}return(0,i.Z)(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=rw.subVectors(n,t).cross(iw.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(rw),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||aw.getNormalMatrix(e),r=this.coplanarPoint(rw).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),sw=new bx,lw=new ex,uw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ow,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ow,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ow,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ow,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ow,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new ow;(0,r.Z)(this,e),this.planes=[t,n,i,a,o,s]}return(0,i.Z)(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],d=n[9],f=n[10],p=n[11],A=n[12],m=n[13],v=n[14],g=n[15];return t[0].setComponents(o-r,c-s,p-h,g-A).normalize(),t[1].setComponents(o+r,c+s,p+h,g+A).normalize(),t[2].setComponents(o+i,c+l,p+d,g+m).normalize(),t[3].setComponents(o-i,c-l,p-d,g-m).normalize(),t[4].setComponents(o-a,c-u,p-f,g-v).normalize(),t[5].setComponents(o+a,c+u,p+f,g+v).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),sw.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(sw)}},{key:"intersectsSprite",value:function(e){return sw.center.set(0,0,0),sw.radius=.7071067811865476,sw.applyMatrix4(e.matrixWorld),this.intersectsSphere(sw)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++)if(t[i].distanceToPoint(n)<r)return!1;return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(lw.x=r.normal.x>0?e.max.x:e.min.x,lw.y=r.normal.y>0?e.max.y:e.min.y,lw.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(lw)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function cw(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function hw(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=e.createBuffer();if(e.bindBuffer(r,s),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:s,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version)}}}}var dw=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,r.Z)(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:i,height:a,widthSegments:o,heightSegments:s};for(var l=i/2,u=a/2,c=Math.floor(o),h=Math.floor(s),d=c+1,f=h+1,p=i/c,A=a/h,m=[],v=[],g=[],y=[],x=0;x<f;x++)for(var b=x*A-u,w=0;w<d;w++){var C=w*p-l;v.push(C,-b,0),g.push(0,0,1),y.push(w/c),y.push(1-x/h)}for(var E=0;E<h;E++)for(var S=0;S<c;S++){var I=S+d*E,M=S+d*(E+1),_=S+1+d*(E+1),k=S+1+d*E;m.push(I,M,k),m.push(M,_,k)}return e.setIndex(m),e.setAttribute("position",new bb(v,3)),e.setAttribute("normal",new bb(g,3)),e.setAttribute("uv",new bb(y,2)),e}return(0,i.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(kb),fw={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},pw={common:{diffuse:{value:new zy(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new _y},uv2Transform:{value:new _y},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new My(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zy(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zy(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _y}},sprite:{diffuse:{value:new zy(16777215)},opacity:{value:1},center:{value:new My(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new _y}}},Aw={basic:{uniforms:Wb([pw.common,pw.specularmap,pw.envmap,pw.aomap,pw.lightmap,pw.fog]),vertexShader:fw.meshbasic_vert,fragmentShader:fw.meshbasic_frag},lambert:{uniforms:Wb([pw.common,pw.specularmap,pw.envmap,pw.aomap,pw.lightmap,pw.emissivemap,pw.bumpmap,pw.normalmap,pw.displacementmap,pw.fog,pw.lights,{emissive:{value:new zy(0)}}]),vertexShader:fw.meshlambert_vert,fragmentShader:fw.meshlambert_frag},phong:{uniforms:Wb([pw.common,pw.specularmap,pw.envmap,pw.aomap,pw.lightmap,pw.emissivemap,pw.bumpmap,pw.normalmap,pw.displacementmap,pw.fog,pw.lights,{emissive:{value:new zy(0)},specular:{value:new zy(1118481)},shininess:{value:30}}]),vertexShader:fw.meshphong_vert,fragmentShader:fw.meshphong_frag},standard:{uniforms:Wb([pw.common,pw.envmap,pw.aomap,pw.lightmap,pw.emissivemap,pw.bumpmap,pw.normalmap,pw.displacementmap,pw.roughnessmap,pw.metalnessmap,pw.fog,pw.lights,{emissive:{value:new zy(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fw.meshphysical_vert,fragmentShader:fw.meshphysical_frag},toon:{uniforms:Wb([pw.common,pw.aomap,pw.lightmap,pw.emissivemap,pw.bumpmap,pw.normalmap,pw.displacementmap,pw.gradientmap,pw.fog,pw.lights,{emissive:{value:new zy(0)}}]),vertexShader:fw.meshtoon_vert,fragmentShader:fw.meshtoon_frag},matcap:{uniforms:Wb([pw.common,pw.bumpmap,pw.normalmap,pw.displacementmap,pw.fog,{matcap:{value:null}}]),vertexShader:fw.meshmatcap_vert,fragmentShader:fw.meshmatcap_frag},points:{uniforms:Wb([pw.points,pw.fog]),vertexShader:fw.points_vert,fragmentShader:fw.points_frag},dashed:{uniforms:Wb([pw.common,pw.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fw.linedashed_vert,fragmentShader:fw.linedashed_frag},depth:{uniforms:Wb([pw.common,pw.displacementmap]),vertexShader:fw.depth_vert,fragmentShader:fw.depth_frag},normal:{uniforms:Wb([pw.common,pw.bumpmap,pw.normalmap,pw.displacementmap,{opacity:{value:1}}]),vertexShader:fw.meshnormal_vert,fragmentShader:fw.meshnormal_frag},sprite:{uniforms:Wb([pw.sprite,pw.fog]),vertexShader:fw.sprite_vert,fragmentShader:fw.sprite_frag},background:{uniforms:{uvTransform:{value:new _y},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:fw.background_vert,fragmentShader:fw.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:fw.backgroundCube_vert,fragmentShader:fw.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:fw.cube_vert,fragmentShader:fw.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fw.equirect_vert,fragmentShader:fw.equirect_frag},distanceRGBA:{uniforms:Wb([pw.common,pw.displacementmap,{referencePosition:{value:new ex},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fw.distanceRGBA_vert,fragmentShader:fw.distanceRGBA_frag},shadow:{uniforms:Wb([pw.lights,pw.fog,{color:{value:new zy(0)},opacity:{value:1}}]),vertexShader:fw.shadow_vert,fragmentShader:fw.shadow_frag}};Aw.physical={uniforms:Wb([Aw.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new My(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new zy(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new My},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new zy(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new zy(1,1,1)},specularColorMap:{value:null}}]),vertexShader:fw.meshphysical_vert,fragmentShader:fw.meshphysical_frag};var mw={r:0,b:0,g:0};function vw(e,t,n,r,i,a,o){var s,l,u=new zy(0),c=!0===a?0:1,h=null,d=0,f=null;function p(t,n){t.getRGB(mw,qb(e)),r.buffers.color.setClear(mw.r,mw.g,mw.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),p(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(u,c=e)},render:function(r,a){var o=!1,A=!0===a.isScene?a.background:null;A&&A.isTexture&&(A=(a.backgroundBlurriness>0?n:t).get(A));var m=e.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(A=null),null===A?p(u,c):A&&A.isColor&&(p(A,1),o=!0),(e.autoClear||o)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),A&&(A.isCubeTexture||A.mapping===jv)?(void 0===l&&((l=new zb(new Hb(1,1,1),new Xb({name:"BackgroundCubeMaterial",uniforms:Vb(Aw.backgroundCube.uniforms),vertexShader:Aw.backgroundCube.vertexShader,fragmentShader:Aw.backgroundCube.fragmentShader,side:Vm,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=A,l.material.uniforms.flipEnvMap.value=A.isCubeTexture&&!1===A.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=a.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,l.material.toneMapped=A.encoding!==Kg,h===A&&d===A.version&&f===e.toneMapping||(l.material.needsUpdate=!0,h=A,d=A.version,f=e.toneMapping),l.layers.enableAll(),r.unshift(l,l.geometry,l.material,0,0,null)):A&&A.isTexture&&(void 0===s&&((s=new zb(new dw(2,2),new Xb({name:"BackgroundMaterial",uniforms:Vb(Aw.background.uniforms),vertexShader:Aw.background.vertexShader,fragmentShader:Aw.background.fragmentShader,side:Hm,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=A,s.material.uniforms.backgroundIntensity.value=a.backgroundIntensity,s.material.toneMapped=A.encoding!==Kg,!0===A.matrixAutoUpdate&&A.updateMatrix(),s.material.uniforms.uvTransform.value.copy(A.matrix),h===A&&d===A.version&&f===e.toneMapping||(s.material.needsUpdate=!0,h=A,d=A.version,f=e.toneMapping),s.layers.enableAll(),r.unshift(s,s.geometry,s.material,0,0,null))}}}function gw(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=f(null),u=l,c=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function d(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function f(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function A(e){m(e,0)}function m(n,i){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function g(t,n,i,a,o,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,s):e.vertexAttribIPointer(t,n,i,o,s)}function y(){x(),c=!0,u!==l&&h((u=l).object)}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,d,y,x){var b=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];return void 0===c&&(c=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c),c}(y,d,l);u!==w&&h((u=w).object),b=function(e,t,n,r){var i=u.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var l in s)if(s[l].location>=0){var c=i[l],h=a[l];if(void 0===h&&("instanceMatrix"===l&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(h=e.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}return u.attributesNum!==o||u.index!==r}(i,y,d,x),b&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var l in s)if(s[l].location>=0){var c=a[l];void 0===c&&("instanceMatrix"===l&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(c=e.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),i[l]=h,o++}u.attributes=i,u.attributesNum=o,u.index=r}(i,y,d,x)}else{var C=!0===l.wireframe;u.geometry===y.id&&u.program===d.id&&u.wireframe===C||(u.geometry=y.id,u.program=d.id,u.wireframe=C,b=!0)}null!==x&&n.update(x,34963),(b||c)&&(c=!1,function(i,a,o,s){if(!1!==r.isWebGL2||!i.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==t.get("ANGLE_instanced_arrays")){p();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var d=u[h];if(d.location>=0){var f=l[h];if(void 0===f&&("instanceMatrix"===h&&i.instanceMatrix&&(f=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(f=i.instanceColor)),void 0!==f){var y=f.normalized,x=f.itemSize,b=n.get(f);if(void 0===b)continue;var w=b.buffer,C=b.type,E=b.bytesPerElement;if(f.isInterleavedBufferAttribute){var S=f.data,I=S.stride,M=f.offset;if(S.isInstancedInterleavedBuffer){for(var _=0;_<d.locationSize;_++)m(d.location+_,S.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=S.meshPerAttribute*S.count)}else for(var k=0;k<d.locationSize;k++)A(d.location+k);e.bindBuffer(34962,w);for(var B=0;B<d.locationSize;B++)g(d.location+B,x/d.locationSize,C,y,I*E,(M+x/d.locationSize*B)*E)}else{if(f.isInstancedBufferAttribute){for(var T=0;T<d.locationSize;T++)m(d.location+T,f.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=f.meshPerAttribute*f.count)}else for(var R=0;R<d.locationSize;R++)A(d.location+R);e.bindBuffer(34962,w);for(var D=0;D<d.locationSize;D++)g(d.location+D,x/d.locationSize,C,y,x*E,x/d.locationSize*D*E)}}else if(void 0!==c){var P=c[h];if(void 0!==P)switch(P.length){case 2:e.vertexAttrib2fv(d.location,P);break;case 3:e.vertexAttrib3fv(d.location,P);break;case 4:e.vertexAttrib4fv(d.location,P);break;default:e.vertexAttrib1fv(d.location,P)}}}}v()}}(i,l,d,y),null!==x&&e.bindBuffer(34963,n.get(x).buffer))},reset:y,resetDefaultState:x,dispose:function(){for(var e in y(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)d(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)d(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:A,disableUnusedAttributes:v}}function yw(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(a)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,o,s),n.update(o,i,s)}}}function xw(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),h=e.getParameter(35660),d=e.getParameter(3379),f=e.getParameter(34076),p=e.getParameter(34921),A=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),g=h>0,y=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:A,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?e.getParameter(36183):0}}function bw(e){var t=this,n=null,r=0,i=!1,a=!1,o=new ow,s=new _y,l={value:null,needsUpdate:!1};function u(e,n,r,i){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){var c=r+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,f=r;d!==a;++d,f+=4)o.copy(e[d]).applyMatrix4(h,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){var h=o.clippingPlanes,d=o.clipIntersection,f=o.clipShadows,p=e.get(o);if(!i||null===h||0===h.length||a&&!f)a?u(null):(l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0);else{var A=a?0:r,m=4*A,v=p.clippingState||null;l.value=v,v=u(h,s,m,c);for(var g=0;g!==m;++g)v[g]=n[g];p.clippingState=v,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=A}}}function ww(e){var t=new WeakMap;function n(e,t){return t===Lv?e.mapping=Dv:t===Qv&&(e.mapping=Pv),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===Lv||a===Qv){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new nw(o.height/2);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var Cw=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return(0,r.Z)(this,n),(e=t.call(this)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=i,e.right=a,e.top=o,e.bottom=s,e.near=l,e.far=u,e.updateProjectionMatrix(),e}return(0,i.Z)(n,[{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=(0,va.Z)((0,ga.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Jb),Ew=[.125,.215,.35,.446,.526,.582],Sw=new Cw,Iw=new zy,Mw=null,_w=(1+Math.sqrt(5))/2,kw=1/_w,Bw=[new ex(1,1,1),new ex(-1,1,1),new ex(1,1,-1),new ex(-1,1,-1),new ex(0,_w,kw),new ex(0,_w,-kw),new ex(kw,0,_w),new ex(-kw,0,_w),new ex(_w,kw,0),new ex(-_w,kw,0)],Tw=function(){function e(t){(0,r.Z)(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return(0,i.Z)(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Mw=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=Lw(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Pw(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Mw),e.scissorTest=!1,Dw(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Dv||e.mapping===Pv?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Mw=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Gv,minFilter:Gv,generateMipmaps:!1,type:eg,format:ag,encoding:Jg,depthBuffer:!1},r=Rw(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){var i;null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Rw(e,t,n);var a=this._lodMax;i=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+Ew.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var l=1/s;o>e-4?l=Ew[o-e+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-2),c=-u,h=1+u,d=[c,c,h,c,h,h,c,c,h,h,c,h],f=new Float32Array(108),p=new Float32Array(72),A=new Float32Array(36),m=0;m<6;m++){var v=m%3*2/3-1,g=m>2?0:-1,y=[v,g,0,v+2/3,g,0,v+2/3,g+1,0,v,g,0,v+2/3,g+1,0,v,g+1,0];f.set(y,18*m),p.set(d,12*m);var x=[m,m,m,m,m,m];A.set(x,6*m)}var b=new kb;b.setAttribute("position",new gb(f,3)),b.setAttribute("uv",new gb(p,2)),b.setAttribute("faceIndex",new gb(A,1)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(a),this._sizeLods=i.sizeLods,this._lodPlanes=i.lodPlanes,this._sigmas=i.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(20),i=new ex(0,1,0);return new Xb({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:qm,depthTest:!1,depthWrite:!1})}(a,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new zb(this._lodPlanes[0],e);this._renderer.compile(t,Sw)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Kb(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor(Iw),s.toneMapping=Mv,s.autoClear=!1;var c=new Ab({name:"PMREM.Background",side:Vm,depthWrite:!1,depthTest:!1}),h=new zb(new Hb,c),d=!1,f=e.background;f?f.isColor&&(c.color.copy(f),e.background=null,d=!0):(c.color.copy(Iw),d=!0);for(var p=0;p<6;p++){var A=p%3;0===A?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===A?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;Dw(r,A*m,p>2?m:0,m,m),s.setRenderTarget(r),d&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=f}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Dv||e.mapping===Pv;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Lw()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Pw());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new zb(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;Dw(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Sw)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Bw[(r-1)%Bw.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new zb(this._lodPlanes[r],l),c=l.uniforms,h=this._sizeLods[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):20;p>20&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to 20"));for(var A=[],m=0,v=0;v<20;++v){var g=v/f,y=Math.exp(-g*g/2);A.push(y),0===v?m+=y:v<p&&(m+=2*y)}for(var x=0;x<A.length;x++)A[x]=A[x]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=A,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var b=this._lodMax;c.dTheta.value=d,c.mipInt.value=b-n;var w=this._sizeLods[r];Dw(t,3*w*(r>b-4?r-b+4:0),4*(this._cubeSize-w),3*w,2*w),s.setRenderTarget(t),s.render(u,Sw)}}]),e}();function Rw(e,t,n){var r=new Xy(e,t,n);return r.texture.mapping=jv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Dw(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Pw(){return new Xb({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:qm,depthTest:!1,depthWrite:!1})}function Lw(){return new Xb({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:qm,depthTest:!1,depthWrite:!1})}function Qw(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===Lv||a===Qv,s=a===Dv||a===Pv;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=t.get(i);return null===n&&(n=new Tw(e)),l=o?n.fromEquirectangular(i,l):n.fromCubemap(i,l),t.set(i,l),l.texture}if(t.has(i))return t.get(i).texture;var u=i.image;if(o&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}(u)){null===n&&(n=new Tw(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function jw(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Nw(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete i[s.id];var u=a.get(s);u&&(t.remove(u),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],d=s[l+2];n.push(c,h,h,d,d,c)}}else{var f=i.array;o=i.version;for(var p=0,A=f.length/3-1;p<A;p+=3){var m=p+0,v=p+1,g=p+2;n.push(m,v,v,g,g,m)}}var y=new(By(n)?xb:yb)(n,1);y.version=o;var x=a.get(e);x&&t.remove(x),a.set(e,y)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],s=0,l=o.length;s<l;s++)t.update(o[s],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function Fw(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,l,a,r*o,u),n.update(l,i,u)}}}function Uw(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Ow(e,t){return e[0]-t[0]}function Zw(e,t){return Math.abs(t[1])-Math.abs(e[1])}function zw(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new Yy,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c,h){var d=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==f?f.length:0,A=a.get(u);if(void 0===A||A.count!==p){void 0!==A&&A.texture.dispose();var m=void 0!==u.morphAttributes.position,v=void 0!==u.morphAttributes.normal,g=void 0!==u.morphAttributes.color,y=u.morphAttributes.position||[],x=u.morphAttributes.normal||[],b=u.morphAttributes.color||[],w=0;!0===m&&(w=1),!0===v&&(w=2),!0===g&&(w=3);var C=u.attributes.position.count*w,E=1;C>t.maxTextureSize&&(E=Math.ceil(C/t.maxTextureSize),C=t.maxTextureSize);var S=new Float32Array(C*E*4*p),I=new Jy(S,C,E,p);I.type=$v,I.needsUpdate=!0;for(var M=4*w,_=0;_<p;_++)for(var k=y[_],B=x[_],T=b[_],R=C*E*4*_,D=0;D<k.count;D++){var P=D*M;!0===m&&(o.fromBufferAttribute(k,D),S[R+P+0]=o.x,S[R+P+1]=o.y,S[R+P+2]=o.z,S[R+P+3]=0),!0===v&&(o.fromBufferAttribute(B,D),S[R+P+4]=o.x,S[R+P+5]=o.y,S[R+P+6]=o.z,S[R+P+7]=0),!0===g&&(o.fromBufferAttribute(T,D),S[R+P+8]=o.x,S[R+P+9]=o.y,S[R+P+10]=o.z,S[R+P+11]=4===T.itemSize?o.w:1)}A={count:p,texture:I,size:new My(C,E)},a.set(u,A);u.addEventListener("dispose",(function e(){I.dispose(),a.delete(u),u.removeEventListener("dispose",e)}))}for(var L=0,Q=0;Q<d.length;Q++)L+=d[Q];var j=u.morphTargetsRelative?1:1-L;h.getUniforms().setValue(e,"morphTargetBaseInfluence",j),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",A.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",A.size)}else{var N=void 0===d?0:d.length,F=r[u.id];if(void 0===F||F.length!==N){F=[];for(var U=0;U<N;U++)F[U]=[U,0];r[u.id]=F}for(var O=0;O<N;O++){var Z=F[O];Z[0]=O,Z[1]=d[O]}F.sort(Zw);for(var z=0;z<8;z++)z<N&&F[z][1]?(s[z][0]=F[z][0],s[z][1]=F[z][1]):(s[z][0]=Number.MAX_SAFE_INTEGER,s[z][1]=0);s.sort(Ow);for(var G=u.morphAttributes.position,H=u.morphAttributes.normal,V=0,W=0;W<8;W++){var q=s[W],Y=q[0],X=q[1];Y!==Number.MAX_SAFE_INTEGER&&X?(G&&u.getAttribute("morphTarget"+W)!==G[Y]&&u.setAttribute("morphTarget"+W,G[Y]),H&&u.getAttribute("morphNormal"+W)!==H[Y]&&u.setAttribute("morphNormal"+W,H[Y]),i[W]=X,V+=X):(G&&!0===u.hasAttribute("morphTarget"+W)&&u.deleteAttribute("morphTarget"+W),H&&!0===u.hasAttribute("morphNormal"+W)&&u.deleteAttribute("morphNormal"+W),i[W]=0)}var J=u.morphTargetsRelative?1:1-V;h.getUniforms().setValue(e,"morphTargetBaseInfluence",J),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Gw(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,s=e.geometry,l=t.get(e,s);return i.get(l)!==o&&(t.update(l),i.set(l,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),l},dispose:function(){i=new WeakMap}}}var Hw=new qy,Vw=new Jy,Ww=new Ky,qw=new tw,Yw=[],Xw=[],Jw=new Float32Array(16),Kw=new Float32Array(9),$w=new Float32Array(4);function eC(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Yw[i];if(void 0===a&&(a=new Float32Array(i),Yw[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function tC(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function nC(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function rC(e,t){var n=Xw[t];void 0===n&&(n=new Int32Array(t),Xw[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function iC(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function aC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(tC(n,t))return;e.uniform2fv(this.addr,t),nC(n,t)}}function oC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(tC(n,t))return;e.uniform3fv(this.addr,t),nC(n,t)}}function sC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(tC(n,t))return;e.uniform4fv(this.addr,t),nC(n,t)}}function lC(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(tC(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),nC(n,t)}else{if(tC(n,r))return;$w.set(r),e.uniformMatrix2fv(this.addr,!1,$w),nC(n,r)}}function uC(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(tC(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),nC(n,t)}else{if(tC(n,r))return;Kw.set(r),e.uniformMatrix3fv(this.addr,!1,Kw),nC(n,r)}}function cC(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(tC(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),nC(n,t)}else{if(tC(n,r))return;Jw.set(r),e.uniformMatrix4fv(this.addr,!1,Jw),nC(n,r)}}function hC(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function dC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(tC(n,t))return;e.uniform2iv(this.addr,t),nC(n,t)}}function fC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(tC(n,t))return;e.uniform3iv(this.addr,t),nC(n,t)}}function pC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(tC(n,t))return;e.uniform4iv(this.addr,t),nC(n,t)}}function AC(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function mC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(tC(n,t))return;e.uniform2uiv(this.addr,t),nC(n,t)}}function vC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(tC(n,t))return;e.uniform3uiv(this.addr,t),nC(n,t)}}function gC(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(tC(n,t))return;e.uniform4uiv(this.addr,t),nC(n,t)}}function yC(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Hw,i)}function xC(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Ww,i)}function bC(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||qw,i)}function wC(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Vw,i)}function CC(e,t){e.uniform1fv(this.addr,t)}function EC(e,t){var n=eC(t,this.size,2);e.uniform2fv(this.addr,n)}function SC(e,t){var n=eC(t,this.size,3);e.uniform3fv(this.addr,n)}function IC(e,t){var n=eC(t,this.size,4);e.uniform4fv(this.addr,n)}function MC(e,t){var n=eC(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function _C(e,t){var n=eC(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function kC(e,t){var n=eC(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function BC(e,t){e.uniform1iv(this.addr,t)}function TC(e,t){e.uniform2iv(this.addr,t)}function RC(e,t){e.uniform3iv(this.addr,t)}function DC(e,t){e.uniform4iv(this.addr,t)}function PC(e,t){e.uniform1uiv(this.addr,t)}function LC(e,t){e.uniform2uiv(this.addr,t)}function QC(e,t){e.uniform3uiv(this.addr,t)}function jC(e,t){e.uniform4uiv(this.addr,t)}function NC(e,t,n){var r=this.cache,i=t.length,a=rC(n,i);tC(r,a)||(e.uniform1iv(this.addr,a),nC(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||Hw,a[o])}function FC(e,t,n){var r=this.cache,i=t.length,a=rC(n,i);tC(r,a)||(e.uniform1iv(this.addr,a),nC(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||Ww,a[o])}function UC(e,t,n){var r=this.cache,i=t.length,a=rC(n,i);tC(r,a)||(e.uniform1iv(this.addr,a),nC(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||qw,a[o])}function OC(e,t,n){var r=this.cache,i=t.length,a=rC(n,i);tC(r,a)||(e.uniform1iv(this.addr,a),nC(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||Vw,a[o])}var ZC=(0,i.Z)((function e(t,n,i){(0,r.Z)(this,e),this.id=t,this.addr=i,this.cache=[],this.setValue=function(e){switch(e){case 5126:return iC;case 35664:return aC;case 35665:return oC;case 35666:return sC;case 35674:return lC;case 35675:return uC;case 35676:return cC;case 5124:case 35670:return hC;case 35667:case 35671:return dC;case 35668:case 35672:return fC;case 35669:case 35673:return pC;case 5125:return AC;case 36294:return mC;case 36295:return vC;case 36296:return gC;case 35678:case 36198:case 36298:case 36306:case 35682:return yC;case 35679:case 36299:case 36307:return xC;case 35680:case 36300:case 36308:case 36293:return bC;case 36289:case 36303:case 36311:case 36292:return wC}}(n.type)})),zC=(0,i.Z)((function e(t,n,i){(0,r.Z)(this,e),this.id=t,this.addr=i,this.cache=[],this.size=n.size,this.setValue=function(e){switch(e){case 5126:return CC;case 35664:return EC;case 35665:return SC;case 35666:return IC;case 35674:return MC;case 35675:return _C;case 35676:return kC;case 5124:case 35670:return BC;case 35667:case 35671:return TC;case 35668:case 35672:return RC;case 35669:case 35673:return DC;case 5125:return PC;case 36294:return LC;case 36295:return QC;case 36296:return jC;case 35678:case 36198:case 36298:case 36306:case 35682:return NC;case 35679:case 36299:case 36307:return FC;case 35680:case 36300:case 36308:case 36293:return UC;case 36289:case 36303:case 36311:case 36292:return OC}}(n.type)})),GC=function(){function e(t){(0,r.Z)(this,e),this.id=t,this.seq=[],this.map={}}return(0,i.Z)(e,[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}]),e}(),HC=/(\w+)(\])?(\[|\.)?/g;function VC(e,t){e.seq.push(t),e.map[t.id]=t}function WC(e,t,n){var r=e.name,i=r.length;for(HC.lastIndex=0;;){var a=HC.exec(r),o=HC.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){VC(n,void 0===u?new ZC(s,e,t):new zC(s,e,t));break}var c=n.map[s];void 0===c&&VC(n,c=new GC(s)),n=c}}var qC=function(){function e(t,n){(0,r.Z)(this,e),this.seq=[],this.map={};for(var i=t.getProgramParameter(n,35718),a=0;a<i;++a){var o=t.getActiveUniform(n,a);WC(o,t.getUniformLocation(n,o.name),this)}}return(0,i.Z)(e,[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}]),e}();function YC(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var XC=0;function JC(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function KC(e,t){var n=function(e){switch(e){case Jg:return["Linear","( value )"];case Kg:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function $C(e,t){var n;switch(t){case _v:n="Linear";break;case kv:n="Reinhard";break;case Bv:n="OptimizedCineon";break;case Tv:n="ACESFilmic";break;case Rv:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function eE(e){return""!==e}function tE(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function nE(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var rE=/^[ \t]*#include +<([\w\d./]+)>/gm;function iE(e){return e.replace(rE,aE)}function aE(e,t){var n=fw[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return iE(n)}var oE=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function sE(e){return e.replace(oE,lE)}function lE(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function uE(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function cE(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===Zm?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===zm?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Gm&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Dv:case Pv:t="ENVMAP_TYPE_CUBE";break;case jv:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),d=function(e){var t="ENVMAP_MODE_REFLECTION";return e.envMap&&e.envMapMode===Pv&&(t="ENVMAP_MODE_REFRACTION"),t}(n),f=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Ev:t="ENVMAP_BLENDING_MULTIPLY";break;case Sv:t="ENVMAP_BLENDING_MIX";break;case Iv:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),A=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(eE).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),v=o.createProgram(),g=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[m].filter(eE).join("\n")).length>0&&(i+="\n"),(a=[A,m].filter(eE).join("\n")).length>0&&(a+="\n")):(i=[uE(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(eE).join("\n"),a=[A,uE(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Mv?"#define TONE_MAPPING":"",n.toneMapping!==Mv?fw.tonemapping_pars_fragment:"",n.toneMapping!==Mv?$C("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",fw.encodings_pars_fragment,KC("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(eE).join("\n")),l=nE(l=tE(l=iE(l),n),n),u=nE(u=tE(u=iE(u),n),n),l=sE(l),u=sE(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(g="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===oy?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===oy?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var y,x,b=g+a+u,w=YC(o,35633,g+i+l),C=YC(o,35632,b);if(o.attachShader(v,w),o.attachShader(v,C),void 0!==n.index0AttributeName?o.bindAttribLocation(v,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(v,0,"position"),o.linkProgram(v),e.debug.checkShaderErrors){var E=o.getProgramInfoLog(v).trim(),S=o.getShaderInfoLog(w).trim(),I=o.getShaderInfoLog(C).trim(),M=!0,_=!0;if(!1===o.getProgramParameter(v,35714)){M=!1;var k=JC(o,w,"vertex"),B=JC(o,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(v,35715)+"\n\nProgram Info Log: "+E+"\n"+k+"\n"+B)}else""!==E?console.warn("THREE.WebGLProgram: Program Info Log:",E):""!==S&&""!==I||(_=!1);_&&(this.diagnostics={runnable:M,programLog:E,vertexShader:{log:S,prefix:i},fragmentShader:{log:I,prefix:a}})}return o.deleteShader(w),o.deleteShader(C),this.getUniforms=function(){return void 0===y&&(y=new qC(o,v)),y},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;35674===a.type&&(s=2),35675===a.type&&(s=3),35676===a.type&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,v)),x},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=XC++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=w,this.fragmentShader=C,this}var hE=0,dE=function(){function e(){(0,r.Z)(this,e),this.shaderCache=new Map,this.materialCache=new Map}return(0,i.Z)(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=this.materialCache.get(e),r=(0,qi.Z)(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code)}}catch(Vc){r.e(Vc)}finally{r.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new fE(e),t.set(e,n)),n}}]),e}(),fE=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.id=hE++,this.code=t,this.usedTimes=0}));function pE(e,t,n,r,i,a,o){var s=new Ox,l=new dE,u=[],c=i.isWebGL2,h=i.logarithmicDepthBuffer,d=i.vertexTextures,f=i.precision,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,s,u,A,m){var v=A.fog,g=m.geometry,y=a.isMeshStandardMaterial?A.environment:null,x=(a.isMeshStandardMaterial?n:t).get(a.envMap||y),b=x&&x.mapping===jv?x.image.height:null,w=p[a.type];null!==a.precision&&((f=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",f,"instead."));var C,E,S,I,M=g.morphAttributes.position||g.morphAttributes.normal||g.morphAttributes.color,_=void 0!==M?M.length:0,k=0;if(void 0!==g.morphAttributes.position&&(k=1),void 0!==g.morphAttributes.normal&&(k=2),void 0!==g.morphAttributes.color&&(k=3),w){var B=Aw[w];C=B.vertexShader,E=B.fragmentShader}else C=a.vertexShader,E=a.fragmentShader,l.update(a),S=l.getVertexShaderID(a),I=l.getFragmentShaderID(a);var T=e.getRenderTarget(),R=a.alphaTest>0,D=a.clearcoat>0,P=a.iridescence>0;return{isWebGL2:c,shaderID:w,shaderName:a.type,vertexShader:C,fragmentShader:E,defines:a.defines,customVertexShaderID:S,customFragmentShaderID:I,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:f,instancing:!0===m.isInstancedMesh,instancingColor:!0===m.isInstancedMesh&&null!==m.instanceColor,supportsVertexTextures:d,outputEncoding:null===T?e.outputEncoding:!0===T.isXRRenderTarget?T.texture.encoding:Jg,map:!!a.map,matcap:!!a.matcap,envMap:!!x,envMapMode:x&&x.mapping,envMapCubeUVHeight:b,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===ty,tangentSpaceNormalMap:a.normalMapType===ey,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===Kg,clearcoat:D,clearcoatMap:D&&!!a.clearcoatMap,clearcoatRoughnessMap:D&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:D&&!!a.clearcoatNormalMap,iridescence:P,iridescenceMap:P&&!!a.iridescenceMap,iridescenceThicknessMap:P&&!!a.iridescenceThicknessMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===Ym,alphaMap:!!a.alphaMap,alphaTest:R,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!g.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!g.attributes.color&&4===g.attributes.color.itemSize,vertexUvs:!!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatMap||a.clearcoatRoughnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.displacementMap||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheenColorMap||a.sheenRoughnessMap),uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.iridescenceMap||a.iridescenceThicknessMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap||!a.displacementMap),fog:!!v,useFog:!0===a.fog,fogExp2:v&&v.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===m.isSkinnedMesh,morphTargets:void 0!==g.morphAttributes.position,morphNormals:void 0!==g.morphAttributes.normal,morphColors:void 0!==g.morphAttributes.color,morphTargetsCount:_,morphTextureStride:k,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:Mv,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===Wm,flipSided:a.side===Vm,useDepthPacking:!!a.depthPacking,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0),t.supportsVertexTextures&&s.enable(1),t.instancing&&s.enable(2),t.instancingColor&&s.enable(3),t.map&&s.enable(4),t.matcap&&s.enable(5),t.envMap&&s.enable(6),t.lightMap&&s.enable(7),t.aoMap&&s.enable(8),t.emissiveMap&&s.enable(9),t.bumpMap&&s.enable(10),t.normalMap&&s.enable(11),t.objectSpaceNormalMap&&s.enable(12),t.tangentSpaceNormalMap&&s.enable(13),t.clearcoat&&s.enable(14),t.clearcoatMap&&s.enable(15),t.clearcoatRoughnessMap&&s.enable(16),t.clearcoatNormalMap&&s.enable(17),t.iridescence&&s.enable(18),t.iridescenceMap&&s.enable(19),t.iridescenceThicknessMap&&s.enable(20),t.displacementMap&&s.enable(21),t.specularMap&&s.enable(22),t.roughnessMap&&s.enable(23),t.metalnessMap&&s.enable(24),t.gradientMap&&s.enable(25),t.alphaMap&&s.enable(26),t.alphaTest&&s.enable(27),t.vertexColors&&s.enable(28),t.vertexAlphas&&s.enable(29),t.vertexUvs&&s.enable(30),t.vertexTangents&&s.enable(31),t.uvsVertexOnly&&s.enable(32),e.push(s.mask),s.disableAll(),t.fog&&s.enable(0),t.useFog&&s.enable(1),t.flatShading&&s.enable(2),t.logarithmicDepthBuffer&&s.enable(3),t.skinning&&s.enable(4),t.morphTargets&&s.enable(5),t.morphNormals&&s.enable(6),t.morphColors&&s.enable(7),t.premultipliedAlpha&&s.enable(8),t.shadowMapEnabled&&s.enable(9),t.physicallyCorrectLights&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.useDepthPacking&&s.enable(13),t.dithering&&s.enable(14),t.specularIntensityMap&&s.enable(15),t.specularColorMap&&s.enable(16),t.transmission&&s.enable(17),t.transmissionMap&&s.enable(18),t.thicknessMap&&s.enable(19),t.sheen&&s.enable(20),t.sheenColorMap&&s.enable(21),t.sheenRoughnessMap&&s.enable(22),t.decodeVideoTexture&&s.enable(23),t.opaque&&s.enable(24),e.push(s.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=p[e.type];if(n){var r=Aw[n];t=Yb.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=u.length;i<o;i++){var s=u[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new cE(e,n,t,a),u.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function AE(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function mE(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function vE(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function gE(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||mE),r.length>1&&r.sort(t||vE),i.length>1&&i.sort(t||vE)}}}function yE(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new gE,e.set(t,[r])):n>=i.length?(r=new gE,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function xE(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new ex,color:new zy};break;case"SpotLight":n={position:new ex,direction:new ex,color:new zy,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ex,color:new zy,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ex,skyColor:new zy,groundColor:new zy};break;case"RectAreaLight":n={color:new zy,position:new ex,halfWidth:new ex,halfHeight:new ex}}return e[t.id]=n,n}}}var bE=0;function wE(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function CE(e,t){for(var n=new xE,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new My};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new My,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0},a=0;a<9;a++)i.probe.push(new ex);var o=new ex,s=new Bx,l=new Bx;return{setup:function(a,o){for(var s=0,l=0,u=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,d=0,f=0,p=0,A=0,m=0,v=0,g=0,y=0,x=0;a.sort(wE);for(var b=!0!==o?Math.PI:1,w=0,C=a.length;w<C;w++){var E=a[w],S=E.color,I=E.intensity,M=E.distance,_=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)s+=S.r*I*b,l+=S.g*I*b,u+=S.b*I*b;else if(E.isLightProbe)for(var k=0;k<9;k++)i.probe[k].addScaledVector(E.sh.coefficients[k],I);else if(E.isDirectionalLight){var B=n.get(E);if(B.color.copy(E.color).multiplyScalar(E.intensity*b),E.castShadow){var T=E.shadow,R=r.get(E);R.shadowBias=T.bias,R.shadowNormalBias=T.normalBias,R.shadowRadius=T.radius,R.shadowMapSize=T.mapSize,i.directionalShadow[h]=R,i.directionalShadowMap[h]=_,i.directionalShadowMatrix[h]=E.shadow.matrix,m++}i.directional[h]=B,h++}else if(E.isSpotLight){var D=n.get(E);D.position.setFromMatrixPosition(E.matrixWorld),D.color.copy(S).multiplyScalar(I*b),D.distance=M,D.coneCos=Math.cos(E.angle),D.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),D.decay=E.decay,i.spot[f]=D;var P=E.shadow;if(E.map&&(i.spotLightMap[y]=E.map,y++,P.updateMatrices(E),E.castShadow&&x++),i.spotLightMatrix[f]=P.matrix,E.castShadow){var L=r.get(E);L.shadowBias=P.bias,L.shadowNormalBias=P.normalBias,L.shadowRadius=P.radius,L.shadowMapSize=P.mapSize,i.spotShadow[f]=L,i.spotShadowMap[f]=_,g++}f++}else if(E.isRectAreaLight){var Q=n.get(E);Q.color.copy(S).multiplyScalar(I),Q.halfWidth.set(.5*E.width,0,0),Q.halfHeight.set(0,.5*E.height,0),i.rectArea[p]=Q,p++}else if(E.isPointLight){var j=n.get(E);if(j.color.copy(E.color).multiplyScalar(E.intensity*b),j.distance=E.distance,j.decay=E.decay,E.castShadow){var N=E.shadow,F=r.get(E);F.shadowBias=N.bias,F.shadowNormalBias=N.normalBias,F.shadowRadius=N.radius,F.shadowMapSize=N.mapSize,F.shadowCameraNear=N.camera.near,F.shadowCameraFar=N.camera.far,i.pointShadow[d]=F,i.pointShadowMap[d]=_,i.pointShadowMatrix[d]=E.shadow.matrix,v++}i.point[d]=j,d++}else if(E.isHemisphereLight){var U=n.get(E);U.skyColor.copy(E.color).multiplyScalar(I*b),U.groundColor.copy(E.groundColor).multiplyScalar(I*b),i.hemi[A]=U,A++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=pw.LTC_FLOAT_1,i.rectAreaLTC2=pw.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=pw.LTC_HALF_1,i.rectAreaLTC2=pw.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;var O=i.hash;O.directionalLength===h&&O.pointLength===d&&O.spotLength===f&&O.rectAreaLength===p&&O.hemiLength===A&&O.numDirectionalShadows===m&&O.numPointShadows===v&&O.numSpotShadows===g&&O.numSpotMaps===y||(i.directional.length=h,i.spot.length=f,i.rectArea.length=p,i.point.length=d,i.hemi.length=A,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=g,i.spotShadowMap.length=g,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=v,i.spotLightMatrix.length=g+y-x,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=x,O.directionalLength=h,O.pointLength=d,O.spotLength=f,O.rectAreaLength=p,O.hemiLength=A,O.numDirectionalShadows=m,O.numPointShadows=v,O.numSpotShadows=g,O.numSpotMaps=y,i.version=bE++)},setupView:function(e,t){for(var n=0,r=0,a=0,u=0,c=0,h=t.matrixWorldInverse,d=0,f=e.length;d<f;d++){var p=e[d];if(p.isDirectionalLight){var A=i.directional[n];A.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),A.direction.sub(o),A.direction.transformDirection(h),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var v=i.rectArea[u];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(h),l.identity(),s.copy(p.matrixWorld),s.premultiply(h),l.extractRotation(s),v.halfWidth.set(.5*p.width,0,0),v.halfHeight.set(0,.5*p.height,0),v.halfWidth.applyMatrix4(l),v.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var g=i.point[r];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),r++}else if(p.isHemisphereLight){var y=i.hemi[c];y.direction.setFromMatrixPosition(p.matrixWorld),y.direction.transformDirection(h),c++}}},state:i}}function EE(e,t){var n=new CE(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function SE(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new EE(e,t),n.set(r,[i])):a>=o.length?(i=new EE(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var IE=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).isMeshDepthMaterial=!0,i.type="MeshDepthMaterial",i.depthPacking=3200,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.setValues(e),i}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(pb),ME=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).isMeshDistanceMaterial=!0,i.type="MeshDistanceMaterial",i.referencePosition=new ex,i.nearDistance=1,i.farDistance=1e3,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.setValues(e),i}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(pb),_E="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",kE="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function BE(e,t,n){var r,i=new uw,a=new My,o=new My,s=new Yy,l=new IE({depthPacking:$g}),u=new ME,c={},h=n.maxTextureSize,d=(r={},(0,cn.Z)(r,Hm,Vm),(0,cn.Z)(r,Vm,Hm),(0,cn.Z)(r,Wm,Wm),r),f=new Xb({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new My},radius:{value:4}},vertexShader:_E,fragmentShader:kE}),p=f.clone();p.defines.HORIZONTAL_PASS=1;var A=new kb;A.setAttribute("position",new gb(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var m=new zb(A,f),v=this;function g(n,r){var i=t.update(m);f.defines.VSM_SAMPLES!==n.blurSamples&&(f.defines.VSM_SAMPLES=n.blurSamples,p.defines.VSM_SAMPLES=n.blurSamples,f.needsUpdate=!0,p.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Xy(a.x,a.y)),f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,f,m,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,p,m,null)}function y(t,n,r,i,a,o){var s=null,h=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==h)s=h;else if(s=!0===r.isPointLight?u:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var f=s.uuid,p=n.uuid,A=c[f];void 0===A&&(A={},c[f]=A);var m=A[p];void 0===m&&(m=s.clone(),A[p]=m),s=m}return s.visible=n.visible,s.wireframe=n.wireframe,s.side=o===Gm?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],s.alphaMap=n.alphaMap,s.alphaTest=n.alphaTest,s.map=n.map,s.clipShadows=n.clipShadows,s.clippingPlanes=n.clippingPlanes,s.clipIntersection=n.clipIntersection,s.displacementMap=n.displacementMap,s.displacementScale=n.displacementScale,s.displacementBias=n.displacementBias,s.wireframeLinewidth=n.wireframeLinewidth,s.linewidth=n.linewidth,!0===r.isPointLight&&!0===s.isMeshDistanceMaterial&&(s.referencePosition.setFromMatrixPosition(r.matrixWorld),s.nearDistance=i,s.farDistance=a),s}function x(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===Gm)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,d=c.length;h<d;h++){var f=c[h],p=u[f.materialIndex];if(p&&p.visible){var A=y(n,p,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,A,n,f)}}else if(u.visible){var m=y(n,u,o,a.near,a.far,s);e.renderBufferDirect(a,null,l,m,n,null)}}for(var v=n.children,g=0,b=v.length;g<b;g++)x(v[g],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Zm,this.render=function(t,n,r){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),c=e.getActiveMipmapLevel(),d=e.state;d.setBlending(qm),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=t.length;f<p;f++){var A=t[f],m=A.shadow;if(void 0!==m){if(!1!==m.autoUpdate||!1!==m.needsUpdate){a.copy(m.mapSize);var y=m.getFrameExtents();if(a.multiply(y),o.copy(m.mapSize),(a.x>h||a.y>h)&&(a.x>h&&(o.x=Math.floor(h/y.x),a.x=o.x*y.x,m.mapSize.x=o.x),a.y>h&&(o.y=Math.floor(h/y.y),a.y=o.y*y.y,m.mapSize.y=o.y)),null===m.map){var b=this.type!==Gm?{minFilter:Ov,magFilter:Ov}:{};m.map=new Xy(a.x,a.y,b),m.map.texture.name=A.name+".shadowMap",m.camera.updateProjectionMatrix()}e.setRenderTarget(m.map),e.clear();for(var w=m.getViewportCount(),C=0;C<w;C++){var E=m.getViewport(C);s.set(o.x*E.x,o.y*E.y,o.x*E.z,o.y*E.w),d.viewport(s),m.updateMatrices(A,C),i=m.getFrustum(),x(n,r,m.camera,A,this.type)}!0!==m.isPointLightShadow&&this.type===Gm&&g(m,r),m.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",A,"has no shadow.")}v.needsUpdate=!1,e.setRenderTarget(l,u,c)}}}function TE(e,t,n){var r,i,a=n.isWebGL2,o=new function(){var t=!1,n=new Yy,r=null,i=new Yy(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?Z(2929):z(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case mv:e.depthFunc(512);break;case vv:e.depthFunc(519);break;case gv:e.depthFunc(513);break;case yv:e.depthFunc(515);break;case xv:e.depthFunc(514);break;case bv:e.depthFunc(518);break;case wv:e.depthFunc(516);break;case Cv:e.depthFunc(517);break;default:e.depthFunc(515)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(e){t||(e?Z(2960):z(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},u=new WeakMap,c=new WeakMap,h={},d={},f=new WeakMap,p=[],A=null,m=!1,v=null,g=null,y=null,x=null,b=null,w=null,C=null,E=!1,S=null,I=null,M=null,_=null,k=null,B=e.getParameter(35661),T=!1,R=0,D=e.getParameter(7938);-1!==D.indexOf("WebGL")?(R=parseFloat(/^WebGL (\d)/.exec(D)[1]),T=R>=1):-1!==D.indexOf("OpenGL ES")&&(R=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),T=R>=2);var P=null,L={},Q=e.getParameter(3088),j=e.getParameter(2978),N=(new Yy).fromArray(Q),F=(new Yy).fromArray(j);function U(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var O={};function Z(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function z(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}O[3553]=U(3553,3553,1),O[34067]=U(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),Z(2929),s.setFunc(yv),q(!1),Y(Um),Z(2884),W(qm);var G=(r={},(0,cn.Z)(r,ev,32774),(0,cn.Z)(r,tv,32778),(0,cn.Z)(r,nv,32779),r);if(a)G[rv]=32775,G[iv]=32776;else{var H=t.get("EXT_blend_minmax");null!==H&&(G[rv]=H.MIN_EXT,G[iv]=H.MAX_EXT)}var V=(i={},(0,cn.Z)(i,av,0),(0,cn.Z)(i,ov,1),(0,cn.Z)(i,sv,768),(0,cn.Z)(i,uv,770),(0,cn.Z)(i,Av,776),(0,cn.Z)(i,fv,774),(0,cn.Z)(i,hv,772),(0,cn.Z)(i,lv,769),(0,cn.Z)(i,cv,771),(0,cn.Z)(i,pv,775),(0,cn.Z)(i,dv,773),i);function W(t,n,r,i,a,o,s,l){if(t!==qm){if(!1===m&&(Z(3042),m=!0),t===$m)a=a||n,o=o||r,s=s||i,n===g&&a===b||(e.blendEquationSeparate(G[n],G[a]),g=n,b=a),r===y&&i===x&&o===w&&s===C||(e.blendFuncSeparate(V[r],V[i],V[o],V[s]),y=r,x=i,w=o,C=s),v=t,E=!1;else if(t!==v||l!==E){if(g===ev&&b===ev||(e.blendEquation(32774),g=ev,b=ev),l)switch(t){case Ym:e.blendFuncSeparate(1,771,1,771);break;case Xm:e.blendFunc(1,1);break;case Jm:e.blendFuncSeparate(0,769,0,1);break;case Km:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case Ym:e.blendFuncSeparate(770,771,1,771);break;case Xm:e.blendFunc(770,1);break;case Jm:e.blendFuncSeparate(0,769,0,1);break;case Km:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=null,x=null,w=null,C=null,v=t,E=l}}else!0===m&&(z(3042),m=!1)}function q(t){S!==t&&(t?e.frontFace(2304):e.frontFace(2305),S=t)}function Y(t){t!==Fm?(Z(2884),t!==I&&(t===Um?e.cullFace(1029):t===Om?e.cullFace(1028):e.cullFace(1032))):z(2884),I=t}function X(t,n,r){t?(Z(32823),_===n&&k===r||(e.polygonOffset(n,r),_=n,k=r)):z(32823)}return{buffers:{color:o,depth:s,stencil:l},enable:Z,disable:z,bindFramebuffer:function(t,n){return d[t]!==n&&(e.bindFramebuffer(t,n),d[t]=n,a&&(36009===t&&(d[36160]=n),36160===t&&(d[36009]=n)),!0)},drawBuffers:function(r,i){var a=p,o=!1;if(r)if(void 0===(a=f.get(i))&&(a=[],f.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||36064!==a[0]){for(var l=0,u=s.length;l<u;l++)a[l]=36064+l;a.length=s.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return A!==t&&(e.useProgram(t),A=t,!0)},setBlending:W,setMaterial:function(e,t){e.side===Wm?z(2884):Z(2884);var n=e.side===Vm;t&&(n=!n),q(n),e.blending===Ym&&!1===e.transparent?W(qm):W(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),X(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?Z(32926):z(32926)},setFlipSided:q,setCullFace:Y,setLineWidth:function(t){t!==M&&(T&&e.lineWidth(t),M=t)},setPolygonOffset:X,setScissorTest:function(e){e?Z(3089):z(3089)},activeTexture:function(t){void 0===t&&(t=33984+B-1),P!==t&&(e.activeTexture(t),P=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===P?33984+B-1:P);var i=L[r];void 0===i&&(i={type:void 0,texture:void 0},L[r]=i),i.type===t&&i.texture===n||(P!==r&&(e.activeTexture(r),P=r),e.bindTexture(t,n||O[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=L[P];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},updateUBOMapping:function(t,n){var r=c.get(n);void 0===r&&(r=new WeakMap,c.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=c.get(n).get(t);u.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),u.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===N.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},P=null,L={},d={},f=new WeakMap,p=[],A=null,m=!1,v=null,g=null,y=null,x=null,b=null,w=null,C=null,E=!1,S=null,I=null,M=null,_=null,k=null,N.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),l.reset()}}}function RE(e,t,n,r,i,a,o){var s,l,u,c=i.isWebGL2,h=i.maxTextures,d=i.maxCubemapSize,f=i.maxTextureSize,p=i.maxSamples,A=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,m="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap,g=new WeakMap,y=!1;try{y="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function x(e,t){return y?new OffscreenCanvas(e,t):Ty("canvas")}function b(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Cy:Math.floor,o=a(i*e.width),s=a(i*e.height);void 0===u&&(u=x(o,s));var l=n?x(o,s):u;return l.width=o,l.height=s,l.getContext("2d").drawImage(e,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+s+")."),l}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function w(e){return by(e.width)&&by(e.height)}function C(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ov&&e.minFilter!==Gv}function E(t){e.generateMipmap(t)}function S(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===c)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;return 6403===r&&(5126===i&&(s=33326),5131===i&&(s=33325),5121===i&&(s=33321)),33319===r&&(5126===i&&(s=33328),5131===i&&(s=33327),5121===i&&(s=33323)),6408===r&&(5126===i&&(s=34836),5131===i&&(s=34842),5121===i&&(s=a===Kg&&!1===o?35907:32856),32819===i&&(s=32854),32820===i&&(s=32855)),33325!==s&&33326!==s&&33327!==s&&33328!==s&&34842!==s&&34836!==s||t.get("EXT_color_buffer_float"),s}function I(e,t,n){return!0===C(e,n)||e.isFramebufferTexture&&e.minFilter!==Ov&&e.minFilter!==Gv?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function M(e){return e===Ov||e===Zv||e===zv?9728:9729}function _(e){var t=e.target;t.removeEventListener("dispose",_),function(e){var t=r.get(e);if(void 0!==t.__webglInit){var n=e.source,i=g.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&B(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}}(t),t.isVideoTexture&&v.delete(t)}function k(t){var n=t.target;n.removeEventListener("dispose",k),function(t){var n=t.texture,i=r.get(t),a=r.get(n);if(void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)e.deleteFramebuffer(i.__webglFramebuffer[s]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var l=0;l<i.__webglColorRenderbuffer.length;l++)i.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[l]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var u=0,c=n.length;u<c;u++){var h=r.get(n[u]);h.__webglTexture&&(e.deleteTexture(h.__webglTexture),o.memory.textures--),r.remove(n[u])}r.remove(n),r.remove(t)}(n)}function B(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete g.get(i)[n.__cacheKey],o.memory.textures--}var T=0;function R(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void j(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(3553,i.__webglTexture,33984+t)}var D=(s={},(0,cn.Z)(s,Nv,10497),(0,cn.Z)(s,Fv,33071),(0,cn.Z)(s,Uv,33648),s),P=(l={},(0,cn.Z)(l,Ov,9728),(0,cn.Z)(l,Zv,9984),(0,cn.Z)(l,zv,9986),(0,cn.Z)(l,Gv,9729),(0,cn.Z)(l,Hv,9985),(0,cn.Z)(l,Vv,9987),l);function L(n,a,o){if(o?(e.texParameteri(n,10242,D[a.wrapS]),e.texParameteri(n,10243,D[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,D[a.wrapR]),e.texParameteri(n,10240,P[a.magFilter]),e.texParameteri(n,10241,P[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===Fv&&a.wrapT===Fv||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,M(a.magFilter)),e.texParameteri(n,10241,M(a.minFilter)),a.minFilter!==Ov&&a.minFilter!==Gv&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===Ov)return;if(a.minFilter!==zv&&a.minFilter!==Vv)return;if(a.type===$v&&!1===t.has("OES_texture_float_linear"))return;if(!1===c&&a.type===eg&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function Q(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",_));var i=n.source,a=g.get(i);void 0===a&&(a={},g.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var l=a[t.__cacheKey];void 0!==l&&(a[t.__cacheKey].usedTimes--,0===l.usedTimes&&B(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function j(t,i,o){var s=3553;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(s=35866),i.isData3DTexture&&(s=32879);var l=Q(t,i),u=i.source;n.bindTexture(s,t.__webglTexture,33984+o);var h=r.get(u);if(u.version!==h.__version||!0===l){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);var d,p=function(e){return!c&&(e.wrapS!==Fv||e.wrapT!==Fv||e.minFilter!==Ov&&e.minFilter!==Gv)}(i)&&!1===w(i.image),A=b(i.image,p,!1,f),m=w(A=z(i,A))||c,v=a.convert(i.format,i.encoding),g=a.convert(i.type),y=S(i.internalFormat,v,g,i.encoding,i.isVideoTexture);L(s,i,m);var x=i.mipmaps,M=c&&!0!==i.isVideoTexture,_=void 0===h.__version||!0===l,k=I(i,A,m);if(i.isDepthTexture)y=6402,c?y=i.type===$v?36012:i.type===Kv?33190:i.type===rg?35056:33189:i.type===$v&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===lg&&6402===y&&i.type!==Xv&&i.type!==Kv&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Kv,g=a.convert(i.type)),i.format===ug&&6402===y&&(y=34041,i.type!==rg&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=rg,g=a.convert(i.type))),_&&(M?n.texStorage2D(3553,1,y,A.width,A.height):n.texImage2D(3553,0,y,A.width,A.height,0,v,g,null));else if(i.isDataTexture)if(x.length>0&&m){M&&_&&n.texStorage2D(3553,k,y,x[0].width,x[0].height);for(var B=0,T=x.length;B<T;B++)d=x[B],M?n.texSubImage2D(3553,B,0,0,d.width,d.height,v,g,d.data):n.texImage2D(3553,B,y,d.width,d.height,0,v,g,d.data);i.generateMipmaps=!1}else M?(_&&n.texStorage2D(3553,k,y,A.width,A.height),n.texSubImage2D(3553,0,0,0,A.width,A.height,v,g,A.data)):n.texImage2D(3553,0,y,A.width,A.height,0,v,g,A.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){M&&_&&n.texStorage3D(35866,k,y,x[0].width,x[0].height,A.depth);for(var R=0,D=x.length;R<D;R++)d=x[R],i.format!==ag?null!==v?M?n.compressedTexSubImage3D(35866,R,0,0,0,d.width,d.height,A.depth,v,d.data,0,0):n.compressedTexImage3D(35866,R,y,d.width,d.height,A.depth,0,d.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?n.texSubImage3D(35866,R,0,0,0,d.width,d.height,A.depth,v,g,d.data):n.texImage3D(35866,R,y,d.width,d.height,A.depth,0,v,g,d.data)}else{M&&_&&n.texStorage2D(3553,k,y,x[0].width,x[0].height);for(var P=0,j=x.length;P<j;P++)d=x[P],i.format!==ag?null!==v?M?n.compressedTexSubImage2D(3553,P,0,0,d.width,d.height,v,d.data):n.compressedTexImage2D(3553,P,y,d.width,d.height,0,d.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?n.texSubImage2D(3553,P,0,0,d.width,d.height,v,g,d.data):n.texImage2D(3553,P,y,d.width,d.height,0,v,g,d.data)}else if(i.isDataArrayTexture)M?(_&&n.texStorage3D(35866,k,y,A.width,A.height,A.depth),n.texSubImage3D(35866,0,0,0,0,A.width,A.height,A.depth,v,g,A.data)):n.texImage3D(35866,0,y,A.width,A.height,A.depth,0,v,g,A.data);else if(i.isData3DTexture)M?(_&&n.texStorage3D(32879,k,y,A.width,A.height,A.depth),n.texSubImage3D(32879,0,0,0,0,A.width,A.height,A.depth,v,g,A.data)):n.texImage3D(32879,0,y,A.width,A.height,A.depth,0,v,g,A.data);else if(i.isFramebufferTexture){if(_)if(M)n.texStorage2D(3553,k,y,A.width,A.height);else for(var N=A.width,F=A.height,U=0;U<k;U++)n.texImage2D(3553,U,y,N,F,0,v,g,null),N>>=1,F>>=1}else if(x.length>0&&m){M&&_&&n.texStorage2D(3553,k,y,x[0].width,x[0].height);for(var O=0,Z=x.length;O<Z;O++)d=x[O],M?n.texSubImage2D(3553,O,0,0,v,g,d):n.texImage2D(3553,O,y,v,g,d);i.generateMipmaps=!1}else M?(_&&n.texStorage2D(3553,k,y,A.width,A.height),n.texSubImage2D(3553,0,0,0,v,g,A)):n.texImage2D(3553,0,y,v,g,A);C(i,m)&&E(s),h.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function N(t,i,o,s,l){var u=a.convert(o.format,o.encoding),c=a.convert(o.type),h=S(o.internalFormat,u,c,o.encoding);r.get(i).__hasExternalTextures||(32879===l||35866===l?n.texImage3D(l,0,h,i.width,i.height,i.depth,0,u,c,null):n.texImage2D(l,0,h,i.width,i.height,0,u,c,null)),n.bindFramebuffer(36160,t),Z(i)?A.framebufferTexture2DMultisampleEXT(36160,s,l,r.get(o).__webglTexture,0,O(i)):(3553===l||l>=34069&&l<=34074)&&e.framebufferTexture2D(36160,s,l,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function F(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||Z(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===$v?i=36012:o.type===Kv&&(i=33190));var s=O(n);Z(n)?A.renderbufferStorageMultisampleEXT(36161,s,i,n.width,n.height):e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var l=O(n);r&&!1===Z(n)?e.renderbufferStorageMultisample(36161,l,35056,n.width,n.height):Z(n)?A.renderbufferStorageMultisampleEXT(36161,l,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else for(var u=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],c=0;c<u.length;c++){var h=u[c],d=a.convert(h.format,h.encoding),f=a.convert(h.type),p=S(h.internalFormat,d,f,h.encoding),m=O(n);r&&!1===Z(n)?e.renderbufferStorageMultisample(36161,m,p,n.width,n.height):Z(n)?A.renderbufferStorageMultisampleEXT(36161,m,p,n.width,n.height):e.renderbufferStorage(36161,p,n.width,n.height)}e.bindRenderbuffer(36161,null)}function U(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),R(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=O(i);if(i.depthTexture.format===lg)Z(i)?A.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==ug)throw new Error("Unknown depthTexture format");Z(i)?A.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),F(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),F(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function O(e){return Math.min(p,e.samples)}function Z(e){var n=r.get(e);return c&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function z(e,n){var r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===sy||r!==Jg&&(r===Kg?!1===c?!0===t.has("EXT_sRGB")&&i===ag?(e.format=sy,e.minFilter=Gv,e.generateMipmaps=!1):n=Gy.sRGBToLinear(n):i===ag&&a===Wv||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=T;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),T+=1,e},this.resetTextureUnits=function(){T=0},this.setTexture2D=R,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?j(i,e,t):n.bindTexture(35866,i.__webglTexture,33984+t)},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?j(i,e,t):n.bindTexture(32879,i.__webglTexture,33984+t)},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,i,o){if(6===i.image.length){var s=Q(t,i),l=i.source;n.bindTexture(34067,t.__webglTexture,33984+o);var u=r.get(l);if(l.version!==u.__version||!0===s){n.activeTexture(33984+o),e.pixelStorei(37440,i.flipY),e.pixelStorei(37441,i.premultiplyAlpha),e.pixelStorei(3317,i.unpackAlignment),e.pixelStorei(37443,0);for(var h=i.isCompressedTexture||i.image[0].isCompressedTexture,f=i.image[0]&&i.image[0].isDataTexture,p=[],A=0;A<6;A++)p[A]=h||f?f?i.image[A].image:i.image[A]:b(i.image[A],!1,!0,d),p[A]=z(i,p[A]);var m,v=p[0],g=w(v)||c,y=a.convert(i.format,i.encoding),x=a.convert(i.type),M=S(i.internalFormat,y,x,i.encoding),_=c&&!0!==i.isVideoTexture,k=void 0===u.__version||!0===s,B=I(i,v,g);if(L(34067,i,g),h){_&&k&&n.texStorage2D(34067,B,M,v.width,v.height);for(var T=0;T<6;T++){m=p[T].mipmaps;for(var R=0;R<m.length;R++){var D=m[R];i.format!==ag?null!==y?_?n.compressedTexSubImage2D(34069+T,R,0,0,D.width,D.height,y,D.data):n.compressedTexImage2D(34069+T,R,M,D.width,D.height,0,D.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):_?n.texSubImage2D(34069+T,R,0,0,D.width,D.height,y,x,D.data):n.texImage2D(34069+T,R,M,D.width,D.height,0,y,x,D.data)}}}else{m=i.mipmaps,_&&k&&(m.length>0&&B++,n.texStorage2D(34067,B,M,p[0].width,p[0].height));for(var P=0;P<6;P++)if(f){_?n.texSubImage2D(34069+P,0,0,0,p[P].width,p[P].height,y,x,p[P].data):n.texImage2D(34069+P,0,M,p[P].width,p[P].height,0,y,x,p[P].data);for(var j=0;j<m.length;j++){var N=m[j].image[P].image;_?n.texSubImage2D(34069+P,j+1,0,0,N.width,N.height,y,x,N.data):n.texImage2D(34069+P,j+1,M,N.width,N.height,0,y,x,N.data)}}else{_?n.texSubImage2D(34069+P,0,0,0,y,x,p[P]):n.texImage2D(34069+P,0,M,y,x,p[P]);for(var F=0;F<m.length;F++){var U=m[F];_?n.texSubImage2D(34069+P,F+1,0,0,y,x,U.image[P]):n.texImage2D(34069+P,F+1,M,y,x,U.image[P])}}}C(i,g)&&E(34067),u.__version=l.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}}(o,t,i):n.bindTexture(34067,o.__webglTexture,33984+i)},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&N(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&U(e)},this.setupRenderTarget=function(t){var s=t.texture,l=r.get(t),u=r.get(s);t.addEventListener("dispose",k),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=s.version,o.memory.textures++);var h=!0===t.isWebGLCubeRenderTarget,d=!0===t.isWebGLMultipleRenderTargets,f=w(t)||c;if(h){l.__webglFramebuffer=[];for(var p=0;p<6;p++)l.__webglFramebuffer[p]=e.createFramebuffer()}else{if(l.__webglFramebuffer=e.createFramebuffer(),d)if(i.drawBuffers)for(var A=t.texture,m=0,v=A.length;m<v;m++){var g=r.get(A[m]);void 0===g.__webglTexture&&(g.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&t.samples>0&&!1===Z(t)){var y=d?s:[s];l.__webglMultisampledFramebuffer=e.createFramebuffer(),l.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer);for(var x=0;x<y.length;x++){var b=y[x];l.__webglColorRenderbuffer[x]=e.createRenderbuffer(),e.bindRenderbuffer(36161,l.__webglColorRenderbuffer[x]);var I=a.convert(b.format,b.encoding),M=a.convert(b.type),_=S(b.internalFormat,I,M,b.encoding,!0===t.isXRRenderTarget),B=O(t);e.renderbufferStorageMultisample(36161,B,_,t.width,t.height),e.framebufferRenderbuffer(36160,36064+x,36161,l.__webglColorRenderbuffer[x])}e.bindRenderbuffer(36161,null),t.depthBuffer&&(l.__webglDepthRenderbuffer=e.createRenderbuffer(),F(l.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}}if(h){n.bindTexture(34067,u.__webglTexture),L(34067,s,f);for(var T=0;T<6;T++)N(l.__webglFramebuffer[T],t,s,36064,34069+T);C(s,f)&&E(34067),n.unbindTexture()}else if(d){for(var R=t.texture,D=0,P=R.length;D<P;D++){var Q=R[D],j=r.get(Q);n.bindTexture(3553,j.__webglTexture),L(3553,Q,f),N(l.__webglFramebuffer,t,Q,36064+D,3553),C(Q,f)&&E(3553)}n.unbindTexture()}else{var z=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(c?z=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(z,u.__webglTexture),L(z,s,f),N(l.__webglFramebuffer,t,s,36064,z),C(s,f)&&E(z),n.unbindTexture()}t.depthBuffer&&U(t)},this.updateRenderTargetMipmap=function(e){for(var t=w(e)||c,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var s=i[a];if(C(s,t)){var l=e.isWebGLCubeRenderTarget?34067:3553,u=r.get(s).__webglTexture;n.bindTexture(l,u),E(l),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(c&&t.samples>0&&!1===Z(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=16384,l=[],u=t.stencilBuffer?33306:36096,h=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var f=0;f<i.length;f++)n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+f,36161,null),n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+f,3553,null,0);n.bindFramebuffer(36008,h.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,h.__webglFramebuffer);for(var p=0;p<i.length;p++){l.push(36064+p),t.depthBuffer&&l.push(u);var A=void 0!==h.__ignoreDepthValues&&h.__ignoreDepthValues;if(!1===A&&(t.depthBuffer&&(s|=256),t.stencilBuffer&&(s|=1024)),d&&e.framebufferRenderbuffer(36008,36064,36161,h.__webglColorRenderbuffer[p]),!0===A&&(e.invalidateFramebuffer(36008,[u]),e.invalidateFramebuffer(36009,[u])),d){var v=r.get(i[p]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,v,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728),m&&e.invalidateFramebuffer(36008,l)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),d)for(var g=0;g<i.length;g++){n.bindFramebuffer(36160,h.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+g,36161,h.__webglColorRenderbuffer[g]);var y=r.get(i[g]).__webglTexture;n.bindFramebuffer(36160,h.__webglFramebuffer),e.framebufferTexture2D(36009,36064+g,3553,y,0)}n.bindFramebuffer(36009,h.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=U,this.setupFrameBufferTexture=N,this.useMultisampledRTT=Z}function DE(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n===Wv)return 5121;if(n===tg)return 32819;if(n===ng)return 32820;if(n===qv)return 5120;if(n===Yv)return 5122;if(n===Xv)return 5123;if(n===Jv)return 5124;if(n===Kv)return 5125;if(n===$v)return 5126;if(n===eg)return r?5131:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(n===ig)return 6406;if(n===ag)return 6408;if(n===og)return 6409;if(n===sg)return 6410;if(n===lg)return 6402;if(n===ug)return 34041;if(n===sy)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(n===cg)return 6403;if(n===hg)return 36244;if(n===dg)return 33319;if(n===fg)return 33320;if(n===pg)return 36249;if(n===Ag||n===mg||n===vg||n===gg)if(a===Kg){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===Ag)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===mg)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===vg)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===gg)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===Ag)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===mg)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===vg)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===gg)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===yg||n===xg||n===bg||n===wg){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(n===yg)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===xg)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===bg)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===wg)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Cg)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===Eg||n===Sg){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(n===Eg)return a===Kg?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===Sg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===Ig||n===Mg||n===_g||n===kg||n===Bg||n===Tg||n===Rg||n===Dg||n===Pg||n===Lg||n===Qg||n===jg||n===Ng||n===Fg){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(n===Ig)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Mg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===_g)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===kg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Bg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Tg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Rg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Dg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Pg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Lg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Qg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===jg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Ng)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Fg)return a===Kg?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Ug){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===Ug)return a===Kg?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===Og||n===Zg||n===zg||n===Gg){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===Ug)return i.COMPRESSED_RED_RGTC1_EXT;if(n===Zg)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===zg)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Gg)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===rg?r?34042:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var PE=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.Z)(this,n),(e=t.call(this)).isArrayCamera=!0,e.cameras=i,e}return(0,i.Z)(n)}(Kb),LE=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).isGroup=!0,e.type="Group",e}return(0,i.Z)(n)}(tb),QE={type:"move"},jE=function(){function e(){(0,r.Z)(this,e),this._targetRay=null,this._grip=null,this._hand=null}return(0,i.Z)(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new LE,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new LE,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ex,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ex),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new LE,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ex,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ex),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=(0,qi.Z)(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(Vc){r.e(Vc)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;var u,c=(0,qi.Z)(e.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,d=t.getJointPose(h,n),f=this._getHandJoint(l,h);null!==d&&(f.matrix.fromArray(d.transform.matrix),f.matrix.decompose(f.position,f.rotation,f.scale),f.jointRadius=d.radius),f.visible=null!==d}}catch(Vc){c.e(Vc)}finally{c.f()}var p=l.joints["index-finger-tip"],A=l.joints["thumb-tip"],m=p.position.distanceTo(A.position);l.inputState.pinching&&m>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&m<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(QE)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new LE;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}]),e}(),NE=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o,s,l,u,c,h,d){var f;if((0,r.Z)(this,n),(d=void 0!==d?d:lg)!==lg&&d!==ug)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===a&&d===lg&&(a=Kv),void 0===a&&d===ug&&(a=rg),(f=t.call(this,null,o,s,l,u,c,d,a,h)).isDepthTexture=!0,f.image={width:e,height:i},f.magFilter=void 0!==u?u:Ov,f.minFilter=void 0!==c?c:Ov,f.flipY=!1,f.generateMipmaps=!1,f}return(0,i.Z)(n)}(qy),FE=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;(0,r.Z)(this,n),a=t.call(this);var o=(0,jt.Z)(a),s=null,l=1,u=null,c="local-floor",h=1,d=null,f=null,p=null,A=null,m=null,v=null,g=i.getContextAttributes(),y=null,x=null,b=[],w=[],C=new Set,E=new Map,S=new Kb;S.layers.enable(1),S.viewport=new Yy;var I=new Kb;I.layers.enable(2),I.viewport=new Yy;var M=[S,I],_=new PE;_.layers.enable(1),_.layers.enable(2);var k=null,B=null;function T(e){var t=w.indexOf(e.inputSource);if(-1!==t){var n=b[t];void 0!==n&&n.dispatchEvent({type:e.type,data:e.inputSource})}}function R(){s.removeEventListener("select",T),s.removeEventListener("selectstart",T),s.removeEventListener("selectend",T),s.removeEventListener("squeeze",T),s.removeEventListener("squeezestart",T),s.removeEventListener("squeezeend",T),s.removeEventListener("end",R),s.removeEventListener("inputsourceschange",D);for(var t=0;t<b.length;t++){var n=w[t];null!==n&&(w[t]=null,b[t].disconnect(n))}k=null,B=null,e.setRenderTarget(y),m=null,A=null,p=null,s=null,x=null,N.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function D(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=w.indexOf(n);r>=0&&(w[r]=null,b[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=w.indexOf(a);if(-1===o){for(var s=0;s<b.length;s++){if(s>=w.length){w.push(a),o=s;break}if(null===w[s]){w[s]=a,o=s;break}}if(-1===o)break}var l=b[o];l&&l.connect(a)}}a.cameraAutoUpdate=!0,a.enabled=!1,a.isPresenting=!1,a.getController=function(e){var t=b[e];return void 0===t&&(t=new jE,b[e]=t),t.getTargetRaySpace()},a.getControllerGrip=function(e){var t=b[e];return void 0===t&&(t=new jE,b[e]=t),t.getGripSpace()},a.getHand=function(e){var t=b[e];return void 0===t&&(t=new jE,b[e]=t),t.getHandSpace()},a.setFramebufferScaleFactor=function(e){l=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},a.setReferenceSpaceType=function(e){c=e,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},a.getReferenceSpace=function(){return d||u},a.setReferenceSpace=function(e){d=e},a.getBaseLayer=function(){return null!==A?A:m},a.getBinding=function(){return p},a.getFrame=function(){return v},a.getSession=function(){return s},a.setSession=function(){var t=(0,Qt.Z)((0,Lt.Z)().mark((function t(n){var r,a,f,v,b;return(0,Lt.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(s=n)){t.next=34;break}if(y=e.getRenderTarget(),s.addEventListener("select",T),s.addEventListener("selectstart",T),s.addEventListener("selectend",T),s.addEventListener("squeeze",T),s.addEventListener("squeezestart",T),s.addEventListener("squeezeend",T),s.addEventListener("end",R),s.addEventListener("inputsourceschange",D),t.t0=!0!==g.xrCompatible,!t.t0){t.next=14;break}return t.next=14,i.makeXRCompatible();case 14:if(void 0!==s.renderState.layers&&!1!==e.capabilities.isWebGL2){t.next=19;break}r={antialias:void 0!==s.renderState.layers||g.antialias,alpha:g.alpha,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:l},m=new uy(s,i,r),s.updateRenderState({baseLayer:m}),x=new Xy(m.framebufferWidth,m.framebufferHeight,{format:ag,type:Wv,encoding:e.outputEncoding,stencilBuffer:g.stencil}),t.next=24;break;case 19:a=null,f=null,v=null,g.depth&&(v=g.stencil?35056:33190,a=g.stencil?ug:lg,f=g.stencil?rg:Kv),b={colorFormat:32856,depthFormat:v,scaleFactor:l},p=new cy(s,i),A=p.createProjectionLayer(b),s.updateRenderState({layers:[A]}),x=new Xy(A.textureWidth,A.textureHeight,{format:ag,type:Wv,depthTexture:new NE(A.textureWidth,A.textureHeight,f,void 0,void 0,void 0,void 0,void 0,void 0,a),stencilBuffer:g.stencil,encoding:e.outputEncoding,samples:g.antialias?4:0}),e.properties.get(x).__ignoreDepthValues=A.ignoreDepthValues;case 24:return x.isXRRenderTarget=!0,this.setFoveation(h),d=null,t.next=29,s.requestReferenceSpace(c);case 29:u=t.sent,N.setContext(s),N.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"});case 34:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var P=new ex,L=new ex;function Q(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}a.updateCamera=function(e){if(null!==s){_.near=I.near=S.near=e.near,_.far=I.far=S.far=e.far,k===_.near&&B===_.far||(s.updateRenderState({depthNear:_.near,depthFar:_.far}),k=_.near,B=_.far);var t=e.parent,n=_.cameras;Q(_,t);for(var r=0;r<n.length;r++)Q(n[r],t);_.matrixWorld.decompose(_.position,_.quaternion,_.scale),e.matrix.copy(_.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);for(var i=e.children,a=0,o=i.length;a<o;a++)i[a].updateMatrixWorld(!0);2===n.length?function(e,t,n){P.setFromMatrixPosition(t.matrixWorld),L.setFromMatrixPosition(n.matrixWorld);var r=P.distanceTo(L),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],d=o*c,f=o*h,p=r/(-c+h),A=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(A),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,v=s+p,g=d-A,y=f+(r-A),x=l*s/v*m,b=u*s/v*m;e.projectionMatrix.makePerspective(g,y,x,b,m,v)}(_,S,I):_.projectionMatrix.copy(S.projectionMatrix)}},a.getCamera=function(){return _},a.getFoveation=function(){if(null!==A||null!==m)return h},a.setFoveation=function(e){h=e,null!==A&&(A.fixedFoveation=e),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=e)},a.getPlanes=function(){return C};var j=null,N=new cw;return N.setAnimationLoop((function(t,n){if(f=n.getViewerPose(d||u),v=n,null!==f){var r=f.views;null!==m&&(e.setRenderTargetFramebuffer(x,m.framebuffer),e.setRenderTarget(x));var i=!1;r.length!==_.cameras.length&&(_.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var s=r[a],l=null;if(null!==m)l=m.getViewport(s);else{var c=p.getViewSubImage(A,s);l=c.viewport,0===a&&(e.setRenderTargetTextures(x,c.colorTexture,A.ignoreDepthValues?void 0:c.depthStencilTexture),e.setRenderTarget(x))}var h=M[a];void 0===h&&((h=new Kb).layers.enable(a),h.viewport=new Yy,M[a]=h),h.matrix.fromArray(s.transform.matrix),h.projectionMatrix.fromArray(s.projectionMatrix),h.viewport.set(l.x,l.y,l.width,l.height),0===a&&_.matrix.copy(h.matrix),!0===i&&_.cameras.push(h)}}for(var g=0;g<b.length;g++){var y=w[g],S=b[g];null!==y&&void 0!==S&&S.update(y,n,d||u)}if(j&&j(t,n),n.detectedPlanes){o.dispatchEvent({type:"planesdetected",data:n.detectedPlanes});var I,k=null,B=(0,qi.Z)(C);try{for(B.s();!(I=B.n()).done;){var T=I.value;n.detectedPlanes.has(T)||(null===k&&(k=[]),k.push(T))}}catch(Vc){B.e(Vc)}finally{B.f()}if(null!==k){var R,D=(0,qi.Z)(k);try{for(D.s();!(R=D.n()).done;){var P=R.value;C.delete(P),E.delete(P),o.dispatchEvent({type:"planeremoved",data:P})}}catch(Vc){D.e(Vc)}finally{D.f()}}var L,Q=(0,qi.Z)(n.detectedPlanes);try{for(Q.s();!(L=Q.n()).done;){var N=L.value;if(C.has(N)){var F=E.get(N);N.lastChangedTime>F&&(E.set(N,N.lastChangedTime),o.dispatchEvent({type:"planechanged",data:N}))}else C.add(N),E.set(N,n.lastChangedTime),o.dispatchEvent({type:"planeadded",data:N})}}catch(Vc){Q.e(Vc)}finally{Q.f()}}v=null})),a.setAnimationLoop=function(e){j=e},a.dispose=function(){},a}return(0,i.Z)(n)}(dy);function UE(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===Vm&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===Vm&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);var i,a,o=t.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;var s=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*s}r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap?i=r.clearcoatRoughnessMap:r.iridescenceMap?i=r.iridescenceMap:r.iridescenceThicknessMap?i=r.iridescenceThicknessMap:r.specularIntensityMap?i=r.specularIntensityMap:r.specularColorMap?i=r.specularColorMap:r.transmissionMap?i=r.transmissionMap:r.thicknessMap?i=r.thicknessMap:r.sheenColorMap?i=r.sheenColorMap:r.sheenRoughnessMap&&(i=r.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),n.uvTransform.value.copy(i.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,qb(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap)),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===Vm&&e.clearcoatNormalScale.value.negate())),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap)),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){var i;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?i=t.map:t.alphaMap&&(i=t.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){var n;e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map),t.alphaMap&&(e.alphaMap.value=t.alphaMap),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest),t.map?n=t.map:t.alphaMap&&(n=t.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function OE(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(35375):0;function l(e,t,n){var r=e.value;if(void 0===n[t]){if("number"==typeof r)n[t]=r;else{for(var i=Array.isArray(r)?r:[r],a=[],o=0;o<i.length;o++)a.push(i[o].clone());n[t]=a}return!0}if("number"==typeof r){if(n[t]!==r)return n[t]=r,!0}else for(var s=Array.isArray(n[t])?n[t]:[n[t]],l=Array.isArray(r)?r:[r],u=0;u<s.length;u++){var c=s[u];if(!1===c.equals(l[u]))return c.copy(l[u]),!0}return!1}function u(e){var t={boundary:0,storage:0};return"number"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){var d=i[n.id];void 0===d&&(function(e){for(var t=e.uniforms,n=0,r=0,i=0,a=t.length;i<a;i++){for(var o=t[i],s={boundary:0,storage:0},l=Array.isArray(o.value)?o.value:[o.value],c=0,h=l.length;c<h;c++){var d=u(l[c]);s.boundary+=d.boundary,s.storage+=d.storage}o.__data=new Float32Array(s.storage/Float32Array.BYTES_PER_ELEMENT),o.__offset=n,i>0&&0!==(r=n%16)&&16-r-s.boundary<0&&(n+=16-r,o.__offset=n),n+=s.storage}(r=n%16)>0&&(n+=16-r),e.__size=n,e.__cache={}}(n),d=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(35345,r),e.bufferData(35345,i,a),e.bindBuffer(35345,null),e.bindBufferBase(35345,n,r),r}(n),i[n.id]=d,n.addEventListener("dispose",c));var f=h.program;r.updateUBOMapping(n,f);var p=t.render.frame;a[n.id]!==p&&(function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(35345,n);for(var o=0,s=r.length;o<s;o++){var c=r[o];if(!0===l(c,o,a)){for(var h=c.__offset,d=Array.isArray(c.value)?c.value:[c.value],f=0,p=0;p<d.length;p++){var A=d[p],m=u(A);"number"==typeof A?(c.__data[0]=A,e.bufferSubData(35345,h+f,c.__data)):A.isMatrix3?(c.__data[0]=A.elements[0],c.__data[1]=A.elements[1],c.__data[2]=A.elements[2],c.__data[3]=A.elements[0],c.__data[4]=A.elements[3],c.__data[5]=A.elements[4],c.__data[6]=A.elements[5],c.__data[7]=A.elements[0],c.__data[8]=A.elements[6],c.__data[9]=A.elements[7],c.__data[10]=A.elements[8],c.__data[11]=A.elements[0]):(A.toArray(c.__data,f),f+=m.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,h,c.__data)}}e.bindBuffer(35345,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}function ZE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isWebGLRenderer=!0;var t,n=void 0!==e.canvas?e.canvas:function(){var e=Ty("canvas");return e.style.display="block",e}(),r=void 0!==e.context?e.context:null,i=void 0===e.depth||e.depth,a=void 0===e.stencil||e.stencil,o=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,u=void 0!==e.powerPreference?e.powerPreference:"default",c=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;t=null!==r?r.getContextAttributes().alpha:void 0!==e.alpha&&e.alpha;var h=null,d=null,f=[],p=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Jg,this.physicallyCorrectLights=!1,this.toneMapping=Mv,this.toneMappingExposure=1;var A=this,m=!1,v=0,g=0,y=null,x=-1,b=null,w=new Yy,C=new Yy,E=null,S=n.width,I=n.height,M=1,_=null,k=null,B=new Yy(0,0,S,I),T=new Yy(0,0,S,I),R=!1,D=new uw,P=!1,L=!1,Q=null,j=new Bx,N=new My,F=new ex,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function O(){return null===y?M:1}var Z,z,G,H,V,W,q,Y,X,J,K,$,ee,te,ne,re,ie,ae,oe,se,le,ue,ce,he,de=r;function fe(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=n.getContext(i,t);if(null!==a)return a}return null}try{var pe={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(Nm)),n.addEventListener("webglcontextlost",ge,!1),n.addEventListener("webglcontextrestored",ye,!1),n.addEventListener("webglcontextcreationerror",xe,!1),null===de){var Ae=["webgl2","webgl","experimental-webgl"];if(!0===A.isWebGL1Renderer&&Ae.shift(),null===(de=fe(Ae,pe)))throw fe(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===de.getShaderPrecisionFormat&&(de.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function me(){Z=new jw(de),z=new xw(de,Z,e),Z.init(z),ue=new DE(de,Z,z),G=new TE(de,Z,z),H=new Uw,V=new AE,W=new RE(de,Z,G,V,z,ue,H),q=new ww(A),Y=new Qw(A),X=new hw(de,z),ce=new gw(de,Z,X,z),J=new Nw(de,X,H,ce),K=new Gw(de,J,X,H),oe=new zw(de,z,W),re=new bw(V),$=new pE(A,q,Y,Z,z,ce,re),ee=new UE(A,V),te=new yE,ne=new SE(Z,z),ae=new vw(A,q,Y,G,K,t,s),ie=new BE(A,K,z),he=new OE(de,H,z,G),se=new yw(de,Z,H,z),le=new Fw(de,Z,H,z),H.programs=$.programs,A.capabilities=z,A.extensions=Z,A.properties=V,A.renderLists=te,A.shadowMap=ie,A.state=G,A.info=H}me();var ve=new FE(A,de);function ge(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=H.autoReset,t=ie.enabled,n=ie.autoUpdate,r=ie.needsUpdate,i=ie.type;me(),H.autoReset=e,ie.enabled=t,ie.autoUpdate=n,ie.needsUpdate=r,ie.type=i}function xe(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function be(e){var t=e.target;t.removeEventListener("dispose",be),function(e){(function(e){var t=V.get(e).programs;void 0!==t&&(t.forEach((function(e){$.releaseProgram(e)})),e.isShaderMaterial&&$.releaseShaderCache(e))})(e),V.remove(e)}(t)}this.xr=ve,this.getContext=function(){return de},this.getContextAttributes=function(){return de.getContextAttributes()},this.forceContextLoss=function(){var e=Z.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Z.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function(e){void 0!==e&&(M=e,this.setSize(S,I,!1))},this.getSize=function(e){return e.set(S,I)},this.setSize=function(e,t,r){ve.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=e,I=t,n.width=Math.floor(e*M),n.height=Math.floor(t*M),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(S*M,I*M).floor()},this.setDrawingBufferSize=function(e,t,r){S=e,I=t,M=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(w)},this.getViewport=function(e){return e.copy(B)},this.setViewport=function(e,t,n,r){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,n,r),G.viewport(w.copy(B).multiplyScalar(M).floor())},this.getScissor=function(e){return e.copy(T)},this.setScissor=function(e,t,n,r){e.isVector4?T.set(e.x,e.y,e.z,e.w):T.set(e,t,n,r),G.scissor(C.copy(T).multiplyScalar(M).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){G.setScissorTest(R=e)},this.setOpaqueSort=function(e){_=e},this.setTransparentSort=function(e){k=e},this.getClearColor=function(e){return e.copy(ae.getClearColor())},this.setClearColor=function(){ae.setClearColor.apply(ae,arguments)},this.getClearAlpha=function(){return ae.getClearAlpha()},this.setClearAlpha=function(){ae.setClearAlpha.apply(ae,arguments)},this.clear=function(){var e=0;(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e|=16384),(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e|=256),(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(e|=1024),de.clear(e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ge,!1),n.removeEventListener("webglcontextrestored",ye,!1),n.removeEventListener("webglcontextcreationerror",xe,!1),te.dispose(),ne.dispose(),V.dispose(),q.dispose(),Y.dispose(),K.dispose(),ce.dispose(),he.dispose(),$.dispose(),ve.dispose(),ve.removeEventListener("sessionstart",Ce),ve.removeEventListener("sessionend",Ee),Q&&(Q.dispose(),Q=null),Se.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=U);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=U),W.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===y?A.outputEncoding:!0===y.isXRRenderTarget?y.texture.encoding:Jg,l=(r.isMeshStandardMaterial?Y:q).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=r.toneMapped?A.toneMapping:Mv,v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==v?v.length:0,w=V.get(r),C=d.state.lights;if(!0===P&&(!0===L||e!==b)){var E=e===b&&r.id===x;re.setState(r,e,E)}var S=!1;r.version===w.__version?w.needsLights&&w.lightsStateVersion!==C.state.version||w.outputEncoding!==s||i.isInstancedMesh&&!1===w.instancing?S=!0:i.isInstancedMesh||!0!==w.instancing?i.isSkinnedMesh&&!1===w.skinning?S=!0:i.isSkinnedMesh||!0!==w.skinning?w.envMap!==l||!0===r.fog&&w.fog!==a?S=!0:void 0===w.numClippingPlanes||w.numClippingPlanes===re.numPlanes&&w.numIntersection===re.numIntersection?(w.vertexAlphas!==u||w.vertexTangents!==c||w.morphTargets!==h||w.morphNormals!==f||w.morphColors!==p||w.toneMapping!==m||!0===z.isWebGL2&&w.morphTargetsCount!==g)&&(S=!0):S=!0:S=!0:S=!0:(S=!0,w.__version=r.version);var _=w.currentProgram;!0===S&&(_=Be(r,t,i));var k=!1,B=!1,T=!1,R=_.getUniforms(),D=w.uniforms;if(G.useProgram(_.program)&&(k=!0,B=!0,T=!0),r.id!==x&&(x=r.id,B=!0),k||b!==e){if(R.setValue(de,"projectionMatrix",e.projectionMatrix),z.logarithmicDepthBuffer&&R.setValue(de,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),b!==e&&(b=e,B=!0,T=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var j=R.map.cameraPosition;void 0!==j&&j.setValue(de,F.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&R.setValue(de,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&R.setValue(de,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){R.setOptional(de,i,"bindMatrix"),R.setOptional(de,i,"bindMatrixInverse");var N=i.skeleton;N&&(z.floatVertexTextures?(null===N.boneTexture&&N.computeBoneTexture(),R.setValue(de,"boneTexture",N.boneTexture,W),R.setValue(de,"boneTextureSize",N.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}var O,Z,H=n.morphAttributes;if((void 0!==H.position||void 0!==H.normal||void 0!==H.color&&!0===z.isWebGL2)&&oe.update(i,n,r,_),(B||w.receiveShadow!==i.receiveShadow)&&(w.receiveShadow=i.receiveShadow,R.setValue(de,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(D.envMap.value=l,D.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),B&&(R.setValue(de,"toneMappingExposure",A.toneMappingExposure),w.needsLights&&(Z=T,(O=D).ambientLightColor.needsUpdate=Z,O.lightProbe.needsUpdate=Z,O.directionalLights.needsUpdate=Z,O.directionalLightShadows.needsUpdate=Z,O.pointLights.needsUpdate=Z,O.pointLightShadows.needsUpdate=Z,O.spotLights.needsUpdate=Z,O.spotLightShadows.needsUpdate=Z,O.rectAreaLights.needsUpdate=Z,O.hemisphereLights.needsUpdate=Z),a&&!0===r.fog&&ee.refreshFogUniforms(D,a),ee.refreshMaterialUniforms(D,r,M,I,Q),qC.upload(de,w.uniformsList,D,W)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(qC.upload(de,w.uniformsList,D,W),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&R.setValue(de,"center",i.center),R.setValue(de,"modelViewMatrix",i.modelViewMatrix),R.setValue(de,"normalMatrix",i.normalMatrix),R.setValue(de,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var X=r.uniformsGroups,J=0,K=X.length;J<K;J++)if(z.isWebGL2){var $=X[J];he.update($,_),he.bind($,_)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return _}(e,t,n,r,i);G.setMaterial(r,o);var l=n.index,u=1;!0===r.wireframe&&(l=J.getWireframeAttribute(n),u=2);var c=n.drawRange,h=n.attributes.position,f=c.start*u,p=(c.start+c.count)*u;null!==a&&(f=Math.max(f,a.start*u),p=Math.min(p,(a.start+a.count)*u)),null!==l?(f=Math.max(f,0),p=Math.min(p,l.count)):null!=h&&(f=Math.max(f,0),p=Math.min(p,h.count));var m=p-f;if(!(m<0||m===1/0)){var v;ce.setup(i,r,s,n,l);var g=se;if(null!==l&&(v=X.get(l),(g=le).setIndex(v)),i.isMesh)!0===r.wireframe?(G.setLineWidth(r.wireframeLinewidth*O()),g.setMode(1)):g.setMode(4);else if(i.isLine){var w=r.linewidth;void 0===w&&(w=1),G.setLineWidth(w*O()),i.isLineSegments?g.setMode(1):i.isLineLoop?g.setMode(2):g.setMode(3)}else i.isPoints?g.setMode(0):i.isSprite&&g.setMode(4);if(i.isInstancedMesh)g.renderInstances(f,m,i.count);else if(n.isInstancedBufferGeometry){var C=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,E=Math.min(n.instanceCount,C);g.renderInstances(f,m,E)}else g.render(f,m)}},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===Wm&&!1===e.forceSinglePass?(e.side=Vm,e.needsUpdate=!0,Be(e,t,n),e.side=Hm,e.needsUpdate=!0,Be(e,t,n),e.side=Wm):Be(e,t,n)}(d=ne.get(e)).init(),p.push(d),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(A.physicallyCorrectLights),e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i],e,t);else n(r,e,t)})),p.pop(),d=null};var we=null;function Ce(){Se.stop()}function Ee(){Se.start()}var Se=new cw;function Ie(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var i=K.update(e),a=e.material;a.visible&&h.push(e,i,a,n,F.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==H.render.frame&&(e.skeleton.update(),e.skeleton.frame=H.render.frame),!e.frustumCulled||D.intersectsObject(e))){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(j);var o=K.update(e),s=e.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var f=l[u],p=s[f.materialIndex];p&&p.visible&&h.push(e,o,p,n,F.z,f)}else s.visible&&h.push(e,o,s,n,F.z,null)}for(var A=e.children,m=0,v=A.length;m<v;m++)Ie(A[m],t,n,r)}}function Me(e,t,n,r){var i=e.opaque,a=e.transmissive,s=e.transparent;d.setupLightsView(n),!0===P&&re.setGlobalState(A.clippingPlanes,n),a.length>0&&function(e,t,n){var r=z.isWebGL2;null===Q&&(Q=new Xy(1,1,{generateMipmaps:!0,type:Z.has("EXT_color_buffer_half_float")?eg:Wv,minFilter:Vv,samples:r&&!0===o?4:0})),A.getDrawingBufferSize(N),r?Q.setSize(N.x,N.y):Q.setSize(Cy(N.x),Cy(N.y));var i=A.getRenderTarget();A.setRenderTarget(Q),A.clear();var a=A.toneMapping;A.toneMapping=Mv,_e(e,t,n),A.toneMapping=a,W.updateMultisampleRenderTarget(Q),W.updateRenderTargetMipmap(Q),A.setRenderTarget(i)}(i,t,n),r&&G.viewport(w.copy(r)),i.length>0&&_e(i,t,n),a.length>0&&_e(a,t,n),s.length>0&&_e(s,t,n),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1)}function _e(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&ke(s,t,n,l,u,c)}}function ke(e,t,n,r,i,a){e.onBeforeRender(A,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(A,t,n,r,e,a),!0===i.transparent&&i.side===Wm&&!1===i.forceSinglePass?(i.side=Vm,i.needsUpdate=!0,A.renderBufferDirect(n,t,r,i,e,a),i.side=Hm,i.needsUpdate=!0,A.renderBufferDirect(n,t,r,i,e,a),i.side=Wm):A.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(A,t,n,r,i,a)}function Be(e,t,n){!0!==t.isScene&&(t=U);var r=V.get(e),i=d.state.lights,a=d.state.shadowsArray,o=i.state.version,s=$.getParameters(e,i.state,a,t,n),l=$.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Y:q).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",be),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Te(e,s),c}else s.uniforms=$.getUniforms(e),e.onBuild(n,s,A),e.onBeforeCompile(s,A),c=$.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=re.uniform),Te(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);var f=c.getUniforms(),p=qC.seqWithValue(f.seq,h);return r.currentProgram=c,r.uniformsList=p,c}function Te(e,t){var n=V.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Se.setAnimationLoop((function(e){we&&we(e)})),"undefined"!=typeof self&&Se.setContext(self),this.setAnimationLoop=function(e){we=e,ve.setAnimationLoop(e),null===e?Se.stop():Se.start()},ve.addEventListener("sessionstart",Ce),ve.addEventListener("sessionend",Ee),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==m){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===ve.enabled&&!0===ve.isPresenting&&(!0===ve.cameraAutoUpdate&&ve.updateCamera(t),t=ve.getCamera()),!0===e.isScene&&e.onBeforeRender(A,e,t,y),(d=ne.get(e,p.length)).init(),p.push(d),j.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(j),L=this.localClippingEnabled,P=re.init(this.clippingPlanes,L),(h=te.get(e,f.length)).init(),f.push(h),Ie(e,t,0,A.sortObjects),h.finish(),!0===A.sortObjects&&h.sort(_,k),!0===P&&re.beginShadows();var n=d.state.shadowsArray;if(ie.render(n,e,t),!0===P&&re.endShadows(),!0===this.info.autoReset&&this.info.reset(),ae.render(h,e),d.setupLights(A.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Me(h,e,o,o.viewport)}else Me(h,e,t);null!==y&&(W.updateMultisampleRenderTarget(y),W.updateRenderTargetMipmap(y)),!0===e.isScene&&e.onAfterRender(A,e,t),ce.resetDefaultState(),x=-1,b=null,p.pop(),d=p.length>0?p[p.length-1]:null,f.pop(),h=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return g},this.getRenderTarget=function(){return y},this.setRenderTargetTextures=function(e,t,n){V.get(e.texture).__webglTexture=t,V.get(e.depthTexture).__webglTexture=n;var r=V.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===Z.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=V.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;y=e,v=t,g=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=V.get(e);void 0!==s.__useDefaultFramebuffer?(G.bindFramebuffer(36160,null),r=!1):void 0===s.__webglFramebuffer?W.setupRenderTarget(e):s.__hasExternalTextures&&W.rebindTextures(e,V.get(e.texture).__webglTexture,V.get(e.depthTexture).__webglTexture);var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var u=V.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=u[t],a=!0):i=z.isWebGL2&&e.samples>0&&!1===W.useMultisampledRTT(e)?V.get(e).__webglMultisampledFramebuffer:u,w.copy(e.viewport),C.copy(e.scissor),E=e.scissorTest}else w.copy(B).multiplyScalar(M).floor(),C.copy(T).multiplyScalar(M).floor(),E=R;if(G.bindFramebuffer(36160,i)&&z.drawBuffers&&r&&G.drawBuffers(e,i),G.viewport(w),G.scissor(C),G.setScissorTest(E),a){var c=V.get(e.texture);de.framebufferTexture2D(36160,36064,34069+t,c.__webglTexture,n)}else if(o){var h=V.get(e.texture),d=t||0;de.framebufferTextureLayer(36160,36064,h.__webglTexture,n||0,d)}x=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=V.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){G.bindFramebuffer(36160,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==ag&&ue.convert(u)!==de.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===eg&&(Z.has("EXT_color_buffer_half_float")||z.isWebGL2&&Z.has("EXT_color_buffer_float"));if(!(c===Wv||ue.convert(c)===de.getParameter(35738)||c===$v&&(z.isWebGL2||Z.has("OES_texture_float")||Z.has("WEBGL_color_buffer_float"))||h))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&de.readPixels(t,n,r,i,ue.convert(u),ue.convert(c),a)}finally{var d=null!==y?V.get(y).__webglFramebuffer:null;G.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);W.setTexture2D(t,0),de.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),G.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=ue.convert(n.format),s=ue.convert(n.type);W.setTexture2D(n,0),de.pixelStorei(37440,n.flipY),de.pixelStorei(37441,n.premultiplyAlpha),de.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?de.texSubImage2D(3553,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?de.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):de.texSubImage2D(3553,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&de.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(A.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=ue.convert(r.format),c=ue.convert(r.type);if(r.isData3DTexture)W.setTexture3D(r,0),a=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");W.setTexture2DArray(r,0),a=35866}de.pixelStorei(37440,r.flipY),de.pixelStorei(37441,r.premultiplyAlpha),de.pixelStorei(3317,r.unpackAlignment);var h=de.getParameter(3314),d=de.getParameter(32878),f=de.getParameter(3316),p=de.getParameter(3315),m=de.getParameter(32877),v=n.isCompressedTexture?n.mipmaps[0]:n.image;de.pixelStorei(3314,v.width),de.pixelStorei(32878,v.height),de.pixelStorei(3316,e.min.x),de.pixelStorei(3315,e.min.y),de.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?de.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,v.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),de.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,v.data)):de.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,v),de.pixelStorei(3314,h),de.pixelStorei(32878,d),de.pixelStorei(3316,f),de.pixelStorei(3315,p),de.pixelStorei(32877,m),0===i&&r.generateMipmaps&&de.generateMipmap(a),G.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?W.setTextureCube(e,0):e.isData3DTexture?W.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?W.setTexture2DArray(e,0):W.setTexture2D(e,0),G.unbindTexture()},this.resetState=function(){v=0,g=0,y=null,G.reset(),ce.reset()},void 0!==hy&&hy.dispatchEvent(new CustomEvent("observe",{detail:this}))}(function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)})(ZE).prototype.isWebGL1Renderer=!0;var zE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;(0,r.Z)(this,e),this.isFogExp2=!0,this.name="",this.color=new zy(t),this.density=n}return(0,i.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}(),GE=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;(0,r.Z)(this,e),this.isFog=!0,this.name="",this.color=new zy(t),this.near=n,this.far=i}return(0,i.Z)(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}(),HE=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,void 0!==hy&&hy.dispatchEvent(new CustomEvent("observe",{detail:(0,jt.Z)(e)})),e}return(0,i.Z)(n,[{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=(0,va.Z)((0,ga.Z)(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}},{key:"autoUpdate",get:function(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate},set:function(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}]),n}(tb),VE=function(){function e(t,n){(0,r.Z)(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=ay,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=vy()}return(0,i.Z)(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=vy()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=vy()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}(),WE=new ex,qE=function(){function e(t,n,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,r.Z)(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=i,this.normalized=a}return(0,i.Z)(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)WE.fromBufferAttribute(this,t),WE.applyMatrix4(e),this.setXYZ(t,WE.x,WE.y,WE.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)WE.fromBufferAttribute(this,t),WE.applyNormalMatrix(e),this.setXYZ(t,WE.x,WE.y,WE.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)WE.fromBufferAttribute(this,t),WE.transformDirection(e),this.setXYZ(t,WE.x,WE.y,WE.z);return this}},{key:"setX",value:function(e,t){return this.normalized&&(t=Sy(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=Sy(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Sy(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=Sy(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ey(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ey(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ey(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ey(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Sy(t,this.array),n=Sy(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Sy(t,this.array),n=Sy(n,this.array),r=Sy(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Sy(t,this.array),n=Sy(n,this.array),r=Sy(r,this.array),i=Sy(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new gb(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}(),YE=new ex,XE=new Yy,JE=new Yy,KE=new ex,$E=new Bx,eS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e,i)).isSkinnedMesh=!0,a.type="SkinnedMesh",a.bindMode="attached",a.bindMatrix=new Bx,a.bindMatrixInverse=new Bx,a}return(0,i.Z)(n,[{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Yy,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){(0,va.Z)((0,ga.Z)(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;XE.fromBufferAttribute(r.attributes.skinIndex,e),JE.fromBufferAttribute(r.attributes.skinWeight,e),YE.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=JE.getComponent(i);if(0!==a){var o=XE.getComponent(i);$E.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(KE.copy(YE).applyMatrix4($E),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(zb),tS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).isBone=!0,e.type="Bone",e}return(0,i.Z)(n)}(tb),nS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,h=arguments.length>7?arguments[7]:void 0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ov,f=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Ov,p=arguments.length>10?arguments[10]:void 0,A=arguments.length>11?arguments[11]:void 0;return(0,r.Z)(this,n),(e=t.call(this,null,u,c,h,d,f,s,l,p,A)).isDataTexture=!0,e.image={data:i,width:a,height:o},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return(0,i.Z)(n)}(qy),rS=new Bx,iS=new Bx,aS=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,r.Z)(this,e),this.uuid=vy(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return(0,i.Z)(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Bx)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new Bx;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:iS;rS.multiplyMatrices(o,t[i]),rS.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=wy(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new nS(t,e,e,ag,$v);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new tS),this.bones.push(a),this.boneInverses.push((new Bx).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),oS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return(0,r.Z)(this,n),(o=t.call(this,e,i,a)).isInstancedBufferAttribute=!0,o.meshPerAttribute=s,o}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=(0,va.Z)((0,ga.Z)(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(gb),sS=new Bx,lS=new Bx,uS=[],cS=new Bx,hS=new zb,dS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;(0,r.Z)(this,n),(o=t.call(this,e,i)).isInstancedMesh=!0,o.instanceMatrix=new oS(new Float32Array(16*a),16),o.instanceColor=null,o.count=a,o.frustumCulled=!1;for(var s=0;s<a;s++)o.setMatrixAt(s,cS);return o}return(0,i.Z)(n,[{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(hS.geometry=this.geometry,hS.material=this.material,void 0!==hS.material)for(var i=0;i<r;i++){this.getMatrixAt(i,sS),lS.multiplyMatrices(n,sS),hS.matrixWorld=lS,hS.raycast(e,uS);for(var a=0,o=uS.length;a<o;a++){var s=uS[a];s.instanceId=i,s.object=this,t.push(s)}uS.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new oS(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(zb),fS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).isLineBasicMaterial=!0,i.type="LineBasicMaterial",i.color=new zy(16777215),i.linewidth=1,i.linecap="round",i.linejoin="round",i.fog=!0,i.setValues(e),i}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}]),n}(pb),pS=new ex,AS=new ex,mS=new Bx,vS=new kx,gS=new bx,yS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new kb,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fS;return(0,r.Z)(this,n),(e=t.call(this)).isLine=!0,e.type="Line",e.geometry=i,e.material=a,e.updateMorphTargets(),e}return(0,i.Z)(n,[{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)pS.fromBufferAttribute(t,r-1),AS.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=pS.distanceTo(AS);e.setAttribute("lineDistance",new bb(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),gS.copy(n.boundingSphere),gS.applyMatrix4(r),gS.radius+=i,!1!==e.ray.intersectsSphere(gS)){mS.copy(r).invert(),vS.copy(e.ray).applyMatrix4(mS);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new ex,u=new ex,c=new ex,h=new ex,d=this.isLineSegments?2:1,f=n.index,p=n.attributes.position;if(null!==f)for(var A=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count)-1;A<m;A+=d){var v=f.getX(A),g=f.getX(A+1);if(l.fromBufferAttribute(p,v),u.fromBufferAttribute(p,g),!(vS.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var y=e.ray.origin.distanceTo(h);y<e.near||y>e.far||t.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else for(var x=Math.max(0,a.start),b=Math.min(p.count,a.start+a.count)-1;x<b;x+=d)if(l.fromBufferAttribute(p,x),u.fromBufferAttribute(p,x+1),!(vS.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(tb),xS=new ex,bS=new ex,wS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e,i)).isLineSegments=!0,a.type="LineSegments",a}return(0,i.Z)(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)xS.fromBufferAttribute(t,r),bS.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+xS.distanceTo(bS);e.setAttribute("lineDistance",new bb(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}]),n}(yS),CS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e,i)).isLineLoop=!0,a.type="LineLoop",a}return(0,i.Z)(n)}(yS),ES=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).isPointsMaterial=!0,i.type="PointsMaterial",i.color=new zy(16777215),i.map=null,i.alphaMap=null,i.size=1,i.sizeAttenuation=!0,i.fog=!0,i.setValues(e),i}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}]),n}(pb),SS=new Bx,IS=new kx,MS=new bx,_S=new ex,kS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new kb,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ES;return(0,r.Z)(this,n),(e=t.call(this)).isPoints=!0,e.type="Points",e.geometry=i,e.material=a,e.updateMorphTargets(),e}return(0,i.Z)(n,[{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),MS.copy(n.boundingSphere),MS.applyMatrix4(r),MS.radius+=i,!1!==e.ray.intersectsSphere(MS)){SS.copy(r).invert(),IS.copy(e.ray).applyMatrix4(SS);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);c<h;c++){var d=l.getX(c);_S.fromBufferAttribute(u,d),BS(_S,d,s,r,e,t,this)}else for(var f=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);f<p;f++)_S.fromBufferAttribute(u,f),BS(_S,f,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}]),n}(tb);function BS(e,t,n,r,i,a,o){var s=IS.distanceSqToPoint(e);if(s<n){var l=new ex;IS.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}var TS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o,s,l,u,c,h,d,f,p){var A;return(0,r.Z)(this,n),(A=t.call(this,null,l,u,c,h,d,o,s,f,p)).isCompressedTexture=!0,A.image={width:i,height:a},A.mipmaps=e,A.flipY=!1,A.generateMipmaps=!1,A}return(0,i.Z)(n)}(qy),RS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o,s,l){var u;return(0,r.Z)(this,n),(u=t.call(this,e,i,a,s,l)).isCompressedArrayTexture=!0,u.image.depth=o,u.wrapR=Fv,u}return(0,i.Z)(n)}(TS),DS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o,s,l,u,c,h){var d;return(0,r.Z)(this,n),(d=t.call(this,e,i,a,o,s,l,u,c,h)).isCanvasTexture=!0,d.needsUpdate=!0,d}return(0,i.Z)(n)}(qy),PS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;(0,r.Z)(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:i,segments:a,thetaStart:o,thetaLength:s},a=Math.max(3,a);var l=[],u=[],c=[],h=[],d=new ex,f=new My;u.push(0,0,0),c.push(0,0,1),h.push(.5,.5);for(var p=0,A=3;p<=a;p++,A+=3){var m=o+p/a*s;d.x=i*Math.cos(m),d.y=i*Math.sin(m),u.push(d.x,d.y,d.z),c.push(0,0,1),f.x=(u[A]/i+1)/2,f.y=(u[A+1]/i+1)/2,h.push(f.x,f.y)}for(var v=1;v<=a;v++)l.push(v,v+1,0);return e.setIndex(l),e.setAttribute("position",new bb(u,3)),e.setAttribute("normal",new bb(c,3)),e.setAttribute("uv",new bb(h,2)),e}return(0,i.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(kb),LS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:32,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;(0,r.Z)(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:i,outerRadius:a,thetaSegments:o,phiSegments:s,thetaStart:l,thetaLength:u},o=Math.max(3,o);for(var c=[],h=[],d=[],f=[],p=i,A=(a-i)/(s=Math.max(1,s)),m=new ex,v=new My,g=0;g<=s;g++){for(var y=0;y<=o;y++){var x=l+y/o*u;m.x=p*Math.cos(x),m.y=p*Math.sin(x),h.push(m.x,m.y,m.z),d.push(0,0,1),v.x=(m.x/a+1)/2,v.y=(m.y/a+1)/2,f.push(v.x,v.y)}p+=A}for(var b=0;b<s;b++)for(var w=b*(o+1),C=0;C<o;C++){var E=C+w,S=E,I=E+o+1,M=E+o+2,_=E+1;c.push(S,I,_),c.push(I,M,_)}return e.setIndex(c),e.setAttribute("position",new bb(h,3)),e.setAttribute("normal",new bb(d,3)),e.setAttribute("uv",new bb(f,2)),e}return(0,i.Z)(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(kb),QS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).isShadowMaterial=!0,i.type="ShadowMaterial",i.color=new zy(0),i.transparent=!0,i.fog=!0,i.setValues(e),i}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.fog=e.fog,this}}]),n}(pb),jS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).isRawShaderMaterial=!0,i.type="RawShaderMaterial",i}return(0,i.Z)(n)}(Xb),NS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).isMeshStandardMaterial=!0,i.defines={STANDARD:""},i.type="MeshStandardMaterial",i.color=new zy(16777215),i.roughness=1,i.metalness=0,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new zy(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=ey,i.normalScale=new My(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.roughnessMap=null,i.metalnessMap=null,i.alphaMap=null,i.envMap=null,i.envMapIntensity=1,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.flatShading=!1,i.fog=!0,i.setValues(e),i}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}]),n}(pb),FS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).isMeshPhysicalMaterial=!0,i.defines={STANDARD:"",PHYSICAL:""},i.type="MeshPhysicalMaterial",i.clearcoatMap=null,i.clearcoatRoughness=0,i.clearcoatRoughnessMap=null,i.clearcoatNormalScale=new My(1,1),i.clearcoatNormalMap=null,i.ior=1.5,Object.defineProperty((0,jt.Z)(i),"reflectivity",{get:function(){return gy(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),i.iridescenceMap=null,i.iridescenceIOR=1.3,i.iridescenceThicknessRange=[100,400],i.iridescenceThicknessMap=null,i.sheenColor=new zy(0),i.sheenColorMap=null,i.sheenRoughness=1,i.sheenRoughnessMap=null,i.transmissionMap=null,i.thickness=0,i.thicknessMap=null,i.attenuationDistance=1/0,i.attenuationColor=new zy(1,1,1),i.specularIntensity=1,i.specularIntensityMap=null,i.specularColor=new zy(1,1,1),i.specularColorMap=null,i._sheen=0,i._clearcoat=0,i._iridescence=0,i._transmission=0,i.setValues(e),i}return(0,i.Z)(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}},{key:"iridescence",get:function(){return this._iridescence},set:function(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=(0,Ht.Z)(e.iridescenceThicknessRange),this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(NS);function US(e,t,n){return ZS(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function OS(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function ZS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function zS(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n}function GS(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i}function HS(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}var VS=function(){function e(t,n,i,a){(0,r.Z)(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==a?a:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}return(0,i.Z)(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}(),WS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){var s;return(0,r.Z)(this,n),(s=t.call(this,e,i,a,o))._weightPrev=-0,s._offsetPrev=-0,s._weightNext=-0,s._offsetNext=-0,s.DefaultSettings_={endingStart:qg,endingEnd:qg},s}return(0,i.Z)(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Yg:i=e,o=2*t-n;break;case Xg:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Yg:a=e,s=2*n-t;break;case Xg:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,A=p*f,m=-h*A+2*h*p-h*f,v=(1+h)*A+(-1.5-2*h)*p+(-.5+h)*f+1,g=(-1-d)*A+(1.5+d)*p+.5*f,y=d*A-d*p,x=0;x!==o;++x)i[x]=m*a[u+x]+v*a[l+x]+g*a[s+x]+y*a[c+x];return i}}]),n}(VS),qS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){return(0,r.Z)(this,n),t.call(this,e,i,a,o)}return(0,i.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,h=0;h!==o;++h)i[h]=a[l+h]*c+a[s+h]*u;return i}}]),n}(VS),YS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){return(0,r.Z)(this,n),t.call(this,e,i,a,o)}return(0,i.Z)(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(VS),XS=function(){function e(t,n,i,a){if((0,r.Z)(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=OS(n,this.TimeBufferType),this.values=OS(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}return(0,i.Z)(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new YS(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new qS(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new WS(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case Hg:t=this.InterpolantFactoryMethodDiscrete;break;case Vg:t=this.InterpolantFactoryMethodLinear;break;case Wg:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Hg;case this.InterpolantFactoryMethodLinear:return Vg;case this.InterpolantFactoryMethodSmooth:return Wg}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=US(n,i,a),this.values=US(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&ZS(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=US(this.times),t=US(this.values),n=this.getValueSize(),r=this.getInterpolation()===Wg,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=t[u+d];if(f!==t[c+d]||f!==t[h+d]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,A=a*n,m=0;m!==n;++m)t[A+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var v=i*n,g=a*n,y=0;y!==n;++y)t[g+y]=t[v+y];++a}return a!==e.length?(this.times=US(e,0,a),this.values=US(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=US(this.times,0),t=US(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:OS(e.times,Array),values:OS(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();XS.prototype.TimeBufferType=Float32Array,XS.prototype.ValueBufferType=Float32Array,XS.prototype.DefaultInterpolation=Vg;var JS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(XS);JS.prototype.ValueTypeName="bool",JS.prototype.ValueBufferType=Array,JS.prototype.DefaultInterpolation=Hg,JS.prototype.InterpolantFactoryMethodLinear=void 0,JS.prototype.InterpolantFactoryMethodSmooth=void 0;var KS=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(XS);KS.prototype.ValueTypeName="color";var $S=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(XS);$S.prototype.ValueTypeName="number";var eI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){return(0,r.Z)(this,n),t.call(this,e,i,a,o)}return(0,i.Z)(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)$y.slerpFlat(i,0,a,l-o,a,l,s);return i}}]),n}(VS),tI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new eI(this.times,this.values,this.getValueSize(),e)}}]),n}(XS);tI.prototype.ValueTypeName="quaternion",tI.prototype.DefaultInterpolation=Vg,tI.prototype.InterpolantFactoryMethodSmooth=void 0;var nI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(XS);nI.prototype.ValueTypeName="string",nI.prototype.ValueBufferType=Array,nI.prototype.DefaultInterpolation=Hg,nI.prototype.InterpolantFactoryMethodLinear=void 0,nI.prototype.InterpolantFactoryMethodSmooth=void 0;var rI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}(XS);rI.prototype.ValueTypeName="vector";var iI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2500;(0,r.Z)(this,e),this.name=t,this.tracks=i,this.duration=n,this.blendMode=a,this.uuid=vy(),this.duration<0&&this.resetDuration()}return(0,i.Z)(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(aI(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(XS.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[],l=[];s.push((o+i-1)%i,o,(o+1)%i),l.push(0,1,0);var u=zS(s);s=GS(s,1,u),l=GS(l,1,u),r||0!==s[0]||(s.push(i),l.push(l[0])),a.push(new $S(".morphTargetInfluences["+t[o].name+"]",s,l).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&l.length>1){var u=l[1],c=r[u];c||(r[u]=c=[]),c.push(s)}}var h=[];for(var d in r)h.push(this.CreateFromMorphTargetSequence(d,r[d],t,n));return h}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];HS(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,s=e.length||-1,l=e.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)h[c[d].morphTargets[f]]=-1;for(var p in h){for(var A=[],m=[],v=0;v!==c[d].morphTargets.length;++v){var g=c[d];A.push(g.time),m.push(g.morphTarget===p?1:0)}r.push(new $S(".morphTargetInfluence["+p+"]",A,m))}s=h.length*a}else{var y=".bones["+t[u].name+"]";n(rI,y+".position",c,"pos",r),n(tI,y+".quaternion",c,"rot",r),n(rI,y+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,s,r,o)}}]),e}();function aI(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return $S;case"vector":case"vector2":case"vector3":case"vector4":return rI;case"color":return KS;case"quaternion":return tI;case"bool":case"boolean":return JS;case"string":return nI}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];HS(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var oI={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},sI=(0,i.Z)((function e(t,n,i){(0,r.Z)(this,e);var a,o=this,s=!1,l=0,u=0,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=i,this.itemStart=function(e){u++,!1===s&&void 0!==o.onStart&&o.onStart(e,l,u),s=!0},this.itemEnd=function(e){l++,void 0!==o.onProgress&&o.onProgress(e,l,u),l===u&&(s=!1,void 0!==o.onLoad&&o.onLoad())},this.itemError=function(e){void 0!==o.onError&&o.onError(e)},this.resolveURL=function(e){return a?a(e):e},this.setURLModifier=function(e){return a=e,this},this.addHandler=function(e,t){return c.push(e,t),this},this.removeHandler=function(e){var t=c.indexOf(e);return-1!==t&&c.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=c.length;t<n;t+=2){var r=c[t],i=c[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),lI=new sI,uI=function(){function e(t){(0,r.Z)(this,e),this.manager=void 0!==t?t:lI,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return(0,i.Z)(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),cI={},hI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).response=i,a}return(0,i.Z)(n)}((0,$r.Z)(Error)),dI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=oI.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===cI[e]){cI[e]=[],cI[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=cI[e],r=t.body.getReader(),i=t.headers.get("Content-Length")||t.headers.get("X-File-Size"),a=i?parseInt(i):0,o=0!==a,s=0,l=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,l=r.value;if(i)e.close();else{s+=l.byteLength;for(var u=new ProgressEvent("progress",{lengthComputable:o,loaded:s,total:a}),c=0,h=n.length;c<h;c++){var d=n[c];d.onProgress&&d.onProgress(u)}e.enqueue(l),t()}}))}()}});return new Response(l)}throw new hI('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)})).then((function(e){switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,s)}));case"json":return e.json();default:if(void 0===s)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){oI.add(e,t);var n=cI[e];delete cI[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=cI[e];if(void 0===n)throw i.manager.itemError(e),t;delete cI[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else cI[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(uI),fI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=oI.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=Ty("img");function s(){u(),oI.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){u(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function u(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(uI),pI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new nS,o=new dI(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:Fv,a.wrapT=void 0!==n.wrapT?n.wrapT:Fv,a.magFilter=void 0!==n.magFilter?n.magFilter:Gv,a.minFilter=void 0!==n.minFilter?n.minFilter:Gv,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Vv),1===n.mipmapCount&&(a.minFilter=Gv),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(uI),AI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,e)}return(0,i.Z)(n,[{key:"load",value:function(e,t,n,r){var i=new qy,a=new fI(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(uI),mI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,r.Z)(this,n),(i=t.call(this)).isLight=!0,i.type="Light",i.color=new zy(e),i.intensity=a,i}return(0,i.Z)(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=(0,va.Z)((0,ga.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(tb),vI=new Bx,gI=new ex,yI=new ex,xI=function(){function e(t){(0,r.Z)(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new My(512,512),this.map=null,this.mapPass=null,this.matrix=new Bx,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new uw,this._frameExtents=new My(1,1),this._viewportCount=1,this._viewports=[new Yy(0,0,1,1)]}return(0,i.Z)(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;gI.setFromMatrixPosition(e.matrixWorld),t.position.copy(gI),yI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(yI),t.updateMatrixWorld(),vI.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vI),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(vI)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),bI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this,new Kb(50,1,.5,500))).isSpotLightShadow=!0,e.focus=1,e}return(0,i.Z)(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*my*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),(0,va.Z)((0,ga.Z)(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(xI),wI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2;return(0,r.Z)(this,n),(a=t.call(this,e,i)).isSpotLight=!0,a.type="SpotLight",a.position.copy(tb.DEFAULT_UP),a.updateMatrix(),a.target=new tb,a.distance=o,a.angle=s,a.penumbra=l,a.decay=u,a.map=null,a.shadow=new bI,a}return(0,i.Z)(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(mI),CI=new Bx,EI=new ex,SI=new ex,II=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this,new Kb(90,1,.5,500))).isPointLightShadow=!0,e._frameExtents=new My(4,2),e._viewportCount=6,e._viewports=[new Yy(2,1,1,1),new Yy(0,1,1,1),new Yy(3,1,1,1),new Yy(1,1,1,1),new Yy(3,0,1,1),new Yy(1,0,1,1)],e._cubeDirections=[new ex(1,0,0),new ex(-1,0,0),new ex(0,0,1),new ex(0,0,-1),new ex(0,1,0),new ex(0,-1,0)],e._cubeUps=[new ex(0,1,0),new ex(0,1,0),new ex(0,1,0),new ex(0,1,0),new ex(0,0,1),new ex(0,0,-1)],e}return(0,i.Z)(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),EI.setFromMatrixPosition(e.matrixWorld),n.position.copy(EI),SI.copy(n.position),SI.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(SI),n.updateMatrixWorld(),r.makeTranslation(-EI.x,-EI.y,-EI.z),CI.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(CI)}}]),n}(xI),MI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return(0,r.Z)(this,n),(a=t.call(this,e,i)).isPointLight=!0,a.type="PointLight",a.distance=o,a.decay=s,a.shadow=new II,a}return(0,i.Z)(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e,t){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(mI),_I=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this,new Cw(-5,5,5,-5,.5,500))).isDirectionalLightShadow=!0,e}return(0,i.Z)(n)}(xI),kI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e,i)).isDirectionalLight=!0,a.type="DirectionalLight",a.position.copy(tb.DEFAULT_UP),a.updateMatrix(),a.target=new tb,a.shadow=new _I,a}return(0,i.Z)(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(mI),BI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e,i)).isAmbientLight=!0,a.type="AmbientLight",a}return(0,i.Z)(n)}(mI),TI=function(){function e(){(0,r.Z)(this,e),this.isSphericalHarmonics3=!0,this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new ex)}return(0,i.Z)(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}(),RI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new TI,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,r.Z)(this,n),(e=t.call(this,void 0,a)).isLightProbe=!0,e.sh=i,e}return(0,i.Z)(n,[{key:"copy",value:function(e){return(0,va.Z)((0,ga.Z)(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=(0,va.Z)((0,ga.Z)(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(mI),DI=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"decodeText",value:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),PI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),i.options={premultiplyAlpha:"none"},i}return(0,i.Z)(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=oI.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){oI.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(uI),LI=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(0,r.Z)(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return(0,i.Z)(e,[{key:"start",value:function(){this.startTime=QI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=QI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function QI(){return("undefined"==typeof performance?Date:performance).now()}var jI=function(){function e(t,n,i){var a,o,s;switch((0,r.Z)(this,e),this.binding=t,this.valueSize=i,n){case"quaternion":a=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":a=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:a=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return(0,i.Z)(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var l=t,u=t+t;l!==u;++l)if(n[l]!==n[l+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){$y.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;$y.multiplyQuaternionsFlat(e,a,e,t,e,n),$y.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),NI="\\[\\]\\.:\\/",FI=new RegExp("["+NI+"]","g"),UI="[^"+NI+"]",OI="[^"+NI.replace("\\.","")+"]",ZI=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",UI)+/(WCOD+)?/.source.replace("WCOD",OI)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",UI)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",UI)+"$"),zI=["material","materials","bones","map"],GI=function(){function e(t,n,i){(0,r.Z)(this,e),this.path=n,this.parsedPath=i||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return(0,i.Z)(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(FI,"")}},{key:"parseTrackName",value:function(e){var t=ZI.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==zI.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();GI.Composite=function(){function e(t,n,i){(0,r.Z)(this,e);var a=i||GI.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,a)}return(0,i.Z)(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),GI.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},GI.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GI.prototype.GetterByBindingType=[GI.prototype._getValue_direct,GI.prototype._getValue_array,GI.prototype._getValue_arrayElement,GI.prototype._getValue_toArray],GI.prototype.SetterByBindingTypeAndVersioning=[[GI.prototype._setValue_direct,GI.prototype._setValue_direct_setNeedsUpdate,GI.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[GI.prototype._setValue_array,GI.prototype._setValue_array_setNeedsUpdate,GI.prototype._setValue_array_setMatrixWorldNeedsUpdate],[GI.prototype._setValue_arrayElement,GI.prototype._setValue_arrayElement_setNeedsUpdate,GI.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[GI.prototype._setValue_fromArray,GI.prototype._setValue_fromArray_setNeedsUpdate,GI.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var HI=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;(0,r.Z)(this,e),this._mixer=t,this._clip=n,this._localRoot=i,this.blendMode=a;for(var o=n.tracks,s=o.length,l=new Array(s),u={endingStart:qg,endingEnd:qg},c=0;c!==s;++c){var h=o[c].createInterpolant(null);l[c]=h,h.settings=u}this._interpolantSettings=u,this._interpolants=l,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return(0,i.Z)(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/a,l[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;a<0||0===n?t=0:(this._startTime=null,t=n*a)}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(s>0){var l=this._interpolants,u=this._propertyBindings;if(2501===this.blendMode)for(var c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);else for(var d=0,f=l.length;d!==f;++d)l[d].evaluate(o),u[d].accumulate(r,s)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=2202===n;if(0===e)return-1===i?r:a&&1==(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1==(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Yg,r.endingEnd=Yg):(r.endingStart=e?this.zeroSlopeAtStart?Yg:qg:Xg,r.endingEnd=t?this.zeroSlopeAtEnd?Yg:qg:Xg)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=t,o[1]=i+e,s[1]=n,this}}]),e}(),VI=new Float32Array(1),WI=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this))._root=e,i._initMemoryManager(),i._accuIndex=0,i.time=0,i.timeScale=1,i}return(0,i.Z)(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==i;++c){var h=r[c],d=h.name,f=u[d];if(void 0!==f)++f.referenceCount,a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(f=new jI(GI.create(n,d,p),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),a[c]=f}o[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new qS(new Float32Array(2),new Float32Array(2),1,VI)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"==typeof e?iI.findByName(r,e):e,o=null!==a?a.uuid:e,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==s){var u=s.actionByRoot[i];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var c=new HI(this,a,t,n);return this._bindAction(c,l),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"==typeof e?iI.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o)t[o]._update(r,e,i,a);for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,t[u]=c,t.pop(),this._removeInactiveBindingsForAction(l)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(dy),qI=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;(0,r.Z)(this,e),this.ray=new kx(t,n),this.near=i,this.far=a,this.camera=null,this.layers=new Ox,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return(0,i.Z)(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return XI(e,this,t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]),t.sort(YI),t}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)XI(e[r],this,n,t);return n.sort(YI),n}}]),e}();function YI(e,t){return e.distance-t.distance}function XI(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)XI(i[a],t,n,!0)}var JI=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,r.Z)(this,e),this.radius=t,this.phi=n,this.theta=i,this}return(0,i.Z)(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(gy(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),KI=function(){for(var e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512),a=0;a<256;++a){var o=a-127;o<-27?(r[a]=0,r[256|a]=32768,i[a]=24,i[256|a]=24):o<-14?(r[a]=1024>>-o-14,r[256|a]=1024>>-o-14|32768,i[a]=-o-1,i[256|a]=-o-1):o<=15?(r[a]=o+15<<10,r[256|a]=o+15<<10|32768,i[a]=13,i[256|a]=13):o<128?(r[a]=31744,r[256|a]=64512,i[a]=24,i[256|a]=24):(r[a]=31744,r[256|a]=64512,i[a]=13,i[256|a]=13)}for(var s=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64),c=1;c<1024;++c){for(var h=c<<13,d=0;0==(8388608&h);)h<<=1,d-=8388608;h&=-8388609,d+=947912704,s[c]=h|d}for(var f=1024;f<2048;++f)s[f]=939524096+(f-1024<<13);for(var p=1;p<31;++p)l[p]=p<<23;l[31]=1199570944,l[32]=2147483648;for(var A=33;A<63;++A)l[A]=2147483648+(A-32<<23);l[63]=3347054592;for(var m=1;m<64;++m)32!==m&&(u[m]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:l,offsetTable:u}}();var $I=Object.freeze({__proto__:null,fromHalfFloat:function(e){var t=e>>10;return KI.uint32View[0]=KI.mantissaTable[KI.offsetTable[t]+(1023&e)]+KI.exponentTable[t],KI.floatView[0]},toHalfFloat:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=gy(e,-65504,65504),KI.floatView[0]=e;var t=KI.uint32View[0],n=t>>23&511;return KI.baseTable[n]+((8388607&t)>>KI.shiftTable[n])}});void 0!==hy&&hy.dispatchEvent(new CustomEvent("register",{detail:{revision:Nm}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Nm);var eM=function(){function e(t){(0,r.Z)(this,e),this._center=new ex,this._size=new ex,this._bSphere=new bx,this._bBox=new rx,this.setFromModel(t)}return(0,i.Z)(e,[{key:"setFromModel",value:function(e){this._bBox.setFromObject(e),this._bBox.getCenter(this._center),this._bBox.getSize(this._size),this._bBox.getBoundingSphere(this._bSphere)}},{key:"boundingBox",get:function(){return this._bBox}},{key:"boundingSphere",get:function(){return this._bSphere}},{key:"size",get:function(){return this._size}},{key:"center",get:function(){return this._center}}]),e}(),tM={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"},nM=function(){function e(){(0,r.Z)(this,e),this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}return(0,i.Z)(e,[{key:"setSize",value:function(){}},{key:"render",value:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}},{key:"dispose",value:function(){}}]),e}(),rM=new Cw(-1,1,1,-1,0,1),iM=new kb;iM.setAttribute("position",new bb([-1,3,0,-1,-1,0,3,-1,0],3)),iM.setAttribute("uv",new bb([0,2,0,0,2,0],2));var aM=function(){function e(t){(0,r.Z)(this,e),this._mesh=new zb(iM,t)}return(0,i.Z)(e,[{key:"dispose",value:function(){this._mesh.geometry.dispose()}},{key:"render",value:function(e){e.render(this._mesh,rM)}},{key:"material",get:function(){return this._mesh.material},set:function(e){this._mesh.material=e}}]),e}(),oM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).textureID=void 0!==i?i:"tDiffuse",e instanceof Xb?(a.uniforms=e.uniforms,a.material=e):e&&(a.uniforms=Yb.clone(e.uniforms),a.material=new Xb({defines:Object.assign({},e.defines),uniforms:a.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),a.fsQuad=new aM(a.material),a}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}},{key:"dispose",value:function(){this.material.dispose(),this.fsQuad.dispose()}}]),n}(nM),sM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).scene=e,a.camera=i,a.clear=!0,a.needsSwap=!1,a.inverse=!1,a}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){var r,i,a=e.getContext(),o=e.state;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(r=0,i=1):(r=1,i=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(a.REPLACE,a.REPLACE,a.REPLACE),o.buffers.stencil.setFunc(a.ALWAYS,r,4294967295),o.buffers.stencil.setClear(i),o.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(a.EQUAL,1,4294967295),o.buffers.stencil.setOp(a.KEEP,a.KEEP,a.KEEP),o.buffers.stencil.setLocked(!0)}}]),n}(nM),lM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).needsSwap=!1,e}return(0,i.Z)(n,[{key:"render",value:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}]),n}(nM),uM=function(){function e(t,n){if((0,r.Z)(this,e),this.renderer=t,void 0===n){var i=t.getSize(new My);this._pixelRatio=t.getPixelRatio(),this._width=i.width,this._height=i.height,(n=new Xy(this._width*this._pixelRatio,this._height*this._pixelRatio)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=n.width,this._height=n.height;this.renderTarget1=n,this.renderTarget2=n.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new oM(tM),this.clock=new LI}return(0,i.Z)(e,[{key:"swapBuffers",value:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}},{key:"addPass",value:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"insertPass",value:function(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"removePass",value:function(e){var t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}},{key:"render",value:function(e){void 0===e&&(e=this.clock.getDelta());for(var t=this.renderer.getRenderTarget(),n=!1,r=0,i=this.passes.length;r<i;r++){var a=this.passes[r];if(!1!==a.enabled){if(a.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),a.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),a.needsSwap){if(n){var o=this.renderer.getContext(),s=this.renderer.state.buffers.stencil;s.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==sM&&(a instanceof sM?n=!0:a instanceof lM&&(n=!1))}}this.renderer.setRenderTarget(t)}},{key:"reset",value:function(e){if(void 0===e){var t=this.renderer.getSize(new My);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}},{key:"setSize",value:function(e,t){this._width=e,this._height=t;var n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(var i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}},{key:"dispose",value:function(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}]),e}(),cM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o,s){var l;return(0,r.Z)(this,n),(l=t.call(this)).scene=e,l.camera=i,l.overrideMaterial=a,l.clearColor=o,l.clearAlpha=void 0!==s?s:0,l.clear=!0,l.clearDepth=!1,l.needsSwap=!1,l._oldClearColor=new zy,l}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){var r,i,a=e.autoClear;e.autoClear=!1,void 0!==this.overrideMaterial&&(i=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=i),e.autoClear=a}}]),n}(nM),hM={defines:{DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tColor:{value:null},tDepth:{value:null},focus:{value:1},aspect:{value:1},aperture:{value:.025},maxblur:{value:.01},nearClip:{value:1},farClip:{value:1e3}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\t#include <common>\n\n\t\tvarying vec2 vUv;\n\n\t\tuniform sampler2D tColor;\n\t\tuniform sampler2D tDepth;\n\n\t\tuniform float maxblur; // max blur amount\n\t\tuniform float aperture; // aperture - bigger values for shallower depth of field\n\n\t\tuniform float nearClip;\n\t\tuniform float farClip;\n\n\t\tuniform float focus;\n\t\tuniform float aspect;\n\n\t\t#include <packing>\n\n\t\tfloat getDepth( const in vec2 screenPosition ) {\n\t\t\t#if DEPTH_PACKING == 1\n\t\t\treturn unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );\n\t\t\t#else\n\t\t\treturn texture2D( tDepth, screenPosition ).x;\n\t\t\t#endif\n\t\t}\n\n\t\tfloat getViewZ( const in float depth ) {\n\t\t\t#if PERSPECTIVE_CAMERA == 1\n\t\t\treturn perspectiveDepthToViewZ( depth, nearClip, farClip );\n\t\t\t#else\n\t\t\treturn orthographicDepthToViewZ( depth, nearClip, farClip );\n\t\t\t#endif\n\t\t}\n\n\n\t\tvoid main() {\n\n\t\t\tvec2 aspectcorrect = vec2( 1.0, aspect );\n\n\t\t\tfloat viewZ = getViewZ( getDepth( vUv ) );\n\n\t\t\tfloat factor = ( focus + viewZ ); // viewZ is <= 0, so this is a difference equation\n\n\t\t\tvec2 dofblur = vec2 ( clamp( factor * aperture, -maxblur, maxblur ) );\n\n\t\t\tvec2 dofblur9 = dofblur * 0.9;\n\t\t\tvec2 dofblur7 = dofblur * 0.7;\n\t\t\tvec2 dofblur4 = dofblur * 0.4;\n\n\t\t\tvec4 col = vec4( 0.0 );\n\n\t\t\tcol += texture2D( tColor, vUv.xy );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur );\n\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.15,  0.37 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.37,  0.15 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.37, -0.15 ) * aspectcorrect ) * dofblur9 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.15, -0.37 ) * aspectcorrect ) * dofblur9 );\n\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.40,  0.0  ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur7 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur7 );\n\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,  -0.4  ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29,  0.29 ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.4,   0.0  ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2( -0.29, -0.29 ) * aspectcorrect ) * dofblur4 );\n\t\t\tcol += texture2D( tColor, vUv.xy + ( vec2(  0.0,   0.4  ) * aspectcorrect ) * dofblur4 );\n\n\t\t\tgl_FragColor = col / 41.0;\n\t\t\tgl_FragColor.a = 1.0;\n\n\t\t}"},dM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;(0,r.Z)(this,n),(o=t.call(this)).scene=e,o.camera=i;var s=void 0!==a.focus?a.focus:1,l=void 0!==a.aspect?a.aspect:i.aspect,u=void 0!==a.aperture?a.aperture:.025,c=void 0!==a.maxblur?a.maxblur:1;o.renderTargetDepth=new Xy(1,1,{minFilter:Ov,magFilter:Ov}),o.renderTargetDepth.texture.name="BokehPass.depth",o.materialDepth=new IE,o.materialDepth.depthPacking=$g,o.materialDepth.blending=qm;var h=hM,d=Yb.clone(h.uniforms);return d.tDepth.value=o.renderTargetDepth.texture,d.focus.value=s,d.aspect.value=l,d.aperture.value=u,d.maxblur.value=c,d.nearClip.value=i.near,d.farClip.value=i.far,o.materialBokeh=new Xb({defines:Object.assign({},h.defines),uniforms:d,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}),o.uniforms=d,o.needsSwap=!1,o.fsQuad=new aM(o.materialBokeh),o._oldClearColor=new zy,o}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){this.scene.overrideMaterial=this.materialDepth,e.getClearColor(this._oldClearColor);var r=e.getClearAlpha(),i=e.autoClear;e.autoClear=!1,e.setClearColor(16777215),e.setClearAlpha(1),e.setRenderTarget(this.renderTargetDepth),e.clear(),e.render(this.scene,this.camera),this.uniforms.tColor.value=n.texture,this.uniforms.nearClip.value=this.camera.near,this.uniforms.farClip.value=this.camera.far,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),e.clear(),this.fsQuad.render(e)),this.scene.overrideMaterial=null,e.setClearColor(this._oldClearColor),e.setClearAlpha(r),e.autoClear=i}},{key:"setSize",value:function(e,t){this.renderTargetDepth.setSize(e,t)}},{key:"dispose",value:function(){this.renderTargetDepth.dispose(),this.materialDepth.dispose(),this.materialBokeh.dispose(),this.fsQuad.dispose()}}]),n}(nM),fM={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new zy(0)},defaultOpacity:{value:0}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}"},pM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){var s;(0,r.Z)(this,n),(s=t.call(this)).strength=void 0!==i?i:1,s.radius=a,s.threshold=o,s.resolution=void 0!==e?new My(e.x,e.y):new My(256,256),s.clearColor=new zy(0,0,0),s.renderTargetsHorizontal=[],s.renderTargetsVertical=[],s.nMips=5;var l=Math.round(s.resolution.x/2),u=Math.round(s.resolution.y/2);s.renderTargetBright=new Xy(l,u),s.renderTargetBright.texture.name="UnrealBloomPass.bright",s.renderTargetBright.texture.generateMipmaps=!1;for(var c=0;c<s.nMips;c++){var h=new Xy(l,u);h.texture.name="UnrealBloomPass.h"+c,h.texture.generateMipmaps=!1,s.renderTargetsHorizontal.push(h);var d=new Xy(l,u);d.texture.name="UnrealBloomPass.v"+c,d.texture.generateMipmaps=!1,s.renderTargetsVertical.push(d),l=Math.round(l/2),u=Math.round(u/2)}var f=fM;s.highPassUniforms=Yb.clone(f.uniforms),s.highPassUniforms.luminosityThreshold.value=o,s.highPassUniforms.smoothWidth.value=.01,s.materialHighPassFilter=new Xb({uniforms:s.highPassUniforms,vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,defines:{}}),s.separableBlurMaterials=[];var p=[3,5,7,9,11];l=Math.round(s.resolution.x/2),u=Math.round(s.resolution.y/2);for(var A=0;A<s.nMips;A++)s.separableBlurMaterials.push(s.getSeperableBlurMaterial(p[A])),s.separableBlurMaterials[A].uniforms.texSize.value=new My(l,u),l=Math.round(l/2),u=Math.round(u/2);s.compositeMaterial=s.getCompositeMaterial(s.nMips),s.compositeMaterial.uniforms.blurTexture1.value=s.renderTargetsVertical[0].texture,s.compositeMaterial.uniforms.blurTexture2.value=s.renderTargetsVertical[1].texture,s.compositeMaterial.uniforms.blurTexture3.value=s.renderTargetsVertical[2].texture,s.compositeMaterial.uniforms.blurTexture4.value=s.renderTargetsVertical[3].texture,s.compositeMaterial.uniforms.blurTexture5.value=s.renderTargetsVertical[4].texture,s.compositeMaterial.uniforms.bloomStrength.value=i,s.compositeMaterial.uniforms.bloomRadius.value=.1,s.compositeMaterial.needsUpdate=!0,s.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],s.bloomTintColors=[new ex(1,1,1),new ex(1,1,1),new ex(1,1,1),new ex(1,1,1),new ex(1,1,1)],s.compositeMaterial.uniforms.bloomTintColors.value=s.bloomTintColors;var m=tM;return s.copyUniforms=Yb.clone(m.uniforms),s.copyUniforms.opacity.value=1,s.materialCopy=new Xb({uniforms:s.copyUniforms,vertexShader:m.vertexShader,fragmentShader:m.fragmentShader,blending:Xm,depthTest:!1,depthWrite:!1,transparent:!0}),s.enabled=!0,s.needsSwap=!1,s._oldClearColor=new zy,s.oldClearAlpha=1,s.basic=new Ab,s.fsQuad=new aM(null),s}return(0,i.Z)(n,[{key:"dispose",value:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(var t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(var n=0;n<this.separableBlurMaterials.length;n++)this.separableBlurMaterials[n].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}},{key:"setSize",value:function(e,t){var n=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(n,r);for(var i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,r),this.renderTargetsVertical[i].setSize(n,r),this.separableBlurMaterials[i].uniforms.texSize.value=new My(n,r),n=Math.round(n/2),r=Math.round(r/2)}},{key:"render",value:function(e,t,r,i,a){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();var o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),a&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=r.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);for(var s=this.renderTargetBright,l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=s.texture,this.separableBlurMaterials[l].uniforms.direction.value=n.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=n.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),s=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}},{key:"getSeperableBlurMaterial",value:function(e){return new Xb({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new My(.5,.5)},direction:{value:new My(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}},{key:"getCompositeMaterial",value:function(e){return new Xb({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}"})}}]),n}(nM);pM.BlurDirectionX=new My(1,0),pM.BlurDirectionY=new My(0,1);var AM=function(){function e(t){(0,r.Z)(this,e),this._renderer=t;var n=new My;t.getSize(n),this._composer=new uM(t),this._composer.setSize(n.x,n.y)}return(0,i.Z)(e,[{key:"dispose",value:function(){this._composer.passes.forEach((function(e){e.dispose&&e.dispose()}))}},{key:"deleteAllPasses",value:function(){this.dispose(),this._composer.passes=[]}},{key:"composer",get:function(){return this._composer}},{key:"addPass",value:function(e){this._composer.addPass(e)}},{key:"removePass",value:function(e){this._composer.removePass(e),this._composer.passes.length>0&&(this._composer.passes[this._composer.passes.length-1].renderToScreen=!0)}},{key:"enablePass",value:function(e,t){e.enabled=t}},{key:"setSize",value:function(e,t){e&&t&&this._composer.setSize(e,t)}},{key:"render",value:function(e,t){this._composer.render(e,t)}},{key:"createRenderPass",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new cM(e,t);return r.clearAlpha=n,r}},{key:"createDofPass",value:function(e,t,n,r,i){return new dM(e,t,{focus:n,aperture:r,maxblur:i,width:512,height:512,aspect:1})}},{key:"createBloomPass",value:function(e,t,n){return new pM(new My(1024,1024),3*t,n,e)}},{key:"setCamera",value:function(e){this._composer.passes.forEach((function(t){(t instanceof cM||t instanceof dM)&&(t.camera=e)}))}}]),e}(),mM=new ex,vM=new JI,gM=new ex,yM=function(){function e(t,n){(0,r.Z)(this,e),this.object=t,this.domElement=n,this.enabled=!0,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.mouseDragOn=!1,this.autoSpeedFactor=0,this.pointerX=0,this.pointerY=0,this.pointerDeltaX=0,this.pointerDeltaY=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.virtualJoystickDx=0,this.virtualJoystickDy=0,this.viewHalfX=0,this.viewHalfY=0,this.lat=0,this.lon=0,this.targetPosition=new ex,this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.domElement.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),this.handleResize(),this.setOrientation(this)}return(0,i.Z)(e,[{key:"dispose",value:function(){this.domElement.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)}},{key:"onPointerDown",value:function(e){!1!==e.isPrimary&&(this.pointerX=e.clientX,this.pointerY=e.clientY,this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp))}},{key:"onPointerMove",value:function(e){!1!==e.isPrimary&&(this.pointerDeltaX=this.pointerX-e.clientX,this.pointerDeltaY=this.pointerY-e.clientY,this.pointerX=e.clientX,this.pointerY=e.clientY,this.lon-=this.pointerDeltaX*this.lookSpeed,this.lat-=this.pointerDeltaY*this.lookSpeed,this.lat=Math.max(-85,Math.min(85,this.lat)))}},{key:"onPointerUp",value:function(e){!1!==e.isPrimary&&(this.pointerDeltaX=0,this.pointerDeltaY=0,this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp))}},{key:"setOrientation",value:function(e){var t=e.object.quaternion;mM.set(0,0,-1).applyQuaternion(t),vM.setFromVector3(mM),this.lat=90-Iy.radToDeg(vM.phi),this.lon=Iy.radToDeg(vM.theta)}},{key:"getState",value:function(){return{matrix:this.object.matrix.clone(),controllerType:"firstperson"}}},{key:"setState",value:function(e){this.object.quaternion.setFromRotationMatrix(e.matrix),this.object.position.setFromMatrixPosition(e.matrix),this.setOrientation(this)}},{key:"handleResize",value:function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)}},{key:"onKeyDown",value:function(e){switch(e.code){case"ArrowUp":case"KeyW":this.moveForward=!0;break;case"ArrowLeft":case"KeyA":this.moveLeft=!0;break;case"ArrowDown":case"KeyS":this.moveBackward=!0;break;case"ArrowRight":case"KeyD":this.moveRight=!0;break;case"KeyR":this.moveUp=!0;break;case"KeyF":this.moveDown=!0}}},{key:"onKeyUp",value:function(e){switch(e.code){case"ArrowUp":case"KeyW":this.moveForward=!1;break;case"ArrowLeft":case"KeyA":this.moveLeft=!1;break;case"ArrowDown":case"KeyS":this.moveBackward=!1;break;case"ArrowRight":case"KeyD":this.moveRight=!1;break;case"KeyR":this.moveUp=!1;break;case"KeyF":this.moveDown=!1}}},{key:"lookAt",value:function(e,t,n){return e.isVector3?gM.copy(e):gM.set(e,t,n),this.object.lookAt(gM),this.setOrientation(this),this}},{key:"update",value:function(e){if(!1!==this.enabled){var t=this.object.position.y;if(this.heightSpeed){var n=Iy.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=e*(n*this.heightCoef)}else this.autoSpeedFactor=0;var r=e*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(r+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(r),this.moveLeft&&this.object.translateX(-r),this.moveRight&&this.object.translateX(r),this.object.translateX(.1*r*this.virtualJoystickDx),this.object.translateZ(.1*r*this.virtualJoystickDy),this.moveUp&&this.object.translateY(r),this.moveDown&&this.object.translateY(-r);var i=Iy.degToRad(90-this.lat),a=Iy.degToRad(this.lon);this.constrainVertical&&(i=Iy.mapLinear(i,0,Math.PI,this.verticalMin,this.verticalMax));var o=this.object.position;this.targetPosition.setFromSphericalCoords(1,i,a).add(o),this.object.lookAt(this.targetPosition),this.moveUp||this.moveDown||(this.object.position.y=t)}}},{key:"onVirtualJoyStickMove",value:function(e,t){this.virtualJoystickDx=e,this.virtualJoystickDy=t}},{key:"onVirtualJoyStickTouch",value:function(){}},{key:"onVirtualJoyStickRelease",value:function(){this.virtualJoystickDx=0,this.virtualJoystickDy=0}}]),e}(),xM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,n),(i=t.call(this,e)).isReflector=!0,i.type="Reflector",i.camera=new Kb;var o=(0,jt.Z)(i),s=void 0!==a.color?new zy(a.color):new zy(8355711),l=a.textureWidth||512,u=a.textureHeight||512,c=a.clipBias||0,h=a.shader||n.ReflectorShader,d=void 0!==a.multisample?a.multisample:4,f=new ow,p=new ex,A=new ex,m=new ex,v=new Bx,g=new ex(0,0,-1),y=new Yy,x=new ex,b=new ex,w=new Yy,C=new Bx,E=i.camera,S=new Xy(l,u,{samples:d,type:eg}),I=new Xb({uniforms:Yb.clone(h.uniforms),fragmentShader:h.fragmentShader,vertexShader:h.vertexShader});return I.uniforms.tDiffuse.value=S.texture,I.uniforms.color.value=s,I.uniforms.textureMatrix.value=C,i.material=I,i.onBeforeRender=function(e,t,n){if(A.setFromMatrixPosition(o.matrixWorld),m.setFromMatrixPosition(n.matrixWorld),v.extractRotation(o.matrixWorld),p.set(0,0,1),p.applyMatrix4(v),x.subVectors(A,m),!(x.dot(p)>0)){x.reflect(p).negate(),x.add(A),v.extractRotation(n.matrixWorld),g.set(0,0,-1),g.applyMatrix4(v),g.add(m),b.subVectors(A,g),b.reflect(p).negate(),b.add(A),E.position.copy(x),E.up.set(0,1,0),E.up.applyMatrix4(v),E.up.reflect(p),E.lookAt(b),E.far=n.far,E.updateMatrixWorld(),E.projectionMatrix.copy(n.projectionMatrix),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(E.projectionMatrix),C.multiply(E.matrixWorldInverse),C.multiply(o.matrixWorld),f.setFromNormalAndCoplanarPoint(p,A),f.applyMatrix4(E.matrixWorldInverse),y.set(f.normal.x,f.normal.y,f.normal.z,f.constant);var r=E.projectionMatrix;w.x=(Math.sign(y.x)+r.elements[8])/r.elements[0],w.y=(Math.sign(y.y)+r.elements[9])/r.elements[5],w.z=-1,w.w=(1+r.elements[10])/r.elements[14],y.multiplyScalar(2/y.dot(w)),r.elements[2]=y.x,r.elements[6]=y.y,r.elements[10]=y.z+1-c,r.elements[14]=y.w,o.visible=!1;var i=e.getRenderTarget(),a=e.xr.enabled,s=e.shadowMap.autoUpdate,l=e.outputEncoding,u=e.toneMapping;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.outputEncoding=Jg,e.toneMapping=Mv,e.setRenderTarget(S),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,E),e.xr.enabled=a,e.shadowMap.autoUpdate=s,e.outputEncoding=l,e.toneMapping=u,e.setRenderTarget(i);var h=n.viewport;void 0!==h&&e.state.viewport(h),o.visible=!0}},i.getRenderTarget=function(){return S},i.dispose=function(){S.dispose(),o.material.dispose()},i}return(0,i.Z)(n)}(zb);xM.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:"\n\t\tuniform mat4 textureMatrix;\n\t\tvarying vec4 vUv;\n\n\t\t#include <common>\n\t\t#include <logdepthbuf_pars_vertex>\n\n\t\tvoid main() {\n\n\t\t\tvUv = textureMatrix * vec4( position, 1.0 );\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t\t#include <logdepthbuf_vertex>\n\n\t\t}",fragmentShader:"\n\t\tuniform vec3 color;\n\t\tuniform sampler2D tDiffuse;\n\t\tvarying vec4 vUv;\n\n\t\t#include <logdepthbuf_pars_fragment>\n\n\t\tfloat blendOverlay( float base, float blend ) {\n\n\t\t\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );\n\n\t\t}\n\n\t\tvec3 blendOverlay( vec3 base, vec3 blend ) {\n\n\t\t\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <logdepthbuf_fragment>\n\n\t\t\tvec4 base = texture2DProj( tDiffuse, vUv );\n\t\t\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\n\t\t}"};var bM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).type=eg,i}return(0,i.Z)(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,i=-1,a=0,o="",s=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(i=s.indexOf("\n"))&&a<t&&r<e.byteLength;)o+=s,a+=s.length,r+=128,s+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),o+s.slice(0,i))},r=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},i=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=$I.toHalfFloat(Math.min(e[t+0]*a,65504)),n[r+1]=$I.toHalfFloat(Math.min(e[t+1]*a,65504)),n[r+2]=$I.toHalfFloat(Math.min(e[t+2]*a,65504)),n[r+3]=$I.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;var o=function(e){var r,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,s=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,u={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(i=r.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(u.valid|=1,u.programtype=i[1],u.string+=r+"\n";!1!==(r=n(e));)if(u.string+=r+"\n","#"!==r.charAt(0)){if((i=r.match(a))&&(u.gamma=parseFloat(i[1])),(i=r.match(o))&&(u.exposure=parseFloat(i[1])),(i=r.match(s))&&(u.valid|=2,u.format=i[1]),(i=r.match(l))&&(u.valid|=4,u.height=parseInt(i[1],10),u.width=parseInt(i[2],10)),2&u.valid&&4&u.valid)break}else u.comments+=r+"\n";return 2&u.valid?4&u.valid?u:t(3,"missing image size specifier"):t(3,"missing format specifier")}(a);if(-1!==o){var s=o.width,l=o.height,u=function(e,n,r){var i=n;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(i!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var a=new Uint8Array(4*n*r);if(!a.length)return t(4,"unable to allocate buffer space");for(var o=0,s=0,l=4*i,u=new Uint8Array(4),c=new Uint8Array(l),h=r;h>0&&s<e.byteLength;){if(s+4>e.byteLength)return t(1);if(u[0]=e[s++],u[1]=e[s++],u[2]=e[s++],u[3]=e[s++],2!=u[0]||2!=u[1]||(u[2]<<8|u[3])!=i)return t(3,"bad rgbe scanline format");for(var d=void 0,f=0;f<l&&s<e.byteLength;){var p=(d=e[s++])>128;if(p&&(d-=128),0===d||f+d>l)return t(3,"bad scanline data");if(p)for(var A=e[s++],m=0;m<d;m++)c[f++]=A;else c.set(e.subarray(s,s+d),f),f+=d,s+=d}for(var v=i,g=0;g<v;g++){var y=0;a[o]=c[g+y],y+=i,a[o+1]=c[g+y],y+=i,a[o+2]=c[g+y],y+=i,a[o+3]=c[g+y],o+=4}h--}return a}(a.subarray(a.pos),s,l);if(-1!==u){var c,h,d;switch(this.type){case $v:d=u.length/4;for(var f=new Float32Array(4*d),p=0;p<d;p++)r(u,4*p,f,4*p);c=f,h=$v;break;case eg:d=u.length/4;for(var A=new Uint16Array(4*d),m=0;m<d;m++)i(u,4*m,A,4*m);c=A,h=eg;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:s,height:l,data:c,header:o.string,gamma:o.gamma,exposure:o.exposure,type:h}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,i){return(0,va.Z)((0,ga.Z)(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case $v:case eg:e.encoding=Jg,e.minFilter=Gv,e.magFilter=Gv,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),r,i)}}]),n}(pI),wM={defines:{KERNEL_SIZE_FLOAT:"25.0",KERNEL_SIZE_INT:"25"},uniforms:{tDiffuse:{value:null},uImageIncrement:{value:new My(.001953125,0)},cKernel:{value:[]}},vertexShader:"\n\n\t\tuniform vec2 uImageIncrement;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv - ( ( KERNEL_SIZE_FLOAT - 1.0 ) / 2.0 ) * uImageIncrement;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float cKernel[ KERNEL_SIZE_INT ];\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec2 uImageIncrement;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec2 imageCoord = vUv;\n\t\t\tvec4 sum = vec4( 0.0, 0.0, 0.0, 0.0 );\n\n\t\t\tfor( int i = 0; i < KERNEL_SIZE_INT; i ++ ) {\n\n\t\t\t\tsum += texture2D( tDiffuse, imageCoord ) * cKernel[ i ];\n\t\t\t\timageCoord += uImageIncrement;\n\n\t\t\t}\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}",buildKernel:function(e){var t=2*Math.ceil(3*e)+1;t>25&&(t=25);for(var n=.5*(t-1),r=new Array(t),i=0,a=0;a<t;++a)r[a]=CM(a-n,e),i+=r[a];for(var o=0;o<t;++o)r[o]/=i;return r}};function CM(e,t){return Math.exp(-e*e/(2*t*t))}var EM=function(){function e(){(0,r.Z)(this,e),this.resources=new Set}return(0,i.Z)(e,[{key:"track",value:function(e){var t=this;if(!e)return e;if(Array.isArray(e))return e.forEach((function(e){return t.track(e)})),e;if(e instanceof HE)this.track(e.background),this.track(e.environment),this.track(e.children);else if(e instanceof zb)this.track(e.geometry),this.track(e.material),e.dispose&&this.resources.add(e),this.track(e.children);else if(e instanceof kS)this.track(e.geometry),this.track(e.material),this.track(e.children);else if(e instanceof pb){if(this.track(e.map),this.track(e.lightMap),this.track(e.metalnessMap),this.track(e.alphaMap),this.track(e.displacementMap),this.track(e.normalMap),this.track(e.emissiveMap),this.track(e.bumpMap),this.track(e.envMap),this.track(e.roughnessMap),this.track(e.aoMap),this.track(e.clearcoatMap),this.track(e.clearcoatNormalMap),this.track(e.clearcoatRoughnessMap),e.uniforms)for(var n=0,r=Object.values(e.uniforms);n<r.length;n++){var i=r[n];if(i){var a=i.value;(a instanceof qy||Array.isArray(a))&&this.track(a)}}}else if(e instanceof tb)this.track(e.children);else if(e.dispose)return void this.resources.add(e);return e}},{key:"untrack",value:function(e){this.resources.delete(e)}},{key:"dispose",value:function(){var e,t=(0,qi.Z)(this.resources);try{for(t.s();!(e=t.n()).done;){var n=e.value;n instanceof tb&&n.parent&&n.parent.remove(n),n instanceof HE||n.dispose&&n.dispose()}}catch(Vc){t.e(Vc)}finally{t.f()}this.resources.clear()}}]),e}(),SM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;(0,r.Z)(this,n),i=t.call(this);var a=tM;return i.textureID="tDiffuse",i.uniforms=Yb.clone(a.uniforms),i.material=new Xb({uniforms:i.uniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),i.renderTarget=e,void 0===i.renderTarget&&(i.renderTarget=new Xy,i.renderTarget.texture.name="SavePass.rt"),i.needsSwap=!1,i.fsQuad=new aM(i.material),i}return(0,i.Z)(n,[{key:"render",value:function(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),e.setRenderTarget(this.renderTarget),this.clear&&e.clear(),this.fsQuad.render(e)}},{key:"setSize",value:function(e,t){this.renderTarget.setSize(e,t)}},{key:"dispose",value:function(){this.renderTarget.dispose(),this.material.dispose(),this.fsQuad.dispose()}}]),n}(nM),IM=new My,MM=new ex,_M={uniforms:{},vertexShader:["varying vec4 vUv;","void main() {","   vec4 pos = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","   gl_Position = pos;","   vUv = pos;","}"].join("\n"),fragmentShader:["varying vec4 vUv;","void main() {","\tgl_FragColor = vec4( 0, 0, 0, ((vUv.z / vUv.w) + 1.0) / 2.0);","}"].join("\n")},kM=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"renderShadow",value:function(e,t,n,r,i,a){var o=new EM;e.getSize(IM);var s=(new rx).setFromObject(r);s.getSize(MM);var l=new ex;s.getCenter(l);var u=new bx;s.getBoundingSphere(u);var c=.2*MM.x,h=.2*MM.z,d=new Cw(-(MM.x/2+c),MM.x/2+c,MM.z/2+h,-(MM.z/2+h),MM.y*a+.001*MM.y,MM.y+.1*MM.y);d.position.add(l),d.position.y=s.max.y+.05*MM.y;var f=d.position.clone();f.y=s.min.y,d.lookAt(f);var p=new Xb({fragmentShader:_M.fragmentShader,vertexShader:_M.vertexShader});p.depthFunc=wv,p.side=Vm,e.state.buffers.depth.setClear(0);var A=r.clone();A.traverse((function(e){e instanceof zb&&(e.material=p)}));var m=new HE;m.add(A),m.add(d),m.background=null;var v=new uM(e);v.setSize(512,512);var g=new cM(m,d);v.addPass(g);var y=(0,wa.Z)({},wM);y.uniforms.uImageIncrement.value=new My(.001953125,0),y.uniforms.cKernel.value=wM.buildKernel(4),y.uniforms.tDiffuse.value=t.texture;var x=new oM(y),b=(0,wa.Z)({},wM);b.uniforms.uImageIncrement.value=new My(0,.001953125),b.uniforms.cKernel.value=wM.buildKernel(4),b.uniforms.tDiffuse.value=t.texture;for(var w=new oM(b),C=1;C<8*i;++C)v.addPass(x),v.addPass(w);v.addPass(new SM(t)),o.track(m),n.position.set(l.x,0,l.z);var E=.2*MM.x*2,S=.2*MM.z*2;n.geometry.dispose(),n.geometry=new dw(MM.x+E,MM.z+S,1,1),e.setRenderTarget(t);var I=new zy;e.getClearColor(I);var M=e.getClearAlpha();e.setClearColor(new zy(0),0),v.render(),e.setClearColor(I,M),e.setRenderTarget(null),e.state.buffers.depth.setClear(1),e.setSize(IM.x,IM.y),v.renderTarget1.dispose(),v.renderTarget2.dispose(),o.dispose()}}]),e}(),BM=new Ux,TM=new ex,RM=new ex(1,0,0),DM=new ex(0,1,0),PM=new ex(0,0,1);function LM(e,t){if(e){if(t&&t(e))return!0;var n,r=(0,qi.Z)(e.children);try{for(r.s();!(n=r.n()).done;){if(LM(n.value,t))return!0}}catch(Vc){r.e(Vc)}finally{r.f()}return!1}}Object.freeze(BM),Object.freeze(TM),Object.freeze(RM),Object.freeze(DM),Object.freeze(PM);var QM=function(e,t){var n,r,i,a,o,s;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new ex,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return A.phi},this.getAzimuthalAngle=function(){return A.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Y),this._domElementKeyEvents=e},this.clearPanOffset=function(){l.panOffset.copy(TM),l.update()},this.setState=function(e){e.matrix&&l.object.matrix.copy(e.matrix),e.position&&l.object.position.copy(e.position),e.quaternion&&l.object.quaternion.copy(e.quaternion),l.object.zoom=e.zoom,l.panOffset.copy(e.panOffset),l.target.copy(e.target),l.object.updateProjectionMatrix(),l.update()},this.getState=function(){var e;return{matrix:l.object.matrix.clone(),position:l.object.position.clone(),quaternion:l.object.quaternion.clone(),zoom:null!==(e=l.object.zoom)&&void 0!==e?e:1,panOffset:l.panOffset.clone(),target:l.target.clone(),controllerType:"orbit"}},this.saveState=function(){l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(u),l.update(),f=d.NONE},this.update=(n=new ex,r=(new $y).setFromUnitVectors(e.up,new ex(0,1,0)),i=r.clone().invert(),a=new ex,o=new $y,s=2*Math.PI,function(){var e=l.object.position;n.copy(e).sub(l.target),n.applyQuaternion(r),A.setFromVector3(n),l.autoRotate&&f===d.NONE&&k(2*Math.PI/60/60*l.autoRotateSpeed),l.enableDamping?(A.theta+=m.theta*l.dampingFactor,A.phi+=m.phi*l.dampingFactor):(A.theta+=m.theta,A.phi+=m.phi);var t=l.minAzimuthAngle,c=l.maxAzimuthAngle;return isFinite(t)&&isFinite(c)&&(t<-Math.PI?t+=s:t>Math.PI&&(t-=s),c<-Math.PI?c+=s:c>Math.PI&&(c-=s),A.theta=t<=c?Math.max(t,Math.min(c,A.theta)):A.theta>(t+c)/2?Math.max(t,A.theta):Math.min(c,A.theta)),A.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,A.phi)),A.makeSafe(),A.radius*=v,A.radius=Math.max(l.minDistance,Math.min(l.maxDistance,A.radius)),!0===l.enableDamping?l.target.addScaledVector(l.panOffset,l.dampingFactor):l.target.add(l.panOffset),n.setFromSpherical(A),n.applyQuaternion(i),e.copy(l.target).add(n),l.object.lookAt(l.target),!0===l.enableDamping?(m.theta*=1-l.dampingFactor,m.phi*=1-l.dampingFactor,l.panOffset.multiplyScalar(1-l.dampingFactor)):(m.set(0,0,0),l.panOffset.set(0,0,0)),v=1,!!(g||a.distanceToSquared(l.object.position)>p||8*(1-o.dot(l.object.quaternion))>p)&&(l.dispatchEvent(u),a.copy(l.object.position),o.copy(l.object.quaternion),g=!1,!0)}),this.dispose=function(){l.domElement.removeEventListener("contextmenu",$),l.domElement.removeEventListener("pointerdown",H),l.domElement.removeEventListener("wheel",q),l.domElement.removeEventListener("touchstart",X),l.domElement.removeEventListener("touchend",K),l.domElement.removeEventListener("touchmove",J),l.domElement.ownerDocument.removeEventListener("pointermove",V),l.domElement.ownerDocument.removeEventListener("pointerup",W),null!==l._domElementKeyEvents&&l._domElementKeyEvents.removeEventListener("keydown",Y)},this.panOffset=new ex;var l=this,u={type:"change"},c={type:"start"},h={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=d.NONE,p=1e-6,A=new JI,m=new JI,v=1,g=!1,y=new My,x=new My,b=new My,w=new My,C=new My,E=new My,S=new My,I=new My,M=new My;function _(){return Math.pow(.95,l.zoomSpeed)}function k(e){m.theta-=e}function B(e){m.phi-=e}var T,R=(T=new ex,function(e,t){T.setFromMatrixColumn(t,0),T.multiplyScalar(-e),l.panOffset.add(T)}),D=function(){var e=new ex;return function(t,n){!0===l.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(l.object.up,e)),e.multiplyScalar(t),l.panOffset.add(e)}}(),P=function(){var e=new ex;return function(t,n){var r=l.domElement;if(l.object.isPerspectiveCamera){var i=l.object.position;e.copy(i).sub(l.target);var a=e.length();a*=Math.tan(l.object.fov/2*Math.PI/180),R(2*t*a/r.clientHeight,l.object.matrix),D(2*n*a/r.clientHeight,l.object.matrix)}else l.object.isOrthographicCamera?(R(t*(l.object.right-l.object.left)/l.object.zoom/r.clientWidth,l.object.matrix),D(n*(l.object.top-l.object.bottom)/l.object.zoom/r.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function L(e){l.object.isPerspectiveCamera?v/=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*e)),l.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function Q(e){l.object.isPerspectiveCamera?v*=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/e)),l.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function j(e){y.set(e.clientX,e.clientY)}function N(e){w.set(e.clientX,e.clientY)}function F(e){if(1==e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,n)}}function U(e){if(1==e.touches.length)w.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);w.set(t,n)}}function O(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);S.set(0,r)}function Z(e){if(1==e.touches.length)x.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(t,n)}b.subVectors(x,y).multiplyScalar(l.rotateSpeed);var r=l.domElement;k(2*Math.PI*b.x/r.clientHeight),B(2*Math.PI*b.y/r.clientHeight),y.copy(x)}function z(e){if(1==e.touches.length)C.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);C.set(t,n)}E.subVectors(C,w).multiplyScalar(l.panSpeed),P(E.x,E.y),w.copy(C)}function G(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);I.set(0,r),M.set(0,Math.pow(I.y/S.y,l.zoomSpeed)),L(M.y),S.copy(I)}function H(e){if(!1!==l.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),l.domElement.focus?l.domElement.focus():window.focus(),e.button){case 0:t=l.mouseButtons.LEFT;break;case 1:t=l.mouseButtons.MIDDLE;break;case 2:t=l.mouseButtons.RIGHT;break;default:t=-1}switch(t){case 1:if(!1===l.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),f=d.DOLLY;break;case 0:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enablePan)return;N(e),f=d.PAN}else{if(!1===l.enableRotate)return;j(e),f=d.ROTATE}break;case 2:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enableRotate)return;j(e),f=d.ROTATE}else{if(!1===l.enablePan)return;N(e),f=d.PAN}break;default:f=d.NONE}f!==d.NONE&&(l.domElement.ownerDocument.addEventListener("pointermove",V),l.domElement.ownerDocument.addEventListener("pointerup",W),l.dispatchEvent(c))}(e)}}function V(e){if(!1!==l.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1!==l.enabled)switch(e.preventDefault(),f){case d.ROTATE:if(!1===l.enableRotate)return;!function(e){x.set(e.clientX,e.clientY),b.subVectors(x,y).multiplyScalar(l.rotateSpeed);var t=l.domElement;k(2*Math.PI*b.x/t.clientHeight),B(2*Math.PI*b.y/t.clientHeight),y.copy(x),l.update()}(e);break;case d.DOLLY:if(!1===l.enableZoom)return;!function(e){I.set(e.clientX,e.clientY),M.subVectors(I,S),M.y>0?L(_()):M.y<0&&Q(_()),S.copy(I),l.update()}(e);break;case d.PAN:if(!1===l.enablePan)return;!function(e){C.set(e.clientX,e.clientY),E.subVectors(C,w).multiplyScalar(l.panSpeed),P(E.x,E.y),w.copy(C),l.update()}(e)}}(e)}}function W(e){switch(e.pointerType){case"mouse":case"pen":l.domElement.ownerDocument.removeEventListener("pointermove",V),l.domElement.ownerDocument.removeEventListener("pointerup",W),!1!==l.enabled&&(l.dispatchEvent(h),f=d.NONE)}}function q(e){!1===l.enabled||!1===l.enableZoom||f!==d.NONE&&f!==d.ROTATE||(e.preventDefault(),l.dispatchEvent(c),function(e){e.deltaY<0?Q(_()):e.deltaY>0&&L(_()),l.update()}(e),l.dispatchEvent(h))}function Y(e){!1!==l.enabled&&!1!==l.enablePan&&function(e){var t=!1;switch(e.code){case l.keys.UP:P(0,l.keyPanSpeed),t=!0;break;case l.keys.BOTTOM:P(0,-l.keyPanSpeed),t=!0;break;case l.keys.LEFT:P(l.keyPanSpeed,0),t=!0;break;case l.keys.RIGHT:P(-l.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),l.update())}(e)}function X(e){if(!1!==l.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(l.touches.ONE){case 0:if(!1===l.enableRotate)return;F(e),f=d.TOUCH_ROTATE;break;case 1:if(!1===l.enablePan)return;U(e),f=d.TOUCH_PAN;break;default:f=d.NONE}break;case 2:switch(l.touches.TWO){case 2:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){l.enableZoom&&O(e),l.enablePan&&U(e)}(e),f=d.TOUCH_DOLLY_PAN;break;case 3:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(e){l.enableZoom&&O(e),l.enableRotate&&F(e)}(e),f=d.TOUCH_DOLLY_ROTATE;break;default:f=d.NONE}break;default:f=d.NONE}f!==d.NONE&&l.dispatchEvent(c)}}function J(e){if(!1!==l.enabled)switch(e.preventDefault(),f){case d.TOUCH_ROTATE:if(!1===l.enableRotate)return;Z(e),l.update();break;case d.TOUCH_PAN:if(!1===l.enablePan)return;z(e),l.update();break;case d.TOUCH_DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){l.enableZoom&&G(e),l.enablePan&&z(e)}(e),l.update();break;case d.TOUCH_DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(e){l.enableZoom&&G(e),l.enableRotate&&Z(e)}(e),l.update();break;default:f=d.NONE}}function K(e){!1!==l.enabled&&(l.dispatchEvent(h),f=d.NONE)}function $(e){!1!==l.enabled&&e.preventDefault()}l.domElement.addEventListener("contextmenu",$),l.domElement.addEventListener("pointerdown",H),l.domElement.addEventListener("wheel",q),l.domElement.addEventListener("touchstart",X),l.domElement.addEventListener("touchend",K),l.domElement.addEventListener("touchmove",J),this.update()};(QM.prototype=Object.create(dy.prototype)).constructor=QM;var jM=function(e,t){QM.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=2,this.mouseButtons.RIGHT=0,this.touches.ONE=1,this.touches.TWO=3};(jM.prototype=Object.create(dy.prototype)).constructor=jM;var NM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.Z)(this,n),(e=t.call(this,i)).setSize(e.domElement.width,e.domElement.height),e.outputEncoding=Kg,e.physicallyCorrectLights=!0,e.setClearColor(0,0),e.shadowMap.enabled=!1,e.shadowMap.type=zm,e.toneMapping=Mv,e}return(0,i.Z)(n)}(ZE),FM=function(){function e(t,n,i){(0,r.Z)(this,e),this._renderer=t,this._composer=n,this._scene=new HE,this._sceneRoot=new tb,this.sceneRoot.name="Scene Root",this.scene.add(this.sceneRoot),this._scene.background=null,this._cameraController=i,this.renderFrame=this.renderFrame.bind(this),this._renderEnabled=!0,this._renderFrameCallbacks=[],this.updateCameraController=!0,this.clock=new LI,this.renderer.setAnimationLoop(this.renderFrame)}return(0,i.Z)(e,[{key:"scene",get:function(){return this._scene}},{key:"sceneRoot",get:function(){return this._sceneRoot}},{key:"renderer",get:function(){return this._renderer}},{key:"composer",get:function(){return this._composer}},{key:"camera",get:function(){return this._cameraController.object}},{key:"cameraController",get:function(){return this._cameraController},set:function(e){this._cameraController=e,this._composer&&this._composer.setCamera(e.object)}},{key:"renderScene",value:function(){this._killed||(this.composer?this.composer.render(this._scene,this.camera):this.renderer.render(this._scene,this.camera))}},{key:"renderFrame",value:function(e,t){var n=this.clock.getDelta();this._renderer.xr.isPresenting?this.xrRenderFrameHandler&&this.xrRenderFrameHandler(n,t):this.renderScene(),this._renderEnabled&&(this._cameraController&&this.updateCameraController&&this._cameraController.enabled&&this._cameraController.update(n),this._renderFrameCallbacks.forEach((function(e){e&&e(n,t)})))}},{key:"enableRender",value:function(e){this._renderEnabled=e}},{key:"addRenderFrameCallback",value:function(e){if(!e)throw new Error("Invalid parameter observer");this._renderFrameCallbacks.push(e)}},{key:"removeRenderFrameObserver",value:function(e){if(!e)throw new Error("Invalid parameter observer");this._renderFrameCallbacks.filter((function(t){return t!==e}))}},{key:"pauseRenderLoop",value:function(e){e?this.renderer.setAnimationLoop(null):this.renderer.setAnimationLoop(this.renderFrame)}},{key:"clearSceneRoot",value:function(){var e;this.sceneRoot&&((e=this.sceneRoot)&&e.traverse((function(e){!function(e){e&&(e.geometry&&e.geometry.dispose(),e.material&&(e.material.map&&e.material.map.dispose(),e.material.envMap&&e.material.envMap.dispose(),e.material.lightMap&&e.material.lightMap.dispose(),e.material.aoMap&&e.material.aoMap.dispose(),e.material.bumpMap&&e.material.bumpMap.dispose(),e.material.emissiveMap&&e.material.emissiveMap.dispose(),e.material.metalnessMap&&e.material.metalnessMap.dispose(),e.material.normalMap&&e.material.normalMap.dispose(),e.material.displacementMap&&e.material.displacementMap.dispose(),e.material.dispose()))}(e)})),this.sceneRoot.clear())}},{key:"setBackground",value:function(e){this._scene.background=e}},{key:"setEnvironmentMap",value:function(e){this._scene.environment=e}},{key:"setFog",value:function(e){this._scene.fog=e}},{key:"resetEffectManager",value:function(){if(this._composer){this._composer.deleteAllPasses();var e=this._composer.createRenderPass(this._scene,this._cameraController.object,!0);this._composer.addPass(e)}}},{key:"kill",value:function(){this._killed=!0}}]),e}(),UM=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if((0,r.Z)(this,e),!(t&&t instanceof NM))throw"renderer argument invalid";if(!(n&&n instanceof tb))throw"model argument invalid";this._boundingGeometry=new eM(n);var s=.2*this._boundingGeometry.size.x*2,l=.2*this._boundingGeometry.size.z*2;this._renderTarget=new Xy(512,512,{format:ag});var u=new Ab;u.map=this._renderTarget.texture,u.depthWrite=!1,u.transparent=!0,u.opacity=1-i,u.needsUpdate=!0,this._mesh=new zb(new dw(this._boundingGeometry.size.x+s,this._boundingGeometry.size.z+l,1,1),u),this._mesh.rotation.x=-.5*Math.PI,this._mesh.renderOrder=1e6,this._mesh.name="_BAKED_SHADOW_MESH",this._render(t,n,i,a,o)}return(0,i.Z)(e,[{key:"_render",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this._mesh.material.opacity=1-n,this._mesh.material.needsUpdate=!0,kM.renderShadow(e,this._renderTarget,this._mesh,t,r,i)}},{key:"dispose",value:function(){this._mesh.material.dispose(),this._mesh.geometry.dispose(),this._renderTarget.dispose()}},{key:"mesh",get:function(){return this._mesh}},{key:"renderTarget",get:function(){return this._renderTarget}}]),e}(),OM={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},ZM={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},zM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){var s,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};(0,r.Z)(this,n),(s=t.call(this,e)).type="Reflector";var u=void 0!==(l=l||{}).color?new zy(l.color):new zy(8355711),c=l.textureWidth||512,h=l.textureHeight||512;s.clipBias=l.clipBias||0;var d=l.shader||n.ReflectorShader;s.camera=o,s.reflectorPlane=new ow,s.normal=new ex,s.reflectorWorldPosition=new ex,s.cameraWorldPosition=new ex,s.rotationMatrix=new Bx,s.lookAtPosition=new ex(0,0,-1),s.clipPlane=new Yy,s.viewport=new Yy,s.view=new ex,s.target=new ex,s.q=new Yy,s.textureMatrix=new Bx,s.virtualCamera=new Kb;var f={minFilter:Gv,magFilter:Gv,format:ag,stencilBuffer:!1};s.renderTarget=s.createRenderTarget(c,h,f,!0),s.composer=new uM(i),s.composer.renderToScreen=!1,s.composer.addPass(new cM(a,s.virtualCamera)),s.verticalBlurPass=new oM(ZM),s.horizontalBlurPass=new oM(OM),s.composer.addPass(s.verticalBlurPass),s.composer.addPass(s.horizontalBlurPass),s.renderTarget1=s.createRenderTarget(c,h,f),s.composer.addPass(new SM(s.renderTarget1));var p=new Xb({uniforms:Yb.clone(d.uniforms),fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,transparent:!0,depthWrite:!1});return p.uniforms.tDiffuse.value=s.renderTarget1.texture,p.uniforms.tDepth.value=s.renderTarget.depthTexture,p.uniforms.color.value=u,p.uniforms.textureMatrix.value=s.textureMatrix,s.material=p,s}return(0,i.Z)(n,[{key:"createRenderTarget",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new Xy(e,t,n);return Iy.isPowerOfTwo(e)&&Iy.isPowerOfTwo(t)||(i.texture.generateMipmaps=!1),r&&(i.depthBuffer=!0,i.depthTexture=new NE,i.depthTexture.type=Xv),i}},{key:"onBeforeRender",value:function(e,t,n){if(this.reflectorWorldPosition.setFromMatrixPosition(this.matrixWorld),this.cameraWorldPosition.setFromMatrixPosition(n.matrixWorld),this.rotationMatrix.extractRotation(this.matrixWorld),this.normal.set(0,0,1),this.normal.applyMatrix4(this.rotationMatrix),this.view.subVectors(this.reflectorWorldPosition,this.cameraWorldPosition),!(this.view.dot(this.normal)>0)){this.view.reflect(this.normal).negate(),this.view.add(this.reflectorWorldPosition),this.rotationMatrix.extractRotation(n.matrixWorld),this.lookAtPosition.set(0,0,-1),this.lookAtPosition.applyMatrix4(this.rotationMatrix),this.lookAtPosition.add(this.cameraWorldPosition),this.target.subVectors(this.reflectorWorldPosition,this.lookAtPosition),this.target.reflect(this.normal).negate(),this.target.add(this.reflectorWorldPosition),this.virtualCamera.position.copy(this.view),this.virtualCamera.up.set(0,1,0),this.virtualCamera.up.applyMatrix4(this.rotationMatrix),this.virtualCamera.up.reflect(this.normal),this.virtualCamera.lookAt(this.target),this.virtualCamera.far=n.far,this.virtualCamera.updateMatrixWorld(),this.virtualCamera.projectionMatrix.copy(n.projectionMatrix),this.material.uniforms.cameraNear.value=n.near,this.material.uniforms.cameraFar.value=n.far,this.material.uniformsNeedUpdate=!0,this.textureMatrix.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),this.textureMatrix.multiply(this.virtualCamera.projectionMatrix),this.textureMatrix.multiply(this.virtualCamera.matrixWorldInverse),this.textureMatrix.multiply(this.matrixWorld),this.reflectorPlane.setFromNormalAndCoplanarPoint(this.normal,this.reflectorWorldPosition),this.reflectorPlane.applyMatrix4(this.virtualCamera.matrixWorldInverse),this.clipPlane.set(this.reflectorPlane.normal.x,this.reflectorPlane.normal.y,this.reflectorPlane.normal.z,this.reflectorPlane.constant);var r=this.virtualCamera.projectionMatrix;this.q.x=(Math.sign(this.clipPlane.x)+r.elements[8])/r.elements[0],this.q.y=(Math.sign(this.clipPlane.y)+r.elements[9])/r.elements[5],this.q.z=-1,this.q.w=(1+r.elements[10])/r.elements[14],this.clipPlane.multiplyScalar(2/this.clipPlane.dot(this.q)),r.elements[2]=this.clipPlane.x,r.elements[6]=this.clipPlane.y,r.elements[10]=this.clipPlane.z+1-this.clipBias,r.elements[14]=this.clipPlane.w,t.traverse((function(e){e instanceof kS&&(e.visible=!1)})),this.visible=!1;var i=e.getRenderTarget(),a=e.xr.enabled,o=e.shadowMap.autoUpdate;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(this.renderTarget),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,this.virtualCamera),this.blur?(this.material.uniforms.tDiffuse.value=this.renderTarget1.texture,this.composer.render(.01)):this.material.uniforms.tDiffuse.value=this.renderTarget.texture,e.xr.enabled=a,e.shadowMap.autoUpdate=o,e.setRenderTarget(i);var s=n.bounds;if(void 0!==s){var l=e.getSize(),u=e.getPixelRatio();this.viewport.x=s.x*l.width*u,this.viewport.y=s.y*l.height*u,this.viewport.z=s.z*l.width*u,this.viewport.w=s.w*l.height*u,e.state.this.viewport(this.viewport)}this.visible=!0,t.traverse((function(e){e instanceof kS&&(e.visible=!0)}))}}},{key:"getRenderTarget",value:function(){return this.renderTarget}},{key:"setFadeScale",value:function(e){this.material.uniforms.fadeScale.value=e*this.camera.far/this.camera.near}},{key:"setColor",value:function(e){this.material.uniforms.color.value=e}},{key:"setOpacity",value:function(e){this.material.uniforms.opacity.value=e}},{key:"enableBlur",value:function(e){this.blur=e}},{key:"dispose",value:function(){this.composer.renderTarget1.dispose(),this.composer.renderTarget2.dispose(),this.renderTarget.dispose(),this.renderTarget1.dispose()}}]),n}(zb);function GM(e,t,n,r,i,a){var o=new dw(t,t),s=new zM(o,e.renderer,e.scene,e.camera,{clipBias:.03,textureWidth:1024,textureHeight:1024,color:4294967295,encoding:Kg});return s.rotateX(-Math.PI/2),s.setFadeScale(null!==r&&void 0!==r?r:3),s.setOpacity(null!==i&&void 0!==i?i:1),s.setColor(new zy(n||"#808080")),s.enableBlur(null!==a&&void 0!==a&&a),s}zM.ReflectorShader={uniforms:{color:{type:"c",value:null},tDiffuse:{type:"t",value:null},tDepth:{type:"t",value:null},textureMatrix:{type:"m4",value:null},cameraNear:{type:"f",value:0},cameraFar:{type:"f",value:0},fadeScale:{type:"f",value:3},opacity:{type:"f",value:.5}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#include <packing>","uniform vec3 color;","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float fadeScale;","uniform float opacity;","varying vec4 vUv;","float readDepth( sampler2D depthSampler, vec4 coord ) {","\tfloat fragCoordZ = texture2DProj( depthSampler, coord ).x;","\tfloat viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","\treturn viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );"," \tfloat depth = readDepth( tDepth, vUv );","\tgl_FragColor = vec4(base.rgb * color.rgb, (1.0 - ( depth * fadeScale )) * opacity );","}"].join("\n")};var HM=function(){function e(t,n){(0,r.Z)(this,e),this._scene=t,this._settings=n,this._assets={cubeMaps:{},variantMaps:{}}}return(0,i.Z)(e,[{key:"settings",get:function(){return this._settings}},{key:"scene",get:function(){return this._scene}},{key:"name",get:function(){return this._name}},{key:"cubeMaps",get:function(){return this._assets.cubeMaps}},{key:"variantMaps",get:function(){return this._assets.variantMaps}},{key:"addCubeMap",value:function(e,t){this._assets.cubeMaps[e]={images:t}}},{key:"setVariantMap",value:function(e,t){this._assets.variantMaps[e]=t}}]),e}(),VM=(0,i.Z)((function e(){(0,r.Z)(this,e),this.state={environment:{backgroundType:"color",backgroundColor:"#fff",backgroundGradientColor1:"#ffffff",backgroundGradientColor2:"#808080",enableReflection:!1,reflectionFadeScale:3,reflectionColor:"#ffffff",reflectionOpacity:1,blurReflection:!1,fogColor:"#BABFD9",fogDensity:.02,fogNear:100,fogFar:1e3,fog:!1,fogType:"exponential"},lighting:{shadowsEnabled:!0,shadowLightIntensity:1,shadowPlaneVisible:!0,shadowPlaneLightness:.7,shadowLightRotation:Math.PI/4,shadowLightElevation:Math.PI/4,shadowBias:1e-4,ambientLightColor:"#ffffff",ambientLightIntensity:.2},cameraController:{controllerType:"orbit",orbitController:{minElevation:0,maxElevation:180,minZoom:0,maxZoom:100},firstPersonController:{moveSpeed:1}},annotations:{visibilityTest:!1,showNavButtons:!1,textColor:"#ffffff",fillColor:"#000000",borderColor:"#ffffff",size:32},viewer:{autoRotate:{enabled:!0,speed:1},menu:{showHelp:!0,showInfo:!0,showOptions:!0},ar:{enabled:!0,webAr:!1,glbUrl:"",usdzUrl:""},vr:{enabled:!1,walkSpeed:1,rayGeometryTest:!0},animations:{startAnimation:"",loopStartAnimation:!1},dimensionsTool:{show:!1}},effects:{bloom:{enabled:!1,radius:.5,threshold:.5,strength:.5},dof:{enabled:!1,focalLength:.5,focus:.5,blur:.5}}}})),WM={android:function(){return null!=navigator.userAgent.match(/Android/i)},blackberry:function(){return null!=navigator.userAgent.match(/BlackBerry/i)},ios:function(){return null!=navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return null!=navigator.userAgent.match(/Opera Mini/i)},windows:function(){return null!=navigator.userAgent.match(/IEMobile/i)},any:function(){return WM.android()||WM.blackberry()||WM.ios()||WM.opera()||WM.windows()}},qM=window.XRWebGLBinding,YM=function(){function e(t,n,i,a,o){var s=this;(0,r.Z)(this,e),this.xrLight=t,this.renderer=n,this.lightProbe=i,this.xrWebGLBinding=null,this.estimationStartCallback=o,this.frameCallback=this.onXRFrame.bind(this);var l=n.xr.getSession();if(a&&"XRWebGLBinding"in window){var u=new nw(16);t.environment=u.texture;var c=n.getContext();switch(l.preferredReflectionFormat){case"srgba8":c.getExtension("EXT_sRGB");break;case"rgba16f":c.getExtension("OES_texture_half_float")}this.xrWebGLBinding=new qM(l,c),this.lightProbe.addEventListener("reflectionchange",(function(){s.updateReflection()}))}l.requestAnimationFrame(this.frameCallback)}return(0,i.Z)(e,[{key:"updateReflection",value:function(){var e=this.renderer.properties.get(this.xrLight.environment);if(e){var t=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);t&&(e.__webglTexture=t,this.xrLight.environment.needsPMREMUpdate=!0)}}},{key:"onXRFrame",value:function(e,t){if(this.xrLight){t.session.requestAnimationFrame(this.frameCallback);var n=t.getLightEstimate(this.lightProbe);if(n){this.xrLight.lightProbe.sh.fromArray(n.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;var r=Math.max(1,Math.max(n.primaryLightIntensity.x,Math.max(n.primaryLightIntensity.y,n.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(n.primaryLightIntensity.x/r,n.primaryLightIntensity.y/r,n.primaryLightIntensity.z/r),this.xrLight.directionalLight.intensity=r,this.xrLight.directionalLight.position.copy(n.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}}},{key:"dispose",value:function(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}]),e}(),XM=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,r.Z)(this,n),(i=t.call(this)).lightProbe=new RI,i.lightProbe.intensity=0,i.add(i.lightProbe),i.directionalLight=new kI,i.directionalLight.intensity=0,i.add(i.directionalLight),i.environment=null;var o=null,s=!1;return e.xr.addEventListener("sessionstart",(function(){var t=e.xr.getSession();"requestLightProbe"in t&&t.requestLightProbe({reflectionFormat:t.preferredReflectionFormat}).then((function(t){o=new YM((0,jt.Z)(i),e,t,a,(function(){s=!0,i.dispatchEvent({type:"estimationstart"})}))}))})),e.xr.addEventListener("sessionend",(function(){o&&(o.dispose(),o=null),s&&i.dispatchEvent({type:"estimationend"})})),i.dispose=function(){o&&(o.dispose(),o=null),i.remove(i.lightProbe),i.lightProbe=null,i.remove(i.directionalLight),i.directionalLight=null,i.environment=null},i}return(0,i.Z)(n)}(LE),JM=null,KM=!1,$M=new Bx,e_=new My,t_=new ex,n_=new rx,r_=function(){function e(t,n){(0,r.Z)(this,e),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onLightEstimationStart=this.onLightEstimationStart.bind(this),this.onLightEstimationEnd=this.onLightEstimationEnd.bind(this),this.renderer=t,this.domElem=n,this.scene=new HE,this.camera=new Kb,this.scene.add(this.camera),t.xr.enabled=!0,this.reticle=new zb(new LS(.15,.2,32).rotateX(-Math.PI/2),new Ab),this.reticle.matrixAutoUpdate=!1,this.reticle.visible=!1,this.scene.add(this.reticle),this.activeModelPlane=new ow(new ex(0,1,0),0),this.touches=[{x:0,y:0},{x:0,y:0}],this.reticleRotation=0,this.startIntersect=new ex,this.endIntersect=new ex,this.haveStartPoint=!1,this.raycaster=new qI,this.xrLight=new XM(t,!0),this.defaultEnvironment=this.scene.environment,this.xrLight.addEventListener("estimationstart",this.onLightEstimationStart),this.xrLight.addEventListener("estimationEnd",this.onLightEstimationEnd)}return(0,i.Z)(e,[{key:"update",value:function(e,t){var n=this;if(this.session){if(t){var r=this.renderer.xr.getReferenceSpace();if(!1===KM&&(this.session.requestReferenceSpace("viewer").then((function(e){n.session.requestHitTestSource({space:e}).then((function(e){JM=e}))})),KM=!0),JM){var i=t.getHitTestResults(JM);i.length?this.onHit(i[0],r):this.reticle.visible=!1}}this.renderer.render(this.scene,this.camera)}}},{key:"onHit",value:function(e,t){var n;(null===(n=this.activeScene)||void 0===n?void 0:n.visible)||(this.reticle.visible=!0,this.reticle.matrix.fromArray(e.getPose(t).transform.matrix))}},{key:"onTouchStart",value:function(e){var t;(null===(t=this.activeScene)||void 0===t||!t.visible)&&this.reticle.visible&&(this.showActiveModel(),this.reticle.visible=!1);for(var n=0;n<e.touches.length&&n<2;++n)this.touches[n].x=e.touches[n].clientX,this.touches[n].y=e.touches[n].clientY;if(1===e.touches.length){this.haveStartPoint=!1;var r=this.renderer.xr.getCamera(this.camera);this.rayPlaneTest(r,this.activeModelPlane,e.touches[0].clientX,e.touches[0].clientY,this.startIntersect)&&(this.haveStartPoint=!0)}else 2===e.touches.length&&(e_.set(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY),this.startPinchlen=e_.length())}},{key:"onTouchMove",value:function(e){if(this.activeScene&&this.activeScene.visible)if(1===e.touches.length){if(this.haveStartPoint){var t=this.renderer.xr.getCamera(this.camera);this.rayPlaneTest(t,this.activeModelPlane,e.touches[0].clientX,e.touches[0].clientY,this.endIntersect)&&(t_.subVectors(this.endIntersect,this.startIntersect),t_.length()<.2&&this.activeScene&&this.activeScene.position.add(t_),this.startIntersect.copy(this.endIntersect))}}else if(2===e.touches.length){e_.set(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY);var n=e_.length(),r=this.startPinchlen-n;this.startPinchlen=n,this.activeScene&&this.activeScene.rotateY(.01*r)}}},{key:"onLightEstimationStart",value:function(){LM(this.scene,(function(e){e instanceof mI&&(e.visible=!1)})),this.scene.add(this.xrLight),this.defaultEnvironment=this.scene.environment,this.xrLight.environment?this.scene.environment=this.xrLight.environment:this.scene.environment=null}},{key:"onLightEstimationEnd",value:function(){this.scene.remove(this.xrLight),LM(this.scene,(function(e){e instanceof mI&&(e.visible=!0)})),this.scene.environment=this.defaultEnvironment}},{key:"startSession",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){var t=this;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.xr.requestSession("immersive-ar",{requiredFeatures:["local","hit-test"],optionalFeatures:["dom-overlay","dom-overlay-for-handheld-ar","light-estimation"],domOverlay:{root:this.domElem}});case 2:return this.session=e.sent,this.session.addEventListener("end",(function(){KM=!1,JM=null,t.session=null,t.domElem.removeEventListener("touchstart",t.onTouchStart),t.domElem.removeEventListener("touchmove",t.onTouchMove),t.reticle.visible=!1,t.activeScene.removeFromParent(),t.sceneParent&&t.sceneParent.add(t.activeScene),t.activeScene.visible=!0,t.sessionEndHandler&&t.sessionEndHandler()})),this.renderer.xr.setReferenceSpaceType("local"),e.next=7,this.renderer.xr.setSession(this.session);case 7:this.domElem.addEventListener("touchstart",this.onTouchStart),this.domElem.addEventListener("touchmove",this.onTouchMove),this.sessionStartHandler&&this.sessionStartHandler();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"endSession",value:function(){this.session.end()}},{key:"setActiveModel",value:function(e){this.activeScene=e,e.parent&&(this.sceneParent=e.parent,e.removeFromParent()),this.scene.add(e),this.activeScene.visible=!1}},{key:"showActiveModel",value:function(){if(this.activeScene){$M.extractRotation(this.reticle.matrix),this.activeScene.setRotationFromMatrix($M),this.activeScene.position.setFromMatrixPosition(this.reticle.matrix),this.activeModelPlane.set(DM,0),this.activeModelPlane.applyMatrix4(this.reticle.matrix),n_.setFromObject(this.activeScene);var e=this.activeScene.position.y-n_.min.y;this.activeScene.position.y+=e,this.activeScene.visible=!0}}},{key:"rayPlaneTest",value:function(e,t,n,r,i){return e_.x=n/window.innerWidth*2-1,e_.y=-r/window.innerHeight*2+1,this.raycaster.setFromCamera(e_,e),this.raycaster.ray.intersectPlane(t,i)}}],[{key:"isArSupported",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","xr"in window.navigator&&navigator.xr.isSessionSupported("immersive-ar"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),i_=new _y,a_=new ex,o_=new ex,s_=function(){function e(t,n,i,a,o,s){var l=this;(0,r.Z)(this,e),this.onSessionEnded=this.onSessionEnded.bind(this),this.onVrButtonClicked=this.onVrButtonClicked.bind(this),this.renderer=t,this.scene=n,this.target=a,this.camera=i,this.cameraRig=o,this.options=null!==s&&void 0!==s?s:{},this.tempMatrix=new Bx,this.raycaster=new qI,this.plane=new ow(new ex(0,1,0),0),t.xr.enabled=!0,t.xr.addEventListener("sessionstart",(function(){l.baseReferenceSpace=t.xr.getReferenceSpace()}))}return(0,i.Z)(e,[{key:"session",get:function(){return this.currentSession}},{key:"onVrButtonClicked",value:function(){this.vrController.session?this.vrController.endSession():this.vrController.startSession()}},{key:"startSession",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.xr.requestSession("immersive-vr",{optionalFeatures:["local-floor","bounded-floor","hand-tracking"]});case 2:return this.currentSession=e.sent,this.currentSession.addEventListener("end",this.onSessionEnded),e.next=6,this.renderer.xr.setSession(this.currentSession);case 6:this.sessionStartHandler&&this.sessionStartHandler();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSessionEnded",value:function(){this.currentSession&&this.currentSession.removeEventListener("end",this.onSessionEnded),this.currentSession=null,this.sessionEndHandler&&this.sessionEndHandler()}},{key:"endSession",value:function(){this.currentSession&&this.currentSession.end()}},{key:"teleport",value:function(e){var t={x:-e.x,y:-e.y,z:-e.z,w:1},n=new window.XRRigidTransform(t,new $y),r=this.baseReferenceSpace.getOffsetReferenceSpace(n);this.renderer.xr.setReferenceSpace(r)}},{key:"update",value:function(){if(this.camera.getWorldPosition(o_),this.plane.constant=o_.y-1.6,this.intersection=null,this.camera.getWorldDirection(a_),this.raycaster.ray.direction.copy(a_),this.raycaster.ray.origin.copy(this.camera.getWorldPosition(o_)),a_.y<-.5)if(this.options.rayGeometryTest){var e=this.raycaster.intersectObjects([this.target]);if(e.length>0){var t,n=(0,qi.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.face&&(i_.getNormalMatrix(r.object.matrixWorld),a_.copy(r.face.normal),a_.applyMatrix3(i_),a_.normalize(),1-a_.y<.05)){this.intersection=r.point;break}}}catch(Vc){n.e(Vc)}finally{n.f()}}}else this.raycaster.ray.intersectPlane(this.plane,o_)&&(this.intersection=o_);this.renderer.render(this.scene,this.camera)}}],[{key:"isVrSupported",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","xr"in window.navigator&&navigator.xr.isSessionSupported("immersive-vr"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),l_=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),u_="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,c_="undefined"!=typeof n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),h_="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(c_):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},d_=["top","right","bottom","left","width","height","size","weight"],f_="undefined"!=typeof MutationObserver,p_=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){h_(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){u_&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),f_?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){u_&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;d_.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),A_=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},m_=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||c_},v_=w_(0,0,0,0);function g_(e){return parseFloat(e)||0}function y_(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+g_(e["border-"+n+"-width"])}),0)}var x_="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof m_(e).SVGGraphicsElement}:function(e){return e instanceof m_(e).SVGElement&&"function"==typeof e.getBBox};function b_(e){return u_?x_(e)?function(e){var t=e.getBBox();return w_(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return v_;var r=m_(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=g_(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=g_(r.width),l=g_(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=y_(r,"left","right")+a),Math.round(l+o)!==n&&(l-=y_(r,"top","bottom")+o)),!function(e){return e===m_(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return w_(i.left,i.top,s,l)}(e):v_}function w_(e,t,n,r){return{x:e,y:t,width:n,height:r}}var C_=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=w_(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=b_(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),E_=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return A_(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);A_(this,{target:e,contentRect:n})},S_=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new l_,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof m_(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new C_(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof m_(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new E_(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),I_="undefined"!=typeof WeakMap?new WeakMap:new l_,M_=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=p_.getInstance(),r=new S_(t,n,this);I_.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){M_.prototype[e]=function(){var t;return(t=I_.get(this))[e].apply(t,arguments)}}));var __=void 0!==c_.ResizeObserver?c_.ResizeObserver:M_,k_=new zy,B_=new zy,T_=new ex,R_=function(){function e(t,n,i){var a=this;(0,r.Z)(this,e),this.viewerSavedState={position:new ex,rotation:new Ux},this._effectsPreviewMode=!1,this._envPreviewMode=!1,this._canvasEl=t,this._domEl=n,this._rootElem=i,this._extensions=[],this._project=new HM(new tb,new VM);var o=this.createPerspCamera("Orbit_Camera");this.project.scene.add(o);var s=this.createPerspCamera("First_Person_Camera");this.project.scene.add(s),this._orbitCameraController=new QM(o,t),this.orbitCameraController.enablePan=!0,this.orbitCameraController.autoRotate=!1,this.orbitCameraController.enableDamping=!0,this.orbitCameraController.dampingFactor=.02,this.orbitCameraController.autoRotateSpeed=0,this.orbitCameraController.saveState(),o.position.set(20,20,20),o.lookAt(0,0,0),this.orbitCameraController.update(),this._firstPersonCameraController=new yM(s,t),this.firstPersonCameraController.lookSpeed=.1,this.firstPersonCameraController.object.position.set(-10,10,-10),this.cameraController=this.orbitCameraController;var l=new NM({canvas:t,antialias:!0}),u=new AM(l);this._world=new FM(l,u,this.orbitCameraController),this._renderPass=u.createRenderPass(this.world.scene,o,!0),u.addPass(this.renderPass),this.world.sceneRoot.add(this.project.scene),this.ambientLight=new BI(new zy(this.project.settings.state.lighting.ambientLightColor),this.project.settings.state.lighting.ambientLightIntensity),this.world.scene.add(this.ambientLight),this.world.renderer.shadowMap.enabled=this.project.settings.state.lighting.shadowsEnabled,this.world.renderer.shadowMap.type=zm,new __((function(e){if(e.length>0){var t=e[0].target.clientWidth,n=e[0].target.clientHeight;a.onResize(t,n)}})).observe(n),this.canvasEl.addEventListener("pointerdown",(function(e){a._extensions.forEach((function(t){t.onEvent(e)}))})),this.canvasEl.addEventListener("pointerup",(function(e){a._extensions.forEach((function(t){t.onEvent(e)}))})),this.gradient=function(e,t,n){var r=function(e){var t=(e=e||{}).geometry||new dw(2,2,1),n=new jS({vertexShader:"\n  attribute vec3 position;\n  uniform mat4 modelViewMatrix;\n  uniform mat4 projectionMatrix;\n  varying vec2 vUv;\n  void main() {\n    gl_Position = vec4(position, 1.0);\n    vUv = vec2(position.x, position.y) * 0.5 + 0.5;\n  }\n",fragmentShader:"\n  precision mediump float;\n  \n  uniform vec3 color1;\n  uniform vec3 color2;\n  uniform float aspect;\n  uniform vec2 offset;\n  uniform vec2 scale;\n  uniform float noiseAlpha;\n  uniform bool aspectCorrection;\n  uniform float grainScale;\n  uniform float grainTime;\n  uniform vec2 smooth;\n\n  varying vec2 vUv;\n\n  void main() {\n    vec2 q = vec2(vUv - 0.5);\n    if (aspectCorrection) {\n      q.x *= aspect;\n    }\n    q /= scale;\n    q -= offset;\n    float dst = length(q);\n    dst = smoothstep(smooth.x, smooth.y, dst);\n    vec3 color = mix(color1, color2, dst);\n\n    gl_FragColor.rgb = color;\n    gl_FragColor.a = 1.0;\n  }\n",side:Wm,uniforms:{aspectCorrection:{type:"i",value:!1},aspect:{type:"f",value:1},offset:{type:"v2",value:new My(0,0)},scale:{type:"v2",value:new My(1,1)},smooth:{type:"v2",value:new My(0,1)},color1:{type:"c",value:new zy("#fff")},color2:{type:"c",value:new zy("#283844")}},depthTest:!1}),r=new zb(t,n);return r.frustumCulled=!1,r.style=function(e){if(e=e||{},Array.isArray(e.colors)){var t=e.colors.map((function(e){return"string"==typeof e||"number"==typeof e?new zy(e):e}));n.uniforms.color1.value.copy(t[0]),n.uniforms.color2.value.copy(t[1])}if("number"==typeof e.aspect&&(n.uniforms.aspect.value=e.aspect),e.smooth){var r=i(e.smooth,My);n.uniforms.smooth.value.copy(r)}if(e.offset){var a=i(e.offset,My);n.uniforms.offset.value.copy(a)}if(void 0!==e.scale){var o=e.scale;"number"==typeof o&&(o=[o,o]),o=i(o,My),n.uniforms.scale.value.copy(o)}void 0!==e.aspectCorrection&&(n.uniforms.aspectCorrection.value=Boolean(e.aspectCorrection))},e&&r.style(e),r;function i(e,t){return Array.isArray(e)?(new t).fromArray(e):e}}({aspect:n,colors:[new zy(e),new zy(t)]});return r.name="gradient",r.renderOrder=-1,r}(this.world.camera),this.world.scene.add(this.gradient),this.reflector=GM(this.world,10,this.project.settings.state.environment.reflectionColor,this.project.settings.state.environment.reflectionFadeScale,this.project.settings.state.environment.reflectionOpacity,this.project.settings.state.environment.blurReflection),this.world.scene.add(this.reflector),this.expFog=new zE(16777215,this.project.settings.state.environment.fogColor,this.project.settings.state.environment.fogDensity),this.fog=new GE(16777215,this.project.settings.state.environment.fogNear,this.project.settings.state.environment.fogFar),this.world.scene.fog="linear"===this.project.settings.state.environment.fogType?this.fog:this.expFog,this.shadowPlane=function(e){var t=new QS;t.opacity=1,t.depthWrite=!1,t.color.set(0);var n=new zb(new dw(1,1,8,8),t);return n.receiveShadow=!0,n.rotation.x=-.5*Math.PI,n.position.set(0,1e-4,0),n.scale.set(10,10,10),n}(0,this.project.settings.state.lighting.shadowLightness),this.shadowPlane.name="ezv-shadow-plane",this.world.scene.add(this.shadowPlane),this.shadowLight=function(e,t,n){var r=new kI;if(r.color.set("#ffffff"),r.intensity=3,r.castShadow=!0,r.shadow.bias=-.0015,r.shadow.radius=1,r.shadow.mapSize.width=1024,r.shadow.mapSize.height=1024,r.shadow.camera.near=.1,r.shadow.camera.far=100,r.shadow.camera.left=-20,r.shadow.camera.right=20,r.shadow.camera.top=20,r.shadow.camera.bottom=-20,r.shadow.camera.updateProjectionMatrix(),void 0!==n&void 0!==t){var i=10*Math.sin(n)*Math.cos(t),a=10*Math.sin(n)*Math.sin(t),o=10*Math.cos(n);r.position.set(i,o,a)}else r.position.set(20,20,20);return r.lookAt(0,0,0),r}(0,this.project.settings.state.lighting.shadowLightRotation,this.project.settings.state.lighting.shadowLightElevation),this.shadowLight.name="ezv-shadow-light",this.shadowLight.visible=!1,this.world.scene.add(this.shadowLight),this.world.addRenderFrameCallback((function(e){a._extensions.forEach((function(t){t.update(e)}))})),this.bloomPass=this.world.composer.createBloomPass(this.project.settings.state.effects.bloom.threshold,this.project.settings.state.effects.bloom.strength,this.project.settings.state.effects.bloom.radius),this.world.composer.addPass(this.bloomPass),this.dofPass=this.world.composer.createDofPass(this.world.scene,this.world.camera,this.project.settings.state.effects.dof.focus*this.world.camera.far*.1,1*this.project.settings.state.effects.dof.focalLength/this.world.camera.far,.01*this.project.settings.state.effects.dof.blur),this.world.composer.addPass(this.dofPass),this.frameObject(this.project.scene)}return(0,i.Z)(e,[{key:"orbitCameraController",get:function(){return this._orbitCameraController}},{key:"firstPersonCameraController",get:function(){return this._firstPersonCameraController}},{key:"cameraController",get:function(){return this._cameraController},set:function(e){this._cameraController=e}},{key:"world",get:function(){return this._world}},{key:"domEl",get:function(){return this._domEl}},{key:"canvasEl",get:function(){return this._canvasEl}},{key:"rootElem",get:function(){return this._rootElem}},{key:"selectedObject",get:function(){return this._selectedObject}},{key:"renderPass",get:function(){return this._renderPass}},{key:"arController",get:function(){return this._arController}},{key:"vrController",get:function(){return this._vrController}},{key:"viewport",get:function(){return{width:this.domEl.clientWidth,height:this.domEl.clientHeight,aspect:this.domEl.clientWidth/this.domEl.clientHeight}}},{key:"project",get:function(){return this._project},set:function(e){var t=this;this._project=e,this.world.clearSceneRoot(),this.world.sceneRoot.add(e.scene),e.scene.traverse((function(e){e.isMesh?(e.receiveShadow=!0,e.castShadow=!0):e.isPoints?e.material=new ES({color:4294967295,size:e.userData.size,sizeAttenuation:!1,depthTest:!1,transparent:!0,map:e.material.map}):e.isLight&&(e instanceof wI||e instanceof kI)&&(e.children.length&&e.children.forEach((function(e){return e.removeFromParent()})),e.target=new tb,e.target.position.set(0,0,2),e.add(e.target),t.updateLight(e))})),this.bindCamerasToControllers(e.scene,1),this.renderPass.camera=this.orbitCameraController.object,this.setLighting(),this.setEnvironment(),this.setCameraController(),this.setEffects(),this.orbitCameraController.object.position.set(20,20,20),this.orbitCameraController.object.lookAt(0,0,0),this.orbitCameraController.autoRotate=e.settings.state.viewer.autoRotate.enabled,this.orbitCameraController.autoRotateSpeed=e.settings.state.viewer.autoRotate.speed,this.orbitCameraController.update(),this.createAllBakedShadows(),this.sceneBBoxHelper&&this.sceneBBoxHelper.setFromObject(e.scene),this.recalculateSceneBounds(),this.setCameraControllerState(),this.onLoad&&this.onLoad(this.project)}},{key:"extensions",set:function(e){this._extensions=e}},{key:"onResize",value:function(e,t){var n=e/t;this.orbitCameraController.object.aspect=n,this.orbitCameraController.object.zoom=1,this.orbitCameraController.object.updateProjectionMatrix(),this.firstPersonCameraController.object.aspect=n,this.firstPersonCameraController.object.zoom=1,this.firstPersonCameraController.object.updateProjectionMatrix(),this.world.composer&&this.world.composer.setSize(e-1,t),this.world.renderer&&this.world.renderer.setSize(e,t)}},{key:"updateLight",value:function(e){(e instanceof wI||e instanceof kI)&&(e.helper&&e.helper.update(),e.target&&e.target.updateMatrixWorld())}},{key:"createPerspCamera",value:function(e){var t=new Kb(45,this.viewport.aspect,.1,1e3);return t.name=e,t}},{key:"bindCamerasToControllers",value:function(e){var t=e.getObjectByName("Orbit_Camera");t||(t=this.createPerspCamera("Orbit_Camera"),e.add(t)),t.aspect=this.viewport.aspect,t.updateProjectionMatrix(),this.orbitCameraController.object=t,this.orbitCameraController.saveState();var n=e.getObjectByName("First_Person_Camera");n||(n=this.createPerspCamera("First_Person_Camera"),e.add(n)),n.aspect=this.viewport.aspect,n.updateProjectionMatrix(),this.firstPersonCameraController.object=n}},{key:"renderScene",value:function(){this.world.composer.render(this.world.scene,this.world.camera)}},{key:"toggleFullScreen",value:function(){this.domEl&&(document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():this.domEl.requestFullscreen?this.domEl.requestFullscreen():this.domEl.mozRequestFullScreen?this.domEl.mozRequestFullScreen():this.domEl.msRequestFullscreen?this.domEl.msRequestFullscreen():this.domEl.webkitRequestFullscreen&&this.domEl.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}},{key:"addDepthFadeReflector",value:function(){this.depthFadeReflector&&(this.depthFadeReflector.removeFromParent(),this.depthFadeReflector.dispose());var e=new eM(this.project.scene);this.depthFadeReflector=GM(this.world,e,this.project.settings.state.environment.reflectionColor,this.project.settings.state.environment.reflectionFadeScale,this.project.settings.state.environment.reflectionOpacity,this.project.settings.state.environment.blurReflection),this.world.scene.add(this.depthFadeReflector)}},{key:"deleteBakedShadowMesh",value:function(e){e.bakedShadow&&(e.bakedShadow.mesh.removeFromParent(),e.bakedShadow.dispose(),e.bakedShadow=null)}},{key:"renderBakedShadow",value:function(e){var t,n,r,i=null!==(t=e.userData.bakedShadowLightness)&&void 0!==t?t:.7,a=null!==(n=e.userData.bakedShadowBlur)&&void 0!==n?n:.7,o=null!==(r=e.userData.bakedShadowFalloff)&&void 0!==r?r:0;this.deleteBakedShadowMesh(e),e.bakedShadow=function(e,t,n,r,i){var a=new UM(t,e,n,r,i);return e.attach(a.mesh),e.bakedShadow=a,a}(e,this.world.renderer,i,a,o),e.attach(e.bakedShadow.mesh),e.bakedShadow.mesh.name="ezv-baked-shadow"}},{key:"removeBakedShadowFromObject",value:function(e){this.deleteBakedShadowMesh(e),delete e.userData.bakedShadowLightness,delete e.userData.bakedShadowBlur,delete e.userData.bakedShadowFalloff}},{key:"setBakedShadowProperties",value:function(e,t){e.userData.bakedShadowBlur=t.bakedShadowBlur,e.userData.bakedShadowLightness=t.bakedShadowLightness,e.userData.bakedShadowFalloff=t.bakedShadowFalloff,this.renderBakedShadow(e,e.userData.bakedShadowLightness,e.userData.bakedShadowBlur,e.userData.bakedShadowFalloff)}},{key:"createAllBakedShadows",value:function(){var e=this;this.project.scene.traverse((function(t){null!=t.userData.bakedShadowBlur&&e.renderBakedShadow(t)}))}},{key:"frameObject",value:function(e){var t,n=new eM(e),r=this.orbitCameraController.object.fov;t=this.orbitCameraController.object.aspect>1?n.boundingSphere.radius/Math.tan(r/2*Math.PI/180):n.boundingSphere.radius/this.orbitCameraController.object.aspect/Math.tan(r/2*Math.PI/180),T_.set(Math.cos(Math.PI/4),Math.sin(Math.PI/16),Math.sin(Math.PI/4)),T_.normalize();var i=n.center.x+T_.x*t,a=n.center.y+T_.y*t,o=n.center.z+T_.z*t;this.orbitCameraController.object.position.set(i,a,o),this.orbitCameraController.target.copy(n.center)}},{key:"frameScene",value:function(){this.frameObject(this.project.scene);var e=new eM(this.project.scene);this.orbitCameraController.object.near=.01*e.boundingSphere.radius,this.orbitCameraController.object.far=100*e.boundingSphere.radius,this.orbitCameraController.object.updateProjectionMatrix()}},{key:"recalculateSceneBounds",value:function(){var e=new eM(this.world.sceneRoot),t=e.boundingSphere.radius;this.shadowLight.shadow.camera.near=.01*t,this.shadowLight.shadow.camera.far=10*t,this.shadowLight.shadow.camera.left=2*-t,this.shadowLight.shadow.camera.right=2*t,this.shadowLight.shadow.camera.top=2*t,this.shadowLight.shadow.camera.bottom=2*-t,this.shadowLight.shadow.camera.updateProjectionMatrix();var n=t*Math.sin(this.project.settings.state.lighting.shadowLightElevation)*Math.cos(this.project.settings.state.lighting.shadowLightRotation),r=t*Math.sin(this.project.settings.state.lighting.shadowLightElevation)*Math.sin(this.project.settings.state.lighting.shadowLightRotation),i=t*Math.cos(this.project.settings.state.lighting.shadowLightElevation);this.shadowLight.position.set(e.boundingSphere.center.x+n,e.boundingSphere.center.y+i,e.boundingSphere.center.z+r),T_.set(e.boundingSphere.center.x,e.boundingSphere.center.y,e.boundingSphere.center.z),this.shadowLight.lookAt(T_);var a=2*(e.boundingSphere.center.length()+t);this.shadowPlane.scale.set(a,a,a),this.reflector.scale.set(a,a,a),this.sceneBBoxHelper&&this.sceneBBoxHelper.update(),this.shadowCameraHelper&&this.shadowCameraHelper.update()}},{key:"setEnvironment",value:function(){var e=this.project.settings.state.environment;switch(e.backgroundType){case"transparent":this.world.scene.background=null,this.gradient.visible=!1;break;case"color":this.world.scene.background=new zy(e.backgroundColor),this.gradient.visible=!1;break;case"gradient":this.gradient.visible=!0,k_.set(e.backgroundGradientColor1),B_.set(e.backgroundGradientColor2),this.gradient.style({colors:[k_,B_]})}this.reflector.setFadeScale(e.reflectionFadeScale),k_.set(e.reflectionColor),this.reflector.setColor(k_),this.reflector.setOpacity(e.reflectionOpacity),this.reflector.enableBlur(e.blurReflection),this.reflector.visible=e.enableReflection,this.fog.near=e.fogNear,this.fog.far=e.fogFar,this.fog.color.set(e.fogColor),this.expFog.color.set(e.fogColor),this.expFog.density=e.fogDensity,e.fog?this.world.scene.fog="linear"===e.fogType?this.fog:this.expFog:this.world.scene.fog=null}},{key:"setLighting",value:function(){var e=this.project.settings.state.lighting;this.shadowLight.castShadow=e.shadowsEnabled,this.shadowLight.intensity=e.shadowLightIntensity,this.shadowLight.visible=e.shadowsEnabled,this.shadowLight.shadow.bias=e.shadowBias,this.shadowPlane.visible=e.shadowsEnabled&&e.shadowPlaneVisible,this.shadowPlane.material.opacity=1-e.shadowPlaneLightness,this.ambientLight.intensity=e.ambientLightIntensity,this.ambientLight.color.set(e.ambientLightColor),this.recalculateSceneBounds()}},{key:"setEffects",value:function(){this.world.composer.enablePass(this.bloomPass,this.project.settings.state.effects.bloom.enabled),this.bloomPass.threshold=this.project.settings.state.effects.bloom.threshold,this.bloomPass.strength=this.project.settings.state.effects.bloom.strength,this.bloomPass.radius=this.project.settings.state.effects.bloom.radius,this.world.composer.enablePass(this.dofPass,this.project.settings.state.effects.dof.enabled),this.dofPass.uniforms.aperture.value=1*this.project.settings.state.effects.dof.focalLength/this.world.camera.far,this.dofPass.uniforms.focus.value=this.project.settings.state.effects.dof.focus*this.world.camera.far*.1,this.dofPass.uniforms.maxblur.value=.02*this.project.settings.state.effects.dof.blur}},{key:"setCameraControllerState",value:function(){var e=this.project.settings.state.cameraController;"orbit"===e.controllerType&&e.orbitCameraState?this.orbitCameraController.setState(e.orbitCameraState):"fp"===e.controllerType&&e.firstPersonCameraState?this.firstPersonCameraController.setState(e.firstPersonCameraState):this.frameObject(this.project.scene)}},{key:"setCameraControllerType",value:function(e){"orbit"==e?(this.cameraController=this.orbitCameraController,this.firstPersonCameraController.enabled=!1):(this.cameraController=this.firstPersonCameraController,this.orbitCameraController.enabled=!1),this.world.cameraController=this.cameraController,this.cameraController.enabled=!0}},{key:"setCameraController",value:function(){var e=this.project.settings.state.cameraController;this.setCameraControllerType(e.controllerType),this.orbitCameraController.minPolarAngle=Number(e.orbitController.minElevation)*Math.PI/180,this.orbitCameraController.maxPolarAngle=Number(e.orbitController.maxElevation)*Math.PI/180,this.firstPersonCameraController.movementSpeed=Number(e.firstPersonController.moveSpeed),this.orbitCameraController.update()}},{key:"initAr",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n){var r,i,a,o,s,l,u,c,h,d=this;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.project.settings.state.viewer.ar.enabled){e.next=12;break}if(!this.project.settings.state.viewer.ar.webAr||null===(r=window.navigator)||void 0===r||null===(i=r.xr)||void 0===i||!i.isSessionSupported("immersive-ar")){e.next=10;break}return e.next=4,r_.isArSupported();case 4:if(!e.sent){e.next=8;break}this._arController=new r_(this.world.renderer,document.body),this.world.xrRenderFrameHandler=function(e,t){return d.arController.update(e,t)},this.arController.sessionStartHandler=function(){d.viewerSavedState.backgroundStyle=d.rootElem.style.background,d.rootElem.style.background="none",d.viewerSavedState.position.copy(d.arModelRoot.position),d.viewerSavedState.rotation.copy(d.arModelRoot.rotation),d.viewerSavedState.background=d.world.scene.background,d.viewerSavedState.environment=d.world.scene.environment,d.world.setBackground(null),d.world.cameraController.enabled=!1,d.savedControllerState=d.world.cameraController.getState(),d.arController.setActiveModel(d.arModelRoot)},this.arController.sessionEndHandler=function(){document.body.style.display="block",d.canvasEl.style.display="block",d.rootElem.style.background=d.viewerSavedState.backgroundStyle,d.arModelRoot.position.copy(d.viewerSavedState.position),d.arModelRoot.rotation.copy(d.viewerSavedState.rotation),d.world.setBackground(d.viewerSavedState.background),d.world.setEnvironmentMap(d.viewerSavedState.environment),d.world.cameraController.setState(d.savedControllerState),d.world.cameraController.enabled=!0,d.domEl.style.width=d.viewerSavedState.windowWidth+"px",d.domEl.style.height=d.viewerSavedState.windowHeight+"px",d.canvasEl.style.width=d.viewerSavedState.windowWidth+"px",d.canvasEl.style.height=d.viewerSavedState.windowHeight+"px",d.onResize(d.viewerSavedState.windowWidth,d.viewerSavedState.windowHeight)},n.arCommands={onWebARStart:function(){d.viewerSavedState.windowWidth=d.viewport.width,d.viewerSavedState.windowHeight=d.viewport.height,d.arController.session||d.arController.startSession(),n.webArButt.style.display="none",n.webArClose.style.display="block",t.elem.style.display="none"},onWebARClose:function(){d.arController.session&&(d.arController.endSession(),n.webArButt.style.display="block",n.webArClose.style.display="none",t.elem.style.display="block")}},n.elem.style.display="block",n.webArButt.style.display="block",this.arModelRoot=this.project.scene,(a=this.project.settings.state.viewer.ar.arModelRootNodeName)&&this.project.scene.traverse((function(e){e.name&&e.name===a&&(d.arModelRoot=e)}));case 8:e.next=12;break;case 10:l=WM.any()&&WM.android(),u=WM.any()&&WM.ios(),c="intent://arvr.google.com/scene-viewer/1.0?file=".concat(this.atts.glbFile,"&title=").concat(null!==(o=null===(s=this.project.settings.state.project)||void 0===s?void 0:s.title)&&void 0!==o?o:"","&mode=ar_only#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=https://play.google.com/store/apps/details?id=com.google.ar.core&hl=en_AU&gl=US;end;"),h=this.atts.usdzFile,n.arButt.style.display=l&&this.atts.glbFile||u&&this.atts.usdzFile?"block":"none",n.arButt.href=l?c:h,n.elem.display="block";case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initVR",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n){var r,i,a,o=this;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.project.settings.state.viewer.vr.enabled){e.next=7;break}return e.next=3,s_.isVrSupported();case 3:if(!e.sent){e.next=7;break}this.cameraRig=new tb,this.world.scene.add(this.cameraRig),i=new PS(.01,16),a=new Ab({color:16777215,opacity:.5,transparent:!0}),this.vrCrosshair=new zb(i,a),this.vrCrosshair.position.z=-.5,this._vrController=new s_(this.world.renderer,this.world.scene,this.world.camera,this.project.scene,this.cameraRig,{rayGeometryTest:null!==(r=this.project.settings.state.viewer.vr.rayGeometryTest)&&void 0!==r&&r}),this.vrController.sessionStartHandler=function(){n.elem.style.display="none",t.elem.style.display="none",o.cameraRig.add(o.firstPersonCameraController.object),o.savedControllerState=o.firstPersonCameraController.getState(),o.cameraRig.position.copy(o.firstPersonCameraController.object.position),o.cameraRig.position.y-=1.8,o.firstPersonCameraController.enabled=!1,o.firstPersonCameraController.object.add(o.vrCrosshair)},this.vrController.sessionEndHandler=function(){o.cameraRig.remove(o.firstPersonCameraController.object),o.world.scene.add(o.firstPersonCameraController.object),o.firstPersonCameraController.setState(o.savedControllerState),o.firstPersonCameraController.enabled=!0,o.firstPersonCameraController.object.remove(o.vrCrosshair),n.elem.style.display="block",t.elem.style.display="block"},n.vrCommands={onVRStart:function(){o.vrController.startSession()}},n.elem.style.display="block",n.vrButt.style.display="block",this.world.xrRenderFrameHandler=function(e){if(o.vrController.update(e),o.vrController.intersection){var t,n=o.cameraRig.position.y;T_.copy(o.vrController.intersection),T_.sub(o.cameraRig.position),T_.normalize(),o.cameraRig.position.addScaledVector(T_,(null!==(t=o.project.settings.state.viewer.vr.walkSpeed)&&void 0!==t?t:.75)*e),o.cameraRig.position.y=n}};case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"applyCubeMapToMaterials",value:function(e,t){this.project.scene.traverse((function(n){n instanceof zb&&(t(n.material)?(n.material.envMap&&n.material.envMap.dispose(),n.material.envMap=e):n.material.envMap=null)}))}}]),e}(),D_=function(){function e(){(0,r.Z)(this,e),this.tasks=[]}return(0,i.Z)(e,[{key:"addTask",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={load:e,index:this.tasks.length,progress:0,name:t};return this.tasks.push(n),n}},{key:"updateProgress",value:function(e,t){e.progress=t,this.onUpdateProgress&&this.onUpdateProgress(this.calcOverallProgress())}},{key:"calcOverallProgress",value:function(){return this.tasks&&this.tasks.length?this.tasks.reduce((function(e,t){return{progress:e.progress+t.progress}})).progress/(100*this.tasks.length)*100:0}},{key:"load",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.tasks.map((function(e){return e.load(e)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function P_(e,t){if(0===t)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(2===t||1===t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)r.push(a);e.setIndex(r),n=e.getIndex()}var o=n.count-2,s=[];if(2===t)for(var l=1;l<=o;l++)s.push(n.getX(0)),s.push(n.getX(l)),s.push(n.getX(l+1));else for(var u=0;u<o;u++)u%2==0?(s.push(n.getX(u)),s.push(n.getX(u+1)),s.push(n.getX(u+2))):(s.push(n.getX(u+2)),s.push(n.getX(u+1)),s.push(n.getX(u)));s.length/3!==o&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c.clearGroups(),c}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e}var L_=!0,Q_=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).dracoLoader=null,i.ktx2Loader=null,i.meshoptDecoder=null,i.pluginCallbacks=[],i.register((function(e){return new Z_(e)})),i.register((function(e){return new Y_(e)})),i.register((function(e){return new X_(e)})),i.register((function(e){return new G_(e)})),i.register((function(e){return new H_(e)})),i.register((function(e){return new V_(e)})),i.register((function(e){return new W_(e)})),i.register((function(e){return new O_(e)})),i.register((function(e){return new q_(e)})),i.register((function(e){return new z_(e)})),i.register((function(e){return new F_(e)})),i.register((function(e){return new J_(e)})),i.register((function(e){return new K_(e)})),i}return(0,i.Z)(n,[{key:"load",value:function(e,t,n,r){var i,a=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:DI.extractUrlBase(e),this.manager.itemStart(e);var o=function(t){r?r(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new dI(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{a.parse(n,i,(function(n){t(n),a.manager.itemEnd(e)}),o)}catch(e){o(e)}}),n,o)}},{key:"setDRACOLoader",value:function(e){return this.dracoLoader=e,this}},{key:"setDDSLoader",value:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}},{key:"setKTX2Loader",value:function(e){return this.ktx2Loader=e,this}},{key:"setMeshoptDecoder",value:function(e){return this.meshoptDecoder=e,this}},{key:"register",value:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}},{key:"unregister",value:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}},{key:"parse",value:function(e,t,n,r){var i,a={},o={},s=new TextDecoder;if("string"==typeof e)i=JSON.parse(e);else if(e instanceof ArrayBuffer)if(s.decode(new Uint8Array(e,0,4))===$_){try{a[N_.KHR_BINARY_GLTF]=new ek(e)}catch(e){return void(r&&r(e))}i=JSON.parse(a[N_.KHR_BINARY_GLTF].content)}else i=JSON.parse(s.decode(e));else i=e;if(void 0===i.asset||i.asset.version[0]<2)r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var l=new wk(i,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(var u=0;u<this.pluginCallbacks.length;u++){var c=this.pluginCallbacks[u](l);o[c.name]=c,a[c.name]=!0}if(i.extensionsUsed)for(var h=0;h<i.extensionsUsed.length;++h){var d=i.extensionsUsed[h],f=i.extensionsRequired||[];switch(d){case N_.KHR_MATERIALS_UNLIT:a[d]=new U_;break;case N_.KHR_DRACO_MESH_COMPRESSION:a[d]=new tk(i,this.dracoLoader);break;case N_.KHR_TEXTURE_TRANSFORM:a[d]=new nk;break;case N_.KHR_MESH_QUANTIZATION:a[d]=new rk;break;default:f.indexOf(d)>=0&&void 0===o[d]&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}l.setExtensions(a),l.setPlugins(o),l.parse(n,r)}}},{key:"parseAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.parse(e,t,r,i)}))}}]),n}(uI);function j_(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}var N_={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"},F_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}return(0,i.Z)(e,[{key:"_markDefs",value:function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}}},{key:"_loadLight",value:function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,a=t.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new zy(16777215);void 0!==o.color&&s.fromArray(o.color);var l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(i=new kI(s)).target.position.set(0,0,0),i.add(i.target);break;case"point":(i=new MI(s)).distance=l;break;case"spot":(i=new wI(s)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,i.angle=o.spot.outerConeAngle,i.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,i.target.position.set(0,0,0),i.add(i.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return i.position.set(0,0,0),i.decay=2,mk(i,o),void 0!==o.intensity&&(i.intensity=o.intensity),i.name=t.createUniqueName(o.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r}},{key:"getDependency",value:function(e,t){if("light"===e)return this._loadLight(t)}},{key:"createNodeAttachment",value:function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))}}]),e}(),U_=function(){function e(){(0,r.Z)(this,e),this.name=N_.KHR_MATERIALS_UNLIT}return(0,i.Z)(e,[{key:"getMaterialType",value:function(){return Ab}},{key:"extendParams",value:function(e,t,n){var r=[];e.color=new zy(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var a=i.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture,Kg))}return Promise.all(r)}}]),e}(),O_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_MATERIALS_EMISSIVE_STRENGTH}return(0,i.Z)(e,[{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name].emissiveStrength;return void 0!==r&&(t.emissiveIntensity=r),Promise.resolve()}}]),e}(),Z_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_MATERIALS_CLEARCOAT}return(0,i.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?FS:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var o=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new My(o,o)}return Promise.all(i)}}]),e}(),z_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_MATERIALS_IRIDESCENCE}return(0,i.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?FS:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.iridescenceFactor&&(t.iridescence=a.iridescenceFactor),void 0!==a.iridescenceTexture&&i.push(n.assignTexture(t,"iridescenceMap",a.iridescenceTexture)),void 0!==a.iridescenceIor&&(t.iridescenceIOR=a.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==a.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),void 0!==a.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),void 0!==a.iridescenceThicknessTexture&&i.push(n.assignTexture(t,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(i)}}]),e}(),G_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_MATERIALS_SHEEN}return(0,i.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?FS:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[];t.sheenColor=new zy(0,0,0),t.sheenRoughness=0,t.sheen=1;var a=r.extensions[this.name];return void 0!==a.sheenColorFactor&&t.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(t.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&i.push(n.assignTexture(t,"sheenColorMap",a.sheenColorTexture,Kg)),void 0!==a.sheenRoughnessTexture&&i.push(n.assignTexture(t,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(i)}}]),e}(),H_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_MATERIALS_TRANSMISSION}return(0,i.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?FS:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(i)}}]),e}(),V_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_MATERIALS_VOLUME}return(0,i.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?FS:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&i.push(n.assignTexture(t,"thicknessMap",a.thicknessTexture)),t.attenuationDistance=a.attenuationDistance||1/0;var o=a.attenuationColor||[1,1,1];return t.attenuationColor=new zy(o[0],o[1],o[2]),Promise.all(i)}}]),e}(),W_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_MATERIALS_IOR}return(0,i.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?FS:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=n.extensions[this.name];return t.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}]),e}(),q_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_MATERIALS_SPECULAR}return(0,i.Z)(e,[{key:"getMaterialType",value:function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?FS:null}},{key:"extendMaterialParams",value:function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],a=r.extensions[this.name];t.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&i.push(n.assignTexture(t,"specularIntensityMap",a.specularTexture));var o=a.specularColorFactor||[1,1,1];return t.specularColor=new zy(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&i.push(n.assignTexture(t,"specularColorMap",a.specularColorTexture,Kg)),Promise.all(i)}}]),e}(),Y_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.KHR_TEXTURE_BASISU}return(0,i.Z)(e,[{key:"loadTexture",value:function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],a=t.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,i.source,a)}}]),e}(),X_=function(){function e(t){(0,r.Z)(this,e),this.parser=t,this.name=N_.EXT_TEXTURE_WEBP,this.isSupported=null}return(0,i.Z)(e,[{key:"loadTexture",value:function(e){var t=this.name,n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[t])return null;var a=i.extensions[t],o=r.images[a.source],s=n.textureLoader;if(o.uri){var l=n.options.manager.getHandler(o.uri);null!==l&&(s=l)}return this.detectSupport().then((function(i){if(i)return n.loadTextureImage(e,a.source,s);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)}))}},{key:"detectSupport",value:function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported}}]),e}(),J_=function(){function e(t){(0,r.Z)(this,e),this.name=N_.EXT_MESHOPT_COMPRESSION,this.parser=t}return(0,i.Z)(e,[{key:"loadBufferView",value:function(e){var t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){var r=n.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then((function(e){var t=r.byteOffset||0,n=r.byteLength||0,i=r.count,o=r.byteStride,s=new Uint8Array(e,t,n);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(i,o,s,r.mode,r.filter).then((function(e){return e.buffer})):a.ready.then((function(){var e=new ArrayBuffer(i*o);return a.decodeGltfBuffer(new Uint8Array(e),i,o,s,r.mode,r.filter),e}))}))}return null}}]),e}(),K_=function(){function e(t){(0,r.Z)(this,e),this.name=N_.EXT_MESH_GPU_INSTANCING,this.parser=t}return(0,i.Z)(e,[{key:"createNodeMesh",value:function(e){var t=this,n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||void 0===r.mesh)return null;var i,a=n.meshes[r.mesh],o=(0,qi.Z)(a.primitives);try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s.mode!==sk.TRIANGLES&&s.mode!==sk.TRIANGLE_STRIP&&s.mode!==sk.TRIANGLE_FAN&&void 0!==s.mode)return null}}catch(Vc){o.e(Vc)}finally{o.f()}var l=r.extensions[this.name].attributes,u=[],c={},h=function(e){u.push(t.parser.getDependency("accessor",l[e]).then((function(t){return c[e]=t,c[e]})))};for(var d in l)h(d);return u.length<1?null:(u.push(this.parser.createNodeMesh(e)),Promise.all(u).then((function(e){var n,r=e.pop(),i=r.isGroup?r.children:[r],a=e[0].count,o=[],s=(0,qi.Z)(i);try{for(s.s();!(n=s.n()).done;){for(var l=n.value,u=new Bx,h=new ex,d=new $y,f=new ex(1,1,1),p=new dS(l.geometry,l.material,a),A=0;A<a;A++)c.TRANSLATION&&h.fromBufferAttribute(c.TRANSLATION,A),c.ROTATION&&d.fromBufferAttribute(c.ROTATION,A),c.SCALE&&f.fromBufferAttribute(c.SCALE,A),p.setMatrixAt(A,u.compose(h,d,f));for(var m in c)"TRANSLATION"!==m&&"ROTATION"!==m&&"SCALE"!==m&&l.geometry.setAttribute(m,c[m]);tb.prototype.copy.call(p,l),p.frustumCulled=!1,t.parser.assignFinalMaterial(p),o.push(p)}}catch(Vc){s.e(Vc)}finally{s.f()}return r.isGroup?(r.clear(),r.add.apply(r,o),r):o[0]})))}}]),e}(),$_="glTF",ek=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.name=N_.KHR_BINARY_GLTF,this.content=null,this.body=null;var n=new DataView(t,0,12),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==$_)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var a=this.header.length-12,o=new DataView(t,12),s=0;s<a;){var l=o.getUint32(s,!0);s+=4;var u=o.getUint32(s,!0);if(s+=4,1313821514===u){var c=new Uint8Array(t,12+s,l);this.content=i.decode(c)}else if(5130562===u){var h=12+s;this.body=t.slice(h,h+l)}s+=l}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")})),tk=function(){function e(t,n){if((0,r.Z)(this,e),!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=N_.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}return(0,i.Z)(e,[{key:"decodePrimitive",value:function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},s={},l={};for(var u in a){var c=dk[u]||u.toLowerCase();o[c]=a[u]}for(var h in e.attributes){var d=dk[h]||h.toLowerCase();if(void 0!==a[h]){var f=n.accessors[e.attributes[h]],p=lk[f.componentType];l[d]=p.name,s[d]=!0===f.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),o,l)}))}))}}]),e}(),nk=function(){function e(){(0,r.Z)(this,e),this.name=N_.KHR_TEXTURE_TRANSFORM}return(0,i.Z)(e,[{key:"extendTexture",value:function(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}]),e}(),rk=(0,i.Z)((function e(){(0,r.Z)(this,e),this.name=N_.KHR_MESH_QUANTIZATION})),ik=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a,o){return(0,r.Z)(this,n),t.call(this,e,i,a,o)}return(0,i.Z)(n,[{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,a=0;a!==r;a++)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=2*o,l=3*o,u=r-t,c=(n-t)/u,h=c*c,d=h*c,f=e*l,p=f-l,A=-2*d+3*h,m=d-h,v=1-A,g=m-h+c,y=0;y!==o;y++){var x=a[p+y+o],b=a[p+y+s]*u,w=a[f+y+o],C=a[f+y]*u;i[y]=v*x+g*b+A*w+m*C}return i}}]),n}(VS),ak=new $y,ok=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"interpolate_",value:function(e,t,r,i){var a=(0,va.Z)((0,ga.Z)(n.prototype),"interpolate_",this).call(this,e,t,r,i);return ak.fromArray(a).normalize().toArray(a),a}}]),n}(ik),sk={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},lk={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},uk={9728:Ov,9729:Gv,9984:Zv,9985:Hv,9986:zv,9987:Vv},ck={33071:Fv,33648:Uv,10497:Nv},hk={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},dk={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},fk={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},pk={CUBICSPLINE:void 0,LINEAR:Vg,STEP:Hg};function Ak(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function mk(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function vk(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(var a=0,o=i.length;a<o;a++)e.morphTargetDictionary[i[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function gk(e){var t=e.extensions&&e.extensions[N_.KHR_DRACO_MESH_COMPRESSION];return t?"draco:"+t.bufferView+":"+t.indices+":"+yk(t.attributes):e.indices+":"+yk(e.attributes)+":"+e.mode}function yk(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function xk(e){switch(e){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}var bk=new Bx,wk=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new j_,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};var i=!1,a=!1,o=-1;"undefined"!=typeof navigator&&(i=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=(a=navigator.userAgent.indexOf("Firefox")>-1)?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),"undefined"==typeof createImageBitmap||i||a&&o<98?this.textureLoader=new AI(this.options.manager):this.textureLoader=new PI(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new dI(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}return(0,i.Z)(e,[{key:"setExtensions",value:function(e){this.extensions=e}},{key:"setPlugins",value:function(e){this.plugins=e}},{key:"parse",value:function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])})).then((function(t){var a={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};Ak(i,a,r),mk(a,r),Promise.all(n._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)}},{key:"_markDefs",value:function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var a=t[r].joints,o=0,s=a.length;o<s;o++)e[a[o]].isBone=!0;for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}},{key:"_addNodeRef",value:function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}},{key:"_getNodeRef",value:function(e,t,n){var r=this;if(e.refs[t]<=1)return n;var i=n.clone();return function e(t,n){var i=r.associations.get(t);null!=i&&r.associations.set(n,i);var a,o=(0,qi.Z)(t.children.entries());try{for(o.s();!(a=o.n()).done;){var s=(0,Un.Z)(a.value,2),l=s[0];e(s[1],n.children[l])}}catch(Vc){o.e(Vc)}finally{o.f()}}(n,i),i.name+="_instance_"+e.uses[t]++,i}},{key:"_invokeOne",value:function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}return null}},{key:"_invokeAll",value:function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n}},{key:"getDependency",value:function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne((function(e){return e.loadNode&&e.loadNode(t)}));break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne((function(e){return e.loadAnimation&&e.loadAnimation(t)}));break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne((function(n){return n!=this&&n.getDependency&&n.getDependency(e,t)})),!r)throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}},{key:"getDependencies",value:function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t}},{key:"loadBuffer",value:function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[N_.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(e,i){n.load(DI.resolveURL(t.uri,r.path),e,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))}},{key:"loadBufferView",value:function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))}},{key:"loadAccessor",value:function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse){var i=hk[r.type],a=lk[r.componentType],o=!0===r.normalized,s=new a(r.count*i);return Promise.resolve(new gb(s,i,o))}var l=[];return void 0!==r.bufferView?l.push(this.getDependency("bufferView",r.bufferView)):l.push(null),void 0!==r.sparse&&(l.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(l).then((function(e){var i,a,o=e[0],s=hk[r.type],l=lk[r.componentType],u=l.BYTES_PER_ELEMENT,c=u*s,h=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,f=!0===r.normalized;if(d&&d!==c){var p=Math.floor(h/d),A="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+p+":"+r.count,m=t.cache.get(A);m||(i=new l(o,p*d,r.count*d/u),m=new VE(i,d/u),t.cache.add(A,m)),a=new qE(m,s,h%d/u,f)}else i=null===o?new l(r.count*s):new l(o,h,r.count*s),a=new gb(i,s,f);if(void 0!==r.sparse){var v=hk.SCALAR,g=lk[r.sparse.indices.componentType],y=r.sparse.indices.byteOffset||0,x=r.sparse.values.byteOffset||0,b=new g(e[1],y,r.sparse.count*v),w=new l(e[2],x,r.sparse.count*s);null!==o&&(a=new gb(a.array.slice(),a.itemSize,a.normalized));for(var C=0,E=b.length;C<E;C++){var S=b[C];if(a.setX(S,w[C*s]),s>=2&&a.setY(S,w[C*s+1]),s>=3&&a.setZ(S,w[C*s+2]),s>=4&&a.setW(S,w[C*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))}},{key:"loadTexture",value:function(e){var t=this.json,n=this.options,r=t.textures[e].source,i=t.images[r],a=this.textureLoader;if(i.uri){var o=n.manager.getHandler(i.uri);null!==o&&(a=o)}return this.loadTextureImage(e,r,a)}},{key:"loadTextureImage",value:function(e,t,n){var r=this,i=this.json,a=i.textures[e],o=i.images[t],s=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[s])return this.textureCache[s];var l=this.loadImageSource(t,n).then((function(t){t.flipY=!1,t.name=a.name||o.name||"";var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=uk[n.magFilter]||Gv,t.minFilter=uk[n.minFilter]||Vv,t.wrapS=ck[n.wrapS]||Nv,t.wrapT=ck[n.wrapT]||Nv,r.associations.set(t,{textures:e}),t})).catch((function(){return null}));return this.textureCache[s]=l,l}},{key:"loadImageSource",value:function(e,t){var n=this.json,r=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then((function(e){return e.clone()}));var i=n.images[e],a=self.URL||self.webkitURL,o=i.uri||"",s=!1;if(void 0!==i.bufferView)o=this.getDependency("bufferView",i.bufferView).then((function(e){s=!0;var t=new Blob([e],{type:i.mimeType});return o=a.createObjectURL(t)}));else if(void 0===i.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");var l=Promise.resolve(o).then((function(e){return new Promise((function(n,i){var a=n;!0===t.isImageBitmapLoader&&(a=function(e){var t=new qy(e);t.needsUpdate=!0,n(t)}),t.load(DI.resolveURL(e,r.path),a,void 0,i)}))})).then((function(e){var t;return!0===s&&(L_?a.revokeObjectURL(o):e.image.src=o),e.userData.mimeType=i.mimeType||((t=i.uri).search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/)?"image/jpeg":t.search(/\.webp($|\?)/i)>0||0===t.search(/^data\:image\/webp/)?"image/webp":"image/png"),e})).catch((function(e){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),e}));return this.sourceCache[e]=l,l}},{key:"assignTexture",value:function(e,t,n,r){var i=this;return this.getDependency("texture",n.index).then((function(a){if(!a)return null;if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[N_.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[N_.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var s=i.associations.get(a);a=i.extensions[N_.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),i.associations.set(a,s)}}return void 0!==r&&(a.encoding=r),e[t]=a,a}))}},{key:"assignFinalMaterial",value:function(e){var t=e.geometry,n=e.material,r=void 0===t.attributes.tangent,i=void 0!==t.attributes.color,a=void 0===t.attributes.normal;if(e.isPoints){var o="PointsMaterial:"+n.uuid,s=this.cache.get(o);s||(s=new ES,pb.prototype.copy.call(s,n),s.color.copy(n.color),s.map=n.map,s.sizeAttenuation=!1,this.cache.add(o,s)),n=s}else if(e.isLine){var l="LineBasicMaterial:"+n.uuid,u=this.cache.get(l);u||(u=new fS,pb.prototype.copy.call(u,n),u.color.copy(n.color),this.cache.add(l,u)),n=u}if(r||i||a){var c="ClonedMaterial:"+n.uuid+":";r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),a&&(c+="flat-shading:");var h=this.cache.get(c);h||(h=n.clone(),i&&(h.vertexColors=!0),a&&(h.flatShading=!0),r&&(h.normalScale&&(h.normalScale.y*=-1),h.clearcoatNormalScale&&(h.clearcoatNormalScale.y*=-1)),this.cache.add(c,h),this.associations.set(h,this.associations.get(n))),n=h}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}},{key:"getMaterialType",value:function(){return NS}},{key:"loadMaterial",value:function(e){var t,n=this,r=this.json,i=this.extensions,a=r.materials[e],o={},s=[];if((a.extensions||{})[N_.KHR_MATERIALS_UNLIT]){var l=i[N_.KHR_MATERIALS_UNLIT];t=l.getMaterialType(),s.push(l.extendParams(o,a,n))}else{var u=a.pbrMetallicRoughness||{};if(o.color=new zy(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){var c=u.baseColorFactor;o.color.fromArray(c),o.opacity=c[3]}void 0!==u.baseColorTexture&&s.push(n.assignTexture(o,"map",u.baseColorTexture,Kg)),o.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,o.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(s.push(n.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),s.push(n.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),s.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,o)}))))}!0===a.doubleSided&&(o.side=Wm);var h=a.alphaMode||"OPAQUE";if("BLEND"===h?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,"MASK"===h&&(o.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==Ab&&(s.push(n.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new My(1,1),void 0!==a.normalTexture.scale)){var d=a.normalTexture.scale;o.normalScale.set(d,d)}return void 0!==a.occlusionTexture&&t!==Ab&&(s.push(n.assignTexture(o,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(o.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==Ab&&(o.emissive=(new zy).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==Ab&&s.push(n.assignTexture(o,"emissiveMap",a.emissiveTexture,Kg)),Promise.all(s).then((function(){var r=new t(o);return a.name&&(r.name=a.name),mk(r,a),n.associations.set(r,{materials:e}),a.extensions&&Ak(i,r,a),r}))}},{key:"createUniqueName",value:function(e){for(var t=GI.sanitizeNodeName(e||""),n=t,r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}},{key:"loadGeometries",value:function(e){var t=this,n=this.extensions,r=this.primitiveCache;function i(e){return n[N_.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return Ck(n,e,t)}))}for(var a=[],o=0,s=e.length;o<s;o++){var l=e[o],u=gk(l),c=r[u];if(c)a.push(c.promise);else{var h;h=l.extensions&&l.extensions[N_.KHR_DRACO_MESH_COMPRESSION]?i(l):Ck(new kb,l,t),r[u]={primitive:l,promise:h},a.push(h)}}return Promise.all(a)}},{key:"loadMesh",value:function(e){for(var t,n=this,r=this.json,i=this.extensions,a=r.meshes[e],o=a.primitives,s=[],l=0,u=o.length;l<u;l++){var c=void 0===o[l].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new NS({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Hm})),t.DefaultMaterial):this.getDependency("material",o[l].material);s.push(c)}return s.push(n.loadGeometries(o)),Promise.all(s).then((function(t){for(var r=t.slice(0,t.length-1),s=t[t.length-1],l=[],u=0,c=s.length;u<c;u++){var h=s[u],d=o[u],f=void 0,p=r[u];if(d.mode===sk.TRIANGLES||d.mode===sk.TRIANGLE_STRIP||d.mode===sk.TRIANGLE_FAN||void 0===d.mode)!0!==(f=!0===a.isSkinnedMesh?new eS(h,p):new zb(h,p)).isSkinnedMesh||f.geometry.attributes.skinWeight.normalized||f.normalizeSkinWeights(),d.mode===sk.TRIANGLE_STRIP?f.geometry=P_(f.geometry,1):d.mode===sk.TRIANGLE_FAN&&(f.geometry=P_(f.geometry,2));else if(d.mode===sk.LINES)f=new wS(h,p);else if(d.mode===sk.LINE_STRIP)f=new yS(h,p);else if(d.mode===sk.LINE_LOOP)f=new CS(h,p);else{if(d.mode!==sk.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);f=new kS(h,p)}Object.keys(f.geometry.morphAttributes).length>0&&vk(f,a),f.name=n.createUniqueName(a.name||"mesh_"+e),mk(f,a),d.extensions&&Ak(i,f,d),n.assignFinalMaterial(f),l.push(f)}for(var A=0,m=l.length;A<m;A++)n.associations.set(l[A],{meshes:e,primitives:A});if(1===l.length)return l[0];var v=new LE;n.associations.set(v,{meshes:e});for(var g=0,y=l.length;g<y;g++)v.add(l[g]);return v}))}},{key:"loadCamera",value:function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new Kb(Iy.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new Cw(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),mk(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}},{key:"loadSkin",value:function(e){for(var t=this.json.skins[e],n=[],r=0,i=t.joints.length;r<i;r++)n.push(this.getDependency("node",t.joints[r]));return void 0!==t.inverseBindMatrices?n.push(this.getDependency("accessor",t.inverseBindMatrices)):n.push(null),Promise.all(n).then((function(e){for(var n=e.pop(),r=e,i=[],a=[],o=0,s=r.length;o<s;o++){var l=r[o];if(l){i.push(l);var u=new Bx;null!==n&&u.fromArray(n.array,16*o),a.push(u)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}return new aS(i,a)}))}},{key:"loadAnimation",value:function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],a=[],o=[],s=0,l=t.channels.length;s<l;s++){var u=t.channels[s],c=t.samplers[u.sampler],h=u.target,d=h.node,f=void 0!==t.parameters?t.parameters[c.input]:c.input,p=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",d)),r.push(this.getDependency("accessor",f)),i.push(this.getDependency("accessor",p)),a.push(c),o.push(h)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(a),Promise.all(o)]).then((function(n){for(var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=[],u=function(){var e,t=r[c],n=i[c],u=a[c],h=o[c],d=s[c];if(void 0===t)return"continue";switch(t.updateMatrix(),fk[d.path]){case fk.weights:e=$S;break;case fk.rotation:e=tI;break;default:e=rI}var f=t.name?t.name:t.uuid,p=void 0!==h.interpolation?pk[h.interpolation]:Vg,A=[];fk[d.path]===fk.weights?t.traverse((function(e){e.morphTargetInfluences&&A.push(e.name?e.name:e.uuid)})):A.push(f);var m=u.array;if(u.normalized){for(var v=xk(m.constructor),g=new Float32Array(m.length),y=0,x=m.length;y<x;y++)g[y]=m[y]*v;m=g}for(var b=0,w=A.length;b<w;b++){var C=new e(A[b]+"."+fk[d.path],n.array,m,p);"CUBICSPLINE"===h.interpolation&&(C.createInterpolant=function(e){return new(this instanceof tI?ok:ik)(this.times,this.values,this.getValueSize()/3,e)},C.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(C)}},c=0,h=r.length;c<h;c++)u();var d=t.name?t.name:"animation_"+e;return new iI(d,void 0,l)}))}},{key:"createNodeMesh",value:function(e){var t=this.json,n=this,r=t.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,r.mesh,e);return void 0!==r.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=r.weights.length;t<n;t++)e.morphTargetInfluences[t]=r.weights[t]})),t}))}},{key:"loadNode",value:function(e){var t=this.json,n=this.extensions,r=this,i=t.nodes[e],a=i.name?r.createUniqueName(i.name):"";return function(){var t=[],n=r._invokeOne((function(t){return t.createNodeMesh&&t.createNodeMesh(e)}));n&&t.push(n),void 0!==i.camera&&t.push(r.getDependency("camera",i.camera).then((function(e){return r._getNodeRef(r.cameraCache,i.camera,e)}))),r._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)}));for(var a=[],o=i.children||[],s=0,l=o.length;s<l;s++)a.push(r.getDependency("node",o[s]));var u=void 0===i.skin?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([Promise.all(t),Promise.all(a),u])}().then((function(t){var o,s=t[0],l=t[1],u=t[2];if((o=!0===i.isBone?new tS:s.length>1?new LE:1===s.length?s[0]:new tb)!==s[0])for(var c=0,h=s.length;c<h;c++)o.add(s[c]);if(i.name&&(o.userData.name=i.name,o.name=a),mk(o,i),i.extensions&&Ak(n,o,i),void 0!==i.matrix){var d=new Bx;d.fromArray(i.matrix),o.applyMatrix4(d)}else void 0!==i.translation&&o.position.fromArray(i.translation),void 0!==i.rotation&&o.quaternion.fromArray(i.rotation),void 0!==i.scale&&o.scale.fromArray(i.scale);r.associations.has(o)||r.associations.set(o,{}),r.associations.get(o).nodes=e,null!==u&&o.traverse((function(e){e.isSkinnedMesh&&e.bind(u,bk)}));for(var f=0,p=l.length;f<p;f++)o.add(l[f]);return o}))}},{key:"loadScene",value:function(e){var t=this.extensions,n=this.json.scenes[e],r=this,i=new LE;n.name&&(i.name=r.createUniqueName(n.name)),mk(i,n),n.extensions&&Ak(t,i,n);for(var a=n.nodes||[],o=[],s=0,l=a.length;s<l;s++)o.push(r.getDependency("node",a[s]));return Promise.all(o).then((function(e){for(var t=0,n=e.length;t<n;t++)i.add(e[t]);return r.associations=function(e){var t,n=new Map,i=(0,qi.Z)(r.associations);try{for(i.s();!(t=i.n()).done;){var a=(0,Un.Z)(t.value,2),o=a[0],s=a[1];(o instanceof pb||o instanceof qy)&&n.set(o,s)}}catch(Vc){i.e(Vc)}finally{i.f()}return e.traverse((function(e){var t=r.associations.get(e);null!=t&&n.set(e,t)})),n}(i),i}))}}]),e}();function Ck(e,t,n){var r=t.attributes,i=[];function a(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var o in r){var s=dk[o]||o.toLowerCase();s in e.attributes||i.push(a(r[o],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(l)}return mk(e,t),function(e,t,n){var r=t.attributes,i=new rx;if(void 0!==r.POSITION){var a=n.json.accessors[r.POSITION],o=a.min,s=a.max;if(void 0!==o&&void 0!==s){if(i.set(new ex(o[0],o[1],o[2]),new ex(s[0],s[1],s[2])),a.normalized){var l=xk(lk[a.componentType]);i.min.multiplyScalar(l),i.max.multiplyScalar(l)}var u=t.targets;if(void 0!==u){for(var c=new ex,h=new ex,d=0,f=u.length;d<f;d++){var p=u[d];if(void 0!==p.POSITION){var A=n.json.accessors[p.POSITION],m=A.min,v=A.max;if(void 0!==m&&void 0!==v){if(h.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),h.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),h.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),A.normalized){var g=xk(lk[A.componentType]);h.multiplyScalar(g)}c.max(h)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(c)}e.boundingBox=i;var y=new bx;i.getCenter(y.center),y.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=y}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,a=!1,o=0,s=t.length;o<s;o++){var l=t[o];if(void 0!==l.POSITION&&(r=!0),void 0!==l.NORMAL&&(i=!0),void 0!==l.COLOR_0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(e);for(var u=[],c=[],h=[],d=0,f=t.length;d<f;d++){var p=t[d];if(r){var A=void 0!==p.POSITION?n.getDependency("accessor",p.POSITION):e.attributes.position;u.push(A)}if(i){var m=void 0!==p.NORMAL?n.getDependency("accessor",p.NORMAL):e.attributes.normal;c.push(m)}if(a){var v=void 0!==p.COLOR_0?n.getDependency("accessor",p.COLOR_0):e.attributes.color;h.push(v)}}return Promise.all([Promise.all(u),Promise.all(c),Promise.all(h)]).then((function(t){var n=t[0],o=t[1],s=t[2];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),a&&(e.morphAttributes.color=s),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}var Ek=new WeakMap,Sk=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).decoderPath="",i.decoderConfig={},i.decoderBinary=null,i.decoderPending=null,i.workerLimit=4,i.workerPool=[],i.workerNextTaskID=1,i.workerSourceURL="",i.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},i.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"},i}return(0,i.Z)(n,[{key:"setDecoderPath",value:function(e){return this.decoderPath=e,this}},{key:"setDecoderConfig",value:function(e){return this.decoderConfig=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerLimit=e,this}},{key:"load",value:function(e,t,n,r){var i=this,a=new dI(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){i.decodeDracoFile(e,t).catch(r)}),n,r)}},{key:"parse",value:function(e,t,n){this.decodeDracoFile(e,t).catch(n)}},{key:"decodeDracoFile",value:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};return this.decodeGeometry(e,i).then(t)}},{key:"decodeGeometry",value:function(e,t){var n,r=this,i=JSON.stringify(t);if(Ek.has(e)){var a=Ek.get(e);if(a.key===i)return a.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var o=this.workerNextTaskID++,s=e.byteLength,l=this._getWorker(o,s).then((function(r){return n=r,new Promise((function(r,i){n._callbacks[o]={resolve:r,reject:i},n.postMessage({type:"decode",id:o,taskConfig:t,buffer:e},[e])}))})).then((function(e){return r._createGeometry(e.geometry)}));return l.catch((function(){return!0})).then((function(){n&&o&&r._releaseTask(n,o)})),Ek.set(e,{key:i,promise:l}),l}},{key:"_createGeometry",value:function(e){var t=new kb;e.index&&t.setIndex(new gb(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,a=r.array,o=r.itemSize;t.setAttribute(i,new gb(a,o))}return t}},{key:"_loadLibrary",value:function(e,t){var n=new dI(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise((function(t,r){n.load(e,t,void 0,r)}))}},{key:"preload",value:function(){return this._initDecoder(),this}},{key:"_initDecoder",value:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=Ik.toString(),a=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending}},{key:"_getWorker",value:function(e,t){var n=this;return this._initDecoder().then((function(){if(n.workerPool.length<n.workerLimit){var r=new Worker(n.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)}else n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));var i=n.workerPool[n.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i}))}},{key:"_releaseTask",value:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}},{key:"debug",value:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))}},{key:"dispose",value:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}}]),n}(uI);function Ik(){var e,t;function n(e,t,n,r,i,a){var o=a.num_components(),s=n.num_points()*o,l=s*i.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),c=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,a,u,l,c);var h=new i(e.HEAPF32.buffer,c,s).slice();return e._free(c),{name:r,array:h,itemSize:o}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=i.buffer,o=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var l=function(e,t,r,i){var a,o,s=i.attributeIDs,l=i.attributeTypes,u=t.GetEncodedGeometryType(r);if(u===e.TRIANGULAR_MESH)a=new e.Mesh,o=t.DecodeBufferToMesh(r,a);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,o=t.DecodeBufferToPointCloud(r,a)}if(!o.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var c={index:null,attributes:[]};for(var h in s){var d=self[l[h]],f=void 0,p=void 0;if(i.useUniqueIDs)p=s[h],f=t.GetAttributeByUniqueId(a,p);else{if(-1===(p=t.GetAttributeId(a,e[s[h]])))continue;f=t.GetAttribute(a,p)}c.attributes.push(n(e,t,a,h,d,f))}return u===e.TRIANGULAR_MESH&&(c.index=function(e,t,n){var r=3*n.num_faces(),i=4*r,a=e._malloc(i);t.GetTrianglesUInt32Array(n,i,a);var o=new Uint32Array(e.HEAPF32.buffer,a,r).slice();return e._free(a),{array:o,itemSize:1}}(e,t,a)),e.destroy(a),c}(t,r,s,o),u=l.attributes.map((function(e){return e.array.buffer}));l.index&&u.push(l.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:l},u)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(s),t.destroy(r)}}))}}}var Mk,_k,kk,Bk=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;(0,r.Z)(this,e),this.pool=t,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}return(0,i.Z)(e,[{key:"_initWorker",value:function(e){if(!this.workers[e]){var t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}},{key:"_getIdleWorker",value:function(){for(var e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}},{key:"_onMessage",value:function(e,t){var n=this.workersResolve[e];if(n&&n(t),this.queue.length){var r=this.queue.shift(),i=r.resolve,a=r.msg,o=r.transfer;this.workersResolve[e]=i,this.workers[e].postMessage(a,o)}else this.workerStatus^=1<<e}},{key:"setWorkerCreator",value:function(e){this.workerCreator=e}},{key:"setWorkerLimit",value:function(e){this.pool=e}},{key:"postMessage",value:function(e,t){var n=this;return new Promise((function(r){var i=n._getIdleWorker();-1!==i?(n._initWorker(i),n.workerStatus|=1<<i,n.workersResolve[i]=r,n.workers[i].postMessage(e,t)):n.queue.push({resolve:r,msg:e,transfer:t})}))}},{key:"dispose",value:function(){this.workers.forEach((function(e){return e.terminate()})),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}]),e}(),Tk=(0,i.Z)((function e(){(0,r.Z)(this,e),this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null})),Rk=function(){function e(t,n,i,a){(0,r.Z)(this,e),this._dataView=new DataView(t.buffer,t.byteOffset+n,i),this._littleEndian=a,this._offset=0}return(0,i.Z)(e,[{key:"_nextUint8",value:function(){var e=this._dataView.getUint8(this._offset);return this._offset+=1,e}},{key:"_nextUint16",value:function(){var e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}},{key:"_nextUint32",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_nextUint64",value:function(){var e=this._dataView.getUint32(this._offset,this._littleEndian)+Math.pow(2,32)*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}},{key:"_nextInt32",value:function(){var e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}},{key:"_skip",value:function(e){return this._offset+=e,this}},{key:"_scan",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._offset,r=0;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}]),e}(),Dk=[171,75,84,88,32,50,48,187,13,10,26,10];function Pk(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):Buffer.from(e).toString("utf8")}var Lk,Qk={env:{emscripten_notify_memory_growth:function(e){kk=new Uint8Array(_k.exports.memory.buffer)}}},jk=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"init",value:function(){return Mk||(Mk="undefined"!=typeof fetch?fetch("data:application/wasm;base64,"+Nk).then((function(e){return e.arrayBuffer()})).then((function(e){return WebAssembly.instantiate(e,Qk)})).then(this._init):WebAssembly.instantiate(Buffer.from(Nk,"base64"),Qk).then(this._init),Mk)}},{key:"_init",value:function(e){_k=e.instance,Qk.env.emscripten_notify_memory_growth(0)}},{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!_k)throw new Error("ZSTDDecoder: Await .init() before decoding.");var n=e.byteLength,r=_k.exports.malloc(n);kk.set(e,r),t=t||Number(_k.exports.ZSTD_findDecompressedSize(r,n));var i=_k.exports.malloc(t),a=_k.exports.ZSTD_decompress(i,t,r,n),o=kk.slice(i,i+a);return _k.exports.free(r),_k.exports.free(i),o}}]),e}(),Nk="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IAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQh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ASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigC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C0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdB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IAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY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wOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEE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",Fk=new WeakMap,Uk=0,Ok=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).transcoderPath="",i.transcoderBinary=null,i.transcoderPending=null,i.workerPool=new Bk,i.workerSourceURL="",i.workerConfig=null,"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.'),i}return(0,i.Z)(n,[{key:"setTranscoderPath",value:function(e){return this.transcoderPath=e,this}},{key:"setWorkerLimit",value:function(e){return this.workerPool.setWorkerLimit(e),this}},{key:"detectSupport",value:function(e){return this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},e.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}},{key:"init",value:function(){var e=this;if(!this.transcoderPending){var t=new dI(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var r=t.loadAsync("basis_transcoder.js"),i=new dI(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var a=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([r,a]).then((function(t){var r=(0,Un.Z)(t,2),i=r[0],a=r[1],o=n.BasisWorker.toString(),s=["/* constants */","let _EngineFormat = "+JSON.stringify(n.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(n.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(n.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([s])),e.transcoderBinary=a,e.workerPool.setWorkerCreator((function(){var t=new Worker(e.workerSourceURL),n=e.transcoderBinary.slice(0);return t.postMessage({type:"init",config:e.workerConfig,transcoderBinary:n},[n]),t}))})),Uk>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),Uk++}return this.transcoderPending}},{key:"load",value:function(e,t,n,r){var i=this;if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");var a=new dI(this.manager);a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){if(Fk.has(e))return Fk.get(e).promise.then(t).catch(r);i._createTexture(e).then((function(e){return t?t(e):null})).catch(r)}),n,r)}},{key:"_createTextureFrom",value:function(e,t){var n=e.mipmaps,r=e.width,i=e.height,a=e.format,o=e.type,s=e.error,l=e.dfdTransferFn,u=e.dfdFlags;if("error"===o)return Promise.reject(s);var c=t.layerCount>1?new RS(n,r,i,t.layerCount,a,Wv):new TS(n,r,i,a,Wv);return c.minFilter=1===n.length?Gv:Vv,c.magFilter=Gv,c.generateMipmaps=!1,c.needsUpdate=!0,c.encoding=2===l?Kg:Jg,c.premultiplyAlpha=!!(1&u),c}},{key:"_createTexture",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var n,r,i,a,o=this,s=arguments;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},r=function(e){var t=new Uint8Array(e.buffer,e.byteOffset,Dk.length);if(t[0]!==Dk[0]||t[1]!==Dk[1]||t[2]!==Dk[2]||t[3]!==Dk[3]||t[4]!==Dk[4]||t[5]!==Dk[5]||t[6]!==Dk[6]||t[7]!==Dk[7]||t[8]!==Dk[8]||t[9]!==Dk[9]||t[10]!==Dk[10]||t[11]!==Dk[11])throw new Error("Missing KTX 2.0 identifier.");var n=new Tk,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new Rk(e,Dk.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();var a=i._nextUint32();n.supercompressionScheme=i._nextUint32();for(var o=i._nextUint32(),s=i._nextUint32(),l=i._nextUint32(),u=i._nextUint32(),c=i._nextUint64(),h=i._nextUint64(),d=new Rk(e,Dk.length+r,3*a*8,!0),f=0;f<a;f++)n.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+d._nextUint64(),d._nextUint64()),uncompressedByteLength:d._nextUint64()});for(var p=new Rk(e,o,s,!0),A={vendorId:p._skip(4)._nextUint16(),descriptorType:p._nextUint16(),versionNumber:p._nextUint16(),descriptorBlockSize:p._nextUint16(),colorModel:p._nextUint8(),colorPrimaries:p._nextUint8(),transferFunction:p._nextUint8(),flags:p._nextUint8(),texelBlockDimension:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],bytesPlane:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],samples:[]},m=(A.descriptorBlockSize/4-6)/4,v=0;v<m;v++){var g={bitOffset:p._nextUint16(),bitLength:p._nextUint8(),channelType:p._nextUint8(),samplePosition:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&g.channelType?(g.sampleLower=p._nextInt32(),g.sampleUpper=p._nextInt32()):(g.sampleLower=p._nextUint32(),g.sampleUpper=p._nextUint32()),A.samples[v]=g}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(A);for(var y=new Rk(e,l,u,!0);y._offset<u;){var x=y._nextUint32(),b=y._scan(x),w=Pk(b),C=y._scan(x-b.byteLength);n.keyValue[w]=w.match(/^ktx/i)?Pk(C):C,y._offset%4&&y._skip(4-y._offset%4)}if(h<=0)return n;for(var E=new Rk(e,c,h,!0),S=E._nextUint16(),I=E._nextUint16(),M=E._nextUint32(),_=E._nextUint32(),k=E._nextUint32(),B=E._nextUint32(),T=[],R=0;R<a;R++)T.push({imageFlags:E._nextUint32(),rgbSliceByteOffset:E._nextUint32(),rgbSliceByteLength:E._nextUint32(),alphaSliceByteOffset:E._nextUint32(),alphaSliceByteLength:E._nextUint32()});var D=c+E._offset,P=D+M,L=P+_,Q=L+k,j=new Uint8Array(e.buffer,e.byteOffset+D,M),N=new Uint8Array(e.buffer,e.byteOffset+P,_),F=new Uint8Array(e.buffer,e.byteOffset+L,k),U=new Uint8Array(e.buffer,e.byteOffset+Q,B);return n.globalData={endpointCount:S,selectorCount:I,imageDescs:T,endpointsData:j,selectorsData:N,tablesData:F,extendedData:U},n}(new Uint8Array(t)),0===r.vkFormat){e.next=4;break}return e.abrupt("return",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var n,r,i,a,o,s,l,u;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.vkFormat,r=t.pixelWidth,i=t.pixelHeight,a=t.pixelDepth,void 0!==Zk[n]){e.next=3;break}throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");case 3:if(o=t.levels[0],0!==t.supercompressionScheme){e.next=8;break}s=o.levelData,e.next=18;break;case 8:if(2===t.supercompressionScheme){e.next=10;break}throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");case 10:if(e.t0=Lk,e.t0){e.next=15;break}return Lk=new jk,e.next=15,Lk.init();case 15:return e.next=17,Lk;case 17:s=e.sent.decode(o.levelData,o.uncompressedByteLength);case 18:return l=zk[n]===$v?new Float32Array(s.buffer,s.byteOffset,s.byteLength/Float32Array.BYTES_PER_ELEMENT):zk[n]===eg?new Uint16Array(s.buffer,s.byteOffset,s.byteLength/Uint16Array.BYTES_PER_ELEMENT):s,u=0===a?new nS(l,r,i):new Ky(l,r,i,a),e.abrupt("return",(u.type=zk[n],u.format=Zk[n],u.encoding=Gk[n]||Jg,u.needsUpdate=!0,Promise.resolve(u)));case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r));case 4:return i=n,a=this.init().then((function(){return o.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:i},[t])})).then((function(e){return o._createTextureFrom(e.data,r)})),e.abrupt("return",(Fk.set(t,{promise:a}),a));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),Uk--,this}}]),n}(uI);Ok.BasisFormat={ETC1S:0,UASTC_4x4:1},Ok.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},Ok.EngineFormat={RGBAFormat:ag,RGBA_ASTC_4x4_Format:Ig,RGBA_BPTC_Format:Ug,RGBA_ETC2_EAC_Format:Sg,RGBA_PVRTC_4BPPV1_Format:bg,RGBA_S3TC_DXT5_Format:gg,RGB_ETC1_Format:Cg,RGB_ETC2_Format:Eg,RGB_PVRTC_4BPPV1_Format:yg,RGB_S3TC_DXT1_Format:Ag},Ok.BasisWorker=function(){var e,t,n,r=_EngineFormat,i=_TranscoderFormat,a=_BasisFormat;self.addEventListener("message",(function(o){var h,d=o.data;switch(d.type){case"init":e=d.config,h=d.transcoderBinary,t=new Promise((function(e){n={wasmBinary:h,onRuntimeInitialized:e},BASIS(n)})).then((function(){n.initializeBasis(),void 0===n.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")}));break;case"transcode":t.then((function(){try{for(var t=function(t){var o=new n.KTX2File(new Uint8Array(t));function h(){o.close(),o.delete()}if(!o.isValid())throw h(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");var d=o.isUASTC()?a.UASTC_4x4:a.ETC1S,f=o.getWidth(),p=o.getHeight(),A=o.getLayers()||1,m=o.getLevels(),v=o.getHasAlpha(),g=o.getDFDTransferFunc(),y=o.getDFDFlags(),x=function(t,n,o,c){for(var h=t===a.ETC1S?s:l,d=0;d<h.length;d++){var f=h[d];if(e[f.if]&&f.basisFormat.includes(t)&&!(c&&f.transcoderFormat.length<2)&&(!f.needsPowerOfTwo||u(n)&&u(o)))return{transcoderFormat:f.transcoderFormat[c?1:0],engineFormat:f.engineFormat[c?1:0]}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),{transcoderFormat:i.RGBA32,engineFormat:r.RGBAFormat}}(d,f,p,v),b=x.transcoderFormat,w=x.engineFormat;if(!f||!p||!m)throw h(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!o.startTranscoding())throw h(),new Error("THREE.KTX2Loader: .startTranscoding failed");for(var C=[],E=0;E<m;E++){for(var S=[],I=void 0,M=void 0,_=0;_<A;_++){var k=o.getImageLevelInfo(E,_,0);I=k.origWidth,M=k.origHeight;var B=new Uint8Array(o.getImageTranscodedSizeInBytes(E,_,0,b));if(!o.transcodeImage(B,E,_,0,b,0,-1,-1))throw h(),new Error("THREE.KTX2Loader: .transcodeImage failed.");S.push(B)}C.push({data:c(S),width:I,height:M})}return h(),{width:f,height:p,hasAlpha:v,mipmaps:C,format:w,dfdTransferFn:g,dfdFlags:y}}(d.buffer),o=t.width,h=t.height,f=t.hasAlpha,p=t.mipmaps,A=t.format,m=t.dfdTransferFn,v=t.dfdFlags,g=[],y=0;y<p.length;++y)g.push(p[y].data.buffer);self.postMessage({type:"transcode",id:d.id,width:o,height:h,hasAlpha:f,mipmaps:p,format:A,dfdTransferFn:m,dfdFlags:v},g)}catch(e){console.error(e),self.postMessage({type:"error",id:d.id,error:e.message})}}))}}));var o=[{if:"astcSupported",basisFormat:[a.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[a.ETC1S,a.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],s=o.sort((function(e,t){return e.priorityETC1S-t.priorityETC1S})),l=o.sort((function(e,t){return e.priorityUASTC-t.priorityUASTC}));function u(e){return e<=2||0==(e&e-1)&&0!==e}function c(e){var t,n=0,r=(0,qi.Z)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.byteLength}}catch(Vc){r.e(Vc)}finally{r.f()}var i,a=new Uint8Array(n),o=0,s=(0,qi.Z)(e);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.set(l,o),o+=l.byteLength}}catch(Vc){s.e(Vc)}finally{s.f()}return a}};var Zk={109:ag,97:ag,37:ag,43:ag,103:dg,83:dg,16:dg,22:dg,100:cg,76:cg,15:cg,9:cg},zk={109:$v,97:eg,37:Wv,43:Wv,103:$v,83:eg,16:Wv,22:Wv,100:$v,76:eg,15:Wv,9:Wv},Gk={43:Kg,22:Kg,15:Kg},Hk=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.Z)(this,e),this.loadingManager=new sI;var i=new Q_(this.loadingManager);i.setCrossOrigin("anonymous");var a=new Sk(this.loadingManager);a.setDecoderPath("".concat(n,"/libs/draco/")),a.preload(),i.setDRACOLoader(a);var o=new Ok;o.detectSupport(t),o.setTranscoderPath("".concat(n,"/libs/basis/")),i.setKTX2Loader(o),this.loader=i}return(0,i.Z)(e,[{key:"revokeTextures",value:function(e){!function(e){L_=e}(e)}},{key:"loadFile",value:function(e,t,n){var r=this;return new Promise((function(i,a){r.loader.load(e,(function(e){i(e)}),(function(e){if(t)if(e.total){var n=Math.ceil(100*e.loaded/e.total);n>100&&(n=100),t(n)}else t(100)}),(function(e){console.log("error loading gltf: ".concat(e)),n&&n(e),a()}))}))}},{key:"parse",value:function(e,t){var n=this;return new Promise((function(r,i){n.loader.parse(e,"",(function(e){r(e)}),(function(e){console.log("error parsing gltf: ".concat(e)),t&&t(e),i()}))}))}}]),e}();function Vk(e){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.addEventListener("load",(function(t){return e(t.target.result)})),r.addEventListener("error",n),r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)}))),Wk.apply(this,arguments)}function qk(e){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.addEventListener("load",(function(t){return e(t.target.result)})),r.addEventListener("error",n),r.readAsText(t)})));case 1:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function Xk(e){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){(new bM).load(t,(function(n){n.isHDRTexture=!0,n.dataUrl=t,n.needsUpdate=!0,e(n)}),void 0,(function(e){return n("failed to load hdr ".concat(e))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=3,Vk(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),Jk.apply(this,arguments)}function Kk(e){return $k.apply(this,arguments)}function $k(){return $k=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=document.createElement("img");n.addEventListener("load",(function(){var n=new qy(this);n.dataUrl=t,n.needsUpdate=!0,e(n)}),!1),n.src=t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=3,Vk(t);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))),$k.apply(this,arguments)}var eB=Uint8Array,tB=Uint16Array,nB=Int32Array,rB=new eB([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),iB=new eB([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),aB=new eB([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oB=function(e,t){for(var n=new tB(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new nB(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},sB=oB(rB,2),lB=sB.b,uB=sB.r;lB[28]=258,uB[258]=28;for(var cB=oB(iB,0).b,hB=new tB(32768),dB=0;dB<32768;++dB){var fB=(43690&dB)>>1|(21845&dB)<<1;fB=(61680&(fB=(52428&fB)>>2|(13107&fB)<<2))>>4|(3855&fB)<<4,hB[dB]=((65280&fB)>>8|(255&fB)<<8)>>1}var pB=function(e,t,n){for(var r=e.length,i=0,a=new tB(t);i<r;++i)e[i]&&++a[e[i]-1];var o,s=new tB(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;if(n){o=new tB(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],c=t-e[i],h=s[e[i]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)o[hB[h]>>l]=u}else for(o=new tB(r),i=0;i<r;++i)e[i]&&(o[i]=hB[s[e[i]-1]++]>>15-e[i]);return o},AB=new eB(288);for(dB=0;dB<144;++dB)AB[dB]=8;for(dB=144;dB<256;++dB)AB[dB]=9;for(dB=256;dB<280;++dB)AB[dB]=7;for(dB=280;dB<288;++dB)AB[dB]=8;var mB=new eB(32);for(dB=0;dB<32;++dB)mB[dB]=5;var vB=pB(AB,9,1),gB=pB(mB,5,1),yB=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},xB=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},bB=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},wB=function(e){return(e+7)/8|0},CB=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new eB(n-t);return r.set(e.subarray(t,n)),r},EB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],SB=function e(t,n,r){var i=new Error(n||EB[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,e),!r)throw i;return i},IB=function(e,t,n,r){var i=e.length,a=r?r.length:0;if(!i||t.f&&!t.l)return n||new eB(0);var o=!n||2!=t.i,s=t.i;n||(n=new eB(3*i));var l=function(e){var t=n.length;if(e>t){var r=new eB(Math.max(2*t,e));r.set(n),n=r}},u=t.f||0,c=t.p||0,h=t.b||0,d=t.l,f=t.d,p=t.m,A=t.n,m=8*i;do{if(!d){u=xB(e,c,1);var v=xB(e,c+1,3);if(c+=3,!v){var g=e[(k=wB(c)+4)-4]|e[k-3]<<8,y=k+g;if(y>i){s&&SB(0);break}o&&l(h+g),n.set(e.subarray(k,y),h),t.b=h+=g,t.p=c=8*y,t.f=u;continue}if(1==v)d=vB,f=gB,p=9,A=5;else if(2==v){var x=xB(e,c,31)+257,b=xB(e,c+10,15)+4,w=x+xB(e,c+5,31)+1;c+=14;for(var C=new eB(w),E=new eB(19),S=0;S<b;++S)E[aB[S]]=xB(e,c+3*S,7);c+=3*b;var I=yB(E),M=(1<<I)-1,_=pB(E,I,1);for(S=0;S<w;){var k,B=_[xB(e,c,M)];if(c+=15&B,(k=B>>4)<16)C[S++]=k;else{var T=0,R=0;for(16==k?(R=3+xB(e,c,3),c+=2,T=C[S-1]):17==k?(R=3+xB(e,c,7),c+=3):18==k&&(R=11+xB(e,c,127),c+=7);R--;)C[S++]=T}}var D=C.subarray(0,x),P=C.subarray(x);p=yB(D),A=yB(P),d=pB(D,p,1),f=pB(P,A,1)}else SB(1);if(c>m){s&&SB(0);break}}o&&l(h+131072);for(var L=(1<<p)-1,Q=(1<<A)-1,j=c;;j=c){var N=(T=d[bB(e,c)&L])>>4;if((c+=15&T)>m){s&&SB(0);break}if(T||SB(2),N<256)n[h++]=N;else{if(256==N){j=c,d=null;break}var F=N-254;if(N>264){var U=rB[S=N-257];F=xB(e,c,(1<<U)-1)+lB[S],c+=U}var O=f[bB(e,c)&Q],Z=O>>4;if(O||SB(3),c+=15&O,P=cB[Z],Z>3&&(U=iB[Z],P+=bB(e,c)&(1<<U)-1,c+=U),c>m){s&&SB(0);break}o&&l(h+131072);var z=h+F;if(h<P){var G=a-P,H=Math.min(P,z);for(G+h<0&&SB(3);h<H;++h)n[h]=r[G+h]}for(;h<z;h+=4)n[h]=n[h-P],n[h+1]=n[h+1-P],n[h+2]=n[h+2-P],n[h+3]=n[h+3-P];h=z}}t.l=d,t.p=j,t.b=h,t.f=u,d&&(u=1,t.m=p,t.d=f,t.n=A)}while(!u);return h==n.length?n:CB(n,0,h)},MB=new eB(0),_B=function(e,t){return e[t]|e[t+1]<<8},kB=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},BB=function(e,t){return kB(e,t)+4294967296*kB(e,t+4)};function TB(e,t){return IB(e,{i:2},t&&t.out,t&&t.dictionary)}var RB="undefined"!=typeof TextDecoder&&new TextDecoder;try{RB.decode(MB,{stream:!0})}catch(TR){}var DB=function(e,t){return t+30+_B(e,t+26)+_B(e,t+28)},PB=function(e,t,n){var r=_B(e,t+28),i=function(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if(RB)return RB.decode(e);var i=function(e){for(var t="",n=0;;){var r=e[n++],i=(r>127)+(r>223)+(r>239);if(n+i>e.length)return{s:t,r:CB(e,n-1)};i?3==i?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=1&i?String.fromCharCode((31&r)<<6|63&e[n++]):String.fromCharCode((15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}}(e),a=i.s;return(n=i.r).length&&SB(8),a}(e.subarray(t+46,t+46+r),!(2048&_B(e,t+8))),a=t+46+r,o=kB(e,t+20),s=n&&4294967295==o?LB(e,a):[o,kB(e,t+24),kB(e,t+42)],l=s[0],u=s[1],c=s[2];return[_B(e,t+10),l,u,i,a+_B(e,t+30)+_B(e,t+32),c]},LB=function(e,t){for(;1!=_B(e,t);t+=4+_B(e,t+2));return[BB(e,t+12),BB(e,t+4),BB(e,t+20)]};function QB(e,t){for(var n={},r=e.length-22;101010256!=kB(e,r);--r)(!r||e.length-r>65558)&&SB(13);var i=_B(e,r+8);if(!i)return{};var a=kB(e,r+16),o=4294967295==a||65535==i;if(o){var s=kB(e,r-12);(o=101075792==kB(e,s))&&(i=kB(e,s+32),a=kB(e,s+48))}for(var l=t&&t.filter,u=0;u<i;++u){var c=PB(e,a,o),h=c[0],d=c[1],f=c[2],p=c[3],A=c[4],m=c[5],v=DB(e,m);a=A,l&&!l({name:p,size:d,originalSize:f,compression:h})||(h?8==h?n[p]=TB(e.subarray(v,v+d),{out:new eB(f)}):SB(14,"unknown compression type "+h):n[p]=CB(e,v,v+d))}return n}function jB(e){return new Promise((function(t){var n=URL.createObjectURL(e),r=new Image;r.onload=function(){t(r)},r.src=n}))}var NB=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"getSceneRoot",value:function(e){return e.name.startsWith("AuxScene")&&1==e.children.length?this.getSceneRoot(e.children[0]):e}},{key:"parseFile",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n,r,i){var a,o,s,l,u,c,h,d,f,p,A,m,v,g,y,x,b;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=[],u=[],e.t0=(0,Lt.Z)().keys(t);case 2:if((e.t1=e.t0()).done){e.next=57;break}if(c=e.t1.value,!Object.hasOwnProperty.call(t,c)){e.next=55;break}if(h=t[c],"scene.glb"!==c){e.next=18;break}return d=new Hk(n),e.next=10,d.parse(h.buffer,i);case 10:o=e.sent.scene;case 11:if(!o.name.startsWith("AuxScene")||1!==o.children.length){e.next=15;break}o=o.children[0];case 13:e.next=11;break;case 15:o.parent&&o.removeFromParent(),e.next=55;break;case 18:if(!c.startsWith("variantMaps/")){e.next=27;break}return f=c.split("/").pop(),p=new Blob([h.buffer]),e.next=23,Kk(p);case 23:(A=e.sent).flipY=!1,u.push({fn:f,tex:A}),e.next=55;break;case 27:if("envmap.hdr"!==c){e.next=35;break}return m=new Blob([h.buffer]),e.next=31,Xk(m);case 31:(v=e.sent).mapping=Lv,s=v,e.next=55;break;case 35:if(!c.startsWith("cubeMaps/gemstoneMap")){e.next=49;break}return e.prev=36,g=new Blob([h.buffer]),e.next=40,jB(g);case 40:y=e.sent,l.push({name:"gemStoneMap",images:[y]}),e.next=47;break;case 44:e.prev=44,e.t2=e.catch(36),console.log("failed create cubemap ".concat(c," from zip"));case 47:e.next=55;break;case 49:if("settings.json"!==c){e.next=55;break}return x=new Blob([h.buffer]),e.next=53,qk(x);case 53:b=e.sent,(a=new VM).state=JSON.parse(b);case 55:e.next=2;break;case 57:o||(o=new tb),a||(a=new VM),r({scene:o,settings:a,envMap:s,cubeMaps:l,variantMaps:u});case 58:case"end":return e.stop()}}),e,null,[[36,44]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n,r,i,a){var o=this;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("no file or path");case 3:"string"==typeof t?function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n,r,i){var a;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=new dI).setResponseType("arraybuffer"),a.load(t,(function(e){var t=QB(new Uint8Array(e));n(t)}),(function(e){r&&r(e.loaded/e.total*100)}),i);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.parseFile(t,n,r,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i,a):function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t,n){var r;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).addEventListener("load",function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){var r;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=QB(new Uint8Array(t.target.result)),n(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.readAsArrayBuffer(t);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(t){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.parseFile(t,n,r,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a&&a("An error occured loading the project file: "+e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()}]),e}(),FB=1,UB=(0,i.Z)((function e(){var t=this;(0,r.Z)(this,e),this.elem=document.createElement("div"),this.elem.className="ezv-help-window",this.elem.style.display="none";var n="ezv-help-"+FB++,i="ezv-help-close-"+FB++;this.elem.innerHTML="\n                <div class='ezv-help-window-header'>\n                    <div id=".concat(i," style='margin-left: auto'>\n                        <img src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFaSURBVGhD7ZjLbYNAEIZRynBhNOGqfHINKYJjznCjDLwfnrFkK4sxO7ATZT4JgfbxP4ALNEEQBEHwL5im6ZSOtuu6C9cybAaaot3uoY8BwjN93/+kk5kJWknzexa/08qUDUkQA0I/sCqBxjAM11lUsL5BzTiO57v0M6VG7H0Nr+Apy8pJelmjrSXYk9OUcbsnAAhalWDtoeEVhEtLsKZKeAWDrSWYqxpewejTEoy5CK9guLYE167CKxi/K8HhMrxCgKUSrsMrBMkF/Q1X4RUCrSnhMrxCsKUSe4T/knPAnf2zrxCB1oRXXJUgSC4840tz6VS3BAHeBeRwWQLjtcG4dlUCw08DMeaiBEZbgzBXtQQGpQFYU6UEwlbGrD20BILWhuw5rETut0qpEXtzJcx/q8gHygOru4TGa4ncZ2kRCGoJ60eMlpbYJbyCsLxO5gZ7agdBEASBU5rmBllsO8efWbL9AAAAAElFTkSuQmCC style='width: 24px; vertical-align: middle;' alt='' />\n                    </div>\n                </div>\n                <div id=").concat(n,">\n            </div>"),this.elem.querySelector("#".concat(n)).innerHTML="\n            <div>\n            <img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAANlSURBVGhD7ZkxiBNBFIaTXJE7EC7NGQhHyAUEWzuLlHZ2CqnsrrBQK60FSztBtLMQBDut7SxSyHl3BPWOSyySSzgvQUlCTkh5/v/uy7JJZie7t7tjIn4wzEx2971/Zmdm30wS/9Fwfn6eOzo6eoy8zLL8vBxQcLPZfIt8zH2k5WlEtVp9ZuueIPJGpCSPnGw2+12Kbp4j3Yq6EbFAkf1+/wm7XcHiDycKRNoeDAZPqVhBJI1ISh4KEVLqdDob7Xb7RiqVurK5uXkZw2jDvsOTB0jvksnkD7tqGApHKmO1+Yb8opTFnDng1BLeaDQ+WBJCsLu7eyBmzQCfuskZmNPT03tiOn7gL1LxYsvMakRHfsRjEjdd4cM20kP+Ps3CiZf54MQ8zJG4VM5gVDyBMwrTMbOmo6585m+Iz6F3DyzvU8jvykhzb2/vtXWTCz/ieZ0TW2Kp8A2FEa+ePEPm6YDX3A33K17uGxPuGwEDnr0P5hrHPbmdnZ337FGW5WclvD4lfvyGL/4W8LCy92GYEzb863UBe17zTNtR2nCasY0UJygUCq9MxS+1Wu2qFJVoG9BqtW5L0QFxzyGyil2LlAre7CcpOwyHw2tSVKJtwMrKSlaKDqurqy/j6H3aXFtbeyNVh3w+X8IwCj5c+ZCsNNPEFj3Stu1iBk+fujdQymQyl6S8sMS2JzbFP92ACvazv6VsBNWy3e12fyHzXPU8G8BVoV6vf5aqw/7+/k0pRgomam40Gt2RqsPx8fFX3aqnHULpdPqLFB2KxWJc5zqlra2t61J2WF9f/yjF4HD54hqmINKlFPZyJycnL2zTM1zcFx7OcYdl27GR8865gVmQkBj3KDtKfId72xJJWvgV744q5z3Da14RbyQbftixQmI/vcnr0yEx4R5ZbpkAlyheeTQTOpQOCp2pxAsT4xj18bmS116DxBayzABnOvET+2WWNRPWQmyZ6X060ojnkQqPVjhJyxyKvV5PFSA6+JlnkUFHGvGBWWrxMqyMTlqvj1wgEP/89LPpjxw6DPsGjPf6NHQepBHsbTnwsiY1Umjxof+hoQiE3Xexe1N9rB4hDZDOrBrCYlOnGYFgIzRvYvH/0CMUqWmEua9qGCBU2QiOe7ll8YHeiUYYD8qigIK5tsuKs1zizZJI/AFpsRHeC8BJYgAAAABJRU5ErkJggg==' style='width: 24px; vertical-align: middle;' alt='' />&nbsp;Orbit Camera<br /><br />\n            Left mouse and move / drag one finger<br /><br />\n            <img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOrSURBVGhD7ZlNaBNBFMcT8SikaZGmm+K2SGlvgZykRPAgXjwoHqoevBUU7E3QW/04FkRFKwhePKkHj17EgmJQm7aSYpVWpE1ou91a6Qe1x1L/b/J2TdKdZLPZ7K6QHwwz83Yz+/6ZN1+7oUayt7enrKysXF1cXMyhLKAy2VBU+LZgQg7mcrnnwmsLNjY2biNLIg0UpeCIYocqomnaTy4KIHgGWTCETE1NPRNeOWOAm/EWPFihh1PSdX2NPDGg2J+fn//E1YrwmPGuF+hh9I+vr69vCw+sMeLcLt70Ah6kVHHcQMR2ec9QXTLYbQk4wLkj8BBlaWnpYzQaPcSmioTDYQ33/+KqAG3cUlX12urq6m821URdAkCqs7NT5bIjYrHYmpWwfD4/PDk5OZPJZN5ms9n79GfxJfeYnZ0dpr4uhgaqZLCKkIBT37huILOXQGFqtQDW1QM7OztHuWjS3d19jxJXXYPCFL31CMVUwVKg3hDynImJiYtcFARawNbW1jYXTXp6ek4Wh1FgBSwsLHyORCInMMW+YZOgpaWFZjwzjAIrAJu9H5idvmDw6myy5L8bA+U0BfhNU4DfNAX4TVOA30gF0H4DyTgG+v+WQMJBzk3Y2RQOGCPGYUXTtMewv0cxTYcPslUhPT09/WB3dzfK9VAymUxTPjY2dgVtDAojkNlxphjhon3IeX7hZAlfM3tD8urE1cN4tWeYIQSjsrm5eRm7vWE27YOu4eyapQbofjb7ihBgx3mD9vb2w8heYrv7qrW1NVaw+ocQgHi9bsf5YnBsPNbV1XWKq75hhNAZzkvAQP6AbBCHiu8FS/AQAhKJxA1RKwOz0HGE1hH805dQPe/03U0jMXogDUfvcLkEDq1+pDTiP6Hr+lCQhAgBNLfD0ScyEeAh0jkqdHR0jBpCcP8fsgUGmo0qrQNgCMmcPqm8vLw8Kq78w9N1YB+4WLMIpAF6S8dv11xdHxwtlrihJhGNxPZKXIzdMYGGfF+NLQUQNkWUvKf0A6kAwhCRz+dfsKkETKc0gH3vhaqQk7JPptgTuT5wDajd8i86TO0zHX7kqQhqz2oigY0+Zzl7Fv1QJoK/LLqyzaY2ZLPg+Ph4hm8ThDm3DdpQMCbuqqp6gU0lYFysYXF7zVVHxOPx07xt38fc3NzNvr4+2cRiDxIh64lG4ur3Y2rIBxGublM8E1FpfNU8BsrhRlM41fW3tbWdrfezqwFt2THWvkYikXe9vb1PaU3iS0WEQn8Bo89vgKyazIMAAAAASUVORK5CYII=' style='width: 24px; vertical-align: middle;' alt='' />&nbsp;Pan Camera<br /><br />\n            Left mouse, CTRL key and move / drag two fingers<br /><br />\n            <img src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKISURBVGhD7Zm/bhpBEMYhkiUaBxCyhPwseYmkwJUbGkskrt1FSqq4jkR5TaqksF/CJXSJSxpLBslCcEkBcgo8393c6YD9M7tHlDjsT1rd7t3s7Hxo93b2qAQCe06Vrzmr1eqYLq/SlhM31Wr1nutG/ugY5LxDxZnBYPCDXViBLXdzpcMucl7w9dkSBPxtvATEcfxrNBrdDYfD26xEUfSJH1uBbbEvfC2Xy9/8uBxYKOl6sfKOCt4mpYCP2Wz2IfFoZ6eL+DOVN+TUWwT6zufzs0aj8Z5vOVN2DXiL2EXwQCQAc56rKpxFSIK3jJkjEjCdTud0OU9bSsQihL/8OY9pRSSAFhl+jSsqNhHW9GAymby2BU/lise0Il4DnIMYRVBwR1z1JQlemlMBp0VsEkHT4mO73b7mphbYwJabRZyDV4I5imSrWHq93ik/ToANFewDCfwed1rEG+/+rT0FY27GsWlTCjij0hmPx299HKMP98XGubvAAoFAILBXbH0XkoLNB4kZ6kgPXFOAsv21wDFt29+LRZVKFFOBsqmEqj+nEmtxbNooIaOtMzF1zj9aUVN5hpWKgI2kP8ZMn6xR7kxMDrSHEdzLpoQJ3XkA9+AbY/AtEWIBpuAzaC4/cFWLycZHhEhAs9k8tAVPIJ+/SatGYKM9FGUiMCbfcgPzjMoai8Xikas6nL4RwZb7aNGM6bcGarXaAVdVOJ+kTCe7DMuYOU6LWIH3MVAiQkIZAd7BZ+xChOofGsyzr2lLTRzHP/Hdht7d+aePKIou+/3+F24awSbV7XYvuJm8JFqtVqNer7/kWzpOSPQ3rquBgGS5OFLc7GxoNikJ4R+af45nL+D/+5s1ENgrKpUno0TPO4Sv420AAAAASUVORK5CYII=' style='width: 24px; vertical-align: middle;' alt='' />&nbsp;Zoom Camera<br /><br />\n            Mouse Wheel / pinch<br /><br />",this.elem.querySelector("#".concat(i)).addEventListener("pointerdown",(function(){return t.elem.style.display="none"}))})),OB=1,ZB=(0,i.Z)((function e(t,n){var i=this;(0,r.Z)(this,e),this.elem=document.createElement("div"),this.elem.className="ezv-info-window ezv-center-both",this.elem.style.display="none";var a="ezv-info-close-"+OB++;this.elem.innerHTML="\n            <div class='ezv-info-header'>\n                ".concat(t,"\n                <img id=").concat(a," src=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFaSURBVGhD7ZjLbYNAEIZRynBhNOGqfHINKYJjznCjDLwfnrFkK4sxO7ATZT4JgfbxP4ALNEEQBEHwL5im6ZSOtuu6C9cybAaaot3uoY8BwjN93/+kk5kJWknzexa/08qUDUkQA0I/sCqBxjAM11lUsL5BzTiO57v0M6VG7H0Nr+Apy8pJelmjrSXYk9OUcbsnAAhalWDtoeEVhEtLsKZKeAWDrSWYqxpewejTEoy5CK9guLYE167CKxi/K8HhMrxCgKUSrsMrBMkF/Q1X4RUCrSnhMrxCsKUSe4T/knPAnf2zrxCB1oRXXJUgSC4840tz6VS3BAHeBeRwWQLjtcG4dlUCw08DMeaiBEZbgzBXtQQGpQFYU6UEwlbGrD20BILWhuw5rETut0qpEXtzJcx/q8gHygOru4TGa4ncZ2kRCGoJ60eMlpbYJbyCsLxO5gZ7agdBEASBU5rmBllsO8efWbL9AAAAAElFTkSuQmCC style='width: 24px; vertical-align: middle;}} alt='' />\n            </div>\n            <div class='ezv-info-body'>\n                <p>").concat(n,"</p>\n            </div>\n        </div>"),this.elem.querySelector("#".concat(a)).addEventListener("pointerdown",(function(){return i.elem.style.display="none"}))})),zB=function(){function e(t,n){var i=this;(0,r.Z)(this,e),this.elem=document.createElement("div"),this.elem.className=t.className,this.itemMap=new Map,t.items.map((function(e,t){var r,a=document.createElement("div");a.style.zIndex="100",a.className=null!==(r=e.className)&&void 0!==r?r:"ezv-menu-bar-button",a.addEventListener("pointerdown",(function(t){t.stopPropagation(),n(e)}));var o=document.createElement("img");o.src=e.selected?e.src:e.src1?e.src1:e.src,a.appendChild(o),e.elem=a,e.img=o,i.itemMap.set(e.id,e),i.elem.appendChild(a)}))}return(0,i.Z)(e,[{key:"show",value:function(e){this.elem.style.visibility=e?"visible":"hidden"}},{key:"showItem",value:function(e,t){this.getItem(e).elem.style.display=t?"block":"none"}},{key:"getItem",value:function(e){return this.itemMap.get(e)}},{key:"selectItem",value:function(e,t){var n=this.getItem(e);n.selected=t,n.img.src=n.selected?n.src:n.src1}},{key:"toggleSelectItem",value:function(e){this.selectItem(e,!this.getItem(e).selected)}},{key:"toggleVisible",value:function(){this.show("hidden"===this.elem.style.visibility)}}]),e}(),GB=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,{className:"ezv-main-menu-bar",open:!1,visible:!0,items:[{id:1,hidden:!1,title:"View Help",src:"data:image/png;base64,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",src1:"",selected:!1},{id:2,hidden:!1,title:"View Info",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAT/SURBVGhD1ZrLTytVHMcLEUPBB1pACM9Ec/ERE42a6IaNIeE/UDYuZANhh1FDwsIVRBLZuLgLAlsWJhBCSAhGuCyIJldtchHvLeFqG2sKDTW9QdpeHsXfZ3pmnB56gZk+KJ/kS+YMM7/zPfM4j9+0wpM/xHhN9L7oPdEtUbPoJVGdCOKiPVFEtC26K/pR9EB0JroWOkRfijDzWIQRJ+Iczv1CRKyS8bLotuiRKJcxNyIWMV8ROcLJI+QVccU/Ez3DDp3GxsZkb29vvLm5Oe7z+ZI1NTUn7E8kEk/FYjFvJBKpW15erotGo8TKxb+ib0Rfi5LsKBTvivyic1evqalpf3Jy8me/3//90dHRX2eXwDEcyzmcmyumiLqosyB8IkqIsippbW0NraysrJ6cnOwpb47hXGIQS48vok7qzgtesKzA8pgk5ubm1k9PT2PKR94Qi5jE1usT4cEVWebr6+vPhoaGHiaTyaCqt+AQmzqoy163yHEjuHVWAALOzs7eV/UUHerK0YgrP068PNatJNDCwsKmil0yqFNrBJ7eEV0I3duvIst8Ka+8To47gbcndcEGX4msE3geVaxrAw92TyI8WtgHMkZB+l9jkGJQCoVC0erqalfDvAxcD6amplIS43khNTw8TEzmTI5IpVKhjo6ORtvgdyB6W0TDsmAot1pKt6YugmM2Njbu6S9hQ0PD8eHhoas7ihd7LBFes+AqW3MbBha3/Xw8Ht/WzZtaWlpaU4c5Ai/aYIdX48mo5I/wkei5zKbHMzMz87CysvJFVXTE+vr63/v7zBDOU1tbm1abjsALnlQR8PpxZjPzHjCtNVrH/CSf6UEwGNS7P0Pt7e07EjeqDnMMnrS5E56Nd/h1kTWfZ5KlznHN9PR0wGwEz/7o6OjmVSZ6l4E306cIz3j3fKp2GGKmqI7Pi4ODg51AILAivcifalfe4M3uVYT3/3sfJlOFuFLFAm/ahO82LzFrWAMWI1VVVa2qWDDS6fQ/wg/Hx8dhtcsVeMOjKsItGsAC3ICVlNp0zNbW1mZfX99+f39/eHBwMDgwMBBClNva2h7LCu3DxcXFP9ThrtE8Gt5jIuOWTExM/KLulmPC4fBvY2Nj/s7Ozt/NeLrm5+fvqMNdg0dbzBh3wEx9eMw1rBtaWlreGBkZeUv661216xwVFU6W4LnRPNaZA1nBkP5abZUGGmA9U2QP1GbZonmM0wAyZgakPtRm2aJ53KMBpPsMyNuozbJF8xihAYHMtsdD0infvrqY4A2PqgjbNID5hQGLBunPSbiWJXjTsnp3aQBZ4iOjKKytrb2gNssOzRuef6IBXPF77AEZKDplARFVxbIBT3hTRcDzfRrAiPYde2B3d9e3urq6pYqOuWiwkv9RlyvwhDdVBDxb8fJeUnK8TJ3v9PT0fGvG0dXd3T3FMW5iP2lJaSevRb1aeLNkZCi24mg6FaVdxrbHsRb19vvNhwvSKs9ScJpWkcXL5vj4uM/r9fJyUUkuKpLJ5NMyZ4p1dXW9qfZdSI60Ct8QSKvsGCWNG5fY0qGV5Zxa5Am5dLpDArVck7tX/mpzo9PrJp+LrAAE5Hm8KR84TG70JyYTbt25wAwsN+Ejnwkvj9U72VWkz6zUdaUX1skqm+6r2B+6yf1Pigr+odsOH0IYyq25UwFELGIyGygZTDF4wa71xx75J2oyMV4VfSAq8c9tPJ7/AMGhIeVCwlBfAAAAAElFTkSuQmCC",src1:"",selected:!1},{id:3,hidden:!1,title:"Settings",src:"data:image/png;base64,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",src1:"",selected:!1}]},e)}return(0,i.Z)(n)}(zB),HB=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){return(0,r.Z)(this,n),t.call(this,{className:"ezv-options-menu-bar",open:!1,visible:!1,items:[{id:2,title:"Show Measurements",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAOuSURBVGhD7ZhZqE5RFMePeZ6H3EzJ8CB5MEVKmUIe8SLyJi/KlBd58SwelSTK9GBMkSGSRMpQMr8Q8UTm+br+v/Wd9TnOcLtxHb7u/tfvO2ftfb6z1l5773P22VFQUFBQUItWG7FSHBcvxE2RVnsxRLwyqzwNEx9EvVm/aq64IPpiXBYN4hRGSlxwWlC/nIKShC984tuCTGmHoP5Ra/20okT6Gh9dw8U5MdusKBoYH8uQ+8I3MRBLUsSNPvNzVdCaIxixJokngnI4KPqITqLLXwYf+MKn+38qiMm1W1B+m+xfE+MEf1gkpoqToptwPRbfBHOmDDHu24qhZlX0VswTl8ResVjcEjZxac1+DGmD8Jb/bxAbOiCwb9ADtGKM2COWit5in5gjXGcFPUX3lqGPYryYZVZFPGTI+kvBaFkgiCm6I2jNLoxY7YTPdGAITRBlCV/4dP/EQkyuY4Jy5m/0MDZ2YqS0UfhNjlJQkvDlfokhrROCuisYd2NjC0aOlojk47QM+eMT33k6LIj5DMZMsVnwtq0VMWe3CuZJUNCfiPfAejFN8KatJfGmvkgDmM01K28AbzeWsK9FWeud3xXrpB5iu2DVYA14JspaJjSHiJWYG3xdTU90rJzWhIiVmKsfBjWr0IB/raY0YIZYI0aZldVgsUrMNysrnmosylaI7hTkaIpYK8aalVU/we7JQrNS4in0XPQyKys+dLhmmVlZ8ZlHPR89eWLC8U3LNemPcxcrYerXmZXVREG9b/v0FMRcfQo1pi/xMW9/Bnn5p/iYJ+rY9SCIPPmOSNFq4Ht8tF2IpPIaMEiMEB3MyoqXCMOJnYM88Yon0748Twbt53VipCh697ChgI/+Zv1UJgHJBnglX/z3xGizsuK7+b5YbVZWJOC64KuJXb28rG8TD8Rks7JiPuFjk1mNKK8HyAoTr2h4kWFEcHniBeP7O0Xyl2bRssV9FI2CqjxIsuRj2cdbU20/eqaxuQYY05CsQ0X3LLq3H13Ydk9vAJlgXLIP6V//jD+ySDYRCyeyzhxAjFMy5HuXZJXH5ABBL5BFtgiBc8qo4xrPLP/l3DfRuDc+bJEmeU/6XCA2/kOs1nvc1LPzRnCOA8rfC54OXQUB8CQBbohT6rgGh50F2eMe3NgDYnWLvNHsrpE9fJA8dp95yhEowfGUYU+IZAC9905QxzXEhw/is3cKJ4fEdJHsRi7EAfVpm3PKOKcsbSPvch/jabs5fHA8XzkNCgoKCmqZiqIfdo8B9pIzag8AAAAASUVORK5CYII=",src1:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARqSURBVGhD7ZhbiFVVGMePWnYzAzHLTFOEiIgQy+hCMthFIwI1FR2YHioNqR4iUINwmHopKAQpoqJCMPFBSWRKIjFIejC0hwqxIoNShECx7Gam9futvb/TdvbZMgRznMH9h9/51mXvvb511rfXXms1atWqVavWOa1h3d3dT2KfhVU9PT3vpNKCqB+JmUDd91lJe0S7UzAHafevrOQ/UTcH8xasG85PJ4yDxXCauHAsphf2k16WCtugvK390Jv70FcL4CrotAPDLEEncpvEjVMxO+CeVMAo5LYdirZse0fuS1H6rY4bQp+RmAFbGK55llJ2C2YzXG0emX4Mfoe4eaB0Ci6G1+FBC9BBmI9/+qp/6zAPwV6dGWEh+tsfKu/AbIdwXt0Mu2AvfDXA2IZt2WbIEdme+6bOy+3JUgdQB1yaJZu6BhzGyW3CtmyzKH3SNxU+nzSEviRxA6xniLrIjyG9AWZDyBHZAxel3MDrD7gJ7k65TB9CJz4ewcdNpA2vPQ5Fszf+5Bc8QPI1eMQydC08Q93uLDuwon3DZ0mWS3LKXE77MdGcn9tThlAzk1s7cQIeJbk6K2lMAr8V7ZJt2aZarS8F59VpHYjYP5rbprjpeUwXfAyvWtYm2ZZtduU+9NWfuT3mO3AXiftgLRf/kIoHufDZd9bwXp8KatX6//IdWIGdCfEyDxX5CdhpB/7J8kNT0YEj4BL2Z4gP22CVH9zL4A0YEx04BFOZRv2ED3rhs0ua72B8LI3dE1yYJYeE9DXtY6IDQ1Z1B862YmdTKV6YWZhp0MtL/k0qLIj6iRjX5t9S/34qLIh6ZzWXxqNgA9f8YnlRXHMb5nb4iPovUmFB1F+O8dDhEPXuBZrqzwg8DC+DjbSSC6s18FTKleXS9wVwf6EjrbQQXoJ7U64sd2lrIZb0zW9XfzoQ5zJpw9NCUR5L3FayzvV81Ucz1vpVq4HYqxzPbVOlEGK43Mw7Tf3IcJVuoN6PyBVwmPrDqbAg6n2m+1k3RS7Pi06nNNeMxxhSB7im9O2h3v2v1xyl/qdUmKn0BxRHICrfhX1wfcqV5Qbna6gKGf+Az+EDHPFUr9W/bjj5Pt2acmXdD7bxXMqdQa1CyK+cL15VeMWo6Vwr+YG5BM50ABAfzaplS7RxQW4rFU76L0UsR7z1Nx82/mnzXiPGtBTrVNUzq54dNmQ+PTPWQsbZneCizuOL6eCxyk54G5zCnoA3YSU4tO5bn4a5sBE8enE6vQ4+hQPgMl19AoaWB1OG53vg9LwItoKz3OPgIcKLsBReAZ/rLKhv+mVo6pdHP/o2rricdn42PRoMg9/A2cGXzSF1JhFDw6G1zmsMJY8C/fd8hmERB2OubpUvvjoG/nu24eh7VOksZ8g53Tpp+FIbYuLo/QrWeY3+2Yb++YzGiI6OjhuxV4IP1gmdkhgmHxidMW8jPjRmKMvNx2zifea9R/nMyHu/6Lj5CK++bdgp74mpudiG9T7T9rdBrVq1atU6Z9Vo/AvLE3klxtIV5gAAAABJRU5ErkJggg==",selected:!1},{id:3,title:"Reset Camera",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALVSURBVGhD7Zk9ruJQDIUvsxIkGgSiZglTsBSQqOno6KhgKUjDDqCmgGYkNoIYH8f3xblxfu6QTB4aPuk8Ej/bOSYkN4je8/l078wPeX1bPgN0Dq6BUMKUdCIhUEdrktlPS0BuWF8keIAXu18ukIAC3aSu1mG/UMhR+TEyh7A+QiMSpnbT6dSdTqdcUaj1mt/8KFBj9dLCseFBgCd4y2ANsMWf0WgUNvjn+DcQXgT2prEG+Ik/220utzOUF/aWITxtCCXhFB+roUavAY2KZfvlAiXFFWr8LqRRsUy/3KNEr9fjgI5TjF8plmy0TIyHz0rcNZ8BuqaVi1jy+7yTcg+PVUSMh8IB9OOB364aQA6yIc1IE+woLqQDaVU1SJQHNNMiiu7RpYuUkKnp9/usME4ye3gRtT1YZwAv6egpXGwhNV//3Gw2bjabuckkOQmXy8UdDge3Wq14Xyj8OhvlAYFXRczRKmlXjs9DDXZflRmMkXAlPedzeCoHOciVGrNnjMxgjIgBfEDX65VC5SDH56OWQmbfujKDMYIJmBkM4KUeyG1qgMYWssfjIVvVxORW0cQA7OZ+v/PdpgrkIFd4eZImBoAbdo5bZRUqBzVfk/w11ucqVgRWX/5cV+HzUIPdV9XKQka3SrdYLNxwOOT92+3mdrud2+/3vC+0s5ARtZdxLSFTg7uNuuNomT28iNoe2niYw6q8ICVvf8qNtCPtw2OGxHgoHEDHxVjlAB7Jx/qg+V1l3BPjoZUBXiXGw+crZdd8BuiaqAFwcZVoTZLMYpAjuVYPlqTWA1e6FkJJOMXHaqh0sYOQo/JLpVGxTL/CM3A+n2WLq0qlF5y6oMbqpeXRXkKsATh7uVzyzndAeclNYg3A2Zh6PB674/HIwS7AseFBnYH8u1pw2t7mR75cgIMJ+GHqF0k3KRNfCFY/LSFmCHjgH8msfoXP5O/C/7WQfUfefADn/gCmCRq8t2LeigAAAABJRU5ErkJggg==",src1:"",selected:!1},{id:4,title:"Toggle Fullscreen",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFTSURBVGhD7ZgLDsMgCIbb3awn92idWNqi+MAulpjxJX9smKBMcXbrvu/LzHywnRZLQB2oASoEHqRyXixOSwj4pvFq4nGYIXaQyqVxWgIf4i9WGqe4hdKOOTkXvvyfgBi52KlKWBGrk1mqc69dnLaKhtQAhdjiOMxQcS5o2ClEIbYoDrtKrOsaDNTubaH1tuNhMD1zsCLWZvoEijVAf6S2bQvt2zUgmgMkQOUpnQzdR+VTwVhkXCo2h9wKQHOnfrOlfUfRMwd7I9PGEtDGEtDGEtDGEtDGEtBm+stcdDXFD8VX2VGCsci4VKLrdDDM8kJTTIDacUlfT0AyBzuFtPmvBGBvZuS8sIcc8EFfFhO7yIBCoQLTYb45bRWp/bkrWoHU6RQ95p4CMXKxQRKsiNXJLNu13zo0pAZyYnGY4SByaigUQhqnJaQ3CRbH/pnTxhLQZVm+HmtEo0XD/OEAAAAASUVORK5CYII=",src1:"",selected:!1},{id:5,title:"Toggle Camera Rotate",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAUISURBVGhD7ZlPKHZZHMePWRBZWlBGssOUpqTGn9IrRlgpWciUwmJSpDGEhRpFI0s2ksgGpdnIjDLKv4W8SjQjC6PXgkg2NmzOfL/nnnOee597vY8Hb8+rnm99uuf87u/8zu93nnvPvZcEKaV4z/pGH9+t4gXEWvECYq14AbFWvIBYK15ArPXid6GEhAQeEkGGJj2g7dYluNLH8Pbji/OIZqBOugDUgVrwAw1voC2wDP4C/0aVUyRnnXQV+FEfv6PBKDExUWRkZCjS09N9bery8lJcXV2pY3j78fFR+bj0EfwJ/iYRi6FDEFpcZa4ODZaCggI5MDAgd3d34fo6bW5uyq6uLpmbm+uZQ8O5mUNgjsRvcJQFJoENVlVVJcfHx+XR0RHcvoz29/fl8PCw/PDhg51Xw1yYky9fzyWkLxc6/gG+Z6e2tlb09fWJ0tJSdn26uLgQJycn4vDwUNzc3Ij7+3sPVGpqqoe0tDSRn58v8vLyRHZ2tvIJ1/b2thgdHRUrKyvaoi6tevDJnbOnGigFHNCclZUlJycnYfZraWlJ1tXVyczMTLNCLwb3iYrFmEFiDsxF+++DZJhDOduGozkgU1JS5MHBAcxeTU1NSfwSJpibT2ANjIFfwc/gJ8AVI2zTxnO/Ay7rf8ATh7E5R7h4aSUnJxu/KRBYQCPtZG5uDqaQ1tbWZGVlpQlgWALcTjOBjfNctLhNMQZj2dici3O6xcJcPk0wOXFsQ4gJnmxsbEQ3pKGhIfdAwhVQNwROvwlajMnYdi7O7VZTU5M5N4+uM9Y2hLjmyYmJCXQdhSXPS6QShE886CKPBnM+WrQ4B+dS87qLmJ+fN7ncouuMsQ1dwPX1NbqOeIPpAUN0gMntTzFp40OOwauKIFqcU2KXgsnR7e2tmccW4HuZQwG6hUywzWl9C1L1Nmu22w7wGxuDg4PGNx8sgjzjG630uFbwCxslJSU8KJ2fn+uWS6YSiKsnZ2Zm0HU0PT1tKiY7oBpQDUDZOzo6lO/x8bFEEcY36l9CizvWBlBxysvL5dnZGU47GhsbM/E/ouuMsw0hZniypaUF3ZBYBB4+ZiCZBaqAhoYG7eUo2iK0ckA38LyytLa2SjwI4RZSdXW1OT+GrhPDNoRo0Sfl4uIiTCHt7Oy4B3tobm7WXo6eW4SWXW1DfX293NjYgItXXCyXXzVMThzbcMTrVzlx5cM1Ozsri4uLTRBLe3u79nD0nCIgm3xOTo7s7u6WW1tbHO5TWPL89UNxTEN1HNki2traYPbr7u5Orq+vqy2urKxM4tVZvQ64FakISBUQtNpGXLCioiITg3iSJ56OMjiaBmpQTU2NurHDr0e3Hh4e5OrqqhwZGdEWR0FFwGzmebKA5eVlWVFRYcYZfMkTn0EZHbUBG4D7cU9Pj9zb24PL8+Uq4rMF8Njf3y8LCwvtnBpuGkXAlycJNBKtGsDdie/FNii/DXp7e+XCwoI8PT2F+9OKVEBnZ6f7V3LDT8wK4MvNTaDRjRZf2nvAHnBPokhKSlJvkrwR3YpwCXUCeyNr2O8HhcCXSxCBxqfQ4ndxL1gAp0BNHu0zQYtFGD77zHiKQGMktOzT+LUPtNcQaIwE9FUkTwKNkYBUAbFOngQaIwHZX+CtXuZeSqAxElp8nVYJ43U6JsmTQONz0PoiHzTR8OI/7lL644NFGPHh889rYkarVxXwNSj+D45YK15ArPXOCxDif+qH5L5vkMLWAAAAAElFTkSuQmCC",src1:"data:image/png;base64,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",selected:!1}]},e)}return(0,i.Z)(n)}(zB),VB=(0,i.Z)((function e(t,n){var i,a,o,s,l=this;(0,r.Z)(this,e),this.elem=document.createElement("div"),this.optionsMenu=new HB((function(e){switch(e.id){case 5:l.optionsMenu.toggleSelectItem(5),n.execute("set-auto-rotate",{arg1:l.optionsMenu.getItem(5).selected});break;case 3:n.execute("reset-camera");break;case 4:n.execute("toggle-fullscreen");break;case 1:window.open("https://www.ezyvue.com","_blank").focus();break;case 2:l.optionsMenu.toggleSelectItem(2),n.execute("toggle-measuretool")}})),this.elem.appendChild(this.optionsMenu.elem),this.optionsMenu.show(!1),this.mainMenu=new GB((function(e){switch(e.id){case 4:window.open("https://www.ezyvue.com","_blank");break;case 1:l.help.elem.style.display="block";break;case 2:l.info.elem.style.display="block";break;case 3:l.optionsMenu.toggleVisible()}})),this.elem.appendChild(this.mainMenu.elem),this.help=new UB,this.elem.appendChild(this.help.elem),this.info=new ZB(null===(i=t.state)||void 0===i||null===(a=i.project)||void 0===a?void 0:a.title,null===(o=t.state)||void 0===o||null===(s=o.project)||void 0===s?void 0:s.description),this.elem.appendChild(this.info.elem),this.mainMenu.showItem(1,t.state.viewer.menu.showHelp),this.mainMenu.showItem(2,t.state.viewer.menu.showInfo),this.mainMenu.showItem(3,t.state.viewer.menu.showOptions),this.optionsMenu.showItem(2,t.state.viewer.dimensionsTool.show),this.optionsMenu.selectItem(5,t.state.viewer.autoRotate.enabled)})),WB=function(){function e(t,n){(0,r.Z)(this,e),this.viewer=t,this.measureTool=n}return(0,i.Z)(e,[{key:"execute",value:function(e,t){switch(e){case"set-auto-rotate":this.viewer.orbitCameraController.autoRotate=t.arg1;break;case"reset-camera":this.viewer.setCameraControllerState();break;case"toggle-fullscreen":this.viewer.toggleFullScreen();break;case"toggle-measuretool":this.measureTool.object.visible=!this.measureTool.object.visible}}}]),e}(),qB=function(){function e(){(0,r.Z)(this,e),this.elem=document.createElement("div"),this.elem.className="ezv-progress-container",this.perc=document.createElement("div"),this.perc.className="ezv-white-outlined-text",this.perc.innerText="0%",this.progress=document.createElement("div"),this.progress.className="ezv-progress",this.bar=document.createElement("div"),this.bar.className="ezv-progress-bar",this.bar.style.width=0,this.progress.appendChild(this.bar),this.elem.appendChild(this.perc),this.elem.appendChild(this.progress),this.show(!1)}return(0,i.Z)(e,[{key:"setProgress",value:function(e){e=parseInt(e),this.perc.innerText=e+"%",this.bar.style.width=e+"%",this.forceRedraw()}},{key:"show",value:function(e){this.elem.style.display=e?"block":"none"}},{key:"forceRedraw",value:function(){this.bar.style.display="none",this.bar.offsetHeight,this.bar.style.display="block"}}]),e}(),YB=(0,i.Z)((function e(){(0,r.Z)(this,e),this.elem=document.createElement("div"),this.elem.style.position="absolute",this.elem.style.width="100%",this.elem.style.height="24px",this.elem.style.color="white",this.elem.style.top="0",this.elem.style.left="0",this.elem.style.display="none",this.elem.style.alignItems="center",this.elem.style.justifyContent="center",this.elem.style.backgroundColor="#800000",this.elem.style.zIndex=1e5})),XB="data:image/png;base64,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",JB=(0,i.Z)((function e(){var t=this;(0,r.Z)(this,e),this.elem=document.createElement("div"),this.arButts=document.createElement("div"),this.arButts.className="ezv-xr-button-container",this.elem.appendChild(this.arButts),this.arButt=document.createElement("a"),this.arButt.target="_blank",this.arButt.rel="noopener noreferrer ar",this.arButt.style.display="none";var n=document.createElement("img");n.src=XB,n.className="ezv-xr-button",this.arButt.appendChild(n),this.arButts.appendChild(this.arButt),this.webArButt=document.createElement("img"),this.webArButt.style.display="none",this.webArButt.className="ezv-xr-button",this.webArButt.src=XB,this.webArButt.addEventListener("click",(function(){return t.arCommands&&t.arCommands.onWebARStart()})),this.arButts.appendChild(this.webArButt),this.webArClose=document.createElement("img"),this.webArClose.className="ezv-ar-close-button",this.webArClose.style.display="none",this.webArClose.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAHXSURBVGhD7ZkxTsNAEEUD1KSjITdAFByAFiRKGkTFJZBoOQFnQHRQQU0OQEGLaOm4ABdgnp0FxwJ7dvdbS4Sf9MU6Ejv/YdkJztpsNpusMuuLnyvLKFCaUaA0o0Bp/pXAtuXEcrNYq2FP9maGe/8YgX3LneXMMrcoJdjr2sLezGCWC68AAy7rZcWORSXBHleWw+qohlmuvb0CxxZKN1FIhPKn1dE37M3MXrwC95bberlEjsRv5YFZzOzFK/BuObeoJPrKM4uZvcRcxCoJWXmIEYBcCWl5iBWAVAl5eUgRgFiJQcrDxnQ6XSyj+bA8WfifdJcXGmxZjiwPlk3LIOUhRwA8EnuWQcpDrgD0SbRfA0l5UAhAl0QbWXlQCYBHQloeUu9CfwblGei6VQY4M5whzhRnLBuVgKd8QCqhEOh7k3qxtK8JmUSugOcd9tHy04UtkcgR8H486Lo7ZUukCnjLBwaTSBGILR8YRCJWILV8QC4RI5BbPiCV8AqoygdkEl4BHjhd1MslUsoH+iTeLM/VUQfez0I84nitl1/klA/wu+zBXk2YJX+scmAJEorygbYEM5jl2jv2W0quBZ6Y8ddRlG+StPf4NWtpRoHSjAKlGQVKs+ICk8knUWed5t9NrPkAAAAASUVORK5CYII=",this.webArClose.addEventListener("click",(function(){return t.arCommands&&t.arCommands.onWebARClose()})),this.elem.appendChild(this.webArClose),this.vrButt=document.createElement("img"),this.vrButt.style.display="none",this.vrButt.className="ezv-xr-button",this.vrButt.src="data:image/png;base64,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",this.vrButt.addEventListener("click",(function(){return t.vrCommands&&t.vrCommands.onVRStart()})),this.arButts.appendChild(this.vrButt)})),KB=new ex;var $B=new ex;new My,new My;var eT=function(){function e(t,n,i){(0,r.Z)(this,e),this.containerElem=n,this.rootElem=document.createElement("div"),this.settings=i,this.scene=t,n.appendChild(this.rootElem),this.createLabelsFromScene(t)}return(0,i.Z)(e,[{key:"createLabelsFromScene",value:function(e){var t=this;this.labels=[],e.traverse((function(e){if(e.isPoints){var n=document.createElement("div");n.style.position="absolute",n.style.visibility=e.userData.selected?"visible":"hidden",n.style.top="0",n.style.left="0",n.style.zIndex="1",n.style.marginLeft="0px",n.style.marginTop="0px",n.style.padding="1em",n.style.width="200px",n.style.color="#fff",n.style.background="rgba(0, 0, 0, 0.8)",n.style.borderRadius=".5em",n.style.fontSize="12px",n.style.lineHeight="1.2",n.style.transition="opacity .5s",n.style.overflowX="hidden",n.style.overflowWrap="break-word",n.style.whiteSpace="pre-wrap",n.textContent=e.userData.labelText,t.labels.push({elem:n,object:e}),t.rootElem.appendChild(n)}}))}},{key:"updateLabels",value:function(e){var t=this;this.labels.forEach((function(n){if(n.object.getWorldPosition($B),$B.project(e),$B.z<1){var r=Math.round((.5+$B.x/2)*t.containerElem.clientWidth),i=Math.round((.5-$B.y/2)*t.containerElem.clientHeight);n.elem.style.left=r+t.settings.size/2+"px",n.elem.style.top=i+t.settings.size/2+"px"}else n.elem.style.left="-1000px";n.elem.style.visibility=n.object.userData.selected?"visible":"hidden"}))}}]),e}(),tT=function(){function e(t){(0,r.Z)(this,e),this.cameraController=t,this.camera=t.object,this.targetQuaternion=new $y,this.targetPosition=new ex,this.startPosition=new ex,this.lookAtPoint=new ex,this.startQuaternion=new $y}return(0,i.Z)(e,[{key:"start",value:function(e,t,n,r){this.rotSpeed=.75,this.transSpeed=.75,this.animating=!0,this.startQuaternion.copy(this.camera.quaternion),this.targetQuaternion.copy(t),this.targetPosition.copy(e),this.startPosition.copy(this.camera.position),this.positionAlpha=0,this.rotationAlpha=0,this.cameraState=n,this.onCompleted=r}},{key:"update",value:function(e){this.animating&&(this.rotationAlpha+=this.rotSpeed*e,this.rotationAlpha>=1&&(this.rotationAlpha=1),this.camera.quaternion.slerpQuaternions(this.startQuaternion,this.targetQuaternion,this.rotationAlpha),this.positionAlpha+=this.transSpeed*e,this.positionAlpha>=1&&(this.positionAlpha=1),this.camera.position.lerpVectors(this.startPosition,this.targetPosition,this.positionAlpha),1===this.rotationAlpha&&1===this.positionAlpha&&(this.animating=!1,this.cameraController.setState(this.cameraState),this.onCompleted&&this.onCompleted()))}}]),e}(),nT=new ex,rT=new My,iT=new My,aT=function(){function e(t,n){var i=this;(0,r.Z)(this,e),this.cameraController=n,this.annotations=[],this.selectedIndex=0,t.traverse((function(e){e.isPoints&&i.annotations.push(e)})),this.cameraAnimation=new tT(n)}return(0,i.Z)(e,[{key:"deleselectAll",value:function(){var e=this;this.annotations.forEach((function(t,n){return e.selectAnnotation(t,n,!1)}))}},{key:"update",value:function(e){this.cameraAnimation.update(e)}},{key:"getMoveStatus",value:function(){return{canMoveNext:this.selectedIndex<this.annotations.length-1,canMovePrev:this.selectedIndex>0}}},{key:"next",value:function(){return this.selectedIndex<this.annotations.length-1&&(++this.selectedIndex,this.deleselectAll(),this.selectAnnotation(this.annotations[this.selectedIndex],this.selectedIndex,!0)),this.getMoveStatus()}},{key:"prev",value:function(){return this.selectedIndex>0&&(--this.selectedIndex,this.deleselectAll(),this.selectAnnotation(this.annotations[this.selectedIndex],this.selectedIndex,!0)),this.getMoveStatus()}},{key:"selectAnnotationTest",value:function(e,t,n,r,i,a){var o=this,s=a/2;rT.set(e,t),this.annotations.forEach((function(e,t){if(e.isPoints){if(e.userData.selected=!1,e.getWorldPosition(nT),nT.project(n),nT.z>1)return null;iT.set(Math.round((.5+nT.x/2)*r),Math.round((.5-nT.y/2)*i));var a=iT.distanceTo(rT);o.selectAnnotation(e,t,a<s)}}))}},{key:"selectAnnotation",value:function(e,t,n){var r=this;if(e&&(e.userData.selected=n,n)){this.selectedIndex=t;var i=new $y;i.setFromRotationMatrix(e.userData.cameraState.matrix);var a=new ex;a.setFromMatrixPosition(e.userData.cameraState.matrix),this.cameraAnimation=new tT(this.cameraController),this.cameraController.enabled=!1,this.cameraAnimation.start(a,i,e.userData.cameraState,(function(){return r.cameraController.enabled=!0}))}}}]),e}(),oT=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"update",value:function(){}},{key:"onEvent",value:function(){}}]),e}(),sT=function(){function e(t){(0,r.Z)(this,e),this.commands=t,this.onNextClick=this.onNextClick.bind(this),this.onPrevClick=this.onPrevClick.bind(this),this.elem=document.createElement("div"),this.elem.style.visibility="visible",this.prevButt=document.createElement("img"),this.prevButt.className="ezv-annotation-control-left-button",this.prevButt.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMzSURBVGhD7Zm9ixpBGMZ3g8UVFimusLAIxCLFFSn8SCFoaZE/IIV/iIELFhYpUlpcYWFhwIBtCiHFIRYp0qQM3AUCCrEIKlxhQGTyPJPZYC6vers7ekzwBw/j7Lzzzrs7HzvueEeOxMM3aWyUUk+RPIceQ4+gNJSCyAQaQ9+gr9B73/c/I71fGDR0AY2gsLAO6/LGIxOpB9Aon+5rqKovgPF47PX7fW8wGOjf1GTCB49uSKW8dDqtVSqVvEqlon+v8RZ6iV5hL+0PBJ6AGqvV6idStVwuVbPZVMViUbE4jFiHdReLBV0p47MBJVBuHzg+hT5Amk6nozKZjBhcGNFHu902XjVs4yHK7AGHZ3hC1/Q+Go1UNpsVg4kj+qRvgra+IHmC6/GBI07UGzoeDocK41kMwIbom20Q3MQPJPFuAg5ScDSmw16vpxKJhNiwTbGNbrfLJoOeiDacUPEE+khHfCqHCD4Q2wp6AnBOhJ/YqPSGtTkubQyber2uJZVJYpvBnAANXLs7qJCBlqxpY8Iy8IAwN8G2CYYSl9i/XhxbgbEehFwqmY2j9eADarWaaCtpbYntIL8bGHLV0S+puOu8FPx0Og3Vq4wheNmB3dsOGHF/ot+SzEaVFPxsNlO5XE603ybGYrhAfjsw0jMnyvYgkM3gKcZiGCG/GRjo4cPZz2wU2Q4+0NqKtHkYofCcFq1WS3SyS/sKnmJMhnPkZVCop3y1WhWdbNOm4PP5vGgfVozJ0EZeBoWXtCiXy6KTTZKCn8/n1oKnGJPhEnkZFF7RIszyuSn4QqEg2kcVYzJcIS+DQr3rTCaTopPbOlTwFGMy3CD/hwcm/T/A3Tk/hJyfxM4vo86/yNzeShAYuLuZIzByfjvt9h8aAkN3/1ISGLv9p56ggrufVQgq8cPWJ9Z28sMWQcUU9J1e7unTIj8on+J6dODgGXTwj7uAbZ7henzgiDehe4Lj0sbEvi36XBvz/BHr6Okf4JDDSc8JsscDDn5QDg4H7QLHnNhcnfQSa/OICdAnfZ+g/M5EPeTLIOHS9kJfADEP+d5Br3zfv/6dPRC4EW473DtmlTCBuHXQfeSI5/0CLLGb1u0UpocAAAAASUVORK5CYII=",this.prevButt.addEventListener("click",this.onPrevClick),this.nextButt=document.createElement("img"),this.nextButt.className="ezv-annotation-control-right-button",this.nextButt.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAM0SURBVGhD7Zk/ixpBGMZ3g8UVFimusLAIxCLFFSn8k0LQ0iIfIIUfxMAFC4sUV1pcYWFhwIBtCiHFIRYp0qQM3AUCCrniUOEKAyKT55nMhhXGnLMz3mWCP3hYZ2fmnfednZkdZ4MDB+wI1dUaIcRzXF5CT6EnUBbKQOQamkLfoW/QhzAMv+D6sNBp6ByaQKawDusy8MQkegJolL37FqrLG2A6nQbD4TAYjUbyN3V9zY7HY8hkgmw2K1WpVIJarSZ/x3gHvcZT4VPaH3A8BbXW6/VPXMVyuRTtdluUy2XBbBOxDuuuViuaEspmC0oh3z0w/Bj6CEm63a7I5XJa50xEG71eT1mVsI1j5LkDBp+hh77S+mQyEfl8XuuMjWiTtgnausLlBPftgSE6f0PD4/FYYDxrHXAh2mYbilvIaoLLYRP1fL/fF6lUStuwS7GNwWDAJvkkprhES7EZqMgJK8c8e+U+nI/EtmJP4hN0hPtmoBJXBDkuTYZNs9mU0uWZiG1GcwKc4d7uoEIWj08ulSYTlo5HuAiCbSu41uZwbzdQWK5rXCqZ3EWNRoNVNnARRGyJ7SN9NyjI7YF8SZms8+yt2WzGqhvYBkEfopcduHtVQiHuT+RbkkkTFQoFMZ/PWX0D2yDoi+Ic6b+DQnLmJNkeUPsIgr4oJkhvBwXk8OHsZzKp9hFEbEXaPoyQecoSnU5Ha8REroOgT4pTpPUgs8sS9Xpda8RUxWLRWRD0SdFFWg8yL1iiWq1qjSQRg1gsFjS7gWkQ9ElxgbQeZF6yhIttclylUsk6CPqkuERaDzK5AxTpdFprxEa2QdAnxS3Sf3ikrv8HiM77IeT9JPZ+GfX+Reb3VoKggL+bOYJC3m+n/f5DQ1DQ37+UBIX9/lNPUMHfYxWCSv/KwdZnyPxgi6DiMYYSD1of5GgR/ICSHS1GwMAJJLfZ7BWT4WQq2o71PNt8gfv2wBCXVjkgOS5NJvauos3YmGfPu3E+AgYzEA9aJXv8wMExbzdstgHDR9AZJN8sLj8xAf6gbaMJm/QjH9fkFvRK3gCWH/neQ2/CMLz6nbwnEAjnhn+fWXUoR/z60H3gQBD8Aqyim9Ygux6uAAAAAElFTkSuQmCC",this.nextButt.addEventListener("click",this.onNextClick),this.elem.appendChild(this.prevButt),this.elem.appendChild(this.nextButt),this.showPrevButton(!1),this.showNextButton(!0)}return(0,i.Z)(e,[{key:"showPrevButton",value:function(e){this.prevButt.style.opacity=e?"0.5":"0.1"}},{key:"showNextButton",value:function(e){this.nextButt.style.opacity=e?"0.5":"0.1"}},{key:"onNextClick",value:function(){var e=this.commands.execute("next");this.showNextButton(e.canMoveNext),this.showPrevButton(e.canMovePrev)}},{key:"onPrevClick",value:function(){var e=this.commands.execute("prev");this.showNextButton(e.canMoveNext),this.showPrevButton(e.canMovePrev)}},{key:"show",value:function(e){this.elem.style.visibility=e?"visible":"hidden"}}]),e}(),lT=function(){function e(t){(0,r.Z)(this,e),this.controller=t}return(0,i.Z)(e,[{key:"execute",value:function(e){switch(e){case"next":return this.controller.next();case"prev":return this.controller.prev()}}}]),e}(),uT=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i,a){var o;return(0,r.Z)(this,n),(o=t.call(this)).world=e,o.domEl=i,o.settings=a,o.rayCaster=new qI,o._controller=new aT(e.sceneRoot,e.cameraController),o._labels=new eT(e.sceneRoot,i,a),e.sceneRoot.traverse((function(e){e instanceof kS&&function(e,t,n,r,i,a,o,s){e.material.map.dispose(),e.material.map=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000000",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#ffffff",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#ffffff",i=arguments.length>4?arguments[4]:void 0,a=document.createElement("canvas").getContext("2d");if(a.canvas.width=64,a.canvas.height=64,i)a.drawImage(i,0,0);else{var o=2*Math.PI;a.fillStyle=t,a.beginPath(),a.arc(32,32,32,0,o),a.fill(),a.strokeStyle=r,a.lineWidth=4,a.beginPath(),a.arc(32,32,30,0,o),a.stroke(),a.fillStyle=n,a.font="32px sans-serif",a.textAlign="center",a.textBaseline="middle",a.fillText(e+"",32,32)}var s=new DS(a.canvas);return s.minFilter=Gv,s.wrapS=Fv,s.wrapT=Fv,s}(n,i,a,o),e.material.size=t,e.userData={buttonText:n,labelText:r,size:t,fillColor:i,textColor:a,borderColor:o,cameraState:s}}(e,a.size,e.userData.buttonText,e.userData.labelText,a.fillColor,a.textColor,a.borderColor,e.userData.cameraState)})),o._ui=new sT(new lT(o.controller)),o}return(0,i.Z)(n,[{key:"ui",get:function(){return this._ui}},{key:"controller",get:function(){return this._controller}},{key:"labels",get:function(){return this._labels}},{key:"update",value:function(e){this.labels&&this.labels.updateLabels(this.world.cameraController.object),this.controller&&this.controller.update(e),this.updateAnnotationsVisibility()}},{key:"updateAnnotationsVisibility",value:function(){var e=this;this.world.sceneRoot.traverse((function(t){t instanceof kS&&t.parent&&function(e,t,n,r){var i=function(e,t){var n=[];return e.traverse((function(e){e.isMesh&&(!0&&n.push(e))})),n}(t);!function(e,t,n,r){e.getWorldPosition(KB),KB.sub(r.position);var i=KB.length();i*=.98,KB.normalize(),n.set(r.position,KB);var a=n.intersectObjects(t,!0);return a.length>0&&a[0].distance<i}(e,i,n,r)?e.material.opacity=1:e.material.opacity=.1}(t,e.world.sceneRoot,e.rayCaster,e.world.cameraController.object)}))}},{key:"onEvent",value:function(e){"pointerup"===e.type&&this.controller&&this.controller.selectAnnotationTest(e.offsetX,e.offsetY,this.world.cameraController.object,this.domEl.clientWidth,this.domEl.clientHeight,this.settings.size)}}],[{key:"sceneHasAnnotations",value:function(e){var t=!1;return e.traverse((function(e){e instanceof kS&&(t=!0)})),t}}]),n}(oT),cT=function(){function e(t,n){var i=this;(0,r.Z)(this,e),this._clips=n,this._mixer=new WI(t),this._mixer.addEventListener("finished",(function(e){i.onClipEndEventHandler&&i.onClipEndEventHandler(e.action),e.action.userData.finished=!0,e.action.userData.openState=e.action.userData.openState?0:1}))}return(0,i.Z)(e,[{key:"clips",get:function(){return this._clips}},{key:"mixer",get:function(){return this._mixer}},{key:"update",value:function(e){this._mixer&&this._mixer.update(e)}},{key:"playClip",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this._mixer.clipAction(e);i.userData||(i.userData={}),i.isRunning()&&i.repetitions!==Number.POSITIVE_INFINITY||(void 0===i.userData.openState&&(i.userData.openState=0),t&&(n=!1),n&&!t||(i.userData.openState=0),i.setLoop(2201,t?Number.POSITIVE_INFINITY:1),i.userData.finished&&n&&(i.timeScale=i.userData.openState?-1:1),i.clampWhenFinished=!1,i.enable=!0,this.currentAction&&this.currentAction!==i?this.currentAction.fadeOut(r):r=0,i.reset().fadeIn(r).play(),i.finished=!1,this.currentAction=i)}},{key:"getClipByName",value:function(e){return this._clips.find((function(t){return t.name===e}))}},{key:"stopClip",value:function(e){this._mixer.clipAction(e).stop()}},{key:"stopAll",value:function(){var e=this;this._clips.forEach((function(t){e._mixer.clipAction(t).stop()}))}},{key:"pauseClip",value:function(e){var t=this._mixer.clipAction(e);t.isRunning&&(t.paused=!0)}},{key:"unPauseClip",value:function(e){this._mixer.clipAction(e).paused=!1}},{key:"isClipPlaying",value:function(e){return this._mixer.clipAction(e).isRunning()}},{key:"isClipPaused",value:function(e){return this._mixer.clipAction(e).paused}},{key:"isAnyClipPlaying",value:function(){var e=this;return this._clips.forEach((function(t){if(e._mixer.clipAction(t).isRunning)return!0})),!1}}]),e}(),hT=function(){function e(){var t=this;(0,r.Z)(this,e),this.elem=document.createElement("div"),this.ctlElem=document.createElement("div"),this.ctlElem.className="ezv-anim-control-container",this.prevButt=document.createElement("img"),this.prevButt.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAI6SURBVGhD7ZlNiiJBEEbLWQkeQLyBJ3A/oOBeTzB4AvECrmah4AEEL+AFBBscmKVLd249ggfI+SKNzP5miE5/p4ts6sHDICIy7IDutqqsOeeKnPmmr9lSLVA21QJlUy1QNtkvcPWDrFaryYvV9At+f9UHob5PE/6UQPlxdb40pJSWhDvrzL0qA3iEPH9l9bNmkg3DmN1uF97gqQWUOlxAP7PZbLrVahXmo80+GzSTLA2KvGIBpQf30M8bDAbueDyi7Bu8EqY0kywNijy7gDKFfk69XneLxQKld0JNwpRmkqVBkUcXUDpwC/2MXq/n9vs9yn8T6hKmNJMsDYo8soAyhmfoz0+nU5RsQo+EKc0kS4Mi9yygtOEa+nOdTsdtt1uUPyb0SpjSTLI0KHLrAsoInqA/Mx6P3fl8RjlN6JcwpZlkaVDk2gJKCy6h72232269XqN8G+GchCnNJEuDIqkFlCE8QN83Go3c6XRC+XbCWQlTmkmWBkWsBZQGnEFfb7Vabrlc+jP3EmZImNJMsjQo8u8CShf+hr42HA7d4XC4HHiAMEfClGaSpUERY4H4wzcaDTebzS6NTyCzRAlTvvRyutvtFpvNpphMJpr5/1Q3NMzb21vR7/eL+XyumU/A+r1ipeXS9s6X+yMWlTz/jbJKfh9krJLnpQSr5Hcxxyp5Xk6zSn43NKyS5y0lq+R3U88qeT5WCSqf82DrA59aIKg89Ggx+4e71desZVMtUDbVAmVTLVA2mS9QFH8ArquiikbBbHsAAAAASUVORK5CYII=",this.prevButt.className="ezv-anim-control-button",this.playButt=document.createElement("img"),this.playButt.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMdSURBVGhD7dk/aFpRFAbwZ6GbRRAEhwxCiruDOLh1EATBIZuQxkC2DIIgXQVBcOhmQSo4pDhILYKjIDg4OwiCQzYL1aGbIDh4+92X3HDbnOQ833v2JeAHP8RDvPd+/o3oE0IYrzlv7i9fbY4FvM6xgNex9S7k8/nkRdi8cpelV+9mdgvIw3+9u2bmO3zzpITcdF9IXwqHw/KK0oVTIG9zKOSQg8gCot/vi/Pzc73EFopA3u4QHL+Ib25ujG63a5yemnf+W/gMIzzNEvevlcOGasVBHh4Ble12K4rFov5oSFUg13ALOeQgjwqojEYjkUgk9BIzyAC5llPkkIM8WUClWq3qJaQmBIFc0y5yyEHYAjKz2UxkMhm9xAryQK5rBznkIJYKqDSbTREMBvUiPYgCuf4+yCEH2auAzGq1Evl8Xi+xgxKQe1hFDjnI3gVUer2eiEajepExJIHci0MOOYjtAjK73U6USiW9hFQD84MDf2IZOeQgjgqojMdjkUwm9RJzyAK5L4UcchBXCqjUajWBT229SAtCQO6vI4ccxNUCMvP5XGSzWb3Eb7gC8gwKOeQgrhdQabVaIhQK/VUCY/Ic0ov7RnZ5eWng0TCursw7n82L/EqJ/6dMVvKiCiyXS+Pi4sI4Ozszbm9v5Ui2eL4J9bziIK6/BhqNhggEAuq5L/2A90CeQSGHHMS1AtPpVKTTaf3gv+AjkHv/ixxyEFcKVCoV/eBSAwJA7kshhxzEUYHhcCji8bh+8CmkgdzvOeSQg9gqsNlsRKFQ0A8uVYDcxwpyyEH2LtDpdEQkEtEPPoQ4kHtYRQ45iOUCi8VC5HI5/eAbKAC59r7IIQexVKBerwu/368fvgMRINe1gxxykGcLTCYTkUql9IMvIAfkek6QQw7yZIFyuawfXKqDH8i1nCKHHORRgcFgIGKxmH7wCaSAXMMt5JCDPBRYr9fi+vpaP7hUBvK2biOHHEQWWLfbbXFycqIffAAxIG93CHZ/H2jj4h18MAd3+QRf7KznJE5+oZElVOThf/7vw8scf+j2OscCXudYwOu88gKG8QfnD4Dv1BoLBQAAAABJRU5ErkJggg==",this.playButt.className="ezv-anim-control-button",this.pauseButt=document.createElement("img"),this.pauseButt.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADVSURBVGhD7ZlRCsMgEES19F4ereZk1ZPZnWCghVrTIkwX5sGigc2Yl0A+NLbWgmcufXSLBNhIgI17gelvNMaIIVslTE5SrfKRvSJjCBo+lYGF72j9otC/L74qY1RnvgAWv+WcQ0rzF1hrDeg1NsveJysyhhwmozIQ0CzQLuegD/24zy6XZYxKfyE2EmAjATYSYCMBNhJgIwE2EmAjATYSYCMBNhJgIwE27gWufTxFKaXPfmdFxgvvNkyfy8DGrOvtdQx4gL884NBBNxsJsJEAG+cCITwA2TFssrVGR6kAAAAASUVORK5CYII=",this.pauseButt.className="ezv-anim-control-button",this.nextButt=document.createElement("img"),this.nextButt.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHPSURBVGhD7ZkxboMwFIahE+IAESfgAlygKENmLsAJWDNU3ICwM7FyBZQhytCFkZWRtSMXcH+T2KVAE9pGMU/yJ32CWPaz/yiJgZiMMYMyL9cjWXQA1egAqtEBVEM+wN2NzDRNfsj7Fxfe4MejNsBr/TN85Scj7m+0vMMtAV88PxE2MICz/X8r4Isf1v/muP/Y2caholCe52yz2cjCMIUWnB23VNAHOJ/PePkFb7uUnh8nnG0cOijEmqZhQRDI4rCCPpyMWyp4XgBBmqbMsiw5CYzhZOwSwfMDcKqqYr7vy4lgCT04qXFLoCaAII5jORnsYAQndX4SqA3AKcuSeZ4nJ4UFdOGk3ligPgCn6zoWRZGcGLYwhJOaQ8E6AgiKomCu68oFwAw6cFKbC9YVgNO2LQvDUC4C1nB28wPrCyDIsow5jiMXAxNow2H99Qbg1HU93vze4RaK+usOIEiShNm2LRbWh0AzDv8L8LTL6f1+bxyPR2O77d/8h6FvaJZyOByM3W5nnE6na8uDmPtcDeVdLt3+BukvMdmfUdIbGdlLCdIXc6Qvp8ne0JC+pSR7U0/6sQrlB1urfrRI/uGu/ptVNTqAanQA1egAqiEewDA+AeGmoJd7UA6SAAAAAElFTkSuQmCC",this.nextButt.className="ezv-anim-control-button ezv-drop-shadow",this.loopButt=document.createElement("img"),this.loopButt.src="data:image/png;base64,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",this.loopButt.className="ezv-anim-control-button",this.titleElem=document.createElement("div"),this.titleElem.className="ezv-anim-control-title ezv-black-outlined-text",this.elem.appendChild(this.ctlElem),this.elem.appendChild(this.titleElem),this.ctlElem.appendChild(this.prevButt),this.ctlElem.appendChild(this.playButt),this.ctlElem.appendChild(this.pauseButt),this.ctlElem.appendChild(this.nextButt),this.ctlElem.appendChild(this.loopButt),this.playButt.addEventListener("click",(function(){t._viewModel&&t._viewModel.play(),t.flashButton(t.playButt)})),this.pauseButt.addEventListener("click",(function(){t._viewModel&&t._viewModel.pause(),t.flashButton(t.pauseButt)})),this.nextButt.addEventListener("click",(function(){t._viewModel&&t._viewModel.next(),t.flashButton(t.nextButt)})),this.prevButt.addEventListener("click",(function(){t._viewModel&&t._viewModel.prev(),t.flashButton(t.prevButt)})),this.loopButt.addEventListener("click",(function(){t._viewModel&&t._viewModel.toggleLoop()})),this.update()}return(0,i.Z)(e,[{key:"flashButton",value:function(e){e.style.filter="invert(85%)",setTimeout((function(){e.style.filter="none"}),200)}},{key:"update",value:function(){this.state&&(this.playButt.style.display=this.state.playButtVisible?"block":"none",this.pauseButt.style.display=this.state.playButtVisible?"none":"block",this.nextButt.style.opacity=this.state.nextButtDisabled?"0.3":"1",this.prevButt.style.opacity=this.state.prevButtDisabled?"0.3":"1",this.loopButt.style.opacity=this.state.loop?"1":"0.3",this.titleElem.textContent=this.state.title)}},{key:"viewModel",set:function(e){this._viewModel=e}}]),e}(),dT=function(){function e(t,n){var i=this;(0,r.Z)(this,e),this.player=t,this.view=n,this.selectedClip=t.clips.length?t.clips[0]:null,this.state={playButtVisible:!0,nextButtDisabled:!1,prevButtDisabled:!0,loop:!1,title:""},this.player.onClipEndEventHandler=function(){i.state.playButtVisible=!0,i.updateView()},this.updateView()}return(0,i.Z)(e,[{key:"selectedClipIndex",get:function(){var e=this;return this.player.clips.findIndex((function(t){return t===e.selectedClip}))}},{key:"selectClip",value:function(e){this.selectedClip=e,this.setButtSate(),this.updateView()}},{key:"play",value:function(e){this.selectedClip&&(e&&(this.state.loop=e),this.player.isClipPaused(this.selectedClip)?(this.player.unPauseClip(this.selectedClip),this.state.playButtVisible=!1):(this.player.playClip(this.selectedClip,e||this.state.loop),this.state.playButtVisible=!1),this.state.title=this.selectedClip.name,this.updateView())}},{key:"pause",value:function(){this.selectedClip&&this.player.isClipPlaying(this.selectedClip)&&(this.player.pauseClip(this.selectedClip),this.state.playButtVisible=!0,this.updateView())}},{key:"next",value:function(){this.selectedClip&&(this.selectedClipIndex<this.player.clips.length-1&&(this.selectedClip=this.player.clips[this.selectedClipIndex+1],this.play()),this.setButtSate(),this.updateView())}},{key:"prev",value:function(){this.selectedClip&&(this.selectedClipIndex>0&&(this.selectedClip=this.player.clips[this.selectedClipIndex-1],this.play()),this.setButtSate(),this.updateView())}},{key:"toggleLoop",value:function(){this.state.loop=!this.state.loop,this.play(),this.updateView()}},{key:"setButtSate",value:function(){this.state.nextButtDisabled=!1,this.state.prevButtDisabled=!1,this.selectedClipIndex==this.player.clips.length-1&&(this.state.nextButtDisabled=!0),this.selectedClipIndex||(this.state.prevButtDisabled=!0)}},{key:"updateView",value:function(){this.view.state=(0,wa.Z)({},this.state),this.view.update()}}]),e}(),fT=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e,i){var a;if((0,r.Z)(this,n),(a=t.call(this)).scene=e,a.settings=i,a.players=[],n.deserializeAnimations(e),e.traverse((function(e){var t;(null===e||void 0===e||null===(t=e.animations)||void 0===t?void 0:t.length)&&(e.animationPlayer=new cT(e,e.animations),a.players.push(e.animationPlayer))})),a.players.length>0){a.view=new hT,a.viewModel=new dT(a.players[0],a.view),a.view.viewModel=a.viewModel;var o=i.startAnimation;o&&a.players.length&&(a.viewModel.selectClip(a.players[0].getClipByName(o)),a.viewModel.play(i.loopStartAnimation))}return(0,jm.Z)(a)}return(0,i.Z)(n,[{key:"update",value:function(e){this.scene.traverse((function(t){t.animationPlayer&&t.animationPlayer.update(e)}))}}],[{key:"deserializeAnimations",value:function(e){e.traverse((function(e){e.userData.animations&&(e.animations=[],e.userData.animations.forEach((function(t){e.animations.push(iI.parse(t))})))}))}},{key:"sceneHasAnimations",value:function(e){n.deserializeAnimations(e);var t=!1;return e.traverse((function(e){var n;(null===e||void 0===e||null===(n=e.animations)||void 0===n?void 0:n.length)&&(t=!0)})),t}}]),n}(oT);function pT(e,t,n){var r=function(e){var t=document.createElement("canvas").getContext("2d");return t.canvas.width=128,t.canvas.height=64,t.fillStyle="#000000",t.font="32px sans-serif",t.textAlign="center",t.textBaseline="middle",t.fillText(e,64,32),new DS(t.canvas)}(e);r.minFilter=Gv,r.wrapS=Fv,r.wrapT=Fv;var i=new dw(t,n),a=new Ab({side:Wm});return a.map=r,a.depthWrite=!1,a.transparent=!0,a.format=ag,new zb(i,a)}function AT(e){return e<1?(100*e).toFixed(2)+" cm":e.toFixed(2)+" m"}var mT=function(){function e(t){(0,r.Z)(this,e);var n=new ex(t.position.x,t.position.y,t.position.z),i=new ex(t.scale.x,t.scale.y,t.scale.z),a=new Ux(t.rotation.x,t.rotation.y,t.rotation.z);t.position.set(0,0,0),t.scale.set(1,1,1),t.rotation.set(0,0,0);var o=new eM(t);this._object=new tb,function(e,t,n){var r=[],i=t.min,a=t.max,o=new ex;t.getSize(o);Math.max(o.x,o.y);var s=.05*Math.max(o.y,o.z);r.push(new ex(i.x,i.y,i.z)),r.push(new ex(i.x-s,i.y,i.z)),r.push(new ex(i.x-s,i.y,i.z)),r.push(new ex(i.x-s,i.y,a.z)),r.push(new ex(i.x-s,i.y,a.z)),r.push(new ex(i.x,i.y,a.z));var l=(new kb).setFromPoints(r),u=new fS({color:0}),c=new yS(l,u);e.add(c);var h=pT(AT(o.z),4*s,2*s);h.rotateX(-Math.PI/2),h.rotateZ(-Math.PI/2),h.position.set(i.x-2*s,i.y,i.z+(a.z-i.z)/2),e.add(h)}(this._object,o.boundingBox),function(e,t,n){var r=[],i=t.min,a=t.max,o=new ex;t.getSize(o);Math.max(o.x,o.y);var s=.05*Math.max(o.y,o.z);r.push(new ex(i.x,i.y,i.z)),r.push(new ex(i.x-s,i.y,i.z)),r.push(new ex(i.x-s,i.y,i.z)),r.push(new ex(i.x-s,a.y,i.z)),r.push(new ex(i.x-s,a.y,i.z)),r.push(new ex(i.x,a.y,i.z));var l=(new kb).setFromPoints(r),u=new fS({color:0}),c=new yS(l,u);e.add(c);var h=pT(AT(o.y),4*s,2*s);h.rotateZ(Math.PI/2),h.position.set(i.x-2*s,i.y+(a.y-i.y)/2,i.z),e.add(h)}(this._object,o.boundingBox),function(e,t,n){var r=[],i=t.min,a=t.max,o=new ex;t.getSize(o);Math.max(o.x,o.y);var s=.05*Math.max(o.y,o.z);r.push(new ex(i.x,i.y,i.z)),r.push(new ex(i.x,i.y,i.z-s)),r.push(new ex(i.x,i.y,i.z-s)),r.push(new ex(a.x,i.y,i.z-s)),r.push(new ex(a.x,i.y,i.z-s)),r.push(new ex(a.x,i.y,i.z));var l=(new kb).setFromPoints(r),u=new fS({color:0}),c=new yS(l,u);e.add(c);var h=pT(AT(o.x),4*s,2*s);h.rotateX(-Math.PI/2),h.rotateZ(Math.PI),h.position.set(i.x+(a.x-i.x)/2,i.y,i.z-2*s),e.add(h)}(this._object,o.boundingBox),t.position.copy(n),t.scale.copy(i),t.rotation.copy(a)}return(0,i.Z)(e,[{key:"object",get:function(){return this._object}}]),e}(),vT=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this))._measureTool=new mT(e),i.measureTool.object.visible=!1,e.add(i.measureTool.object),i}return(0,i.Z)(n,[{key:"measureTool",get:function(){return this._measureTool}}]),n}(oT);function gT(e){return gT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gT(e)}var yT=/^\s+/,xT=/\s+$/;function bT(e,t){if(t=t||{},(e=e||"")instanceof bT)return e;if(!(this instanceof bT))return new bT(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return"string"==typeof e&&(e=function(e){e=e.replace(yT,"").replace(xT,"").toLowerCase();var t,n=!1;if(NT[e])e=NT[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=JT.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=JT.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=JT.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=JT.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=JT.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=JT.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=JT.hex8.exec(e))?{r:zT(t[1]),g:zT(t[2]),b:zT(t[3]),a:WT(t[4]),format:n?"name":"hex8"}:(t=JT.hex6.exec(e))?{r:zT(t[1]),g:zT(t[2]),b:zT(t[3]),format:n?"name":"hex"}:(t=JT.hex4.exec(e))?{r:zT(t[1]+""+t[1]),g:zT(t[2]+""+t[2]),b:zT(t[3]+""+t[3]),a:WT(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=JT.hex3.exec(e))&&{r:zT(t[1]+""+t[1]),g:zT(t[2]+""+t[2]),b:zT(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==gT(e)&&(KT(e.r)&&KT(e.g)&&KT(e.b)?(t=function(e,t,n){return{r:255*OT(e,255),g:255*OT(t,255),b:255*OT(n,255)}}(e.r,e.g,e.b),o=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):KT(e.h)&&KT(e.s)&&KT(e.v)?(r=HT(e.s),i=HT(e.v),t=function(e,t,n){e=6*OT(e,360),t=OT(t,100),n=OT(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,o,a,a,s,n][l],g:255*[s,n,n,o,a,a][l],b:255*[a,a,s,n,n,o][l]}}(e.h,r,i),o=!0,s="hsv"):KT(e.h)&&KT(e.s)&&KT(e.l)&&(r=HT(e.s),a=HT(e.l),t=function(e,t,n){var r,i,a;function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=OT(e,360),t=OT(t,100),n=OT(n,100),0===t)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,r,a),o=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=UT(n),{ok:o,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function wT(e,t,n){e=OT(e,255),t=OT(t,255),n=OT(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),s=(a+o)/2;if(a==o)r=i=0;else{var l=a-o;switch(i=s>.5?l/(2-a-o):l/(a+o),a){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function CT(e,t,n){e=OT(e,255),t=OT(t,255),n=OT(n,255);var r,i,a=Math.max(e,t,n),o=Math.min(e,t,n),s=a,l=a-o;if(i=0===a?0:l/a,a==o)r=0;else{switch(a){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function ET(e,t,n,r){var i=[GT(Math.round(e).toString(16)),GT(Math.round(t).toString(16)),GT(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function ST(e,t,n,r){return[GT(VT(r)),GT(Math.round(e).toString(16)),GT(Math.round(t).toString(16)),GT(Math.round(n).toString(16))].join("")}function IT(e,t){t=0===t?0:t||10;var n=bT(e).toHsl();return n.s-=t/100,n.s=ZT(n.s),bT(n)}function MT(e,t){t=0===t?0:t||10;var n=bT(e).toHsl();return n.s+=t/100,n.s=ZT(n.s),bT(n)}function _T(e){return bT(e).desaturate(100)}function kT(e,t){t=0===t?0:t||10;var n=bT(e).toHsl();return n.l+=t/100,n.l=ZT(n.l),bT(n)}function BT(e,t){t=0===t?0:t||10;var n=bT(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),bT(n)}function TT(e,t){t=0===t?0:t||10;var n=bT(e).toHsl();return n.l-=t/100,n.l=ZT(n.l),bT(n)}function RT(e,t){var n=bT(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,bT(n)}function DT(e){var t=bT(e).toHsl();return t.h=(t.h+180)%360,bT(t)}function PT(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=bT(e).toHsl(),r=[bT(e)],i=360/t,a=1;a<t;a++)r.push(bT({h:(n.h+a*i)%360,s:n.s,l:n.l}));return r}function LT(e){var t=bT(e).toHsl(),n=t.h;return[bT(e),bT({h:(n+72)%360,s:t.s,l:t.l}),bT({h:(n+216)%360,s:t.s,l:t.l})]}function QT(e,t,n){t=t||6,n=n||30;var r=bT(e).toHsl(),i=360/n,a=[bT(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(bT(r));return a}function jT(e,t){t=t||6;for(var n=bT(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(bT({h:r,s:i,v:a})),a=(a+s)%1;return o}bT.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=UT(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=CT(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=CT(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=wT(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=wT(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return ET(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var a=[GT(Math.round(e).toString(16)),GT(Math.round(t).toString(16)),GT(Math.round(n).toString(16)),GT(VT(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*OT(this._r,255))+"%",g:Math.round(100*OT(this._g,255))+"%",b:Math.round(100*OT(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*OT(this._r,255))+"%, "+Math.round(100*OT(this._g,255))+"%, "+Math.round(100*OT(this._b,255))+"%)":"rgba("+Math.round(100*OT(this._r,255))+"%, "+Math.round(100*OT(this._g,255))+"%, "+Math.round(100*OT(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(FT[ET(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+ST(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=bT(e);n="#"+ST(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return bT(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(kT,arguments)},brighten:function(){return this._applyModification(BT,arguments)},darken:function(){return this._applyModification(TT,arguments)},desaturate:function(){return this._applyModification(IT,arguments)},saturate:function(){return this._applyModification(MT,arguments)},greyscale:function(){return this._applyModification(_T,arguments)},spin:function(){return this._applyModification(RT,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(QT,arguments)},complement:function(){return this._applyCombination(DT,arguments)},monochromatic:function(){return this._applyCombination(jT,arguments)},splitcomplement:function(){return this._applyCombination(LT,arguments)},triad:function(){return this._applyCombination(PT,[3])},tetrad:function(){return this._applyCombination(PT,[4])}},bT.fromRatio=function(e,t){if("object"==gT(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:HT(e[r]));e=n}return bT(e,t)},bT.equals=function(e,t){return!(!e||!t)&&bT(e).toRgbString()==bT(t).toRgbString()},bT.random=function(){return bT.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},bT.mix=function(e,t,n){n=0===n?0:n||50;var r=bT(e).toRgb(),i=bT(t).toRgb(),a=n/100;return bT({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},bT.readability=function(e,t){var n=bT(e),r=bT(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},bT.isReadable=function(e,t,n){var r,i,a=bT.readability(e,t);switch(i=!1,(r=function(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},bT.mostReadable=function(e,t,n){var r,i,a,o,s=null,l=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var u=0;u<t.length;u++)(r=bT.readability(e,t[u]))>l&&(l=r,s=bT(t[u]));return bT.isReadable(e,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,bT.mostReadable(e,["#fff","#000"],n))};var NT=bT.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},FT=bT.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(NT);function UT(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function OT(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function ZT(e){return Math.min(1,Math.max(0,e))}function zT(e){return parseInt(e,16)}function GT(e){return 1==e.length?"0"+e:""+e}function HT(e){return e<=1&&(e=100*e+"%"),e}function VT(e){return Math.round(255*parseFloat(e)).toString(16)}function WT(e){return zT(e)/255}var qT,YT,XT,JT=(YT="[\\s|\\(]+("+(qT="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+qT+")[,|\\s]+("+qT+")\\s*\\)?",XT="[\\s|\\(]+("+qT+")[,|\\s]+("+qT+")[,|\\s]+("+qT+")[,|\\s]+("+qT+")\\s*\\)?",{CSS_UNIT:new RegExp(qT),rgb:new RegExp("rgb"+YT),rgba:new RegExp("rgba"+XT),hsl:new RegExp("hsl"+YT),hsla:new RegExp("hsla"+XT),hsv:new RegExp("hsv"+YT),hsva:new RegExp("hsva"+XT),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function KT(e){return!!JT.CSS_UNIT.exec(e)}function $T(e){return e.parts.find((function(t){return t.id===e.selectedPartId}))}function eR(e){return e.variants.find((function(t){return e.selectedVariantId==t.id}))}function tR(e){return e.colors.find((function(t){return e.selectedColorId==t.id}))}function nR(e){return e.parts.findIndex((function(t){return t.id===e.selectedPartId}))}var rR=function(){function e(t){(0,r.Z)(this,e),this.project=t,this.materials=function(e){var t=[];return e.traverse((function(e){e instanceof zb&&(t.find((function(t){return t===e.material}))||t.push(e.material))})),t}(t.scene)}return(0,i.Z)(e,[{key:"setTextureRepeat",value:function(e,t){t.repeat.x=e.texURepeat?e.texURepeat:1,t.repeat.y=e.texVRepeat?e.texVRepeat:1,t.wrapS=t.repeat.x>1?Nv:Fv,t.wrapT=t.repeat.y>1?Nv:Fv,t.needsUpdate=!0}},{key:"applyVariantToMaterials",value:function(e,t){var n=this;this.getPartMaterials(e).forEach((function(e){var r;if(e.color.setStyle(t.color),e.roughness=t.roughness,e.metalness=t.metalness,e.opacity=t.opacity,e.transparent=t.transparent,e.displacementScale=null!==(r=t.displacementMapScale)&&void 0!==r?r:1,e.map=null,e.normalMap=null,e.roughnessMap=null,e.displacementMap=null,e.aoMap=null,e.metalnessMap=null,t.map){var i=n.project.variantMaps[t.map];i&&(e.map=i,n.setTextureRepeat(t,i))}if(t.normalMap){var a=n.project.variantMaps[t.normalMap];a&&(e.normalMap=a,n.setTextureRepeat(t,a))}if(t.roughnessMap){var o=n.project.variantMaps[t.roughnessMap];o&&(e.roughnessMap=o,n.setTextureRepeat(t,o))}if(t.displacementMap){var s=n.project.variantMaps[t.displacementMap];s&&(e.displacementMap=s,n.setTextureRepeat(t,s))}if(t.aoMap){var l=n.project.variantMaps[t.aoMap];l&&(e.aoMap=l,n.setTextureRepeat(t,l))}if(t.metalnessMap){var u=n.project.variantMaps[t.metalnessMap];u&&(e.metalnessMap=u,n.setTextureRepeat(t,u))}e.needsUpdate=!0}))}},{key:"selectPart",value:function(e){this.project.settings.state.configurator.selectedPartId=e.id}},{key:"selectVariant",value:function(e,t){e.selectedVariantId=t.id,this.applyVariantToMaterials(e,t),t.selectedColorId&&this.selectColor(e,t,tR(t))}},{key:"selectColor",value:function(e,t,n){t.selectedColorId=n.id,this.applyColorToMaterials(e,n)}},{key:"applyColorToMaterials",value:function(e,t){this.getPartMaterials(e).forEach((function(e){e.color.setStyle(t.color)}))}},{key:"getPartMaterials",value:function(e){var t=this,n=[];return e.materials.forEach((function(e){var r=t.materials.find((function(t){return t.userData.uuid===e.uuid}));r&&n.push(r)})),n}}]),e}(),iR=1;function aR(){return iR++}var oR=function(){function e(t){(0,r.Z)(this,e),this.elem=document.createElement("div"),this.items=t,this.selectedItemIndex=0,this.leftButtId="ezv-select-lb-"+iR++,this.rightButtId="ezv-select-rb-"+iR++}return(0,i.Z)(e,[{key:"render",value:function(){return"\n            <div class='ezv-sliding-select'>\n                <img class='ezv-sliding-select-button' id='".concat(this.leftButtId,"' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAABACAYAAAB/e6WTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHASURBVGhDzZohTMNAGIUHDBIMCoXEYbEEBWg0ngSJQeHxeDwGM0kQKCwWsyBRJEswGBLgXeEtx/jbXdu/vfclX7dO9F62dX2928IgP8vw7OdpPobwBr4Ue5lYhSP4BcfhhRyswTsYQmQLsg4fIENkCbIBH2Ecovcgm/AJzoboNcgWfIZWiGAvQbZhOD2tALTzIDvwFVqDx3Ya5AC+QWvgWTsLcgjfoTWoZSdBjuAHtAYs0z3IMfyE1mBVugY5hdYgKboFOYfWAKm6BLmA1sHr2DrIJbQOXNdWQa6gddAmNgoSWtU1tA7Y1NpB4lblaa0gs63K0+QgVqvyNClIWavydG6QqlblaWWQea3K09IgKa3KUzNIaqvy9F+QfZjaqjz9E6Ruq/J0GqRJq/K0CHISvZDL8SI2Ukh8NETiy0okTl8i8YNGJH7iicRFj0jUACJRjIhEVSQS5ZlI3E4QiRusmOy3nDFuN+FL2LThFq7A3WKvOZO2QQL3MFSIvWKvGZPfRxckpq6IxGQekZjeJBITvkRiCpxILAoQiWUSIrFwRCSW0ojE4iKRWG4lEgvQRGJJnkz/pOBRA9oQLpB4VwbDb9Fs9nIVzT7MAAAAAElFTkSuQmCC' />\n                <div class='ezv-sliding-select-content'>\n                    ").concat(this.items[this.selectedItemIndex].name,"\n                </div>\n                <img class='ezv-sliding-select-button' id='").concat(this.rightButtId,"' src='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAABACAYAAAB/e6WTAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAFuSURBVGhD5dorTANBFIXhTQMCg0LVIbHYajQaT1KJBo/H19fUVKOxWAypRKEwGBLgPySbQJ/7mJl7Ek7yNW3VSdrd3plpRa6xryfRecEMez+vAvOML8xxoDeiUheRexwiJL+LyAOOUDzLReQRQxTNuiLyhGMUy6YissAJimRbEdHlfYrs2VVEXjFC1jQpIm84Q7Y0LSLvOEeWtCkiH7hA8rQtIp+4RNJ0KVK7QrL0KSI3SJK+ReQWvZOiiNyhV1IVkQk6J2URmaLTtJe6iHSa9nIUkdbTXq4i0mray1lEGk97uYtIo2mvRBHZOe2VKiJbp72SRWTjtFe6iKyd9iKKyMq0F1VE/kx7kUVq4wEPNvn3H43Fl9Xi8rW4oVnc4i1+9CzGAIvByGJUtBieLZYTFgssiyWnxSLcYlvCYqMmfOvKYjPPYnvTYsPXYgvc4lDA4pjE4uDI4ijN4nDR4rjV4gA6/Eje5k8KBn/bqKpvynUSCcuTV0sAAAAASUVORK5CYII=' />\n            </div>\n        ")}},{key:"prev",value:function(){this.selectedItemIndex&&--this.selectedItemIndex}},{key:"next",value:function(){this.selectedItemIndex<this.items.length-1&&++this.selectedItemIndex}}]),e}(),sR=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"40px",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"40px",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"20px",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"20px",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"2px";(0,r.Z)(this,e),this.color=t,this.gradientId=n,this.width=i,this.height=a,this.minHeight=s,this.minWidth=o,this.borderRadius=l}return(0,i.Z)(e,[{key:"render",value:function(e){var t=bT(this.color).toHexString(),n=bT(this.color).darken(20).desaturate(20).toHexString();return"\n                <svg class='ezv-part-icon' width='100%' height='100%' style='".concat("".concat(e?"box-shadow: 0 0 0 2px ".concat(t,";"):"box-shadow: none;","\n                    border-radius: ").concat(this.borderRadius,";\n                    width: ").concat(this.width,";\n                    height: ").concat(this.height,";\n                    min-width: ").concat(this.minWidth,";\n                    min-height: ").concat(this.minHeight,";\n                    padding: 2px;\n                    margin: 2px;\n                "),"'>\n                    <defs>\n                        <linearGradient id='",this.gradientId,"' x1='0%' y1='0%' x2='100%' y2='100%'>\n                            <stop offset=\"20%\" style='stop-color: ").concat(t,"' />\n                            <stop offset=\"100%\" style='stop-color: ").concat(n,"' />\n                        </linearGradient>\n                    </defs>\n                    <rect width='100%' height='100%' fill='url(#").concat(this.gradientId,"' />\n                </svg>\n            ")}}]),e}(),lR=function(){function e(t){(0,r.Z)(this,e),this.conf=t.settings.state.configurator,this.scene=t.scene,this.elem=document.createElement("div"),this.commands=new rR(t),this.build()}return(0,i.Z)(e,[{key:"getSelectedPartUI",value:function(){var e=nR(this.conf);return e<0?null:this.uiModel.partUIs[e]}},{key:"getSelectedVariantUI",value:function(e){var t,n=(t=e.part).variants.findIndex((function(e){return t.selectedVariantId==e.id}));return n<0?null:e.variantUIs[n]}},{key:"getSelectedColorUI",value:function(e){var t,n=(t=e.variant).colors.findIndex((function(e){return t.selectedColorId==e.id}));return n<0?null:e.colorUIs[n]}},{key:"build",value:function(){var e=this;this.partSelector=new oR,this.uiModel={partUIs:[]},this.conf.parts.forEach((function(t){var n={name:t.name,variantUIs:[],part:t};e.uiModel.partUIs.push(n),t.variants.forEach((function(t){var r={butt:new sR(t.color,aR(),e.conf.options.iconSize+"px",e.conf.options.iconSize+"px",e.conf.options.iconSize+"px",e.conf.options.iconSize+"px",e.conf.options.iconBorderRadius+"%"),variant:t,name:t.name,colorUIs:[]};n.variantUIs.push(r),t.colors.forEach((function(t){var n={butt:new sR(t.color,aR(),e.conf.options.variantIconSize+"px",e.conf.options.variantIconSize+"px",e.conf.options.variantIconSize+"px",e.conf.options.variantIconSize+"px",e.conf.options.variantIconBorderRadius+"%"),color:t};r.colorUIs.push(n)}))}))})),this.partSelector.items=this.uiModel.partUIs,!this.conf.selectedPartId&&this.conf.parts.length&&(this.partSelector.selectedItemIndex=0,this.commands.selectPart(this.conf.parts[0])),this.render()}},{key:"renderVariantButtons",value:function(e){var t=this.getSelectedVariantUI(e);return e.variantUIs.length>1?"\n                <div class='ezv-configurator-variant-icons-container'>\n                    ".concat(e.variantUIs.map((function(e){return"\n                    <div>\n                        <div class='ezv-configurator-variant' style='background-color: ".concat(e.variant.iconColor,"; border-color: ").concat(t===e?"black":"#888","'>\n                            ").concat(e.name,"\n                        </div>\n                    </div>\n                ")})).join(""),"\n                </div>\n            "):""}},{key:"renderVariants",value:function(e){var t="";e.variantUIs.length&&(t+="<div class='ezv-configurator-panel-row'>\n                ".concat(this.renderVariantButtons(e),"\n            </div>"));var n=this.getSelectedVariantUI(e);if(n){t+="<div class='ezv-configurator-panel-row'>\n                ".concat(this.renderColorButtons(n),"\n            </div>");var r=this.getSelectedColorUI(n);r&&(t+="<div style='font-size: large;'>".concat(r.color.name,"</div>"))}return t}},{key:"renderColorButtons",value:function(e){return"\n            <div class='ezv-configurator-variant-icons-container'>\n                ".concat(e.colorUIs.map((function(t){return"\n                <div>\n                    ".concat(t.butt.render(e.variant.selectedColorId==t.color.id),"\n                </div>\n            ")})).join(""),"\n            </div>\n        ")}},{key:"render",value:function(){var e=this;if(this.conf.selectedPartId){var t=this.conf.parts.length>1;this.partSelector.selectedItemIndex=nR(this.conf);var n=this.getSelectedPartUI();if(n){var r="\n            <div class='ezv-configurator-panel' style='height: ".concat(this.conf.options.fixedPanelHeight?this.conf.options.panelHeight+"px":"fit-content","'>\n                <div class='ezv-configurator-panel-title' >").concat(this.conf.options.titleText,"</div>\n                ").concat(t?this.partSelector.render():"","\n                ").concat(this.renderVariants(n),"\n            </div>\n        ");this.elem.innerHTML=r,this.elem.querySelectorAll(".ezv-configurator-variant").forEach((function(t,n){t.addEventListener("click",(function(){var t=$T(e.conf);t&&e.commands.selectVariant(t,t.variants[n]),e.render()}))})),this.elem.querySelectorAll(".ezv-part-icon").forEach((function(t,n){t.addEventListener("click",(function(){var t=$T(e.conf),r=eR(t);t&&r&&e.commands.selectColor(t,r,r.colors[n]),e.render()}))})),t&&(this.elem.querySelector("#"+this.partSelector.leftButtId).addEventListener("click",(function(){e.partSelector.prev(),e.commands.selectPart(e.conf.parts[e.partSelector.selectedItemIndex]),e.render()})),this.elem.querySelector("#"+this.partSelector.rightButtId).addEventListener("click",(function(){e.partSelector.next(),e.commands.selectPart(e.conf.parts[e.partSelector.selectedItemIndex]),e.render()})));var i=$T(this.conf);if(i){var a=eR(i);if(a){this.commands.applyVariantToMaterials(i,a);var o=tR(a);o&&this.commands.applyColorToMaterials(i,o)}}}}}}]),e}(),uR=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;(0,r.Z)(this,n),(i=t.call(this))._uiRootElem=document.createElement("div"),i.uiRootElem.style.className="ezv-configurator-position-bottom";var a=new lR(e);return i.uiRootElem.appendChild(a.elem),i}return(0,i.Z)(n,[{key:"uiRootElem",get:function(){return this._uiRootElem}}]),n}(oT),cR=function(){function e(t){(0,r.Z)(this,e),this._commands=t,this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.elem=document.createElement("div"),this.elem.style.position="absolute",this.elem.style.textAlign="left",this.elem.style.top="15px",this.elem.style.left="15px",this.elem.style.touchAction="none",this.elem.style.display="none",this.elem.addEventListener("pointermove",this.onPointerMove),this.baseImg=document.createElement("img"),this.baseImg.src="data:image/png;base64,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",this.baseImg.style.userSelect="none",this.baseImg.style.width="80px",this.baseImg.style.height="80px",this.baseImg.style.webkitUserDrag="none",this.baseImg.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),this.elem.appendChild(this.baseImg),this.stick=document.createElement("div"),this.stick.style.position="absolute",this.stick.style.left="20px",this.stick.style.top="20px",this.stick.addEventListener("pointerdown",this.onPointerDown),this.stick.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),this.elem.appendChild(this.stick),this.stickImg=document.createElement("img"),this.stickImg.src="data:image/png;base64,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",this.stickImg.style.userSelect="none",this.stickImg.style.width="40px",this.stickImg.style.height="40px",this.stickImg.style.webkitUserDrag="none",this.stick.appendChild(this.stickImg),document.addEventListener("pointerup",this.onPointerUp),document.addEventListener("pointerleave",this.onPointerUp),this.deadzone=2,this.maxDistance=20}return(0,i.Z)(e,[{key:"onPointerDown",value:function(e){e.stopPropagation(),this.active=!0,this.stick.style.transition="0s",e.preventDefault(),e.stopPropagation(),e.changedTouches?this.dragStart={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:this.dragStart={x:e.clientX,y:e.clientY},e.changedTouches&&(this.touchId=e.changedTouches[0].identifier),this._commands&&this._commands.onPointerDown()}},{key:"onPointerMove",value:function(e){if(e.stopPropagation(),this.active){var t=null;if(e.changedTouches){for(var n=0;n<e.changedTouches.length;n++)this.touchId==e.changedTouches[n].identifier&&(t=n,e.clientX=e.changedTouches[n].clientX,e.clientY=e.changedTouches[n].clientY);if(null==t)return}var r=e.clientX-this.dragStart.x,i=e.clientY-this.dragStart.y,a=Math.atan2(i,r),o=Math.min(this.maxDistance,Math.hypot(r,i)),s=o*Math.cos(a),l=o*Math.sin(a);this.stick.style.transform="translate3d(".concat(s,"px, ").concat(l,"px, 0px)");var u=o<this.deadzone?0:this.maxDistance/(this.maxDistance-this.deadzone)*(o-this.deadzone),c=u*Math.cos(a),h=u*Math.sin(a);this._commands&&this._commands.onPointerMove(c,h)}}},{key:"onPointerUp",value:function(e){e.stopPropagation(),this.active&&(e.changedTouches&&this.touchId!=e.changedTouches[0].identifier||(this.stick.style.transition=".2s",this.stick.style.transform="translate3d(0px, 0px, 0px)",this.touchId=null,this.active=!1,this._commands&&this._commands.onPointerUp()))}}]),e}(),hR=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(e){var i;(0,r.Z)(this,n);var a={onPointerMove:function(t,n){return e.onVirtualJoyStickMove(t,n)},onPointerUp:function(){return e.onVirtualJoyStickRelease()},onPointerDown:function(){return e.onVirtualJoyStickTouch()}};return(i=t.call(this))._ui=new cR(a),i.ui.elem.style.display="block",i}return(0,i.Z)(n,[{key:"ui",get:function(){return this._ui}}]),n}(oT);function dR(e){var t;try{var n=function(e,t,n,r,i,a,o){return{projectFile:null===(t=e.attributes["data-project-file"])||void 0===t?void 0:t.value,glbFile:null===(n=e.attributes["data-scene-file"])||void 0===n?void 0:n.value,usdzFile:null===(r=e.attributes["data-usdz-file"])||void 0===r?void 0:r.value,startButt:null===(i=e.attributes["data-start-button"])||void 0===i?void 0:i.value,animateButt:null===(a=e.attributes["data-animate-start-button"])||void 0===a?void 0:a.value,licFile:null===(o=e.attributes["data-license-file"])||void 0===o?void 0:o.value}}(e);if(!n.projectFile||"zip"!==n.projectFile.split(".").pop().toLowerCase())return void console.log("ERROR: no project file specified");if(!n.glbFile||"glb"!==n.glbFile.split(".").pop().toLowerCase())return void console.log("ERROR: no scene file specified");e.style.display="block";var r=document.createElement("div");r.className="ezv-main-container",e.appendChild(r);var i=document.createElement("div");i.className="ezv-canvas-container",r.appendChild(i);var a=document.createElement("canvas");a.style.width="100%",a.style.height="100%",a.style.display="none",i.appendChild(a);var o=new qB;i.appendChild(o.elem),t=new R_(a,i,e);var s=function(){var e=(0,Qt.Z)((0,Lt.Z)().mark((function e(s){var l,u,c,h,d,f,p,A,m,v,g,y,x,b,w,C,E,S,I,M,_;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.atts=n,o.show(!0),s&&(s.style.display="none"),(h=new D_).onUpdateProgress=function(e){o.setProgress(e)},d=h.addTask((0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Hk(t.world.renderer,"").loadFile(n.glbFile,(function(e){return h.updateProgress(d,e)}),(function(e){throw console.log("Load ".concat(n.glbFile," failed with error: ").concat(e)),new Error(e)})).then((function(e){return u=e.scene})));case 1:case"end":return e.stop()}}),e)})))),f=new NB,p=h.addTask((0,Qt.Z)((0,Lt.Z)().mark((function e(){return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){f.load(n.projectFile,t.world.renderer,(function(t){e(c=t)}),(function(e){return h.updateProgress(p,e)}),(function(e){throw console.log("Load ".concat(n.projectFile," failed with error: ").concat(e)),new Error(e)}))})));case 1:case"end":return e.stop()}}),e)})))),e.next=6,h.load();case 6:return A=new HM(u,c.settings),t.project=A,c.variantMaps.forEach((function(e){A.setVariantMap(e.fn,e.tex)})),c.cubeMaps&&c.cubeMaps[0]&&c.cubeMaps[0].images&&c.cubeMaps[0].images[0]&&(m=c.cubeMaps[0].images[0],(v=new tw([m,m,m,m,m,m],Dv)).needsUpdate=!0,t.applyCubeMapToMaterials(v,(function(e){return e.name.toLowerCase().includes("gemstone")}))),c.envMap&&t.world.setEnvironmentMap(c.envMap),g=[],uT.sceneHasAnnotations(A.scene)&&(y=new uT(t.world,t.domEl,A.settings.state.annotations),i.appendChild(y.ui.elem),g.push(y)),fT.sceneHasAnimations(A.scene)&&(x=new fT(A.scene,A.settings.state.viewer.animations),g.push(x),i.appendChild(x.view.elem)),A.settings.state.viewer.dimensionsTool.show&&(b=new vT(A.scene),g.push(b)),(w=A.settings.state.configurator)&&w.options.show&&(C=new uR(A),r.appendChild(C.uiRootElem),g.push(C)),t.cameraController===t.firstPersonCameraController&&(E=new hR(t.firstPersonCameraController),i.appendChild(E.ui.elem),g.push(E)),t.extensions=g,S=new WB(t,null===(l=b)||void 0===l?void 0:l.measureTool),I=new VB(c.settings,S),i.appendChild(I.elem),M=new JB,i.appendChild(M.elem),t.initAr(I,M),t.initVR(I,M),_=new YB,i.appendChild(_.elem),a.style.display="block",o.show(!1),e.next=27,(0,Qt.Z)((0,Lt.Z)().mark((function e(){var t;return(0,Lt.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(window.location!=window.parent.location?document.referrer:document.location.href).split("?")[0],e.t0=t,!e.t0){e.next=8;break}if(t=t.toLowerCase(),e.t1=t.includes("localhost"),e.t1){e.next=8;break}return e.next=8,fetch("https://subscriptions.ezyvue.com/api?url=".concat(encodeURI(t)));case 8:case"end":return e.stop()}}),e)})))();case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(n.startButt){var l=function(e,t){var n=document.createElement("button");n.className="ezv-play-button-wrapper "+(t?"ezv-side-to-side":"");var r=document.createElement("img");return r.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABYCAYAAAA9U/+JAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsIAAA7CARUoSoAAABdGSURBVHhe7Z0HVFTH98dBQJAiUhUbIBawUcQSxYLkWIhEjVFj+RkjieVYYjSW6D8xHhPNie3I36hYiFhykogxFoj+xALSVFARQQEpUkSKFOlg+X/vMrt/trK77FvQ7OecOW9m3tvdtzN37tw7b2aeloZ/N9rs2CRv3ryxwWEygifCAISuCEYIGlqeSoQchASEawhntbW183BskiYFABXviMP/IEyrq6vTefLkybPMzMzC/Pz88qqqqnreRRpaFENDQz1ra+v2dnZ2lra2tjb6+vovkX0a4QcIwiPeRVKQKgCoeH0cvkFYU1hYWBMcHBx/5syZ9OLi4jqc412joXWBytYyMzPTnzp1qoO3t7dzx44d2yJ7O8I2nKvlXSSCRAFABZvjcLK+vt7r/Pnzsf7+/g8qKytJqjS8JRgZGekuXLhwoI+Pz6C2bduGImsOhKC44ez/IyYAqHxTHC6UlJS47dix41J4ePgzTYt/OyGNMGrUKJt169aNa9++/R1k+SCvtOFsA0ICgIrWweF3tHbvjRs3XoiNjX3ecEbD24y7u7vlli1bfExMTEKQnAEheNVwRkurDTvy8X316tWUX3755aqm8t8dUJdFe/fuvYq6JS/u84bcBgQCgNZvgcPmqKioJPT72Q25Gt4VQkJCsm7cuEEewWZW1zwaa4AvampqOuzbt++ups9/90Cdvtm/f38sXPcOSC5syGU2AM6RICRHRkbWrF+//oYkAYAx0RFewWuWFBAdHV3IomIMHz7cChaoaDejdf369XyyUl1dXcnbECIiIqKARXl4eHhYs6hC0PfQPb98+VLonpOSkkqB0PjFe++9Z8WiAkT/F/0XXV1dof8CAzmfRWUi7T80/q/opy10dHSEbDIY4rUpKSnlLCmEpO8ULTtJbN26dSTKxQDRPrAFXvMFYCAOd77//vvzoaGhEkeQzp49O8vCwoKkR0BZWVnFBx98cJwlxcANLWFRARCyB7BKbyxfvnzAzJkzPVi2APyx/SyqBX/WdvXq1d4sqRD0PbBl3nd2du7FsnhADSZ88803ESypBVfJad68eWNYUsD8+fOPP378uIIltdAtzoGP3Z4leWzYsOEveYQgKChoRqdOnQRql8jOzn42a9asMyyptWfPnrGDBg3qw5I8UL7lKN8TLCnAwcHBODAw8D8sKaBx2UnD09OzMwzCSYi6QQDu8yV6WG1t7aubN29Kbc3oQ+JZVICpqanxsGHDLFlSCPif3VhUiCNHjtxjUc65e/cuDY8K0atXLxrSFoCWZ8uiQkyaNKkHi/IQrXxCXg2gLChfEz8/Py+WVAm3b98uqK6uJq34HqX5AtCnuLi4DCcE7oEo/v7+SSwqhLe3t1AL4zN69GihAiSg0l5IU2lccO3aNTEBQEsUEti+ffvas6gQgwcPFtw/4kKtlyDtx6Kc4ubm1pu0FEs2G9h5r1APNBbQm9J8AbCsqKiohpsg0/p7+PBhBosKQOFIFIChQ4f2ZVEB//zzj0paP1p2KryVRFmBrktLS5NYST179jSm44gRI8T6fj40ps6iVAkdWVRAcnKy2jwl6qKMjY11WbJZUB1XVlZWI8r773wB0Hv9+jUZiiwpmT///PM+iwowMTExcnJyElKPQ4YMsaBRKFHgYfAqprnAp721du3acFmBXUp9rZianjhxoh0dx4wZI1H985kyZUp3Ovbv31+o2yDi4uLEtAuXHDx40IdFmwXVMdU1ojyBErJqm+Ly5ctPoULqWFLA3Llz+7Moj3Hjxomp/0ePHmWyqFpJTEwUqyhUaBc6enl5ufAypDBhwgR6Eqo1cODAnryMRsCYfMqiaqF79+6dNm7cOJglVYZCAkDAihdrxbBehboBFKwziwo4ffo0PatWCTCMPrp06dJ8aWHJkiX92KVaMGzFBMDe3r6znp5eG7ioeiyLB1xGoQde/fr1c6Aj3DOxcsrKyqpiUbUBzeXerVs3Q5ZUCQoLAFSRmDeA/snQ3NycHj1qdenSpR0KV6hgoXJeo/9Xmco0MjJqJyuwy3iQ1mJRAYaGhgazZ8/mVW5jrl69KvTfqBuDthByfYn09PRcFuUU9Ndi4y6HDh2azqIqQWEByM3Nrc7JyRHrV1esWOFKxxkzZvCsy8aIFqy6KS0tfcGiAtC/D2JRHlTYcFHFtNTKlSt57lJjHjx4oJb+//79+49ZVAA1tqVLl7qzZLNRWACI0NBQMZdw+PDhPKsfaoonCI05derUQxZVCeROygrsMgGPHz8W0wJWVlZmLMojLCwsnoSbJQXAY+AZgo2BASjXdKvmUlVVVXf27NkYlhQAI1tlbqFSAnD48GGxaUakVtlRSAU/e/bsOQyxMpZUCV9//fV5Hx+fk9LC/v37heyU+Pj4Jg22c+fOpdIRxuoTXgZDdPiXuHLliloEoK6u7uX27dvvPn36VOoAXXNRSgCI2NhYMSE4cODAeBYVgMJSievXHNAFNamy+Y+/od1kzqGT1J1wBQSANzCHbjWIl8EBSgvA33//LdYNSBpVCwgIUKn6V4YnT55Uilr4jWk8wPX777+ns6hEUlJS1GIAEo2NwGPHjl1nUZWitADQE73i4mKh1tCmTRuh0R8YS2m1tbVilmxzgbE2hx40yQre3t40bV1ARkaG1G4gKipKaIRTkpHLB/9JLepfFHhfD9GViRmFzUVpASBu3Lgh8fkAH7h+MtWpOklKSpIqACEhIUL9ProDsSFvPhCWFhEAAtb/5fLycpU+g2iWABw9elSqANTU1NTCgs1iyRbn1q1bEgWAHoLl5+fXsCSPCxcupLGoEDSMCiNRbTaAJPbu3UsLP1RGswSgsLCwVtRq5hMTE9NqWj8BN0+iWodKF7t/qmRJxh5siSa9Ca4JDg7OuXjxYixLNhv+hJDfkpOTh/v6+tKsUYWRNOsHFmyTfb++vr7Y50RtBknXyIMk20Oe3+Mj7XeVsWnk+S5F7o1QtswJ2FDeffr0idLW1p4t8cYUhX5YNLBTMqE/KBrYKQGSrpEnsI8LIe91hKRrKbDTCiHpeyiw0zyaOi+KsmUuikoEQMPbi0YA/uVoBOBfjkqMQFVCU6PNzc31O3bsaGBqampgZWXVlj+7iNywioqKV8+fP69+8eJFfV5eXhXNY6R8DfLT2AhsNQJAFT5hwoTuNFvHxsamg5GRkb6urq4erGNaryiA5vnX19e/RCBBKIdrVhQVFZUVGRmZjzylJGHixIndPTw8Gk9qEf0eXropQcP5N69f0+3V15eXl9dlZGSUQUjLUbZlJLDsshan1QgAKli7c+fO7T7++GNHT0/PfmZmZrzJmopCY+Y5OTmFISEhCZcuXcoqKiqSuBZeGmvWrHGZPHmy2HN/VUACCy1VA2EoiIuLywgPD8/FvVbR7NymBIorWlwASKU7ODiY+Pj49Bw5cqSjpaWlqehzBGVAw3uZnp6ed/78+QQIQ7a8rhGXAtAYmhkFzVCdmpqae/PmzcyIiIg8EgZ1C4LKxwEUgSp/1KhRnTZs2DD6ww8/dLe2tu6gison9PT0dHv37t118eLFY1atWuVmYWHBm6bWWsD/bAO7xsjd3b33ggULRn/33Xdjxo4d25nKpKVQqwDQH3Vzc7NYuXKlFyqqG1UYO6Uy8BvaNG0K9oTb0qVLXVQ1n17VtGvXTt/Jycn222+//WDZsmXOBgYGQraOulCbAED4aZp1102bNk2EZS+2zErVwL7QgWHXb9q0aQ4t2cKaAvep+9FHHw3dvHnzcFrzx7LVhtoEwMXFxfzTTz8dChfPhGVxDk1Tg4E5uF+/fmIze1sT0IQ6Q4YMcVyyZMkgdWsstQhA+/btdVER/WDxS1xIyiXwLEzmzJlDq59bNdQdQgj6Ll++nFbtslzuUYsAwOixGjhwoB0ZQSyrScgyhnv3iix7Co2nRykKtI89ULt6VRQqnvHjx7tAUzpCINQiBZwLAEmzt7e3I7SA3LuKwm+uvXPnTuqJEyciAgICrlP466+/YuBL58GvlrqCWRowsNo6OzuLrfBtjZDtMmXKFNcRI0aILUjlAs4FAC3PBIVvD+mWS6JfvHhRefjw4bC1a9dePXToUNLx48dTKfj5+cWvWLEiODQ09D5pBHa5XJDm6dq1q9A6AFUQHx+feeDAgf/yw8GDB0ODg4PvPH36tBguP7tKceC+msIw7AdjmTbr5BTOBWDSpEkO5PKwpEyg9t+gghPQ2tNFn4dTl1BSUlIfGBh4PysrS6GNGUgLdezYsZ0CPZBc5OTklEJLpfHDsWPHUrdt23Zz/vz5QXv37v1vdnZ2gTJdF+5Xm9zkoUOHcq4FOBcAWt2SkJCQQQtEEK9B66UhUIlDX4WFhWUnT558iGukDo3RyFlKSorCEzOl/SYX4H++OnXqVNquXbvCMjMz85T5bSMjI4Nx48bRPj4shxs4F4CjR48+XLVq1eUFCxb8tWjRoj9XrlwZ5O/vf+Xy5cv3aD5hQUFBeV1d3UuozDfR0dHJohM0RaGylLREXRb03VDLVc1Ry4pC90n780Gg4xS9X4K0ANxXWxjPKu+6GsO5AMBoe0OPbNG3v4QRV4l+sxjqMnXz5s3Rn3/+ecjMmTNPzps37+SmTZv+ljXLmI+JiYmura2tQjuHUQvMzc0V2iJVHZAQXLt2Le/evXtSp5nLQl9fX2/atGl9udQCnAtAU5C6J7WOgnpGu5KzbInQXIH333+/q4ODQyeWJRcQvqpbt241uYUaF+D/vYZtcJc8G5alENAAtmZmZpw902hxAWgMGWnk/4oGGJE6tA0NupJBvr6+IxVxKQkI18OmuhYuSUxMLKUngCypEB06dDDu06cPZyOZrUoA4EZNCQoK+qRxOH369Cwc/wO7YfbkyZMHU4FQ/8g+IhNS/WlpaU8DAgJUtjuJMpDtERkZmU62CMuSG3KfXV1dOfMGWpUAQNWZ0WaUjYO5ubkpIBdOoY6QKh9uWCGEKro1zMZJT08vVdYYtLGxaS+6i6iqaFUCoEry8vKK/Pz8wuFZtEjfLwq8neqSkhJ6t4/CQOu1k7QQRBW8UwJAKraioqLy0qVLd2nUMCYmplCdrp8s2OINpTSRrq6uHoJGAJoClf06KyurKCkp6Rms7lb1ihsSTnq2xZKK0kZeu0dR3ikBoAcpjo6O3RYvXuy5e/fu8V5eXjaqHv5913jnSgcV3gZuowGNpa9Zs2b8J5980guCwd1IipzQXoO4D6X8edizpNw4Gcp+p5uHsbFxu88++2zUwoUL+3NlRMkLrf41MDAQ2j9RXlD5zZoPIYt3Xj9CG7SdOnXqYB8fH5n7AnMNLHl9ExMTpXb5pEUmNKLIkiqlVQnADz/8ELJ+/foLFNatW3d+7dq15yggff7IkSPXrly5Ek/7EpE+ZB+RC5oQ4u3tTVPShLawUyc9e/Y0pdVOLCk3UP+01V4ZPVNhWSqlVQnA3bt38yMiIrIpREZG5kRFReVSQDrn119/fbR58+aoLVu2XHr48KFCW8+QBd2lSxfLYcOGqWWWjShkwLu4uEh8gYYcvMnIyChhcZXzVnUB1PBv375Nr0CLLisrU2hQhWYIOzg4mNGzBZalNmxtbY2cnZ15W9QrCtzZ+oSEBM5e4cepANDwJTN+2tB0Z5od3KtXLxM3NzfzOXPm9Fq2bNmArVu3egYGBk5evXq1G/tYk6BASsPDwxXag4iGktEFmIsuNuUa8kB8fX1pgYpS3U9ubm5hTk6OUiOI8sCZAFBFo4Jd6C1VO3fufP/w4cOTUdEz/P39P9m1a9fHixYt8oKL5jFq1ChHtMzO7u7u9oq0ztTU1CIWlRsIoL46NQCNQYwbN67rkCFDxDbQlgey/K9evfpI1gyp5sKZAHTt2tV47NixfWljY6g/B6StraysTOGOoVHo6lCLZJfysLGxsVCkj7azs1P4ESmNEeCgNgEYOHCg+cyZM93Q/Sg1ubOwsLA0ODhY4i5sqoIzAUhJSSkV3UlUFiQU0BijqJtgWVJBgeq4urpKfNmTLJj3wFlr4kNyBqPPbM2aNZ49evSgxZ8KCx1u9Q0M4ZSSkhKFnyAqAmcCANel5tGjR0/psSzLahJY6hZw+YZT99HQWIWhciRXbsWKFW7QAFJf+CSN0tLSalWqU0tLSyNPT89O/AB135lsmx9//HHkTz/9NIWmrilR97xH2bRDeGhoqFJTyRSBd3f4PU72B6BWsG3btskmJiZyG0CooJc0nRrS//jOnTvPMjMzK0mG0IUYDhgwwNLDwwMmg0Nn8u3ZR+SCWtS5c+du7dmz566oECi7P0BNTU19XV2dYKoXdTHo4trCztBRptXzqa2trTt9+vRN2E1J8u5xoAhq2x/g3r17JWFhYU1O9GwMCk/X3t7eZu7cuSO3b98+/cSJE7NPnjw5e/fu3dMXLlw4tm/fvraKVj5BU9IfP378XJUagIZ20WUZ8wMwJBunOZVPJCUlZeN/P+Ki8kXhVACIgICA+3BjCkitsawmoQIkyIWi0TMKEAzeI1GCXSY39Nu0LiE+Pr5VvxKf7jMtLS3Pz8+PZjGp5XE25wJQUFBQ88cff8SVl5er/S1bfMidCg8PT33y5Ila3vapDFT5uL9ntJgELq7a3q7KuQAQFy9ezIY/mwiV1iKTNB48eJCJbiSlwQlofVDlQ0vmwz65AS3F2bCvJPgCUM0MF5ZULbQwJDAw8EFcXFyyOoWAVhLTsrSNGzdeb2rv3ZYC90VDvRk7d+4Mu337NuddFNUxudyI8l6QxReAXBgxRtTPsrTKoa3ld+zYcfPMmTO31NEdUMHSlvX4zYiysjJOfWllIK+E7JKgoKCYTZs2XY+NjS1mpziF6pg2qkKUt/U9r8KhgRLMzMza81/+yBX5+fm1Bw4cuL9v375rNGuXVB87pVIgYDWwoiPgj0dJe4F0SwItWI8uMQGa6eLBgwcTqXGwU5xDq4yorhF9QGn+OAC9SzcdFXP9t99+k/i2DFXTvXt3w+nTpzsOHTq0BwSvPfnPcKOV6oOoNcG9q6dXuicmJmYfP348QZHX1HO1TyAJOEFdUU1NTW1xcXE5DY6dOnXqEe7vBU6xK9XHrFmzeixdutQTUdo8K0dQ4CjEa8nJyXaLFi26CKtZLXdG/VGPHj2MIQSdnJycrLt162ZJm0bS0mgdmkQnRSCo4FDfr6Dma4uKispou1jcewEMqAIqWBS2Qv29r6+v48SJEwewZLMgj6O0tLQOlV4P26f6+fPnVVD1L7Kysl5AOEvIK2opY5SezkIDT0BZZ6HsR1OeoIBxwzOQ+dv69evPREVFcfaiQkmQINBjY3pkjP6prbW1tZGDg0P7Dh06GIB2OE9dlTY1Jqr0ioqKOlR0CSq/Cq2qDumXZGg2fJviQOB0YAMpNV9PFBJO3CLq+DW1fN6LHHBEtvpbuyjDhg2z/Pnnnz9Cw5qDMv2D8gQCgBvUxU1HZWZmdoYWCG5OgWpofdACW39//w+gcWmRqgcEgLdGQWD1I4N241ppb29v8dVXX7kq2x9raH1QXX755ZcuqHxzJFfyK58QcvugbqOgvr4dP3686xdffOGkEYK3H6pD1KWjt7c3vdR7Iyo/uuFMA2IVjK5AG+p/B4zyFRcvXryze/fuezCqNN3BWwgatA60uQsMXDcIwk5kfQMBEDJGJLZwEgK4VOtMTEy+Jwt7//790TExMUVk2LBLNLRiqNWTwbdkyZL30KWT2t+AsEe08gmZKh7uC83Q+V9Y6P1hdWdduXIlJTQ0NIdmqZCr2BosWw08+43n4tEgD22h4+VFm7H37ob8OJxeAYG42XClOE328dHR0W3t7OxmwUVbamho6EbaAQJQBl+3AkZjq1qB+2+F5lDQzikQAHrxBrmgUainvbq6umcgBDLrSCEjLywsrJeTk9MIVDxt1WIGgVDo8xq4ATYbvZamAPVxG133jU6dOmWzUxo0yEJL6/8Auqn43WYX8E4AAAAASUVORK5CYII=",r.className="ezv-play-button",n.appendChild(r),n}(0,void 0!==n.animateButt);l.addEventListener("click",(function(){return s(l)})),i.appendChild(l)}else s()}catch(TR){var u;console.log("Exception: ".concat(JSON.stringify(null!==(u=TR.message)&&void 0!==u?u:TR)))}return t}var fR=[];!function(){var e,t=document.getElementsByTagName("viewer-3d"),n=(0,qi.Z)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;fR.push(dR(r))}}catch(Vc){n.e(Vc)}finally{n.f()}}();var pR=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var t;return(0,r.Z)(this,s),(t=n.call(this)).elemRef=e.createRef(),t}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){dR(this.elemRef.current)}},{key:"render",value:function(){var e;return(0,xe.jsx)("div",{ref:this.elemRef,style:this.props.style,"data-project-file":this.props.projectFile,"data-scene-file":this.props.glbFile,"data-usdz-file":this.props.usdzFile,"data-start-button":null!==(e=this.props.startButton)&&void 0!==e?e:"","data-animate-start-button":!0})}}]),s}(e.Component),AR=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(t){var i;return(0,r.Z)(this,s),(i=n.call(this,t)).containerRef=e.createRef(),i}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var e=this;this.containerRef.current.style.height=window.innerHeight-60+"px",window.addEventListener("resize",(function(){e.containerRef.current&&(e.containerRef.current.style.height=window.innerHeight-60+"px")}))}},{key:"render",value:function(){var e=new URLSearchParams(this.props.location.search),t=e.get("projectFile"),n=e.get("glbFile"),r=e.get("usdzFile"),i=Boolean(e.get("startButton")),a={width:"100%",height:"100%"},o=e.get("backgroundImage");return o&&(a=(0,wa.Z)((0,wa.Z)({},a),{background:'url("'.concat(o,'")'),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"})),(0,xe.jsx)("div",{ref:this.containerRef,children:(0,xe.jsx)(pR,{ref:this.containerRef,style:a,projectFile:t,glbFile:n,usdzFile:r,startButton:i})})}}]),s}(e.Component),mR=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,xe.jsx)("div",{className:"page center-page-x center",children:(0,xe.jsxs)("div",{className:"page-section",children:[(0,xe.jsx)("h1",{children:"Terms Of Service"}),(0,xe.jsx)("span",{style:{textAlign:"center"},children:"Updated 22th January 2023"}),(0,xe.jsx)("br",{}),(0,xe.jsx)("h2",{children:"Interpretation and Definitions"}),(0,xe.jsx)("h3",{children:"Interpretation"}),(0,xe.jsx)("p",{children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),(0,xe.jsx)("h3",{children:"Definitions"}),(0,xe.jsx)("p",{children:"For the purposes of this Terms of Service:"}),(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Company"}),' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to EzyView Software, Queensland, Australia.']})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"You, User or Customer"})," means the individual, company, or other legal entity on behalf of which such individual is accessing or using the Service or Software as applicable."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Website"})," refers to EzyView.net, accessible from ",(0,xe.jsx)("a",{href:"https://www.ezyview.net",rel:"noopener noreferrer",target:"_blank",children:"https://www.ezyview.net"})]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Digital Content"})," is any data that is downloaded in any way from EzyView including source code, model files, images, text and other forms of media."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Service(s)"})," refers to the services that the Website provides."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Software"})," refers to any software code that can be downloaded from the Website."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Subscription"})," means an arrangement between You and the Company for a Software product to be used for a given period of time. "]})})]}),(0,xe.jsx)("h3",{children:"General"}),(0,xe.jsx)("p",{children:"EzyView platform provides Software code, tools and services relating to web-based 3D rendering and modeling."}),(0,xe.jsx)("h3",{children:"Accuracy of content"}),(0,xe.jsx)("p",{children:"We have taken care ensure that the information we provide on this Website is accurate. However, we cannot guarantee, nor do we accept any legal liability arising from or connected to, the accuracy, reliability, currency or completeness of anything contained on this Website or on any linked site. The information contained on this Website should not take the place of professional advice."}),(0,xe.jsx)("h3",{children:"Use"}),(0,xe.jsx)("p",{children:"The Website is made available for your use on your acceptance and compliance with these terms and conditions. By using this Website, you are agreeing to these terms and conditions. You agree that you will use this website in accordance with all applicable local, state, national and international laws, rules and regulations. You agree that you will not use, nor will you allow or authorize any third party to use, the Website for any purpose that is unlawful, defamatory, harassing, abusive, fraudulent, obscene or inappropriate or which conflicts with the Website Terms. We reserve the right to refuse or terminate the Services at any time without notice or reason."}),(0,xe.jsx)("h3",{children:"Indemnification for loss or damage"}),(0,xe.jsx)("p",{children:"You agree to indemnify Us and hold Us harmless from and against any and all liabilities or expenses arising from or in any way related to your use of this Website, Software, Services or information offered on this Website, including any liability or expense arising from all claims, losses, damages (actual and consequential), suits, judgments, litigation costs and solicitors fees of every kind and nature incurred by you or any third parties through you."}),(0,xe.jsx)("h3",{children:"Copyright"}),(0,xe.jsx)("p",{children:"Except as permitted by the copyright law applicable to You, You may not modify, reproduce, or distribute Digital Content on this Website without the permission of the copyright owner."}),(0,xe.jsx)("h3",{children:"Software License Agreement"}),(0,xe.jsx)("p",{children:"THE SOFTWARE IS PROVIDED \u201cAS IS\u201d, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE."}),(0,xe.jsx)("h3",{children:"Links to external websites"}),(0,xe.jsx)("p",{children:"This Website may contain links that direct you outside of this Website.  These links are provided for your convenience and are not an express or implied indication that we endorse or approve of the linked Website, it\u2019s contents or any associated website, product or service.  We accept no liability for loss or damage arising out of or in connection to your use of these sites. You may link to our articles or home page.  However, You should not provide a link that suggests any association, approval or endorsement on our part in respect to your website, unless we have expressly agreed in writing. We may withdraw our consent to You linking to our site at any time by notice to you."}),(0,xe.jsx)("h3",{children:"Limitation of Liability"}),(0,xe.jsx)("p",{children:"We take no responsibility for the accuracy of any of the content or statements contained on this Website or in relation to our Services.  Statements made are by way of general comment only and you should satisfy yourself as to their accuracy.  Further, all of our Services are provided without a warranty with the exception of any warranties provided by law.  We are not liable for any damages whatsoever, incurred as a result of or relating to the use of the Website or our Services."}),(0,xe.jsx)("h3",{children:"Information Collection"}),(0,xe.jsx)("p",{children:"Use of information You have provided us with, or that we have collected and retained relating to your use of the Website and/or our Services, is governed by our Privacy Policy.  By using this Website and the Services associated with this Website, you are agreeing to the Privacy Policy.  To view our Privacy Policy and read more about why we collect personal information from you and how we use that information, click here."}),(0,xe.jsx)("h3",{children:"Confidentiality"}),(0,xe.jsx)("p",{children:"All personal information You give us will be dealt with in a confidential manner in accordance with our Privacy Policy.  However, due to circumstances outside of our control, we cannot guarantee that all aspects of your use of this Website will be confidential due to the potential ability of third parties to intercept and access such information."}),(0,xe.jsx)("h3",{children:"Governing Law"}),(0,xe.jsx)("p",{children:"These terms and conditions are governed by and construed in accordance with the laws of Queensland Australia.  Any disputes concerning this website are to be resolved by the courts having jurisdiction in Queensland."})]})})}}]),n}(e.Component),vR=function(e){(0,a.Z)(n,e);var t=(0,o.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return(0,xe.jsx)("div",{className:"page center-page-x center",children:(0,xe.jsxs)("div",{className:"page-section",children:[(0,xe.jsx)("h1",{children:"Privacy Policy"}),(0,xe.jsx)("p",{children:"Last updated: September 22nd, 2023"}),(0,xe.jsx)("p",{children:"This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You."}),(0,xe.jsxs)("p",{children:["We use Your Personal data to provide and improve the Service. By using the Service, You agree to the collection and use of information in accordance with this Privacy Policy. This Privacy Policy has been created with the help of the ",(0,xe.jsx)("a",{href:"https://www.privacypolicies.com/privacy-policy-generator/",rel:"noopener noreferrer",target:"_blank",children:"Privacy Policy Generator"}),"."]}),(0,xe.jsx)("h2",{children:"Interpretation and Definitions"}),(0,xe.jsx)("h3",{children:"Interpretation"}),(0,xe.jsx)("p",{children:"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."}),(0,xe.jsx)("h3",{children:"Definitions"}),(0,xe.jsx)("p",{children:"For the purposes of this Privacy Policy:"}),(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Company"}),' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to EzyView, 42 Lancaster Way, Queensland.']})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Personal Data"})," is any information that relates to an identified or identifiable individual."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Service"})," refers to the Website and the services it provides."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Usage Data"})," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself (for example, the duration of a page visit)."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Website"})," refers to EzyView, accessible from https://www.ezyview.net"]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"You"})," means the individual accessing or using the Service and products, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Software"})," refers to any software code or products that can be downloaded from the Website."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"Subscription"})," means an arrangement between You and the Company for a Software product or services that can be used for a given period of time. "]})})]}),(0,xe.jsx)("h3",{children:"Personal Data"}),(0,xe.jsx)("p",{children:"While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:"}),(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:(0,xe.jsx)("p",{children:"Email address"})}),(0,xe.jsx)("li",{children:(0,xe.jsx)("p",{children:"First name and last name"})}),(0,xe.jsx)("li",{children:(0,xe.jsx)("p",{children:"Phone number"})}),(0,xe.jsx)("li",{children:(0,xe.jsx)("p",{children:"Address, State, Province, ZIP/Postal code, City"})})]}),(0,xe.jsx)("h3",{children:"Use of Your Personal Data"}),(0,xe.jsx)("p",{children:"The Company may use Personal Data for the following purposes:"}),(0,xe.jsxs)("ul",{children:[(0,xe.jsxs)("li",{children:[(0,xe.jsx)("strong",{children:"Subscriptions: "})," Your personal data will used so that We can provide you with and manage subscription-based products and services."]}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"To contact You:"})," To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication, such as a mobile application's push notifications regarding updates or informative communications related to the functionalities, products or contracted services, including the security updates, when necessary or reasonable for their implementation."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"To provide You"})," with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information."]})}),(0,xe.jsx)("li",{children:(0,xe.jsxs)("p",{children:[(0,xe.jsx)("strong",{children:"To manage Your requests:"})," To attend and manage Your requests to Us."]})})]}),(0,xe.jsx)("h3",{children:"Retention of Your Personal Data"}),(0,xe.jsx)("p",{children:"The Company will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."}),(0,xe.jsx)("p",{children:"The Company may also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period of time, except when this data is used to strengthen the security or to improve the functionality of Our Service, or We are legally obligated to retain this data for longer time periods."}),(0,xe.jsx)("h3",{children:"Transfer of Your Personal Data"}),(0,xe.jsx)("p",{children:"Your information, including Personal Data, is processed at the Company's operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to \u2014 and maintained on \u2014 computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction."}),(0,xe.jsx)("p",{children:"Your consent to this Privacy Policy followed by Your submission of such information represents Your agreement to that transfer."}),(0,xe.jsx)("p",{children:"The Company will take all steps reasonably necessary to ensure that Your data is treated securely and in accordance with this Privacy Policy and no transfer of Your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of Your data and other personal information."}),(0,xe.jsx)("h2",{children:"Disclosure of Your Personal Data"}),(0,xe.jsx)("h3",{children:"Law enforcement"}),(0,xe.jsx)("p",{children:"Under certain circumstances, the Company may be required to disclose Your Personal Data if required to do so by law or in response to valid requests by public authorities (e.g. a court or a government agency)."}),(0,xe.jsx)("h3",{children:"Other legal requirements"}),(0,xe.jsx)("p",{children:"The Company may disclose Your Personal Data in the good faith belief that such action is necessary to:"}),(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Comply with a legal obligation"}),(0,xe.jsx)("li",{children:"Protect and defend the rights or property of the Company"}),(0,xe.jsx)("li",{children:"Prevent or investigate possible wrongdoing in connection with the Service"}),(0,xe.jsx)("li",{children:"Protect the personal safety of Users of the Service or the public"}),(0,xe.jsx)("li",{children:"Protect against legal liability"})]}),(0,xe.jsx)("h2",{children:"Security of Your Personal Data"}),(0,xe.jsx)("p",{children:"The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security."}),(0,xe.jsx)("h2",{children:"Changes to this Privacy Policy"}),(0,xe.jsx)("p",{children:"We may update Our Privacy Policy from time to time. We will notify You of any changes by posting the new Privacy Policy on this page."}),(0,xe.jsx)("p",{children:'We will let You know via email and/or a prominent notice on Our Service, prior to the change becoming effective and update the "Last updated" date at the top of this Privacy Policy.'}),(0,xe.jsx)("p",{children:"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."}),(0,xe.jsx)("h2",{children:"Contact Us"}),(0,xe.jsx)("p",{children:"If you have any questions about this Privacy Policy, You can contact us:"}),(0,xe.jsx)("ul",{children:(0,xe.jsx)("li",{children:"By visiting this page on our website: https://ww.ezyview.net/contact"})})]})})}}]),n}(e.Component),gR=function(e){(0,a.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){return(0,xe.jsx)("div",{className:"center-page-xy center std-page",children:(0,xe.jsxs)("div",{className:"centered-page-box",style:{textAlign:"center",fontSize:"large"},children:[(0,xe.jsx)("h1",{children:"Get in touch"}),(0,xe.jsxs)("div",{className:"center-x",children:[(0,xe.jsx)("img",{src:n(1730),style:{width:"100px",margin:"30px 0"},alt:""}),(0,xe.jsxs)("div",{children:["General enquires",(0,xe.jsx)("br",{})," ",(0,xe.jsx)("a",{href:"mailto:enquiries@ezyview.net",children:"enquiries@ezyview.net"}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),"Technical support",(0,xe.jsx)("br",{})," ",(0,xe.jsx)("a",{href:"mailto:support@ezyview.net",children:"support@ezyview.net"}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),"Subscriptions",(0,xe.jsx)("br",{})," ",(0,xe.jsx)("a",{href:"mailto:subscriptions@ezyview.net",children:"subscriptions@ezyview.net"}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]})]})]})})}}]),s}(e.Component),yR=0,xR=1,bR=2,wR=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){var t;return(0,r.Z)(this,s),(t=n.call(this)).doFade=t.doFade.bind((0,jt.Z)(t)),t.imageIndex=0,t.fadeState=yR,t.opacity=1,t.delay=0,t.imageRef=e.createRef(),t}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){requestAnimationFrame(this.doFade)}},{key:"render",value:function(){return this.props.imageUrls?(0,xe.jsx)("img",{className:this.props.imageClass,ref:this.imageRef,src:this.props.imageUrls[this.imageIndex]}):null}},{key:"doFade",value:function(e){var t;this.lastT||(this.lastT=e);var n=e-this.lastT;switch(this.lastT=e,this.fadeState){case bR:var r;if(this.opacity-=n*this.props.fadeSpeed,this.opacity<0)this.opacity=0,this.fadeState=yR,this.imageIndex=(this.imageIndex+1)%this.props.imageUrls.length,null!==(r=this.imageRef)&&void 0!==r&&r.current&&(this.imageRef.current.src=this.props.imageUrls[this.imageIndex]);break;case yR:this.opacity+=n*this.props.fadeSpeed,this.opacity>1&&(this.opacity=1,this.fadeState=xR);break;case xR:this.delay+=n,this.delay>this.props.pauseTime&&(this.delay=0,this.fadeState=bR)}null!==(t=this.imageRef)&&void 0!==t&&t.current&&(this.imageRef.current.style.opacity=this.opacity+""),requestAnimationFrame(this.doFade)}}]),s}(e.Component);wR.defaultProps={fadeSpeed:.001,pauseTime:3e3};var CR=function(e){(0,a.Z)(s,e);var t=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=t.call(this)).carouselUrls=[n(7542),n(6663),n(6217)],e}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=window.location.href.includes("ezyview.net")||!ye.release;return(0,xe.jsxs)("div",{className:"page center center-page-x",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"Promote your brand online with the EzyView interactive 3D product viewer"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net"})]}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{backgroundColor:"#e8e8e8"},children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",style:{padding:"0 10%"},children:[(0,xe.jsx)("h1",{style:{textAlign:"left",color:"#444",fontWeight:"bolder",fontFamily:"Roboto"},children:"Promote your brand online with the EzyView 3D & AR viewer"}),(0,xe.jsxs)("p",{style:{fontSize:"1.4rem"},children:["3D product viewer for ",(0,xe.jsx)("nobr",{children:"e-commerce"}),".\xa0\xa0Simple website integration."]}),(0,xe.jsx)("div",{className:"medium-button",children:(0,xe.jsx)(pe,{to:"/getStarted",children:"Get Started For Free"})}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2",padding:"0 2%"},children:(0,xe.jsx)("div",{className:"aspect-one-one page-viewer",children:(0,xe.jsx)("div",{className:"aspect-inner",children:e&&(0,xe.jsx)(pR,{style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100%",height:"100%"},noStartButton:!0,projectFile:"https://storage.googleapis.com/vrproductsapi.appspot.com/trainer.zip",glbFile:"https://storage.googleapis.com/vrproductsapi.appspot.com/trainer.glb"})})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{children:(0,xe.jsx)(wR,{imageClass:"page-section-img",imageUrls:this.carouselUrls})})}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"3D e-commerce"}),(0,xe.jsxs)("p",{children:["Consumers can find it difficult to evaluate product quality and suitability without being able to touch and see it in person. The 3D product viewer helps to bridge the gap between the online and in-store shopping experience.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Increase customer engagement, greater buyer confidence and boost conversions"}),(0,xe.jsx)("li",{children:"Use it in marketing campaigns to increase brand awareness and customer loyalty"}),(0,xe.jsx)("li",{children:"Create product presentations and demos with animations and annotations"}),(0,xe.jsx)("li",{children:"Let shoppers try out your products in the home using AR"})]})]})]})]})}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"High quality 3D product visualization"}),(0,xe.jsxs)("p",{children:["The 3D product viewer makes it possible for customers to try out and experience your brand interactively online.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Interact with and view a model from any angle and zoom in to see the details"}),(0,xe.jsx)("li",{children:"Highly realistic and detailed visuals from the sophisticated browser-based graphics engine"}),(0,xe.jsx)("li",{children:"Supports low-poly, high-detail models with PBR textures"})]})]})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{borderRadius:"100%",border:"10px solid #eee",width:"100%",maxWidth:"340px"},alt:"Realistic 3D camera model",src:n(5923),loading:"lazy"})})})]}),(0,xe.jsx)("p",{children:(0,xe.jsx)("a",{href:"/3d-viewer",target:"_blank",rel:"noreferrer",children:"Find out more"})})]}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"AR Viewer"}),(0,xe.jsxs)("p",{children:["AR brings a unique user experience to websites and e-commerce stores. Shoppers with compatible devices can visualize how a product looks in their home.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"The AR viewer helps to increase sales and reduce returns by making customers more confident that a product is the right choice for their home"}),(0,xe.jsx)("li",{children:"Greater buying confidence makes customers more likely to hit the add-to-cart button"})]})]})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{borderRadius:"100%",border:"10px solid #eee",width:"100%",maxWidth:"340px"},alt:"Online 3D viewer and editor",src:n(6086),loading:"lazy"})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"400px",width:"100%"},alt:"Product Configurator",src:n(3434),loading:"lazy"})})}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Product Personalization in 3D & AR"}),(0,xe.jsxs)("p",{children:["A product configurator makes it possible to choose from available color, fabric, and material variations. Shoppers can swith to AR from the 3D viewer at the click of a button.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Build your own product configurator with an auto-generated UI in the 3D editor"}),(0,xe.jsx)("li",{children:"With browser-based WebAR, shoppers can select colors and fabrics to match the room decor"})]})]})]})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Simple website integration"}),(0,xe.jsx)("p",{children:"Embed the 3D product viewer on a web page with a the provided <iframe> HTML code. Alternatively, you can simply add a <viewer-3d> element to your page and include the viewer Javascript and style CSS."})]}),(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",alt:"Product configurator",src:n(8831),loading:"lazy"})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsx)("h2",{className:"page-setion-heading",children:"EzyView 3D editor"}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{children:"Online 3D model viewer and scene editor"}),(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Upload and view 3D model files online."}),(0,xe.jsx)("li",{children:"Publish and display them on your website."}),(0,xe.jsx)("li",{children:"Enhance your scene with shadow mapping, ground shadows, effects, HDR environment maps, custom backgrounds, reflections, and fog."}),(0,xe.jsx)("li",{children:"Export as binary glTF format."}),(0,xe.jsx)("li",{children:"Play animations."}),(0,xe.jsx)("li",{children:"Add 3D primitives, lights, and text annotations to the scene."}),(0,xe.jsx)("li",{children:"Edit mesh materials."}),(0,xe.jsx)("li",{children:"Create product variants with selectable PBR materials and colors."}),(0,xe.jsx)("li",{children:"Support for 20 common 3D file formats."}),(0,xe.jsx)("li",{children:"Use the project files for your own development projects."})]})]}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("img",{className:"page-section-img",alt:"Online 3D viewer and scene editor",src:n(5719),loading:"lazy"}),(0,xe.jsx)("img",{className:"page-section-img",alt:"3D viewer and scene editor",src:n(7239),loading:"lazy"})]})]})}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsx)("h2",{className:"page-setion-heading",children:"Platform features"}),(0,xe.jsxs)("div",{className:"feature-container",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"3D viewer",src:n(2602),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"3D & AR product viewer for e-commerce"}),(0,xe.jsxs)("div",{children:["The 3D producr viewer produces compelling 3D images that users can interact with on a webpage.",(0,xe.jsx)("br",{})]})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"AR",src:n(7880),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"AR Viewer with WebAR"}),(0,xe.jsx)("div",{children:"AR and WebAR technologies enable customers to try out your products in their own homes - or anywhere."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Animations",src:n(5643),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Animations"}),(0,xe.jsx)("div",{children:"Demonstrate product features, moving parts, and mechanisms with animations."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Interactive text annotations",src:n(7644),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"3D Annotations"}),(0,xe.jsx)("div",{children:"Highlight and describe key product features with interactive 3D text annotations."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"EzyView 3D editor",src:n(3209),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"EzyView 3D editor"}),(0,xe.jsx)("div",{children:"Use the editor to compose a scene, and edit lighting, environments, camera, materials, and effects. Add text annotations, product variants, and more."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Product configurator",src:n(1557),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Product Configurator"}),(0,xe.jsx)("div",{children:"Build a product configurator and let shoppers choose from all your color and material options."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"VR",src:n(8204),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Virtual Reality"}),(0,xe.jsx)("div",{children:"Enter a VR experience from the 3D Viewer with user-friendly point-and-move controls. Accessible to users with inexpensive VR headsets such as VR Box and Google Cardboard."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"VR",src:n(4726),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Dimensions Tool"}),(0,xe.jsx)("div",{children:"Turn on the tool to show the dimensions of a model."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Cross-platform",src:n(9084),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Cross-platform"}),(0,xe.jsx)("div",{children:"The viewer is responsive on all modern mobile and desktop browsers."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Website integration",src:n(6551),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Easy website integration"}),(0,xe.jsx)("div",{children:"Integrate the 3D viewer with your website with the custom viewer-3d HTML element or embed it as an iframe."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Site builder",src:n(3594),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"E-commerce website builder integration"}),(0,xe.jsx)("div",{children:"Integrate the viewer with popular website builders with a simple code snippet."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Technical support",src:n(7709),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Technical Support"}),(0,xe.jsx)("div",{children:"Expert technical support by email 7 days a week."})]})]})]}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsx)("h2",{className:"page-setion-heading",children:"A few use cases"})}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsxs)("div",{className:"product-features-row",children:[(0,xe.jsxs)("div",{className:"product-features-box",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"E-Commerce"}),(0,xe.jsx)("p",{children:"Promote your brand online with compelling interactive 3D virtual products."})]}),(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"500px",width:"100%"},alt:"3D & AR product model",src:n(8780),loading:"lazy"})})]}),(0,xe.jsxs)("div",{className:"product-features-box",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"Learning & Discovery"}),(0,xe.jsx)("p",{children:"The possibilities of animated 3D models and AR in education are endless, bringing books to life and making the learning experience more engaging and fun."})]}),(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"500px",width:"100%"},alt:"Educational 3D & AR model",src:n(2532),loading:"lazy"})})]})]}),(0,xe.jsxs)("div",{className:"product-features-row",children:[(0,xe.jsxs)("div",{className:"product-features-box",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"Museums & Galleries"}),(0,xe.jsx)("p",{children:"Expand your audience and allow them to view exhibits online anytime, anywhere. AR provides a great learning and entertaining experience with exhibits that can be displayed in any space."})]}),(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"500px",width:"100%"},alt:"Museum 3D & AR sculpture",src:n(9515),loading:"lazy"})})]}),(0,xe.jsxs)("div",{className:"product-features-box",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"Manufacturing"}),(0,xe.jsx)("p",{children:"Engage your customers with realistic 3D models of your product range. Demonstrate working parts and mechanisms with animations. With AR your customers can preview a product to scale anywhere."})]}),(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"500px",width:"100%"},alt:"3D & AR robot model",src:n(5620),loading:"lazy"})})]})]})]}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]})}}]),s}(e.Component),ER=function(e){(0,a.Z)(s,e);var t=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=t.call(this)).carouselUrls=[n(7542),n(6663),n(6217)],e}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=window.location.href.includes("ezyview.net")||!ye.release;return(0,xe.jsxs)("div",{className:"page center center-page-x",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"EzyView 3D & AR product viewer for e-commerce"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net/3d-viewer"})]}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{padding:"0 10%"},children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h1",{className:"page-setion-heading",children:"EzyView 3D & AR product viewer for e-commerce"}),(0,xe.jsxs)("h3",{children:["Compelling 3D product visualization for your ",(0,xe.jsx)("nobr",{children:"e-commerce store"})]}),(0,xe.jsxs)("ul",{children:[(0,xe.jsxs)("li",{children:["Superb ",(0,xe.jsx)("nobr",{children:"high-definition"})," 3D rendering"]}),(0,xe.jsxs)("li",{children:["Interactive ",(0,xe.jsx)("nobr",{children:"360-degree"})," camera rotation, panning, and zooming"]}),(0,xe.jsx)("li",{children:"Shoppers can try out products before buying with AR"})]})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("img",{className:"page-section-img",alt:"3D model",src:n(5923),loading:"lazy"})})]})}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{backgroundColor:"#e8e8e8",padding:"0 10%"},children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Stand out from your competition"}),(0,xe.jsx)("p",{children:(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Increase customer purchasing confidence and see higher conversions and lower returns"}),(0,xe.jsx)("li",{children:"Offer your customers a try before buying experience with the AR viewer"}),(0,xe.jsx)("li",{children:"Share digital designs with partners and reduce physical samples, development costs, and time-to-market"})]})}),(0,xe.jsx)("div",{className:"medium-button",children:(0,xe.jsx)(pe,{to:"/getStarted",children:"Get Started For Free"})}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]}),(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{className:"aspect-one-one page-viewer",children:(0,xe.jsx)("div",{className:"aspect-inner",children:e&&(0,xe.jsx)(pR,{style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100%",height:"100%"},noStartButton:!0,projectFile:"https://storage.googleapis.com/vrproductsapi.appspot.com/officechair.zip",glbFile:"https://storage.googleapis.com/vrproductsapi.appspot.com/officechair.glb"})})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"AR for E-commerce"}),(0,xe.jsxs)("p",{children:["The Ezyve 3D viewer supports both native mobile AR apps that don't require installation and open automatically, and WebAR which runs in the browser. With WebAR shoppers can also try out various color and material options in their homes.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"AR helps to increase sales and reduce returns by making customers more confident that a product is the right choice for their home"}),(0,xe.jsx)("li",{children:"Greater buying confidence makes customers more likely to hit the add-to-cart button."})]})]})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{borderRadius:"100%",border:"10px solid #eee",width:"100%",maxWidth:"340px"},alt:"Online 3D viewer and scene editor",src:n(6086),loading:"lazy"})})})]})}),(0,xe.jsx)("section",{className:"page-section",style:{margin:"30px 0"},children:(0,xe.jsxs)("div",{className:"info-boxes-container",children:[(0,xe.jsx)("div",{className:"info-box",style:{fontSize:"16px"},children:(0,xe.jsx)("div",{className:"info-box-outer",children:(0,xe.jsxs)("div",{className:"info-box-inner",children:["Interacting with products that have AR experiences leads to a",(0,xe.jsx)("br",{}),(0,xe.jsx)("div",{style:{fontSize:"80px"},children:"94%"}),(0,xe.jsx)("b",{children:"higher conversion rate"})]})})}),(0,xe.jsx)("div",{className:"info-box",style:{fontSize:"16px"},children:(0,xe.jsx)("div",{className:"info-box-outer",children:(0,xe.jsxs)("div",{className:"info-box-inner",children:["Brands are",(0,xe.jsx)("div",{style:{fontSize:"80px"},children:"41%"}),(0,xe.jsx)("b",{children:"more likely to be considered if they have a branded AR experience"})]})})}),(0,xe.jsx)("div",{className:"info-box",style:{fontSize:"16px"},children:(0,xe.jsx)("div",{className:"info-box-outer",children:(0,xe.jsxs)("div",{className:"info-box-inner",children:["There are over",(0,xe.jsx)("br",{}),(0,xe.jsx)("div",{style:{fontSize:"80px"},children:"100"}),(0,xe.jsx)("b",{children:"million consumers shopping with AR online and in-store."})]})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"400px",width:"100%"},alt:"Product configurator",src:n(3434),loading:"lazy"})})}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Product personalization in 3D & AR"}),(0,xe.jsxs)("p",{children:["The product configurator makes it possible for shoppers to choose from available color, fabric, and material variations.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Build your own product configurator with an auto-generated UI in the 3D editor."}),(0,xe.jsx)("li",{children:"With browser-based AR for Android, shoppers can select colors and fabrics to match with their home decor."})]})]})]})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Product Animations"}),(0,xe.jsxs)("p",{children:["Demonstrate product features, moving parts, and character movement with animations",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Play an animation when the viewer loads"}),(0,xe.jsx)("li",{children:"The viewer features an animation player for selecting, playing, pausing and looping animations."})]})]})]}),(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"340px",width:"100%"},alt:"Product configurator",src:n(7952),loading:"lazy"})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"400px",width:"100%"},alt:"Product configurator",src:n(5089),loading:"lazy"})})}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Annotate your models"}),(0,xe.jsxs)("p",{children:["Highlight key features with interactive 3d text annotations",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Click an annotation button to quickly zoom and track the camera to the point of interest and display text"}),(0,xe.jsx)("li",{children:"Create annotations and customize them in the 3D editor"}),(0,xe.jsx)("li",{children:"Use in product demonstrations to draw attention to key features"})]})]})]})]})}),(0,xe.jsx)("section",{className:"page-section",style:{alignContent:"flex-start",margin:"30px 0"},children:(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Straightforward website integration"}),(0,xe.jsx)("p",{children:"Integrate the 3D viewer with your website with the custom viewer-3d HTML element or embed it as an iframe."}),(0,xe.jsx)("h4",{children:"Using the viewer-3d element"}),(0,xe.jsx)("pre",{children:'\n\x3c!-- include the Javascript and CSS files in the document head --\x3e\n\n<script src="https://cdn.jsdelivr.net/gh/ezyvue/src/v1.0/viewer.js" defer type=\'module\'><\/script>\n<link href="https://cdn.jsdelivr.net/gh/ezyvue/src/v1.0/viewer.css" rel="stylesheet" />\n\n\x3c!-- add a viewer-3d element in the document body --\x3e\n\n<viewer-3d data-project-file="https://www.mysite.com/myproject.zip" data-scene-file="https://www.mysite.com/myproject.glb"></viewer-3d>\n'}),(0,xe.jsx)("br",{}),(0,xe.jsx)("h4",{children:"Using an iframe"}),(0,xe.jsx)("pre",{children:'\n\x3c!-- generate the iframe code from the 3D editor and paste it onto your webpage or site builder page\n    \n<iframe id="ezyview-viewer" src="https://viewer.ezyview.net?projectFile="https://www.mysite.com/project.zip"&sceneFile="https://www.mysite.com/project.glb" \n    ...additional attributes\n</iframe>\n'}),(0,xe.jsx)("p",{children:(0,xe.jsx)("a",{href:"/documentation",target:"_blank",rel:"noreferrer",children:"Find out more"})})]})}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Compatible with most website builders"}),(0,xe.jsx)("div",{children:(0,xe.jsxs)("div",{children:[(0,xe.jsx)("a",{href:"https://www.wix.com",target:"_blank",rel:"noopener noreferrer",children:(0,xe.jsx)("img",{alt:"integrate with wix",src:n(3594),style:{opacity:"0.4",display:"inline",width:"150px"},loading:"lazy"})}),(0,xe.jsx)("a",{href:"https://www.webflow.com",target:"_blank",rel:"noopener noreferrer",children:(0,xe.jsx)("img",{alt:"integrate with webflow",src:n(8293),style:{opacity:"0.4",display:"inline",width:"150px"},loading:"lazy"})}),(0,xe.jsx)("a",{href:"https://www.squarespace.com",target:"_blank",rel:"noopener noreferrer",children:(0,xe.jsx)("img",{alt:"integrate with squarespace",src:n(7468),style:{opacity:"0.4",display:"inline",width:"150px"},loading:"lazy"})}),(0,xe.jsx)("a",{href:"https://www.shopify.com",target:"_blank",rel:"noopener noreferrer",children:(0,xe.jsx)("img",{alt:"integrate with shopify",src:n(7409),style:{opacity:"0.4",display:"inline",width:"150px"},loading:"lazy"})}),(0,xe.jsx)("a",{href:"https://www.wordpress.com",target:"_blank",rel:"noopener noreferrer",children:(0,xe.jsx)("img",{alt:"integrate with wordpress",src:n(6831),style:{opacity:"0.4",display:"inline",width:"150px"},loading:"lazy"})})]})})]}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]})}}]),s}(e.Component),SR=function(e){(0,a.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){var e=window.location.href.includes("ezyview.net")||!ye.release;return(0,xe.jsxs)("div",{className:"page center center-page-x",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"3D & AR Viewer for e-commerce"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net/ar-for-ecommerce"})]}),(0,xe.jsxs)("section",{className:"fullwidth-section",style:{backgroundColor:"#e8e8e8",padding:"0 10%"},children:[(0,xe.jsx)("h1",{className:"page-setion-heading",children:"3D & AR Viewer for e-commerce"}),(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsxs)("p",{children:["AR helps consumers interactively explore and try out in their own space. AR has significant benefits for brands.",(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),"In consumer studies, AR viewers have been shown to increase sales and reduce returns. Online marketing campaigns with AR can used to improve brand recognition and acquire more customers."]}),(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Switch instantly to AR from the 3D viewer"}),(0,xe.jsx)("li",{children:"Uses pre-installed arCore and ARKit AR Viewers"}),(0,xe.jsx)("li",{children:"Browser-based AR (WebAR) for Android and selected iPhone browsers"}),(0,xe.jsx)("li",{children:"Product configurator is available in WebAR"})]})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{className:"aspect-one-one page-viewer",children:(0,xe.jsx)("div",{className:"aspect-inner",children:e&&(0,xe.jsx)(pR,{style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100%",height:"100%"},noStartButton:!0,projectFile:"https://storage.googleapis.com/vrproductsapi.appspot.com/coffeemachine.zip",glbFile:"https://storage.googleapis.com/vrproductsapi.appspot.com/coffeemachine.glb"})})})})]})]}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row-cols",children:[(0,xe.jsxs)("div",{className:"main-box",style:{maxWidth:"600px"},children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Benefits for consumers"}),(0,xe.jsx)("p",{children:"Brands using AR make it possible for customers to visualize and interact with their products in real-world locations using a smartphone."}),(0,xe.jsx)("p",{children:"This allows a customer to see if a table matches the existing furnishings or if a microwave looks good and fits in a particular place in the kitchen."}),(0,xe.jsxs)("p",{children:[(0,xe.jsx)("b",{children:" 73% of consumers are interested in visualizing products in AR before buying."}),(0,xe.jsx)("sup",{children:"1"})]})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{borderRadius:"100%",border:"10px solid #eee",width:"100%",maxWidth:"340px"},alt:"augmented reality for ios and android",src:n(6086),loading:"lazy"})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row-cols",children:[(0,xe.jsxs)("div",{className:"main-box",style:{maxWidth:"600px"},children:[(0,xe.jsx)("h3",{children:"Augmented reality for your brand"}),(0,xe.jsx)("p",{children:"Consumer reports such as the Snap Global Consumer AR Report demonstrate that AR has significant benefits for brands. Online marketing campaigns with fun and engaging AR filters are being used to improve brand recognition and acquire more customers."}),(0,xe.jsx)("p",{children:"Brands that use AR experiences have higher conversion rates and fewer returns. Consumers who are able to try out or try on a product have more confidence to buy it."}),(0,xe.jsxs)("p",{children:[(0,xe.jsx)("b",{children:" Interacting with products that have AR experiences leads to a 94% higher conversion rate."}),(0,xe.jsx)("sup",{children:"1"})]}),(0,xe.jsxs)("p",{children:[(0,xe.jsx)("b",{children:" Brands are 41% more likely to be considered if they have a branded AR experience."}),(0,xe.jsx)("sup",{children:"1 "})]})]}),(0,xe.jsx)("div",{className:"main-box"})]})}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{backgroundColor:"#e8e8e8",padding:"0 10%"},children:(0,xe.jsxs)("div",{className:"main-row-padded",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{children:"Adding the AR viewer to your website"}),(0,xe.jsxs)("p",{children:["AR is built into the 3D product viewer and is enabled by default.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Embed the 3D product viewer on your webpage"}),(0,xe.jsx)("li",{children:"Provide a USDZ model file URL for iOS devices"}),(0,xe.jsx)("li",{children:"To look correct in AR, ensure models are real-world scale"})]})]})]}),(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{className:"smartphone",children:(0,xe.jsx)("div",{className:"content",children:(0,xe.jsx)("img",{alt:"augmented reality for ios and android",src:n(2036)})})})})]})})]})}}]),s}(e.Component),IR=function(e){(0,a.Z)(s,e);var t=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"render",value:function(){window.location.href.includes("ezyview.net");return(0,xe.jsxs)("div",{className:"page center center-page-x",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"Use cases"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net/use-cases"})]}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{padding:"0 10%"},children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsxs)("h1",{className:"page-setion-heading",children:["3D ",(0,xe.jsx)("nobr",{children:"e-commerce"})]}),(0,xe.jsxs)("h3",{children:["EzyView brings next-level 3D product visualization and AR to your ",(0,xe.jsx)("nobr",{children:"e-commerce"})," website."]}),(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Present your products using high quality, interactive 3D visuals"}),(0,xe.jsx)("li",{children:"Re-create the instore viewing experience online"}),(0,xe.jsx)("li",{children:"Bring your products into the customers home with AR"}),(0,xe.jsx)("li",{children:"Boost digital marketing and sales and reduce returns"})]})]}),(0,xe.jsx)("div",{className:"main-box",style:{padding:"0 2%",flex:"2"},children:(0,xe.jsx)("img",{className:"page-section-img",alt:"3D furniture model",src:n(9870)})})]})}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{padding:"0 10%"},children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h2",{className:"page-setion-heading",children:"Furniture & Homewares"}),(0,xe.jsx)("h3",{}),(0,xe.jsx)(pe,{to:"./3d-ecommerce-furniture",children:"Find out more ->"})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",alt:"Furniture 3D model",src:n(6576)})})})]})}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{padding:"0 10%"},children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h2",{className:"page-setion-heading",children:"Jewelry & Watches"}),(0,xe.jsx)("h3",{children:"Showcase your jewelry range with realistic metal, gemstone and reflection effects"})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",alt:"Ring 3D model",src:n(3811)})})})]})}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{padding:"0 10%"},children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h2",{className:"page-setion-heading",children:"Appliances"}),(0,xe.jsx)("h3",{})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",alt:"Furniture 3D model",src:n(6663)})})})]})}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{padding:"0 10%"},children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h2",{className:"page-setion-heading",children:"Fashion & Accessories"}),(0,xe.jsx)("h3",{})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",alt:"Handbag 3D model",src:n(6217)})})})]})})]})}}]),s}(e.Component),MR=function(e){(0,a.Z)(s,e);var t=(0,o.Z)(s);function s(){var e;return(0,r.Z)(this,s),(e=t.call(this)).carouselUrls=[n(7542),n(6663),n(6217)],e}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=window.location.href.includes("ezyview.net")||!ye.release;return(0,xe.jsxs)("div",{className:"page center center-page-x",children:[(0,xe.jsxs)(xt,{children:[(0,xe.jsx)("meta",{charSet:"utf-8"}),(0,xe.jsx)("title",{children:"3D visualization for furniture retailers and manufacturers"}),(0,xe.jsx)("link",{rel:"canonical",href:"https://www.ezyview.net"})]}),(0,xe.jsx)("section",{className:"fullwidth-section",style:{backgroundColor:"#e8e8e8"},children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",style:{padding:"0 10%"},children:[(0,xe.jsx)("h1",{style:{textAlign:"left",color:"#444",fontWeight:"bolder",fontFamily:"Roboto"},children:"3D visualization for furniture retailers and manufacturers"}),(0,xe.jsxs)("p",{style:{fontSize:"1.4rem"},children:["3D product viewer for ",(0,xe.jsx)("nobr",{children:"e-commerce"}),".\xa0\xa0Simple website integration.\xa0\xa0Free for non-commercial use."]}),(0,xe.jsx)("div",{className:"medium-button",children:(0,xe.jsx)(pe,{to:"/getStarted",children:"Get Started For Free"})}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]}),(0,xe.jsx)("div",{className:"main-box",style:{padding:"0 2%"},children:(0,xe.jsx)("div",{className:"aspect-one-one page-viewer",children:(0,xe.jsx)("div",{className:"aspect-inner",children:e&&(0,xe.jsx)(pR,{style:{backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100%",height:"100%"},noStartButton:"true",projectFile:"https://storage.googleapis.com/vrproductsapi.appspot.com/chair.zip",glbFile:"https://storage.googleapis.com/vrproductsapi.appspot.com/chair.glb"})})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{children:(0,xe.jsx)(wR,{imageClass:"page-section-img",imageUrls:this.carouselUrls})})}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"3D e-commerce"}),(0,xe.jsxs)("p",{children:["Consumers can find it difficult to evaluate product quality and suitability without being able to touch and see it in person. The 3D product viewer helps to bridge the gap between the online and in-store shopping experience.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Increase customer engagement, greater buyer confidence and boost conversions"}),(0,xe.jsx)("li",{children:"Use it in marketing campaigns to increase brand awareness and customer loyalty"}),(0,xe.jsx)("li",{children:"Create product presentations and demos with animations and annotations"}),(0,xe.jsx)("li",{children:"Let shoppers try out your products in the home using AR"})]})]})]})]})}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"High quality 3D product visualization"}),(0,xe.jsxs)("p",{children:["The 3D product viewer makes it possible for customers to try out and experience your brand interactively online.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Interact with and view a model from any angle and zoom in to see the details"}),(0,xe.jsx)("li",{children:"Highly realistic and detailed visuals from the sophisticated browser-based graphics engine"}),(0,xe.jsx)("li",{children:"Supports low-poly, high-detail models with PBR textures"})]})]})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{borderRadius:"100%",border:"10px solid #eee",width:"100%",maxWidth:"340px"},alt:"Realistic 3D camera model",src:n(5923),loading:"lazy"})})})]}),(0,xe.jsx)("p",{children:(0,xe.jsx)("a",{href:"/3d-viewer",target:"_blank",rel:"noreferrer",children:"Find out more"})})]}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"AR Viewer"}),(0,xe.jsxs)("p",{children:["AR brings a unique user experience to websites and e-commerce stores. Shoppers with compatible devices can visualize how a product looks in their home.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"The AR viewer helps to increase sales and reduce returns by making customers more confident that a product is the right choice for their home"}),(0,xe.jsx)("li",{children:"Greater buying confidence makes customers more likely to hit the add-to-cart button"})]})]})]}),(0,xe.jsx)("div",{className:"main-box",style:{flex:"2"},children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{borderRadius:"100%",border:"10px solid #eee",width:"100%",maxWidth:"340px"},alt:"Online 3D viewer and editor",src:n(6086),loading:"lazy"})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"400px",width:"100%"},alt:"Product Configurator",src:n(3434),loading:"lazy"})})}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Product Personalization in 3D & AR"}),(0,xe.jsxs)("p",{children:["A product configurator makes it possible to choose from available color, fabric, and material variations. Shoppers can swith to AR from the 3D viewer at the click of a button.",(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Build your own product configurator with an auto-generated UI in the 3D editor"}),(0,xe.jsx)("li",{children:"With browser-based WebAR, shoppers can select colors and fabrics to match the room decor"})]})]})]})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{className:"page-setion-heading",children:"Simple website integration"}),(0,xe.jsx)("p",{children:"Embed the 3D product viewer on a web page with a the provided <iframe> HTML code. Alternatively, you can simply add a <viewer-3d> element to your page and include the viewer Javascript and style CSS."})]}),(0,xe.jsx)("div",{className:"main-box",children:(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",alt:"Product configurator",src:n(8831),loading:"lazy"})})})]})}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsxs)("div",{className:"main-row",children:[(0,xe.jsx)("h2",{className:"page-setion-heading",children:"Ezyvue 3D editor"}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("h3",{children:"Online 3D model viewer and scene editor"}),(0,xe.jsxs)("ul",{children:[(0,xe.jsx)("li",{children:"Upload and view 3D model files online."}),(0,xe.jsx)("li",{children:"Publish and display them on your website."}),(0,xe.jsx)("li",{children:"Enhance your scene with shadow mapping, ground shadows, effects, HDR environment maps, custom backgrounds, reflections, and fog."}),(0,xe.jsx)("li",{children:"Export as binary glTF format."}),(0,xe.jsx)("li",{children:"Play animations."}),(0,xe.jsx)("li",{children:"Add 3D primitives, lights, and text annotations to the scene."}),(0,xe.jsx)("li",{children:"Edit mesh materials."}),(0,xe.jsx)("li",{children:"Create product variants with selectable PBR materials and colors."}),(0,xe.jsx)("li",{children:"Support for 20 common 3D file formats."}),(0,xe.jsx)("li",{children:"Use the project files for your own development projects."})]})]}),(0,xe.jsxs)("div",{className:"main-box",children:[(0,xe.jsx)("img",{className:"page-section-img",alt:"Online 3D viewer and scene editor",src:n(5719),loading:"lazy"}),(0,xe.jsx)("img",{className:"page-section-img",alt:"3D viewer and scene editor",src:n(7239),loading:"lazy"})]})]})}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsx)("h2",{className:"page-setion-heading",children:"Platform features"}),(0,xe.jsxs)("div",{className:"feature-container",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"3D viewer",src:n(2602),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"3D & AR product viewer for e-commerce"}),(0,xe.jsxs)("div",{children:["The 3D producr viewer produces compelling 3D images that users can interact with on a webpage.",(0,xe.jsx)("br",{})]})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"AR",src:n(7880),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"AR Viewer with WebAR"}),(0,xe.jsx)("div",{children:"AR and WebAR technologies enable customers to try out your products in their own homes - or anywhere."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Animations",src:n(5643),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Animations"}),(0,xe.jsx)("div",{children:"Demonstrate product features, moving parts, and mechanisms with animations."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Interactive text annotations",src:n(7644),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"3D Annotations"}),(0,xe.jsx)("div",{children:"Highlight and describe key product features with interactive 3D text annotations."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"EzyView 3D editor",src:n(3209),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"EzyView 3D editor"}),(0,xe.jsx)("div",{children:"Use the editor to compose a scene, and edit lighting, environments, camera, materials, and effects. Add text annotations, product variants, and more."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Product configurator",src:n(1557),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Product Configurator"}),(0,xe.jsx)("div",{children:"Build a product configurator and let shoppers choose from all your color and material options."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"VR",src:n(8204),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Virtual Reality"}),(0,xe.jsx)("div",{children:"Enter a VR experience from the 3D Viewer with user-friendly point-and-move controls. Accessible to users with inexpensive VR headsets such as VR Box and Google Cardboard."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"VR",src:n(4726),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Dimensions Tool"}),(0,xe.jsx)("div",{children:"Turn on the tool to show the dimensions of a model."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Cross-platform",src:n(9084),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Cross-platform"}),(0,xe.jsx)("div",{children:"The viewer is responsive on all modern mobile and desktop browsers."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Website integration",src:n(6551),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Easy website integration"}),(0,xe.jsx)("div",{children:"Integrate the 3D viewer with your website with the custom viewer-3d HTML element or embed it as an iframe."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Site builder",src:n(3594),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"E-commerce website builder integration"}),(0,xe.jsx)("div",{children:"Integrate the viewer with popular website builders with a simple code snippet."})]}),(0,xe.jsxs)("div",{children:[(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{alt:"Technical support",src:n(7709),loading:"lazy"})}),(0,xe.jsx)("h4",{children:"Technical Support"}),(0,xe.jsx)("div",{children:"Expert technical support by email 7 days a week."})]})]})]}),(0,xe.jsx)("section",{className:"page-section",children:(0,xe.jsx)("h2",{className:"page-setion-heading",children:"A few use cases"})}),(0,xe.jsxs)("section",{className:"page-section",children:[(0,xe.jsxs)("div",{className:"product-features-row",children:[(0,xe.jsxs)("div",{className:"product-features-box",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"E-Commerce"}),(0,xe.jsx)("p",{children:"Promote your brand online with compelling interactive 3D virtual products."})]}),(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"500px",width:"100%"},alt:"3D & AR product model",src:n(8780),loading:"lazy"})})]}),(0,xe.jsxs)("div",{className:"product-features-box",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"Learning & Discovery"}),(0,xe.jsx)("p",{children:"The possibilities of animated 3D models and AR in education are endless, bringing books to life and making the learning experience more engaging and fun."})]}),(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"500px",width:"100%"},alt:"Educational 3D & AR model",src:n(2532),loading:"lazy"})})]})]}),(0,xe.jsxs)("div",{className:"product-features-row",children:[(0,xe.jsxs)("div",{className:"product-features-box",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"Museums & Galleries"}),(0,xe.jsx)("p",{children:"Expand your audience and allow them to view exhibits online anytime, anywhere. AR provides a great learning and entertaining experience with exhibits that can be displayed in any space."})]}),(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"500px",width:"100%"},alt:"Museum 3D & AR sculpture",src:n(9515),loading:"lazy"})})]}),(0,xe.jsxs)("div",{className:"product-features-box",children:[(0,xe.jsxs)("div",{children:[(0,xe.jsx)("h3",{children:"Manufacturing"}),(0,xe.jsx)("p",{children:"Engage your customers with realistic 3D models of your product range. Demonstrate working parts and mechanisms with animations. With AR your customers can preview a product to scale anywhere."})]}),(0,xe.jsx)("div",{children:(0,xe.jsx)("img",{className:"page-section-img",style:{maxWidth:"500px",width:"100%"},alt:"3D & AR robot model",src:n(5620),loading:"lazy"})})]})]})]}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{}),(0,xe.jsx)("br",{})]})}}]),s}(e.Component),_R=function(t){(0,a.Z)(s,t);var n=(0,o.Z)(s);function s(){return(0,r.Z)(this,s),n.apply(this,arguments)}return(0,i.Z)(s,[{key:"renderChildren",value:function(){return(0,xe.jsxs)(e.Fragment,{children:[(0,xe.jsx)(Ir,{}),(0,xe.jsx)(be,{children:(0,xe.jsxs)(se,{children:[(0,xe.jsx)(te,{exact:!0,path:"/editor",component:Lm}),(0,xe.jsx)(te,{exact:!0,path:"/demos",component:Ct}),(0,xe.jsx)(te,{exact:!0,path:"/pricing",component:Pr}),(0,xe.jsx)(te,{exact:!0,path:"/termsOfService",component:mR}),(0,xe.jsx)(te,{exact:!0,path:"/privacyPolicy",component:vR}),(0,xe.jsx)(te,{exact:!0,path:"/about",component:bt}),(0,xe.jsx)(te,{exact:!0,path:"/contact",component:gR}),(0,xe.jsx)(te,{exact:!0,path:"/modelViewer",component:AR}),(0,xe.jsx)(te,{exact:!0,path:"/3d-viewer",component:ER}),(0,xe.jsx)(te,{exact:!0,path:"/ezyview-studio-3d-editor",component:Qm}),(0,xe.jsx)(te,{exact:!0,path:"/ar-for-ecommerce",component:SR}),(0,xe.jsx)(te,{exact:!0,path:"/use-cases",component:IR}),(0,xe.jsx)(te,{exact:!0,path:"/3d-ecommerce-furniture",component:MR}),(0,xe.jsx)(te,{exact:!0,path:"/",component:CR}),(0,xe.jsx)(te,{exact:!0,path:"/editorIntro",component:Qm}),(0,xe.jsx)(te,{exact:!0,path:"/getStarted",component:Qr}),(0,xe.jsx)(te,{exact:!0,path:"/documentation",component:Pt}),(0,xe.jsx)(te,{path:"*",component:Lr})]})}),(0,xe.jsx)(Dr,{})]})}},{key:"render",value:function(){return(0,xe.jsx)("div",{id:"site-root",children:(0,xe.jsx)(dt,{context:{},children:(0,xe.jsx)(Se,{theme:Ie,children:(0,xe.jsx)(le,{children:(0,xe.jsx)(e.Suspense,{fallback:(0,xe.jsx)("div",{}),children:this.renderChildren()})})})})})}}]),s}(e.Component),kR=_R,BR=document.getElementById("root");BR.hasChildNodes()?t.hydrate((0,xe.jsx)(kR,{}),BR):t.render((0,xe.jsx)(kR,{}),BR)}()}();